/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var n={418:e=>{"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var s in n=Object(arguments[i]))u.call(n,s)&&(r[s]=n[s]);if(l)for(var a=l(n),o=0;o<a.length;o++)c.call(n,a[o])&&(r[a[o]]=n[a[o]])}return r}},703:(e,t,n)=>{"use strict";var a=n(414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,s){if(s!==a){s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var g=n(418),r=n(294),i=n(840);function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function a(e,t){o(e,t),o(e+"Capture",t)}function o(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i,s=y.hasOwnProperty(t)?y[t]:null;(null!==s?0!==s.type:r||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(p(t,n,s,r)&&(n=null),r||null===s?(i=t,(u.call(f,i)||!u.call(d,i)&&(h.test(i)?f[i]=!0:void(d[i]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,C=60107,T=60108,I=60114,N=60109,_=60110,D=60112,L=60113,R=60120,O=60115,j=60116,A=60128,P=60129,M=60130,F=60131,V=60132;"function"==typeof Symbol&&Symbol.for&&(S=(ln=Symbol.for)("react.element"),k=ln("react.portal"),C=ln("react.fragment"),T=ln("react.strict_mode"),I=ln("react.profiler"),N=ln("react.provider"),_=ln("react.context"),D=ln("react.forward_ref"),L=ln("react.suspense"),R=ln("react.suspense_list"),O=ln("react.memo"),j=ln("react.lazy"),ln("react.scope"),A=ln("react.opaque.id"),P=ln("react.debug_trace_mode"),M=ln("react.offscreen"),F=ln("react.legacy_hidden"),V=ln("react.cache"));var U,z="function"==typeof Symbol&&Symbol.iterator;function B(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function $(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,--o<0||i[a]!==s[o])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case C:return"Fragment";case k:return"Portal";case I:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case R:return"SuspenseList";case V:return"Cache"}if("object"==typeof t)switch(t.$$typeof){case _:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case D:var n=t.render;return t=(t=t.displayName)?t:""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef";case O:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case j:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 23:return"LegacyHidden";case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),r="";return(e=r=e?Q(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)}}function X(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked,n=W(null!=t.value?t.value:n);e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ee(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function te(e,t){ee(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ie=Array.isArray;function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(x(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(x(92));if(ie(n)){if(!(n.length<=1))throw Error(x(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:W(n)}}function le(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,fe,pe=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return fe(e,t)})}:fe);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t){var r,i;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),i=ve(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i)}}Object.keys(ge).forEach(function(t){ye.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ge[e]=ge[t]})});var we=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(x(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(x(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(x(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var ke=null,Ce=null,Te=null;function Ie(e){if(e=ai(e)){if("function"!=typeof ke)throw Error(x(280));var t=e.stateNode;t&&(t=li(t),ke(e.stateNode,e.type,t))}}function Ne(e){Ce?Te?Te.push(e):Te=[e]:Ce=e}function _e(){if(Ce){var e=Ce,t=Te;if(Te=Ce=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function De(e,t){return e(t)}function Le(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return De(e,t,n)}finally{Re=!1,null===Ce&&null===Te||(Le(),_e())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=li(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=!(r=!r.disabled)?!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e):r);break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(x(231,t,typeof n));return n}var Ae=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(e){Ae=!1}var Me=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,s,a,o,l){Me=!1,Fe=null,function(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(2050&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(qe(e)!==e)throw Error(x(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null!==s){if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===r)return $e(i),t;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(x(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=64,ot=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var r,i=0,s=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o?0!=(r=o&~s)?i=lt(r):0!==(a&=o)&&(i=lt(a)):0!==(o=n&~s)?i=lt(o):0!==a&&(i=lt(a)),0===i)return 0;if(0!==t&&t!==i&&0==(t&s)&&((a=t&-t)<=(s=i&-i)||16===s&&0!=(4194240&a)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)i|=e[n=31-pt(t)],t&=~(s=1<<n);return i}function ct(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pt=Math.clz32||function(e){return 0===e?32:31-(mt(e)/gt|0)|0},mt=Math.log,gt=Math.LN2;var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var bt,wt,xt,Et,St,kt=!1,Ct=[],Tt=null,It=null,Nt=null,_t=new Map,Dt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function jt(e,t,n,r,i){if(e=Ot(e,t,n,r,i),Ct.push(e),1===Ct.length)for(;null!==e.blockedOn&&null!==(t=ai(e.blockedOn))&&(bt(t),null===e.blockedOn);)Vt()}function At(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Pt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=Ot(t,n,r,i,s),null===t||null!==(t=ai(t))&&xt(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function Mt(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ai(n))&&xt(t),e.blockedOn=n,0;t.shift()}return 1}}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Vt(){for(kt=!1;0<Ct.length;){var e=Ct[0];if(null!==e.blockedOn){null!==(e=ai(e.blockedOn))&&wt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Ct.shift()}null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),null!==Nt&&Mt(Nt)&&(Nt=null),_t.forEach(Ft),Dt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(t){function e(e){return Ut(e,t)}if(0<Ct.length){Ut(Ct[0],t);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,t),null!==It&&Ut(It,t),null!==Nt&&Ut(Nt,t),_t.forEach(e),Dt.forEach(e),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)(function(e){var t=si(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,St(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&Lt.shift()}var Bt=E.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=yt,s=Bt.transition;Bt.transition=0;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Bt.transition=s}}function $t(e,t,n,r){var i=yt,s=Bt.transition;Bt.transition=0;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Bt.transition=s}}function Kt(e,t,n,r){if(qt){var i=0==(4&t);if(i&&0<Ct.length&&-1<Rt.indexOf(e))jt(null,e,t,n,r);else{var s=Wt(e,t,n,r);if(null===s)i&&At(e,r);else{if(i){if(-1<Rt.indexOf(e))return void jt(s,e,t,n,r);if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,i),1;case"dragenter":return It=Pt(It,e,t,n,r,i),1;case"mouseover":return Nt=Pt(Nt,e,t,n,r,i),1;case"pointerover":var s=i.pointerId;return _t.set(s,Pt(_t.get(s)||null,e,t,n,r,i)),1;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Pt(Dt.get(s)||null,e,t,n,r,i)),1}}(s,e,t,n,r))return;At(e,r)}Or(e,t,r,null,n)}}}}function Wt(e,t,n,r){var i=Se(r);if(null!==(i=si(i))){var s=qe(i);if(null===s)i=null;else{var a=s.tag;if(13===a){if(null!==(i=He(s)))return i;i=null}else if(3===a){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Or(e,t,r,i,n),null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Xt=null;function Zt(){if(Xt)return Xt;for(var e=Yt,t=e.length,n=("value"in Gt?Gt.value:Gt.textContent),r=n.length,i=0;i<t&&e[i]===n[i];i++);for(var s=t-i,a=1;a<=s&&e[t-a]===n[r-a];a++);return Xt=n.slice(i,1<a?1-a:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(a){function e(e,t,n,r,i){for(var s in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,a)a.hasOwnProperty(s)&&(e=a[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?en:tn,this.isPropagationStopped=tn,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),e}var rn,sn,an,n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=nn(n),ln=g({},n,{view:0,detail:0}),un=nn(ln),Pe=g({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(sn=an&&"mousemove"===e.type?(rn=e.screenX-an.screenX,e.screenY-an.screenY):rn=0,an=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),cn=nn(Pe),hn=nn(g({},Pe,{dataTransfer:0})),dn=nn(g({},ln,{relatedTarget:0})),fn=nn(g({},n,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=nn(g({},n,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),mn=nn(g({},n,{data:0})),gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function wn(){return bn}var xn=nn(g({},ln,{key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=nn(g({},Pe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=nn(g({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),kn=nn(g({},n,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=nn(g({},Pe,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],In=l&&"CompositionEvent"in window,Pe=null;l&&"documentMode"in document&&(Pe=document.documentMode);var Nn=l&&"TextEvent"in window&&!Pe,_n=l&&(!In||Pe&&8<Pe&&Pe<=11),Dn=String.fromCharCode(32),Ln=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?An[e.type]:"textarea"===t}function Mn(e,t,n,r){Ne(r),0<(t=Ar(t,"onChange")).length&&(n=new on("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Vn=null;function Un(e){Ir(e,0)}function zn(e){if(Y(oi(e)))return e}function Bn(e,t){if("change"===e)return t}var qn,Hn=!1;function $n(){Fn&&(Fn.detachEvent("onpropertychange",Kn),Vn=Fn=null)}function Kn(e){var t;"value"===e.propertyName&&zn(Vn)&&(Mn(t=[],Vn,e,Se(e)),Oe(Un,t))}function Wn(e,t,n){"focusin"===e?($n(),Vn=n,(Fn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&$n()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Vn)}function Gn(e,t){if("click"===e)return zn(t)}function Yn(e,t){if("input"===e||"change"===e)return zn(t)}l&&(qn=l&&((qn="oninput"in document)||((Pe=document.createElement("div")).setAttribute("oninput","return;"),qn="function"==typeof Pe.oninput),qn),Hn=qn&&(!document.documentMode||9<document.documentMode));var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!u.call(t,n[r])||!Xn(e[n[r]],t[n[r]]))return!1;return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function rr(e){var t,n,r,i=tr(),s=e.focusedElem,a=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(s.ownerDocument.documentElement,s)){null!==a&&nr(s)&&(i=a.start,void 0===(e=a.end)&&(e=i),"selectionStart"in s?(s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length)):(e=(i=s.ownerDocument||document)&&i.defaultView||window).getSelection&&(e=e.getSelection(),n=s.textContent.length,t=Math.min(a.start,n),a=void 0===a.end?t:Math.min(a.end,n),!e.extend&&a<t&&(n=a,a=t,t=n),n=er(s,t),r=er(s,a),n&&r&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((i=i.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a<t?(e.addRange(i),e.extend(r.node,r.offset)):(i.setEnd(r.node,r.offset),e.addRange(i))))),i=[];for(e=s;e=e.parentNode;)1===e.nodeType&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<i.length;s++)(e=i[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ir=l&&"documentMode"in document&&document.documentMode<=11,sr=null,ar=null,or=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==sr||sr!==X(r)||(r="selectionStart"in(r=sr)&&nr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=Ar(ar,"onSelect")).length&&(t=new on("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionend:cr("Transition","TransitionEnd")},dr={},fr={};function pr(e){if(dr[e])return dr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return dr[e]=n[t];return e}l&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),yr=pr("animationstart"),vr=pr("transitionend"),br=new Map,wr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){br.set(e,t),a(t,[e])}for(var Er=0;Er<wr.length;Er++){var Sr=wr[Er];xr(Sr.toLowerCase(),"on"+(Sr[0].toUpperCase()+Sr.slice(1)))}xr(mr,"onAnimationEnd"),xr(gr,"onAnimationIteration"),xr(yr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(vr,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(){var e;Be.apply(this,arguments),Me&&(e=Fe,Me=!1,Fe=null,Ve||(Ve=!0,Ue=e))}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(i=e[n]).event,i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=(u=i[a]).instance,l=u.currentTarget,u=u.listener;if(o!==s&&r.isPropagationStopped())break e;Tr(r,u,l),s=o}else for(a=0;a<i.length;a++){if(o=(u=i[a]).instance,l=u.currentTarget,u=u.listener,o!==s&&r.isPropagationStopped())break e;Tr(r,u,l),s=o}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Nr(e,t){var n=t[ni],r=e+"__bubble";(n=void 0===n?t[ni]=new Set:n).has(r)||(Rr(t,e,2,!1),n.add(r))}function _r(e,t,n){var r=0;t&&(r|=4),Rr(n,e,r,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Lr(t){var e;t[Dr]||(t[Dr]=!0,s.forEach(function(e){"selectionchange"!==e&&(Cr.has(e)||_r(e,!1,t),_r(e,!0,t))}),null===(e=9===t.nodeType?t:t.ownerDocument)||e[Dr]||_r("selectionchange",!(e[Dr]=!0),e))}function Rr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t?void 0:!0,r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(g,y,v,e,t){var b=e;if(0==(1&y)&&0==(2&y)&&null!==e)e:for(;;){if(null===e)return;var n=e.tag;if(3===n||4===n){var r=e.stateNode.containerInfo;if(r===t||8===r.nodeType&&r.parentNode===t)break;if(4===n)for(n=e.return;null!==n;){var i=n.tag;if((3===i||4===i)&&((i=n.stateNode.containerInfo)===t||8===i.nodeType&&i.parentNode===t))return;n=n.return}for(;null!==r;){if(null===(n=si(r)))return;if(5===(i=n.tag)||6===i){e=b=n;continue e}r=r.parentNode}}e=e.return}Oe(function(){var e,t,n,r=b,i=Se(v),s=[];e:{var a=br.get(g);if(void 0!==a){var o=on,l=g;switch(g){case"keypress":if(0===Jt(v))break e;case"keydown":case"keyup":o=xn;break;case"focusin":l="focus",o=dn;break;case"focusout":l="blur",o=dn;break;case"beforeblur":case"afterblur":o=dn;break;case"click":if(2===v.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Sn;break;case mr:case gr:case yr:o=fn;break;case vr:o=kn;break;case"scroll":o=un;break;case"wheel":o=Cn;break;case"copy":case"cut":case"paste":o=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}for(var u=!(h=0!=(4&y))&&"scroll"===g,c=h?null!==a?a+"Capture":null:a,h=[],d=r;null!==d;){var f,p=(f=d).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==c&&(null!=(p=je(d,c))&&h.push(jr(d,p,f)))),u)break;d=d.return}0<h.length&&(a=new o(a,l,null,v,i),s.push({event:a,listeners:h}))}}if(0==(7&y)){if(o="mouseout"===g||"pointerout"===g,(!(a="mouseover"===g||"pointerover"===g)||0!=(16&y)||!(l=v.relatedTarget||v.fromElement)||!si(l)&&!l[ti])&&(o||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=r,null!==(l=(l=v.relatedTarget||v.toElement)?si(l):null)&&(l!==(u=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(o=null,l=r),o!==l)){if(h=cn,p="onMouseLeave",c="onMouseEnter",d="mouse","pointerout"!==g&&"pointerover"!==g||(h=En,p="onPointerLeave",c="onPointerEnter",d="pointer"),u=null==o?a:oi(o),f=null==l?a:oi(l),(a=new h(p,d+"leave",o,v,i)).target=u,a.relatedTarget=f,p=null,si(i)===r&&((h=new h(c,d+"enter",l,v,i)).target=f,h.relatedTarget=u,p=h),u=p,o&&l)e:{for(c=l,d=0,f=h=o;f;f=Pr(f))d++;for(f=0,p=c;p;p=Pr(p))f++;for(;0<d-f;)h=Pr(h),d--;for(;0<f-d;)c=Pr(c),f--;for(;d--;){if(h===c||null!==c&&h===c.alternate)break e;h=Pr(h),c=Pr(c)}h=null}else h=null;null!==o&&Mr(s,a,o,h,!1),null!==l&&null!==u&&Mr(s,u,l,h,!0)}switch("select"===(o=(a=r?oi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===o&&"file"===a.type?e=Bn:Pn(a)?Hn?e=Yn:(e=Qn,t=Wn):!(o=a.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type||(e=Gn),(e=e&&e(g,r))?Mn(s,e,v,i):(t&&t(g,a,r),"focusout"===g&&(t=a._wrapperState)&&t.controlled&&"number"===a.type&&re(a,"number",a.value)),t=r?oi(r):window,g){case"focusin":!Pn(t)&&"true"!==t.contentEditable||(sr=t,ar=r,or=null);break;case"focusout":or=ar=sr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(s,v,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(s,v,i)}if(In)e:{switch(g){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else jn?Rn(g,v)&&(m="onCompositionEnd"):"keydown"===g&&229===v.keyCode&&(m="onCompositionStart");m&&(_n&&"ko"!==v.locale&&(jn||"onCompositionStart"!==m?"onCompositionEnd"===m&&jn&&(n=Zt()):(Yt="value"in(Gt=i)?Gt.value:Gt.textContent,jn=!0)),0<(t=Ar(r,m)).length&&(m=new mn(m,g,null,v,i),s.push({event:m,listeners:t}),n?m.data=n:null!==(n=On(v))&&(m.data=n))),!(n=(Nn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Ln=!0,Dn);case"textInput":return(e=t.data)===Dn&&Ln?null:e;default:return null}}:function(e,t){if(jn)return"compositionend"===e||!In&&Rn(e,t)?(e=Zt(),Xt=Yt=Gt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data;default:return null}})(g,v))||0<(r=Ar(r,"onBeforeInput")).length&&(i=new mn("onBeforeInput","beforeinput",null,v,i),s.push({event:i,listeners:r}),i.data=n)}Ir(s,y)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(jr(e,s,i)),null!=(s=je(e,t))&&r.push(jr(e,s,i))),e=e.return}return r}function Pr(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Mr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=je(n,s))&&a.unshift(jr(n,l,o)):null!=(l=je(n,s))&&a.push(jr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Fr(){}var Vr=null,Ur=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return t.autoFocus}}function Br(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0,$r="function"==typeof Promise?Promise:void 0,Kr="function"==typeof queueMicrotask?queueMicrotask:void 0!==$r?function(e){return $r.resolve(null).then(e).catch(Wr)}:qr;function Wr(e){setTimeout(function(){throw e})}function Qr(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}while(n=i);zt(t)}function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t&&("$"===(t=e.data)||"$!"===t||"$?"===t))break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var l=Math.random().toString(36).slice(2),Jr="__reactFiber$"+l,ei="__reactProps$"+l,ti="__reactContainer$"+l,ni="__reactEvents$"+l,ri="__reactListeners$"+l,ii="__reactHandles$"+l;function si(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Jr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ai(e){return!(e=e[Jr]||e[ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(x(33))}function li(e){return e[ei]||null}var ui=[],ci=-1;function hi(e){return{current:e}}function di(e){ci<0||(e.current=ui[ci],ui[ci]=null,ci--)}function fi(e,t){ui[++ci]=e.current,e.current=t}var pi={},mi=hi(pi),gi=hi(!1),yi=pi;function vi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bi(e){return null!=(e=e.childContextTypes)}function wi(){di(gi),di(mi)}function xi(e,t,n){if(mi.current!==pi)throw Error(x(168));fi(mi,t),fi(gi,n)}function Ei(e,t,n){var r,i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(r in i=i.getChildContext())if(!(r in t))throw Error(x(108,K(e)||"Unknown",r));return g({},n,i)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,yi=mi.current,fi(mi,e),fi(gi,gi.current),1}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=Ei(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,di(gi),di(mi),fi(mi,e)):di(gi),fi(gi,n)}var Ci=null,Ti=!1,Ii=!1;function Ni(){if(!Ii&&null!==Ci){Ii=!0;var t=0,e=yt;try{var n=Ci;for(yt=1;t<n.length;t++)for(var r=n[t];null!==(r=r(!0)););Ci=null,Ti=!1}catch(e){throw null!==Ci&&(Ci=Ci.slice(t+1)),We(Je,Ni),e}finally{yt=e,Ii=!1}}return null}var _i=E.ReactCurrentBatchConfig;function Di(e,t){if(e&&e.defaultProps){for(var n in t=g({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Li=hi(null),Ri=null,Oi=null,ji=null;function Ai(){ji=Oi=Ri=null}function Pi(e){var t=Li.current;di(Li),e._currentValue=t}function Mi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Fi(e,t){(ji=Oi=null)!==(e=(Ri=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(La=!0),e.firstContext=null)}function Vi(e){var t=e._currentValue;if(ji!==e)if(e={context:e,memoizedValue:t,next:null},null===Oi){if(null===Ri)throw Error(x(308));Oi=e,Ri.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var Ui=null,zi=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==To&&0!=(1&e.mode)&&0==(2&Co)?(null===(e=n.interleaved)?(t.next=t,null===Ui?Ui=[n]:Ui.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Ki(e,t,n){var r;null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))&&(r=t.lanes,r&=e.pendingLanes,ft(e,t.lanes=n|=r))}function Wi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===s?i=s=a:s=s.next=a,null!==(n=n.next));null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,r){var i=e.updateQueue;zi=!1;var s,a,o,l=i.firstBaseUpdate,u=i.lastBaseUpdate,c=i.shared.pending;if(null!==c&&(i.shared.pending=null,a=(s=c).next,(s.next=null)===u?l=a:u.next=a,u=s,null===(o=e.alternate)||(c=(o=o.updateQueue).lastBaseUpdate)!==u&&(null===c?o.firstBaseUpdate=a:c.next=a,o.lastBaseUpdate=s)),null!==l){var h=i.baseState;for(u=0,o=a=s=null,c=l;;){var d=c.lane,f=c.eventTime;if((r&d)===d){null!==o&&(o=o.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var p=e,m=c,d=t,f=n;switch(m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-32769&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=g({},h,d);break e;case 2:zi=!0}}null!==c.callback&&0!==c.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[c]:d.push(c))}else f={eventTime:f,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},null===o?(a=o=f,s=h):o=o.next=f,u|=d;if(null===(c=c.next)){if(null===(c=i.shared.pending))break;c=(d=c).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===o&&(s=h),i.baseState=s,i.firstBaseUpdate=a,i.lastBaseUpdate=o,null!==(t=i.shared.interleaved))for(i=t;u|=i.lane,(i=i.next)!==t;);else null===l&&(i.shared.lanes=0);Oo|=u,e.lanes=u,e.memoizedState=h}}function Gi(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(x(191,i));i.call(r)}}}var Yi=(new r.Component).refs;function Xi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:g({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zi={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qo(),i=Go(e),s=Hi(r,i);s.payload=t,null!=n&&(s.callback=n),$i(e,s),null!==(t=Yo(e,i,r))&&Ki(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qo(),i=Go(e),s=Hi(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),$i(e,s),null!==(t=Yo(e,i,r))&&Ki(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qo(),r=Go(e),i=Hi(n,r);i.tag=2,null!=t&&(i.callback=t),$i(e,i),null!==(t=Yo(e,r,n))&&Ki(t,e,r)}};function Ji(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function es(e,t,n){var r=!1,i=pi,s=t.contextType;return t=new t(n,s="object"==typeof s&&null!==s?Vi(s):(i=bi(t)?yi:mi.current,(r=null!=(r=t.contextTypes))?vi(e,i):pi)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zi,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ts(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function ns(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Yi,Bi(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Vi(s):(s=bi(t)?yi:mi.current,i.context=vi(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Xi(e,0,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Zi.enqueueReplaceState(i,i.state,null),Qi(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=1048580)}function rs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Yi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ss(e){return(0,e._init)(e._payload)}function as(h){function d(e,t){var n;h&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t))}function f(e,t){if(!h)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function p(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Sl(e,t)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,h?null===(n=e.alternate)||(n=n.index)<t?(e.flags|=2,t):n:t}function l(e){return h&&null===e.alternate&&(e.flags|=2),e}function s(e,t,n,r){return null===t||6!==t.tag?(t=Il(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function a(e,t,n,r){var i=n.type;return i===C?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===j&&ss(i)===t.type)?(r=o(t,n.props)).ref=rs(0,t,n):(r=kl(n.type,n.key,n.props,null,e.mode,r)).ref=rs(0,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Nl(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function c(e,t,n,r,i){return null===t||7!==t.tag?(t=Cl(n,e.mode,r,i)).return=e:(t=o(t,n)).return=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Il(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=kl(t.type,t.key,t.props,null,e.mode,n)).ref=rs(0,null,t),n.return=e,n;case k:return(t=Nl(t,e.mode,n)).return=e,t;case j:return g(e,(0,t._init)(t._payload),n)}if(ie(t)||B(t))return(t=Cl(t,e.mode,n,null)).return=e,t;is(0,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?a(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case j:return y(e,t,(i=n._init)(n._payload),r)}if(ie(n)||B(n))return null!==i?null:c(e,t,n,r,null);is(0,n)}return null}function v(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return a(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return v(e,t,n,(0,r._init)(r._payload),i)}if(ie(r)||B(r))return c(t,e=e.get(n)||null,r,i,null);is(0,r)}return null}return function e(t,n,r,i){if("object"==typeof(r="object"==typeof r&&null!==r&&r.type===C&&null===r.key?r.props.children:r)&&null!==r){switch(r.$$typeof){case S:e:{for(var s=r.key,a=n;null!==a;){if(a.key===s){if((s=r.type)===C){if(7===a.tag){f(t,a.sibling),(n=o(a,r.props.children)).return=t,t=n;break e}}else if(a.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===j&&ss(s)===a.type){f(t,a.sibling),(n=o(a,r.props)).ref=rs(0,a,r),n.return=t,t=n;break e}f(t,a);break}d(t,a),a=a.sibling}t=r.type===C?((n=Cl(r.props.children,t.mode,i,r.key)).return=t,n):((i=kl(r.type,r.key,r.props,null,t.mode,i)).ref=rs(0,n,r),i.return=t,i)}return l(t);case k:e:{for(a=r.key;null!==n;){if(n.key===a){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){f(t,n.sibling),(n=o(n,r.children||[])).return=t,t=n;break e}f(t,n);break}d(t,n),n=n.sibling}(n=Nl(r,t.mode,i)).return=t,t=n}return l(t);case j:return e(t,n,(a=r._init)(r._payload),i)}if(ie(r))return function(t,e,n,r){for(var i=null,s=null,a=e,o=e=0,l=null;null!==a&&o<n.length;o++){a.index>o?(l=a,a=null):l=a.sibling;var u=y(t,a,n[o],r);if(null===u){null===a&&(a=l);break}h&&a&&null===u.alternate&&d(t,a),e=m(u,e,o),null===s?i=u:s.sibling=u,s=u,a=l}if(o===n.length)return f(t,a),i;if(null===a){for(;o<n.length;o++)null!==(a=g(t,n[o],r))&&(e=m(a,e,o),null===s?i=a:s.sibling=a,s=a);return i}for(a=p(t,a);o<n.length;o++)null!==(l=v(a,t,o,n[o],r))&&(h&&null!==l.alternate&&a.delete(null===l.key?o:l.key),e=m(l,e,o),null===s?i=l:s.sibling=l,s=l);return h&&a.forEach(function(e){return d(t,e)}),i}(t,n,r,i);if(B(r))return function(t,e,n,r){var i=B(n);if("function"!=typeof i)throw Error(x(150));if(null==(n=i.call(n)))throw Error(x(151));for(var s=i=null,a=e,o=e=0,l=null,u=n.next();null!==a&&!u.done;o++,u=n.next()){a.index>o?(l=a,a=null):l=a.sibling;var c=y(t,a,u.value,r);if(null===c){null===a&&(a=l);break}h&&a&&null===c.alternate&&d(t,a),e=m(c,e,o),null===s?i=c:s.sibling=c,s=c,a=l}if(u.done)return f(t,a),i;if(null===a){for(;!u.done;o++,u=n.next())null!==(u=g(t,u.value,r))&&(e=m(u,e,o),null===s?i=u:s.sibling=u,s=u);return i}for(a=p(t,a);!u.done;o++,u=n.next())null!==(u=v(a,t,o,u.value,r))&&(h&&null!==u.alternate&&a.delete(null===u.key?o:u.key),e=m(u,e,o),null===s?i=u:s.sibling=u,s=u);return h&&a.forEach(function(e){return d(t,e)}),i}(t,n,r,i);is(0,r)}return"string"==typeof r||"number"==typeof r?(r=""+r,l(((n=null!==n&&6===n.tag?(f(t,n.sibling),o(n,r)):(f(t,n),Il(r,t.mode,i))).return=t,t=n))):f(t,n)}}var os=as(!0),ls=as(!1),us={},cs=hi(us),hs=hi(us),ds=hi(us);function fs(e){if(e===us)throw Error(x(174));return e}function ps(e,t){switch(fi(ds,t),fi(hs,e),fi(cs,us),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}di(cs),fi(cs,t)}function ms(){di(cs),di(hs),di(ds)}function gs(e){fs(ds.current);var t=fs(cs.current),n=he(t,e.type);t!==n&&(fi(hs,e),fi(cs,n))}function ys(e){hs.current===e&&(di(cs),di(hs))}var vs=hi(0);function bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ws=null,xs=null,Es=!1;function Ss(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,null===(t=(n.return=e).deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ks(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,retryLane:1073741824},(n=xl(18,null,null,0)).stateNode=t,(n.return=e).child=n,1);default:return}}function Cs(e){if(Es){var t=xs;if(t){var n=t;if(!ks(e,t)){if(!(t=Yr(n.nextSibling))||!ks(e,t))return e.flags=-2049&e.flags|2,Es=!1,void(ws=e);Ss(ws,n)}ws=e,xs=Yr(t.firstChild)}else e.flags=-2049&e.flags|2,Es=!1,ws=e}}function Ts(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ws=e}function Is(e){if(e===ws){if(!Es)return Ts(e),Es=!0,0;var t;if(t=(t=3!==e.tag)&&!(t=5!==e.tag)?"head"!==(t=e.type)&&"body"!==t&&!Br(e.type,e.memoizedProps):t)for(t=xs;t;)Ss(e,t),t=Yr(t.nextSibling);if(Ts(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xs=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xs=null}}else xs=ws?Yr(e.stateNode.nextSibling):null;return 1}}function Ns(){xs=ws=null,Es=!1}var _s=[];function Ds(){for(var e=0;e<_s.length;e++)_s[e]._workInProgressVersionPrimary=null;_s.length=0}function Ls(e,t){var n=(n=t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}var Rs=E.ReactCurrentDispatcher,Os=E.ReactCurrentBatchConfig,js=0,As=null,Ps=null,Ms=null,Fs=!1,Vs=!1;function Us(){throw Error(x(321))}function zs(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return;return 1}}function Bs(e,t,n,r,i,s){if(js=s,(As=t).memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=null===e||null===e.memoizedState?ya:va,e=n(r,i),Vs){s=0;do{if(Vs=!1,!(s<25))throw Error(x(301))}while(s+=1,Ms=Ps=null,t.updateQueue=null,Rs.current=ba,e=n(r,i),Vs)}if(Rs.current=ga,t=null!==Ps&&null!==Ps.next,js=0,Ms=Ps=As=null,Fs=!1,t)throw Error(x(300));return e}function qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ms?As.memoizedState=Ms=e:Ms=Ms.next=e,Ms}function Hs(){var e;e=null===Ps?null!==(e=As.alternate)?e.memoizedState:null:Ps.next;var t=null===Ms?As.memoizedState:Ms.next;if(null!==t)Ms=t,Ps=e;else{if(null===e)throw Error(x(310));e={memoizedState:(Ps=e).memoizedState,baseState:Ps.baseState,baseQueue:Ps.baseQueue,queue:Ps.queue,next:null},null===Ms?As.memoizedState=Ms=e:Ms=Ms.next=e}return Ms}function $s(e,t){return"function"==typeof t?t(e):t}function Ks(e){var t=Hs(),n=t.queue;if(null===n)throw Error(x(311));n.lastRenderedReducer=e;var r,i=(a=Ps).baseQueue;if(null!==(s=n.pending)&&(null!==i&&(r=i.next,i.next=s.next,s.next=r),a.baseQueue=i=s,n.pending=null),null!==i){var s=i.next,a=a.baseState,o=r=null,l=null,u=s;do{var c,h=u.lane}while((js&h)===h?(null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),a=u.eagerReducer===e?u.eagerState:e(a,u.action)):(c={lane:h,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null},null===l?(o=l=c,r=a):l=l.next=c,As.lanes|=h,Oo|=h),null!==(u=u.next)&&u!==s);null===l?r=a:l.next=o,Xn(a,t.memoizedState)||(La=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=l,n.lastRenderedState=a}if(null!==(e=n.interleaved))for(i=e;s=i.lane,As.lanes|=s,Oo|=s,(i=i.next)!==e;);else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ws(e){var t=Hs(),n=t.queue;if(null===n)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;for(var a=i=i.next;s=e(s,a.action),(a=a.next)!==i;);Xn(s,t.memoizedState)||(La=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qs(e,t,n){var r=(r=t._getVersion)(t._source),i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(js&e)===e)&&(t._workInProgressVersionPrimary=r,_s.push(t))),e)return n(t._source);throw _s.push(t),Error(x(350))}function Gs(e,r,t,n){var i=To;if(null===i)throw Error(x(349));var s=r._getVersion,a=s(r._source),o=Rs.current,l=(c=o.useState(function(){return Qs(i,r,t)}))[1],u=c[0],c=Ms,h=(p=e.memoizedState).refs,d=h.getSnapshot,f=p.source,p=p.subscribe,m=As;return e.memoizedState={refs:h,source:r,subscribe:n},o.useEffect(function(){h.getSnapshot=t,h.setSnapshot=l;var e=s(r._source);Xn(a,e)||(e=t(r._source),Xn(u,e)||(l(e),e=Go(m),i.mutableReadLanes|=e&i.pendingLanes),ft(i,i.mutableReadLanes))},[t,r,n]),o.useEffect(function(){return n(r._source,function(){var e=h.getSnapshot,t=h.setSnapshot;try{t(e(r._source));var n=Go(m);i.mutableReadLanes|=n&i.pendingLanes}catch(e){t(function(){throw e})}})},[r,n]),Xn(d,t)&&Xn(f,r)&&Xn(p,n)||((e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:u}).dispatch=l=ma.bind(null,As,e),c.queue=e,c.baseQueue=null,u=Qs(i,r,t),c.memoizedState=c.baseState=u),u}function Ys(e,t,n){return Gs(Hs(),e,t,n)}function Xs(e,t){var n=As,r=qs(),i=t(),s={value:r.memoizedState=i,getSnapshot:t};if(r.queue=s,oa(ea.bind(null,n,s,e),[e]),n.flags|=1024,ra(5,Js.bind(null,n,s,i,t),void 0,null),null===To)throw Error(x(349));return 0!=(30&js)||Zs(n,t,i),i}function Zs(e,t,n){e.flags|=8192,e={getSnapshot:t,value:n},null===(t=As.updateQueue)?(As.updateQueue=t={lastEffect:null,stores:null}).stores=[e]:null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,ta(t)&&Yo(e,1,-1)}function ea(e,t,n){return n(function(){ta(t)&&Yo(e,1,-1)})}function ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return 1}}function na(e){var t=qs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e}).dispatch=ma.bind(null,As,e),[t.memoizedState,e]}function ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=As.updateQueue)?(As.updateQueue=t={lastEffect:null,stores:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function ia(){return Hs().memoizedState}function sa(e,t,n,r){var i=qs();As.flags|=e,i.memoizedState=ra(1|t,n,void 0,void 0===r?null:r)}function aa(e,t,n,r){var i=Hs();r=void 0===r?null:r;var s=void 0;if(null!==Ps){var a=Ps.memoizedState,s=a.destroy;if(null!==r&&zs(r,a.deps))return void(i.memoizedState=ra(t,n,s,r))}As.flags|=e,i.memoizedState=ra(1|t,n,s,r)}function oa(e,t){return sa(2098176,4,e,t)}function la(e,t){return aa(1024,4,e,t)}function ua(e,t){return aa(4,2,e,t)}function ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ha(e,t,n){return n=null!=n?n.concat([e]):null,aa(4,2,ca.bind(null,t,e),n)}function da(){}function fa(e,t){var n=Hs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Hs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ma(e,t,n){var r,i=Qo(),s=Go(e),a={lane:s,action:n,eagerReducer:null,eagerState:null,next:null},o=e.alternate;if(e===As||null!==o&&o===As)Vs=Fs=!0,null===(s=t.pending)?a.next=a:(a.next=s.next,s.next=a),t.pending=a;else{if(null!==To&&0!=(1&e.mode)&&0==(2&Co)?(null===(r=t.interleaved)?(a.next=a,null===Ui?Ui=[t]:Ui.push(t)):(a.next=r.next,r.next=a),t.interleaved=a):(null===(r=t.pending)?a.next=a:(a.next=r.next,r.next=a),t.pending=a),0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=o(l,n);if(a.eagerReducer=o,a.eagerState=u,Xn(u,l))return}catch(e){}a=Yo(e,s,i),0!=(4194240&s)&&null!==a&&(e=t.lanes,e&=a.pendingLanes,ft(a,t.lanes=s|=e))}}var ga={readContext:Vi,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useOpaqueIdentifier:Us,unstable_isNewReconciler:!1},ya={readContext:Vi,useCallback:function(e,t){return qs().memoizedState=[e,void 0===t?null:t],e},useContext:Vi,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sa(1048580,2,ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sa(1048580,2,e,t)},useMemo:function(e,t){var n=qs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,As,e),[r.memoizedState,e]},useRef:function(e){return qs().memoizedState=e={current:e}},useState:na,useDebugValue:da,useDeferredValue:function(t){var e=na(t),n=e[0],r=e[1];return oa(function(){var e=Os.transition;Os.transition=1;try{r(t)}finally{Os.transition=e}},[t]),n},useTransition:function(){var e=(t=na(!1))[0],t=function(e,t){var n=yt;yt=0!==n&&n<4?n:4,e(!0);var r=Os.transition;Os.transition=1;try{e(!1),t()}finally{yt=n,Os.transition=r}}.bind(null,t[1]);return[e,qs().memoizedState=t]},useMutableSource:function(e,t,n){var r=qs();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Gs(r,e,t,n)},useSyncExternalStore:Xs,useOpaqueIdentifier:function(){if(Es){var e=!1,t={$$typeof:A,toString:t=function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(x(355))},valueOf:t},n=na(t)[1];return 0==(1&As.mode)&&(As.flags|=1024,ra(5,function(){n("r:"+(Zr++).toString(36))},void 0,null)),t}var t;return na(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},va={readContext:Vi,useCallback:fa,useContext:Vi,useEffect:la,useImperativeHandle:ha,useLayoutEffect:ua,useMemo:pa,useReducer:Ks,useRef:ia,useState:function(){return Ks($s)},useDebugValue:da,useDeferredValue:function(t){var e=Ks($s),n=e[0],r=e[1];return la(function(){var e=Os.transition;Os.transition=1;try{r(t)}finally{Os.transition=e}},[t]),n},useTransition:function(){return[Ks($s)[0],Hs().memoizedState]},useMutableSource:Ys,useSyncExternalStore:function(e,t){var n=As,r=Hs(),i=t(),s=!Xn(r.memoizedState,i);if(s&&(r.memoizedState=i,La=!0),r=r.queue,la(ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Ms&&1&Ms.memoizedState.tag){if(n.flags|=1024,ra(5,Js.bind(null,n,r,i,t),void 0,null),null===To)throw Error(x(349));0!=(30&js)||Zs(n,t,i)}return i},useOpaqueIdentifier:function(){return Ks($s)[0]},unstable_isNewReconciler:!1},ba={readContext:Vi,useCallback:fa,useContext:Vi,useEffect:la,useImperativeHandle:ha,useLayoutEffect:ua,useMemo:pa,useReducer:Ws,useRef:ia,useState:function(){return Ws($s)},useDebugValue:da,useDeferredValue:function(t){var e=Ws($s),n=e[0],r=e[1];return la(function(){var e=Os.transition;Os.transition=1;try{r(t)}finally{Os.transition=e}},[t]),n},useTransition:function(){return[Ws($s)[0],Hs().memoizedState]},useMutableSource:Ys,useSyncExternalStore:Xs,useOpaqueIdentifier:function(){return Ws($s)[0]},unstable_isNewReconciler:!1};function wa(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}(r),r=r.return;);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function xa(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Ea="function"==typeof WeakMap?WeakMap:Map;function Sa(e,t,n){(n=Hi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fo||(Fo=!0,Vo=r),xa(0,t)},n}function ka(e,t,n){(n=Hi(-1,n)).tag=3;var r,i=e.type.getDerivedStateFromError;"function"==typeof i&&(r=t.value,n.payload=function(){return i(r)},n.callback=function(){xa(0,t)});e=e.stateNode;return null!==e&&"function"==typeof e.componentDidCatch&&(n.callback=function(){xa(0,t),"function"!=typeof i&&(null===Uo?Uo=new Set([this]):Uo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ca(e,t){if(!Es)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ta(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=3670016&i.subtreeFlags,r|=3670016&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}var Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fs(cs.current);var s,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"select":i=g({},i,{value:void 0}),r=g({},r,{value:void 0}),a=[];break;case"textarea":i=ae(e,i),r=ae(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Fr)}for(u in xe(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n=n||{},n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(c.hasOwnProperty(u)?a=a||[]:(a=a||[]).push(u,null));for(u in r){var l=r[u],o=null!=i?i[u]:void 0;if(r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n=n||{},n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n=n||{},n[s]=l[s])}else n||(a=a||[]).push(u,n),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(c.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Nr("scroll",e),a||o===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===A?l.toString():(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},_a=function(e,t,n,r){n!==r&&(t.flags|=4)},Da=E.ReactCurrentOwner,La=!1;function Ra(e,t,n,r){t.child=null===e?ls(t,null,n,r):os(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var s=t.ref;return Fi(t,i),r=Bs(e,t,n,r,s,i),null===e||La?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,Ja(e,t,i))}function ja(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||El(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kl(n.type,null,r,t,t.mode,i)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=s,Aa(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=Sl(s,r)).ref=t.ref,(e.return=t).child=e}function Aa(e,t,n,r,i){if(null!==e&&Zn(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0==(e.lanes&i))return t.lanes=e.lanes,Ja(e,t,i);0!=(65536&e.flags)&&(La=!0)}return Fa(e,t,n,r,i)}function Pa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},fi(Do,_o),_o|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,fi(Do,_o),_o|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,fi(Do,_o),_o|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,fi(Do,_o),_o|=r;return Ra(e,t,i,n),t.child}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=256,t.flags|=524288)}function Fa(e,t,n,r,i){var s=vi(t,s=bi(n)?yi:mi.current);return Fi(t,i),n=Bs(e,t,n,r,s,i),null===e||La?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,Ja(e,t,i))}function Va(e,t,n,r,i){var s,a,o,l,u,c,h,d,f,p;return bi(n)?(s=!0,Si(t)):s=!1,Fi(t,i),r=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),es(t,n,r),ns(t,n,r,i),!0):null===e?(a=t.stateNode,o=t.memoizedProps,a.props=o,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Vi(l):vi(t,l=bi(n)?yi:mi.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||o===r&&d===l||ts(0,a,r,l),zi=!1,h=t.memoizedState,a.state=h,Qi(t,r,a,i),d=t.memoizedState,o!==r||h!==d||gi.current||zi?("function"==typeof u&&(Xi(t,0,u,r),d=t.memoizedState),(o=zi||Ji(t,n,o,r,h,d,l))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=1048580)):("function"==typeof a.componentDidMount&&(t.flags|=1048580),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,o):("function"==typeof a.componentDidMount&&(t.flags|=1048580),!1)):(a=t.stateNode,qi(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Di(t.type,o),a.props=l,c=t.pendingProps,h=a.context,d="object"==typeof(d=n.contextType)&&null!==d?Vi(d):vi(t,d=bi(n)?yi:mi.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||o===c&&h===d||ts(0,a,r,d),zi=!1,h=t.memoizedState,a.state=h,Qi(t,r,a,i),p=t.memoizedState,o!==c||h!==p||gi.current||zi?("function"==typeof f&&(Xi(t,0,f,r),p=t.memoizedState),(l=zi||Ji(t,n,l,r,h,p,d)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,d),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,d)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=512)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=512),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=d,l):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=512),!1)),Ua(e,t,n,r,s,i)}function Ua(e,t,n,r,i,s){Ma(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ki(t,n,!1),Ja(e,t,s);r=t.stateNode,Da.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=os(t,e.child,null,s),t.child=os(t,null,o,s)):Ra(e,t,o,s),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),ps(e,t.containerInfo)}var Ba={dehydrated:null,retryLane:0};function qa(e){return{baseLanes:e,cachePool:null}}function Ha(e,t,n){var r,i=t.pendingProps,s=vs.current,a=!1,o=0!=(128&t.flags);if((r=!(r=o)?(null===e||null!==e.memoizedState)&&0!=(2&s):r)?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||!0===i.unstable_avoidThisFallback||(s|=1),fi(vs,1&s),null===e)return Cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(e=i.children,s=i.fallback,a?(e=Ka(t,e,s,n),t.child.memoizedState=qa(n),t.memoizedState=Ba,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ka(t,e,s,n),t.child.memoizedState=qa(n),t.memoizedState=Ba,t.lanes=4194304,e):$a(t,e));if(null===(s=e.memoizedState))return a?(i=Qa(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?qa(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i):(n=Wa(e,t,i.children,n),t.memoizedState=null,n);if(null===(r=s.dehydrated))return a?(i=Qa(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?qa(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i):(n=Wa(e,t,i.children,n),t.memoizedState=null,n);if(o)return null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Tl({mode:"visible",children:i.children},s,0,null),(a=Cl(a,s,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!=(1&t.mode)&&os(t,e.child,null,n),t.child.memoizedState=qa(n),t.memoizedState=Ba,a);if(0!=(8&Co)||0==(1&t.mode)||"$!"===r.data)t=Ga(e,t,n);else if(i=0!=(n&e.childLanes),La||i){if(null!==(i=To)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(i=0!=(a&(i.suspendedLanes|n))?0:a)&&i!==s.retryLane&&Yo(e,s.retryLane=i,-1)}ul(),t=Ga(e,t,n)}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vl(e,n)}.bind(null,e),r._reactRetry=t,t=null):(xs=Yr(r.nextSibling),Ts(t),Es=!0,(t=$a(t,t.pendingProps.children)).flags|=2048);return t}function $a(e,t){return((t=Tl({mode:"visible",children:t},e.mode,0,null)).return=e).child=t}function Ka(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Tl(t,i,0,null),n=Cl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Wa(e,t,n,r){var i=e.child;return e=i.sibling,n=Sl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,(n.sibling=null)!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qa(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Sl(e,o)).subtreeFlags=3670016&e.subtreeFlags,null!==a?r=Sl(a,r):(r=Cl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ga(e,t,n){return os(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Mi(e.return,t)}function Xa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=vs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(vs,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,s);break;case"backwards":for(i=t.child,t.child=n=null;null!==i;){if(null!==(e=i.alternate)&&null===bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,s);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oo|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(x(153));if(null!==t.child){for(n=Sl(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Sl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var eo=!1,to=!1,no="function"==typeof WeakSet?WeakSet:Set,ro=null;function io(t,n){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){gl(t,n,e)}else e.current=null}var so=!1;function ao(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;if((i.destroy=void 0)!==s){var a=t,o=n;try{s()}catch(e){gl(a,o,e)}}}}while((i=i.next)!==r)}}function oo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,r=t=t.next;do{}while((r.tag&e)===e&&(n=r.create,r.destroy=n()),(r=r.next)!==t)}}function lo(e){var t,n=e.ref;null!==n&&(t=e.stateNode,e.tag,e=t,"function"==typeof n?n(e):n.current=e)}function uo(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=(s=r).destroy;if(s=s.tag,void 0!==i&&0!=(2&s)){var s=t,a=n;try{i()}catch(e){gl(s,a,e)}}}while((r=r.next)!==e)}break;case 1:if(io(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){gl(t,n,e)}break;case 5:io(t,n);break;case 4:fo(e,t,n)}}function co(e){return 5===e.tag||3===e.tag||4===e.tag}function ho(e){e:{for(var t=e.return;null!==t;){if(co(t))break e;t=t.return}throw Error(x(160))}var n=t,t=n.stateNode;switch(n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(x(161))}32&n.flags&&(me(t,""),n.flags&=-33);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||co(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.flags)){n=n.stateNode;break e}}(r?function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!=r||null!==n.onclick||(n.onclick=Fr));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}:function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling})(e,n,t)}function fo(e,t,n){for(var r,i,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(x(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var o=e,l=s,u=n,c=l;;)if(uo(o,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(o=r,l=s.stateNode,(8===o.nodeType?o.parentNode:o).removeChild(l)):r.removeChild(s.stateNode)}else if(18===s.tag)i?(o=r,l=s.stateNode,8===o.nodeType?Qr(o.parentNode,l):1===o.nodeType&&Qr(o,l),zt(o)):Qr(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s=(s.child.return=s).child;continue}}else if(uo(e,s,n),null!==s.child){s=(s.child.return=s).child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function po(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return void ao(3,t,t.return);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if((t.updateQueue=null)!==s){for(n[ei]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ee(n,r),Ee(e,i),t=Ee(e,r),i=0;i<s.length;i+=2){var a=s[i],o=s[i+1];"style"===a?be(n,o):"dangerouslySetInnerHTML"===a?pe(n,o):"children"===a?me(n,o):w(n,a,o,t)}switch(e){case"input":te(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?se(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(x(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,zt(n.containerInfo)));case 12:return;case 13:case 19:return void mo(t);case 17:return}throw Error(x(163))}function mo(n){var r,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new no),e.forEach(function(e){var t=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}null!==r&&r.delete(t),vl(e,n)}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))}))}function go(e,t,n){(function e(t,n,r){for(var i=0!=(1&t.mode);null!==ro;){var s=ro,a=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||eo;if(!o){var l=s.alternate,u=null!==l&&null!==l.memoizedState||to;l=eo;var c=to;if(eo=o,(to=u)&&!c)for(ro=s;null!==ro;)u=(o=ro).child,(22!==o.tag||null===o.memoizedState)&&null!==u?(u.return=o,ro=u):bo(s);for(;null!==a;)e(ro=a,n,r),a=a.sibling;ro=s,eo=l,to=c}yo(t)}else 0!=(4420&s.subtreeFlags)&&null!==a?(a.return=s,ro=a):yo(t)}})(ro=e,t,n)}function yo(e){for(;null!==ro;){var t=ro;if(0!=(4420&t.flags)){var n,r,i,s=t.alternate;try{if(0!=(4420&t.flags))switch(t.tag){case 0:case 11:case 15:to||oo(3,t);break;case 1:var a,o=t.stateNode;4&t.flags&&!to&&(null===s?o.componentDidMount():(a=t.elementType===t.type?s.memoizedProps:Di(t.type,s.memoizedProps),o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)));var l=t.updateQueue;null!==l&&Gi(0,l,o);break;case 3:var u=t.updateQueue;if(null!==u){if((s=null)!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Gi(0,u,s)}break;case 5:var c=t.stateNode;null===s&&4&t.flags&&(s=c,zr(t.type,t.memoizedProps)&&s.focus());break;case 6:case 4:case 12:break;case 13:null!==t.memoizedState||null!==(n=t.alternate)&&(null===(r=n.memoizedState)||null!==(i=r.dehydrated)&&zt(i));break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(x(163))}to||256&t.flags&&lo(t)}catch(e){gl(t,t.return,e)}}if(t===e){ro=null;break}if(null!==(s=t.sibling)){s.return=t.return,ro=s;break}ro=t.return}}function vo(e){for(;null!==ro;){var t=ro;if(t===e){ro=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ro=n;break}ro=t.return}}function bo(e){for(;null!==ro;){var t=ro;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oo(2,t)}catch(e){gl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){gl(t,i,e)}}var s=t.return;try{lo(t)}catch(e){gl(t,s,e)}break;case 5:var a=t.return;try{lo(t)}catch(e){gl(t,a,e)}}}catch(e){gl(t,t.return,e)}if(t===e){ro=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ro=o;break}ro=t.return}}var wo,xo=Math.ceil,Eo=E.ReactCurrentDispatcher,So=E.ReactCurrentOwner,ko=E.ReactCurrentBatchConfig,Co=0,To=null,Io=null,No=0,_o=0,Do=hi(0),Lo=0,Ro=null,Oo=0,jo=0,Ao=0,Po=0,Mo=1/0,Fo=!1,Vo=null,Uo=null,zo=!1,Bo=null,qo=0,Ho=0,$o=null,Ko=-1,Wo=0;function Qo(){return 0!=(6&Co)?Xe():-1!==Ko?Ko:Ko=Xe()}function Go(e){return 0==(1&e.mode)?1:0!=(2&Co)&&0!==No?No&-No:0!==_i.transition?(0===Wo&&(e=at,0==(4194240&(at<<=1))&&(at=64),Wo=e),Wo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Yo(e,t,n){if(50<Ho)throw Ho=0,$o=null,Error(x(185));var r=Xo(e,t);return null===r?null:(dt(r,t,n),r===To&&(0==(2&Co)&&(jo|=t),4===Lo&&tl(r,No)),Zo(r,n),1===t&&0===Co&&0==(1&e.mode)&&(Mo=Xe()+500,Ti&&Ni()),r)}function Xo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function Zo(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-pt(a),l=1<<o,u=s[o];-1===u?0!=(l&r)&&0==(l&i)||(s[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;default:return-1}}(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}if(0===(r=ut(e,e===To?No:0)))null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=r&-r)){if(null!=n&&Qe(n),1===t)0===e.tag?(n=nl.bind(null,e),Ti=!0):n=nl.bind(null,e),null===Ci?Ci=[n]:Ci.push(n),Kr(Ni),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:n=tt;break;case 536870912:n=rt;break;default:n=tt}n=bl(n,Jo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jo(t,e){if(Ko=-1,(Wo=0)!=(6&Co))throw Error(x(327));var n=t.callbackNode;if(pl()&&t.callbackNode!==n)return null;var r=ut(t,t===To?No:0);if(0===r)return null;if(0!=(30&r)||0!=(r&t.expiredLanes)||e)e=cl(t,r);else{e=r;var i=Co;Co|=2;var s=ll();for(To===t&&No===e||(Mo=Xe()+500,al(t,e));;)try{!function(){for(;null!==Io&&!Ge();)hl(Io)}();break}catch(e){ol(t,e)}Ai(),Eo.current=s,Co=i,e=null!==Io?0:(To=null,No=0,Lo)}if(0!==e){if(2===e&&(0!==(i=ct(t))&&(e=el(t,r=i))),1===e)throw n=Ro,al(t,0),tl(t,r),Zo(t,Xe()),n;if(i=t.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(8192&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(e){return!1}}}if(n=t.child,8192&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(e=cl(t,r))&&(0!==(s=ct(t))&&(e=el(t,r=s))),1===e))throw n=Ro,al(t,0),tl(t,r),Zo(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:fl(t);break;case 3:if(tl(t,r),(130023424&r)===r&&10<(e=Po+500-Xe())){if(0!==ut(t,0))break;if(((i=t.suspendedLanes)&r)!==r){Qo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(fl.bind(null,t),e);break}fl(t);break;case 4:if(tl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-pt(r),s=1<<a;i<(a=e[a])&&(i=a),r&=~s}if(r=i,10<(r=((r=Xe()-r)<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:1960*xo(r/1960))-r)){t.timeoutHandle=qr(fl.bind(null,t),r);break}fl(t);break;case 5:fl(t);break;default:throw Error(x(329))}}return Zo(t,Xe()),t.callbackNode===n?Jo.bind(null,t):null}function el(e,t){var n=Co;return Co|=8,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),e=cl(e,t),Co=n,e}function tl(e,t){for(t&=~Ao,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function nl(e){if(0!=(6&Co))throw Error(x(327));pl();var t=ut(e,0);if(0==(1&t))return Zo(e,Xe()),null;var n,r,i=cl(e,t);if(0!==e.tag&&2===i&&(n=Co,Co|=8,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(r=ct(e))&&(i=cl(e,t=r)),Co=n),1===i)throw i=Ro,al(e,0),tl(e,t),Zo(e,Xe()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=t,fl(e),Zo(e,Xe()),null}function rl(e,t){var n=Co;Co|=1;try{return e(t)}finally{0===(Co=n)&&(Mo=Xe()+500,Ti&&Ni())}}function il(e){null!==Bo&&0===Bo.tag&&0==(6&Co)&&pl();var t=Co;Co|=1;var n=ko.transition,r=yt;try{if(ko.transition=0,yt=1,e)return e()}finally{yt=r,ko.transition=n,0==(6&(Co=t))&&Ni()}}function sl(){_o=Do.current,di(Do)}function al(e,t){e.finishedWork=null,e.finishedLanes=0;var n,r,i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Hr(i)),null!==Io)for(i=Io.return;null!==i;){var s=i;switch(s.tag){case 1:null!=(s=s.type.childContextTypes)&&wi();break;case 3:ms(),di(gi),di(mi),Ds();break;case 5:ys(s);break;case 4:ms();break;case 13:case 19:di(vs);break;case 10:Pi(s.type._context);break;case 22:case 23:sl()}i=i.return}if(Io=Sl((To=e).current,null),No=_o=t,Ao=jo=Oo=Lo=0,(Ro=null)!==Ui){for(e=0;e<Ui.length;e++)null!==(i=(t=Ui[e]).interleaved)&&(t.interleaved=null,s=i.next,null!==(n=t.pending)&&(r=n.next,n.next=s,i.next=r),t.pending=i);Ui=null}}function ol(e,t){do{var n=Io;try{if(Ai(),Rs.current=ga,Fs){for(var r=As.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Fs=!1}if(js=0,Ms=Ps=As=null,Vs=!1,(So.current=null)===n||null===n.return){Lo=1,Ro=t,Io=null;break}e:{var s=e,a=n.return,o=t;if(t=No,(b=n).flags|=16384,null!==o&&"object"==typeof o&&"function"==typeof o.then){var l,u=o,c=b.tag;0!=(1&b.mode)||0!==c&&11!==c&&15!==c||((l=b.alternate)?(b.updateQueue=l.updateQueue,b.memoizedState=l.memoizedState,b.lanes=l.lanes):(b.updateQueue=null,b.memoizedState=null));var h,d,f=0!=(1&vs.current),p=a;do{if(d=(d=13===p.tag)?null!==(h=p.memoizedState)?null!==h.dehydrated:!0!==p.memoizedProps.unstable_avoidThisFallback||!f:d){var m,g,y=p.updateQueue;if(null===y?((m=new Set).add(u),p.updateQueue=m):y.add(u),0==(1&p.mode)&&p!==a){p.flags|=128,b.flags|=65536,b.flags&=-26437,1===b.tag&&(null===b.alternate?b.tag=17:((g=Hi(-1,1)).tag=2,$i(b,g))),b.lanes|=1;break e}var v,o=void 0,b=t,w=s.pingCache;null===w?(w=s.pingCache=new Ea,o=new Set,w.set(u,o)):void 0===(o=w.get(u))&&(o=new Set,w.set(u,o)),o.has(b)||(o.add(b),v=yl.bind(null,s,u,b),u.then(v,v)),p.flags|=32768,p.lanes=t;break e}}while(null!==(p=p.return));o=Error((K(b)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Lo&&(Lo=2),o=wa(o,b),p=a;do{switch(p.tag){case 3:s=o;p.flags|=32768,t&=-t,p.lanes|=t,Wi(p,Sa(0,s,t));break e;case 1:s=o;var x=p.type,E=p.stateNode;if(0==(128&p.flags)&&("function"==typeof x.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Uo||!Uo.has(E)))){p.flags|=32768,t&=-t,p.lanes|=t,Wi(p,ka(p,s,t));break e}}}while(null!==(p=p.return))}dl(n)}catch(e){t=e,Io===n&&null!==n&&(Io=n=n.return);continue}break}while(1)}function ll(){var e=Eo.current;return Eo.current=ga,null===e?ga:e}function ul(){0!==Lo&&3!==Lo||(Lo=4),null===To||0==(268435455&Oo)&&0==(268435455&jo)||tl(To,No)}function cl(t,e){var n=Co;Co|=2;var r=ll();for(To===t&&No===e||al(t,e);;)try{!function(){for(;null!==Io;)hl(Io)}();break}catch(e){ol(t,e)}if(Ai(),Co=n,Eo.current=r,null!==Io)throw Error(x(261));return To=null,No=0,Lo}function hl(e){var t=wo(e.alternate,e,_o);e.memoizedProps=e.pendingProps,null===t?dl(e):Io=t,So.current=null}function dl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(16384&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(t),null;case 1:return bi(t.type)&&wi(),Ta(t),null;case 3:return r=t.stateNode,ms(),di(gi),di(mi),Ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Is(t)?t.flags|=4:r.hydrate||(t.flags|=512)),Ta(t),null;case 5:ys(t);var i=fs(ds.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r),e.ref!==t.ref&&(t.flags|=256,t.flags|=524288);else{if(!r){if(null===t.stateNode)throw Error(x(166));return Ta(t),null}if(e=fs(cs.current),Is(t)){r=t.stateNode,n=t.type;var s,a=t.memoizedProps;switch(r[Jr]=t,r[ei]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":J(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":oe(r,a),Nr("invalid",r)}for(s in xe(n,a),e=null,a)a.hasOwnProperty(s)&&(i=a[s],"children"===s?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&Nr("scroll",r));switch(n){case"input":G(r),ne(r,a,!0);break;case"textarea":G(r),ue(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Fr)}r=e,null!==(t.updateQueue=r)&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===(e="http://www.w3.org/1999/xhtml"===e?ce(n):e)?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Jr]=t,e[ei]=r,Ia(e,t),t.stateNode=e,s=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<kr.length;i++)Nr(kr[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":J(e,r),i=Z(e,r),Nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=g({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":oe(e,r),i=ae(e,r),Nr("invalid",e);break;default:i=r}xe(n,i);var o,l=i;for(a in l)l.hasOwnProperty(a)&&(o=l[a],"style"===a?be(e,o):"dangerouslySetInnerHTML"===a?null!=(o=o?o.__html:void 0)&&pe(e,o):"children"===a?"string"==typeof o?"textarea"===n&&""===o||me(e,o):"number"==typeof o&&me(e,""+o):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=o&&"onScroll"===a&&Nr("scroll",e):null!=o&&w(e,a,o,s)));switch(n){case"input":G(e),ne(e,r,!1);break;case"textarea":G(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Fr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=256,t.flags|=524288)}return Ta(t),null;case 6:if(e&&null!=t.stateNode)_a(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(x(166));n=fs(ds.current),fs(cs.current),Is(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t).stateNode=r}return Ta(t),null;case 13:if(di(vs),null===(r=t.memoizedState)||null===r.dehydrated)return 0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Is(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=4096,0!=(1&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&vs.current)?0===Lo&&(Lo=3):ul())),null!==t.updateQueue&&(t.flags|=4),Ta(t),null);if(null===e){if(!Is(t))throw Error(x(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(x(317));r[Jr]=t}else Ns(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ta(t),null;case 4:return ms(),null===e&&Lr(t.stateNode.containerInfo),Ta(t),null;case 10:return Pi(t.type._context),Ta(t),null;case 17:return bi(t.type)&&wi(),Ta(t),null;case 19:if(di(vs),null===(a=t.memoizedState))return Ta(t),null;if(r=0!=(128&t.flags),null===(s=a.rendering))if(r)Ca(a,!1);else{if(0!==Lo||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=bs(e))){for(t.flags|=128,Ca(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=3670018,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(vs,1&vs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Mo&&(t.flags|=128,Ca(a,!(r=!0)),t.lanes=4194304)}else{if(!r)if(null!==(e=bs(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ca(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Es)return Ta(t),null}else 2*Xe()-a.renderingStartTime>Mo&&1073741824!==n&&(t.flags|=128,Ca(a,!(r=!0)),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=vs.current,fi(vs,r?1&n|2:1&n),t):(Ta(t),null);case 22:case 23:return sl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&"unstable-defer-without-hiding"!==r.mode&&23!==t.tag&&(t.flags|=4096),n&&0!=(1&t.mode)?0!=(1073741824&_o)&&(Ta(t),23!==t.tag&&6&t.subtreeFlags&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4096)):Ta(t),null}throw Error(x(156,t.tag))}(n,t,_o)))return void(Io=n)}else{if(null!==(n=function(e){switch(e.tag){case 1:bi(e.type)&&wi();var t=e.flags;return 32768&t?(e.flags=-32769&t|128,e):null;case 3:if(ms(),di(gi),di(mi),Ds(),0!=(128&(t=e.flags)))throw Error(x(285));return e.flags=-32769&t|128,e;case 5:return ys(e),null;case 13:if(di(vs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(x(340));Ns()}return 32768&(t=e.flags)?(e.flags=-32769&t|128,e):null;case 19:return di(vs),null;case 4:return ms(),null;case 10:return Pi(e.type._context),null;case 22:case 23:return sl(),null;default:return null}}(t)))return n.flags&=16383,void(Io=n);null!==e&&(e.flags|=16384,e.subtreeFlags=0,e.deletions=null)}if(null!==(t=t.sibling))return void(Io=t)}while(Io=t=e,null!==t);0===Lo&&(Lo=5)}function fl(e){var t=yt,n=ko.transition;try{ko.transition=0,yt=1,function(e){for(;pl(),null!==Bo;);if(0!=(6&Co))throw Error(x(327));var t=e.finishedWork,n=e.finishedLanes;if(null===t)return;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var r=t.lanes|t.childLanes;{var i,s;(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}})(e,r),e===To&&(Io=To=null,No=0),0==(1040&t.subtreeFlags)&&0==(1040&t.flags)||zo||(zo=!0,bl(tt,function(){return pl(),null})),r=0!=(8054&t.flags),0!=(8054&t.subtreeFlags)||r?(r=ko.transition,ko.transition=0,i=yt,yt=1,s=Co,Co|=4,So.current=null,function(e,t){if(Vr=qt,nr(e=tr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:if((s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection())&&0!==s.rangeCount){var n=s.anchorNode,r=s.anchorOffset,i=s.focusNode,s=s.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var a,o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(;d!==n||0!==r&&3!==d.nodeType||(l=o+r),d!==i||0!==s&&3!==d.nodeType||(u=o+s),3===d.nodeType&&(o+=d.nodeValue.length),null!==(a=d.firstChild);)f=d,d=a;for(;;){if(d===e)break t;if(f===n&&++c===r&&(l=o),f===i&&++h===s&&(u=o),null!==(a=d.nextSibling))break;f=(d=f).parentNode}d=a}n=-1===l||-1===u?null:{start:l,end:u}}else n=null;n=n||{start:0,end:0}}else n=null;for(qt=!(Ur={focusedElem:e,selectionRange:n}),ro=t;null!==ro;)if(e=(t=ro).child,0!=(516&t.subtreeFlags)&&null!==e)e.return=t,ro=e;else for(;null!==ro;){t=ro;try{var p,m,g,y,v=t.alternate;if(0!=(512&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:null!==v&&(p=v.memoizedProps,m=v.memoizedState,y=(g=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?p:Di(t.type,p),m),g.__reactInternalSnapshotBeforeUpdate=y);break;case 3:Gr(t.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(e){gl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,ro=e;break}ro=t.return}v=so,so=!1}(e,t),function(e,t){for(ro=t;null!==ro;){if(null!==(u=(t=ro).deletions))for(var n=0;n<u.length;n++){var r=u[n];try{fo(e,r,t);var i=r.alternate;null!==i&&(i.return=null),r.return=null}catch(e){gl(r,t,e)}}if(u=t.child,0!=(6454&t.subtreeFlags)&&null!==u)u.return=t,ro=u;else for(;null!==ro;){t=ro;try{var s,a,o,l=t.flags;if(32&l&&me(t.stateNode,""),256&l&&(null===(s=t.alternate)||null!==(a=s.ref)&&("function"==typeof a?a(null):a.current=null)),4096&l)switch(t.tag){case 13:null!==t.memoizedState&&(null!==(o=t.alternate)&&null!==o.memoizedState||(Po=Xe()));break;case 22:var u,c=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:for(var f,p,m,g,y,r=c,v=null,b=n=u=t;;){if(5===b.tag)null===v&&(f=(v=b).stateNode,r?"function"==typeof(p=f.style).setProperty?p.setProperty("display","none","important"):p.display="none":(m=b.stateNode,y=null!=(g=b.memoizedProps.style)&&g.hasOwnProperty("display")?g.display:null,m.style.display=ve("display",y)));else if(6===b.tag)null===v&&(b.stateNode.nodeValue=r?"":b.memoizedProps);else if((22!==b.tag&&23!==b.tag||null===b.memoizedState||b===n)&&null!==b.child){b=(b.child.return=b).child;continue}if(b===n)break;for(;null===b.sibling;){if(null===b.return||b.return===n)break e;v===b&&(v=null),b=b.return}v===b&&(v=null),b.sibling.return=b.return,b=b.sibling}if(c&&!d&&0!=(1&u.mode))for(var w=(ro=u).child;null!==w;){for(u=ro=w;null!==ro;){var x=(n=ro).child;switch(n.tag){case 0:case 11:case 14:case 15:ao(2,n,n.return);break;case 1:io(n,n.return);var E=n.stateNode;if("function"==typeof E.componentWillUnmount){var S=n.return;try{E.props=n.memoizedProps,E.state=n.memoizedState,E.componentWillUnmount()}catch(e){gl(n,S,e)}}break;case 5:io(n,n.return);break;case 22:if(null!==n.memoizedState){vo(u);continue}}null!==x?(x.return=n,ro=x):vo(u)}w=w.sibling}}switch(2054&l){case 2:ho(t),t.flags&=-3;break;case 6:ho(t),t.flags&=-3,po(t.alternate,t);break;case 2048:t.flags&=-2049;break;case 2052:t.flags&=-2049,po(t.alternate,t);break;case 4:po(t.alternate,t)}}catch(e){gl(t,t.return,e)}if(null!==(u=t.sibling)){u.return=t.return,ro=u;break}ro=t.return}}}(e,t),rr(Ur),qt=!!Vr,Ur=Vr=null,go(e.current=t,e,n),Ye(),Co=s,yt=i,ko.transition=r):e.current=t}if(zo&&(zo=!1,Bo=e,qo=n),0===(r=e.pendingLanes)&&(Uo=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(t.stateNode),Zo(e,Xe()),Fo)throw Fo=!1,e=Vo,Vo=null,e;0!=(1&qo)&&0!==e.tag&&pl(),0!=(1&(r=e.pendingLanes))?e===$o?Ho++:(Ho=0,$o=e):Ho=0,Ni()}(e)}finally{ko.transition=n,yt=t}return null}function pl(){if(null!==Bo){var e=vt(qo),t=ko.transition,n=yt;try{if(ko.transition=0,yt=e<16?16:e,null===Bo)var r=!1;else{if(e=Bo,Bo=null,(qo=0)!=(6&Co))throw Error(x(331));var i=Co;for(Co|=4,ro=e.current;null!==ro;){var s=ro,a=s.child;if(0!=(16&ro.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(ro=u;null!==ro;){switch((h=ro).tag){case 0:case 11:case 15:ao(4,h,s)}var c=h.child;if(null!==c)c.return=h,ro=c;else for(;null!==ro;){var h,d=(h=ro).sibling,f=h.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5!==t.tag||null!==(n=t.stateNode)&&(delete n[Jr],delete n[ei],delete n[ni],delete n[ri],delete n[ii]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(h),h===u){ro=null;break}if(null!==d){d.return=f,ro=d;break}ro=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling}while((m.sibling=null)!==(m=g))}}ro=s}}if(0!=(1040&s.subtreeFlags)&&null!==a)a.return=s,ro=a;else for(;null!==ro;){if(0!=(1024&(s=ro).flags))switch(s.tag){case 0:case 11:case 15:ao(5,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,ro=y;break}ro=s.return}}var v=e.current;for(ro=v;null!==ro;){var b=(a=ro).child;if(0!=(1040&a.subtreeFlags)&&null!==b)b.return=a,ro=b;else for(a=v;null!==ro;){if(0!=(1024&(o=ro).flags))try{switch(o.tag){case 0:case 11:case 15:oo(5,o)}}catch(e){gl(o,o.return,e)}if(o===a){ro=null;break}var w=o.sibling;if(null!==w){w.return=o.return,ro=w;break}ro=o.return}}if(Co=i,Ni(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{yt=n,ko.transition=t}}}function ml(e,t,n){$i(e,t=Sa(0,t=wa(n,t),1)),t=Qo(),null!==(e=Xo(e,1))&&(dt(e,1,t),Zo(e,t))}function gl(e,t,n){if(3===e.tag)ml(e,e,n);else for(t=e.return;null!==t;){if(3===t.tag){ml(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Uo||!Uo.has(r))){$i(t,e=ka(t,e=wa(n,e),1)),e=Qo(),null!==(t=Xo(t,1))&&(dt(t,1,e),Zo(t,e));break}}t=t.return}}function yl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qo(),e.pingedLanes|=e.suspendedLanes&n,To===e&&(No&n)===n&&(4===Lo||3===Lo&&(130023424&No)===No&&Xe()-Po<500?al(e,0):Ao|=n),Zo(e,t)}function vl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ot,0==(130023424&(ot<<=1))&&(ot=4194304)));var n=Qo();null!==(e=Xo(e,t))&&(dt(e,t,n),Zo(e,n))}function bl(e,t){return We(e,t)}function wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,n,r){return new wl(e,t,n,r)}function El(e){return(e=e.prototype)&&e.isReactComponent}function Sl(e,t){var n=e.alternate;return null===n?((n=xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=3670016&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kl(e,t,n,r,i,s){var a=2;if("function"==typeof(r=e))El(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case C:return Cl(n.children,i,s,t);case P:a=8,i|=4;break;case T:i|=a=8;break;case I:return(e=xl(12,n,t,2|i)).elementType=I,e.lanes=s,e;case L:return(e=xl(13,n,t,i)).elementType=L,e.lanes=s,e;case R:return(e=xl(19,n,t,i)).elementType=R,e.lanes=s,e;case M:return Tl(n,i,s,t);case F:return(e=xl(23,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:a=10;break e;case _:a=9;break e;case D:a=11;break e;case O:a=14;break e;case j:a=16,r=null;break e}throw Error(x(130,null==e?e:typeof e,""))}return(t=xl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Cl(e,t,n,r){return(e=xl(7,e,r,t)).lanes=n,e}function Tl(e,t,n,r){return(e=xl(22,e,r,t)).elementType=M,e.lanes=n,e}function Il(e,t,n){return(e=xl(6,e,null,t)).lanes=n,e}function Nl(e,t,n){return(t=xl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _l(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.mutableSourceEagerHydrationData=null}function Dl(e,t,n,r,i){return e=new _l(e,t,n),1===t?(t=1,!0===i&&(t|=8)):t=0,i=xl(3,null,null,t),(e.current=i).stateNode=e,i.memoizedState={element:null},Bi(i),e}function Ll(e,t,n,r){var i=t.current,s=Qo(),a=Go(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(x(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(bi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}}while(null!==(o=o.return));throw Error(x(171))}if(1===n.tag){var l=n.type;if(bi(l)){n=Ei(n,l,o);break e}}n=o}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=Hi(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),$i(i,t),null!==(e=Yo(i,a,s))&&Ki(e,i,a),a}function Rl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ol(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function jl(e,t){Ol(e,t),(e=e.alternate)&&Ol(e,t)}function Al(e){this._internalRoot=e}function Pl(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)}function Ml(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Fl(e,t,n,r,i){var s,a,o,l=n._reactRootContainer;return l?("function"==typeof i&&(s=i,i=function(){var e=Rl(o);s.call(e)}),Ll(t,o=l,e,i)):(o=l=n._reactRootContainer=function(e,t){if(!t)for(var n;n=e.lastChild;)e.removeChild(n);return t=Dl(e,0,t,0,!1),e[ti]=t.current,Lr(8===e.nodeType?e.parentNode:e),t}(n,r),"function"==typeof i&&(a=i,i=function(){var e=Rl(o);a.call(e)}),il(function(){Ll(t,o,e,i)})),Rl(o)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||gi.current)La=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:za(t),Ns();break;case 5:gs(t);break;case 1:bi(t.type)&&Si(t);break;case 4:ps(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;fi(Li,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(fi(vs,1&vs.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ha(e,t,n):(fi(vs,1&vs.current),null!==(e=Ja(e,t,n))?e.sibling:null);fi(vs,1&vs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(vs,vs.current),r)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n)}return Ja(e,t,n)}(e,t,n);La=0!=(65536&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=vi(t,mi.current);return Fi(t,n),i=Bs(null,t,r,e,i,n),t.flags|=1,t="object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)?(s=!0,Si(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bi(t),i.updater=Zi,ns((t.stateNode=i)._reactInternals=t,r,e,n),Ua(null,t,r,!0,s,n)):(t.tag=0,Ra(null,t,i,n),t.child);case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return El(e)?1:0;if(null!=e){if((e=e.$$typeof)===D)return 11;if(e===O)return 14}return 2}(r),e=Di(r,e),i){case 0:t=Fa(null,t,r,e,n);break e;case 1:t=Va(null,t,r,e,n);break e;case 11:t=Oa(null,t,r,e,n);break e;case 14:t=ja(null,t,r,Di(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Di(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Di(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(x(282));if(r=t.pendingProps,i=t.memoizedState.element,qi(e,t),Qi(t,r,null,n),s=t.stateNode,(r=t.memoizedState.element)===i)Ns(),t=Ja(e,t,n);else{if((i=s.hydrate)&&(xs=Yr(t.stateNode.containerInfo.firstChild),ws=t,i=Es=!0),i){if(null!=(e=s.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],_s.push(s);for(n=ls(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|2048,n=n.sibling}else Ra(e,t,r,n),Ns();t=t.child}return t;case 5:gs(t),null===e&&Cs(t);var r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children;return Br(r,i)?a=null:null!==s&&Br(r,s)&&(t.flags|=32),Ma(e,t),Ra(e,t,a,n),t.child;case 6:return null===e&&Cs(t),null;case 13:return Ha(e,t,n);case 4:return ps(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=os(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Oa(e,t,r,i=t.elementType===r?i:Di(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,fi(Li,r._currentValue),r._currentValue=a,null!==s)if(Xn(s.value,a)){if(s.children===i.children&&!gi.current){t=Ja(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o)for(var l,u,a=s.child,c=o.firstContext;null!==c;){if(c.context===r){1===s.tag&&((c=Hi(-1,n&-n)).tag=2,null!==(l=s.updateQueue)&&(null===(u=(l=l.shared).pending)?c.next=c:(c.next=u.next,u.next=c),l.pending=c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Mi(s.return,n),o.lanes|=n;break}c=c.next}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(x(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Mi(a,n),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fi(t,n),r=r(i=Vi(i)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return i=Di(r=t.type,t.pendingProps),ja(e,t,r,i=Di(r.type,i),n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Di(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bi(r)?(e=!0,Si(t)):e=!1,Fi(t,n),es(t,r,i),ns(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return Za(e,t,n);case 22:case 23:return Pa(e,t,n)}throw Error(x(156,t.tag))},Al.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},Al.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,function(){t[ti]=null})},bt=function(e){switch(e.tag){case 3:var t,n=e.stateNode;!n.hydrate||0!==(t=lt(n.pendingLanes))&&(ft(n,1|t),Zo(n,Xe()),0==(6&Co)&&(Mo=Xe()+500,Ni()));break;case 13:var r=Qo();il(function(){return Yo(e,1,r)}),jl(e,1)}},wt=function(e){13===e.tag&&(Yo(e,1,Qo()),jl(e,1))},xt=function(e){13===e.tag&&(Yo(e,134217728,Qo()),jl(e,134217728))},Et=function(e){var t,n;13===e.tag&&(t=Qo(),Yo(e,n=Go(e),t),jl(e,n))},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=li(r);if(!i)throw Error(x(90));Y(r),te(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Le=il;l={Events:[ai,oi,li,Ne,_e,De=rl]},r={findFiberByHostInstance:si,bundleType:0,version:"18.0.0-fd5e01c2e-20210913",rendererPackageName:"react-dom"},E={bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:r.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,getIsStrictMode:null,reconcilerVersion:"18.0.0-fd5e01c2e-20210913"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r.isDisabled&&r.supportsFiber)try{it=r.inject(E),st=r}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pl(t))throw Error(x(200));return function(e,t,n,r){return{$$typeof:k,key:null==(r=3<arguments.length&&void 0!==r?r:null)?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ml(e))throw Error(x(299));var n=null!=t&&null!=t.hydrationOptions&&t.hydrationOptions.mutableSources||null;if(t=Dl(e,1,null!=t&&!0===t.hydrate,null!=t&&t.hydrationOptions,null!=t&&!0===t.unstable_strictMode),e[ti]=t.current,Lr(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++)Ls(t,n[e]);return new Al(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0!==t)return e=null===(e=Ke(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(x(188));throw Error(x(268,Object.keys(e)))},t.flushSync=il,t.hydrate=function(e,t,n){if(!Ml(t))throw Error(x(200));return Fl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pl(e))throw Error(x(405));var r=null!=n&&n.hydratedSources||null;if(n=Dl(e,1,!0,0,null!=n&&!0===n.unstable_strictMode),e[ti]=n.current,Lr(e),r)for(e=0;e<r.length;e++)Ls(n,r[e]);return Ll(t,n,null,null),new Al(n)},t.render=function(e,t,n){if(!Ml(t))throw Error(x(200));return Fl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ml(e))throw Error(x(40));return!!e._reactRootContainer&&(il(function(){Fl(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0)},t.unstable_batchedUpdates=rl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ml(n))throw Error(x(200));if(null==e||void 0===e._reactInternals)throw Error(x(38));return Fl(e,t,n,!1,r)},t.version="18.0.0-fd5e01c2e-20210913"},935:(e,t,n)=>{"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=n(448)},852:function(e,t,n){var r;e.exports=(r=n(294),function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),l=r(n(8)),i=r(n(2)),a=n(10),s=r(n(3)),u=r(n(6)),c=function(e){return e.query||(0,s.default)(e)},h=function(n){if(!n)return null;var e=Object.keys(n);return 0===e.length?null:e.reduce(function(e,t){return e[(0,i.default)(t)]=n[t],e},{})},d=function(){var e=o.default.useRef(!1);return o.default.useEffect(function(){e.current=!0},[]),e.current},f=function(e){function t(){return h(e)||h(n)||{}}var n=o.default.useContext(u.default),r=o.default.useState(t),i=r[0],s=r[1];return o.default.useEffect(function(){var e=t();(0,a.shallowEqualObjects)(i,e)||s(e)},[e,n]),i},p=function(e){function t(){return c(e)}var n=o.default.useState(t),r=n[0],i=n[1];return o.default.useEffect(function(){var e=t();r!==e&&i(e)},[e]),r},m=function(e,t){function n(){return(0,l.default)(e,t)}var r=o.default.useState(n),i=r[0],s=r[1],a=d();return o.default.useEffect(function(){if(a){var e=n();return s(e),function(){e&&e.dispose()}}},[e,t]),i},g=function(t){var e=o.default.useState(t.matches),n=e[0],r=e[1];return o.default.useEffect(function(){function e(){r(t.matches)}return t.addListener(e),e(),function(){t.removeListener(e)}},[t]),n};t.default=function(e,t,n){t=f(t),e=p(e);if(!e)throw new Error("Invalid or missing MediaQuery!");var r=m(e,t),i=g(r),s=d();return o.default.useEffect(function(){s&&n&&n(i)},[i]),o.default.useEffect(function(){return function(){r&&r.dispose()}},[]),i}},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0});var i=/[A-Z]/g,s=/^ms-/,a={};t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(i,r);return a[e]=s.test(t)?"-"+t:t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),s=r(n(11)),a=function(e){return"not "+e},o=function(e,t){e=(0,i.default)(e);return"number"==typeof t&&(t+="px"),!0===t?e:!1===t?a(e):"("+e+": "+t+")"},l=function(e){return e.join(" and ")};t.default=function(n){var r=[];return Object.keys(s.default.all).forEach(function(e){var t=n[e];null!=t&&r.push(o(e,t))}),l(r)}},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});n=r(n(1)).default.createContext({});t.default=n},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n(0));t.useMediaQuery=i.default;i=r(n(17));t.default=i.default;i=r(n(3));t.toQuery=i.default;n=r(n(6));t.Context=n.default},function(e,t,n){"use strict";function r(e,t,n){function r(e){s.matches=e.matches,s.media=e.media}var i,s=this;o&&!n?(i=o.call(window,e),this.matches=i.matches,this.media=i.media,i.addListener(r)):(this.matches=a(e,t),this.media=e),this.addListener=function(e){i&&i.addListener(e)},this.removeListener=function(e){i&&i.removeListener(e)},this.dispose=function(){i&&i.removeListener(r)}}var a=n(9).match,o="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,n){return new r(e,t,n)}},function(e,t,n){"use strict";function r(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(i),n=t[1],r=t[2],e=t[3]||"",t={};return t.inverse=!!n&&"not"===n.toLowerCase(),t.type=r?r.toLowerCase():"all",e=e.match(/\([^\)]+\)/g)||[],t.expressions=e.map(function(e){var t=e.match(s),e=t[1].toLowerCase().match(u);return{modifier:e[1],feature:e[2],value:t[2]}}),t})}function a(e){var t=Number(e);return t=!t?(e=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/e[2]:t}function o(e){var t=parseFloat(e);switch(String(e).match(h)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function l(e){var t=parseFloat(e);switch(String(e).match(c)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,s){return r(e).some(function(e){var t=e.inverse,n="all"===e.type||s.type===e.type;if(n&&t||!n&&!t)return!1;e=e.expressions.every(function(e){var t=e.feature,n=e.modifier,r=e.value,i=s[t];if(!i)return!1;switch(t){case"orientation":case"scan":return i.toLowerCase()===r.toLowerCase();case"width":case"height":case"device-width":case"device-height":r=l(r),i=l(i);break;case"resolution":r=o(r),i=o(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":r=a(r),i=a(i);break;case"grid":case"color":case"color-index":case"monochrome":r=parseInt(r,10)||1,i=parseInt(i,10)||0}switch(n){case"min":return r<=i;case"max":return i<=r;default:return i===r}});return e&&!t||!e&&t})},t.parse=r;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"shallowEqualArrays",function(){return i}),n.d(t,"shallowEqualObjects",function(){return r})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(12)),o=a.default.oneOfType([a.default.string,a.default.number]),s={all:a.default.bool,grid:a.default.bool,aural:a.default.bool,braille:a.default.bool,handheld:a.default.bool,print:a.default.bool,projection:a.default.bool,screen:a.default.bool,tty:a.default.bool,tv:a.default.bool,embossed:a.default.bool},n={orientation:a.default.oneOf(["portrait","landscape"]),scan:a.default.oneOf(["progressive","interlace"]),aspectRatio:a.default.string,deviceAspectRatio:a.default.string,height:o,deviceHeight:o,width:o,deviceWidth:o,color:a.default.bool,colorIndex:a.default.bool,monochrome:a.default.bool,resolution:o,type:Object.keys(s)},i=i(n,["type"]),o=r({minAspectRatio:a.default.string,maxAspectRatio:a.default.string,minDeviceAspectRatio:a.default.string,maxDeviceAspectRatio:a.default.string,minHeight:o,maxHeight:o,minDeviceHeight:o,maxDeviceHeight:o,minWidth:o,maxWidth:o,minDeviceWidth:o,maxDeviceWidth:o,minColor:a.default.number,maxColor:a.default.number,minColorIndex:a.default.number,maxColorIndex:a.default.number,minMonochrome:a.default.number,maxMonochrome:a.default.number,minResolution:o,maxResolution:o},i),i=r(r({},s),o);t.default={all:i,types:s,matchers:n,features:o}},function(e,t,n){var r=n(4);e.exports=n(14)(r.isElement,!0)},function(e,t,n){"use strict";function r(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:var n=e.type;switch(n){case f:case p:case l:case c:case u:case g:return n;default:var r=n&&n.$$typeof;switch(r){case d:case m:case b:case v:case h:return r;default:return t}}case o:return t}}}function i(e){return r(e)===p}var s,a,o,l,u,c,h,d,f,p,m,g,y,v,b,w,x,E,S,k,C,T,I,N,_,D,L,R,O,j,A;s="function"==typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103,o=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,u=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,h=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,f=s?Symbol.for("react.async_mode"):60111,p=s?Symbol.for("react.concurrent_mode"):60111,m=s?Symbol.for("react.forward_ref"):60112,g=s?Symbol.for("react.suspense"):60113,y=s?Symbol.for("react.suspense_list"):60120,v=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116,w=s?Symbol.for("react.block"):60121,x=s?Symbol.for("react.fundamental"):60117,E=s?Symbol.for("react.responder"):60118,S=s?Symbol.for("react.scope"):60119,k=p,C=d,T=h,I=a,N=m,_=l,D=b,L=v,R=o,O=c,j=u,s=g,A=!1,t.AsyncMode=f,t.ConcurrentMode=k,t.ContextConsumer=C,t.ContextProvider=T,t.Element=I,t.ForwardRef=N,t.Fragment=_,t.Lazy=D,t.Memo=L,t.Portal=R,t.Profiler=O,t.StrictMode=j,t.Suspense=s,t.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),i(e)||r(e)===f},t.isConcurrentMode=i,t.isContextConsumer=function(e){return r(e)===d},t.isContextProvider=function(e){return r(e)===h},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return r(e)===m},t.isFragment=function(e){return r(e)===l},t.isLazy=function(e){return r(e)===b},t.isMemo=function(e){return r(e)===v},t.isPortal=function(e){return r(e)===o},t.isProfiler=function(e){return r(e)===c},t.isStrictMode=function(e){return r(e)===u},t.isSuspense=function(e){return r(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===p||e===c||e===u||e===g||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===v||e.$$typeof===h||e.$$typeof===d||e.$$typeof===m||e.$$typeof===x||e.$$typeof===E||e.$$typeof===S||e.$$typeof===w)},t.typeOf=r},function(e,t,n){"use strict";function r(){return null}var u=n(4),m=n(15),g=n(5),i=n(16),y=Function.call.bind(Object.prototype.hasOwnProperty),v=function(e){e="Warning: "+e;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(e){}};e.exports=function(s,h){function d(e){this.message=e,this.stack=""}function n(l){function e(e,t,n,r,i,s,a){if(r=r||p,s=s||n,a!==g){if(h){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}"undefined"==typeof console||!u[o=r+":"+n]&&c<3&&(v("You are manually calling a React.PropTypes validation function for the `"+s+"` prop on `"+r+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),u[o]=!0,c++)}return null==t[n]?e?new d(null===t[n]?"The "+i+" `"+s+"` is marked as required in `"+r+"`, but its value is `null`.":"The "+i+" `"+s+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:l(t,n,r,i,s)}var u={},c=0,t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function e(a){return n(function(e,t,n,r,i,s){return c(t=e[t])!==a?new d("Invalid "+r+" `"+i+"` of type `"+f(t)+"` supplied to `"+n+"`, expected `"+a+"`."):null})}function a(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(a);if(null===e||s(e))return!0;var t=function(e){if("function"==typeof(e=e&&(o&&e[o]||e[l])))return e}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!a(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!a(i[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(e=e,"symbol"===t||e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)?"symbol":t)}function f(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var o="function"==typeof Symbol&&Symbol.iterator,l="@@iterator",p="<<anonymous>>",t={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(r),arrayOf:function(l){return n(function(e,t,n,r,i){if("function"!=typeof l)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=e[t];if(!Array.isArray(s))return new d("Invalid "+r+" `"+i+"` of type `"+c(s)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<s.length;a++){var o=l(s,a,n,r,i+"["+a+"]",g);if(o instanceof Error)return o}return null})},element:n(function(e,t,n,r,i){return t=e[t],s(t)?null:new d("Invalid "+r+" `"+i+"` of type `"+c(t)+"` supplied to `"+n+"`, expected a single ReactElement.")}),elementType:n(function(e,t,n,r,i){return t=e[t],u.isValidElementType(t)?null:new d("Invalid "+r+" `"+i+"` of type `"+c(t)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(a){return n(function(e,t,n,r,i){if(e[t]instanceof a)return null;var s=a.name||p;return new d("Invalid "+r+" `"+i+"` of type `"+((t=e[t]).constructor&&t.constructor.name?t.constructor.name:p)+"` supplied to `"+n+"`, expected instance of `"+s+"`.")})},node:n(function(e,t,n,r,i){return a(e[t])?null:new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(l){return n(function(e,t,n,r,i){if("function"!=typeof l)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s,a=e[t];if("object"!==(t=c(a)))return new d("Invalid "+r+" `"+i+"` of type `"+t+"` supplied to `"+n+"`, expected an object.");for(s in a)if(y(a,s)){var o=l(a,s,n,r,i+"."+s,g);if(o instanceof Error)return o}return null})},oneOf:function(u){return Array.isArray(u)?n(function(e,t,n,r,i){for(var s,a,o=e[t],l=0;l<u.length;l++)if(s=o,a=u[l],s===a?0!==s||1/s==1/a:s!=s&&a!=a)return null;return t=JSON.stringify(u,function(e,t){return"symbol"===f(t)?String(t):t}),new d("Invalid "+r+" `"+i+"` of value `"+String(o)+"` supplied to `"+n+"`, expected one of "+t+".")}):(v(1<arguments.length?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)},oneOfType:function(a){if(!Array.isArray(a))return v("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var e=0;e<a.length;e++){var t=a[e];if("function"!=typeof t)return v("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+function(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}(t)+" at index "+e+"."),r}return n(function(e,t,n,r,i){for(var s=0;s<a.length;s++)if(null==(0,a[s])(e,t,n,r,i,g))return null;return new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")})},shape:function(l){return n(function(e,t,n,r,i){var s,a=e[t];if("object"!==(t=c(a)))return new d("Invalid "+r+" `"+i+"` of type `"+t+"` supplied to `"+n+"`, expected `object`.");for(s in l){var o=l[s];if(o){o=o(a,s,n,r,i+"."+s,g);if(o)return o}}return null})},exact:function(u){return n(function(e,t,n,r,i){var s,a=e[t],o=c(a);if("object"!==o)return new d("Invalid "+r+" `"+i+"` of type `"+o+"` supplied to `"+n+"`, expected `object`.");for(s in m({},e[t],u)){var l=u[s];if(!l)return new d("Invalid "+r+" `"+i+"` key `"+s+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(u),null,"  "));l=l(a,s,n,r,i+"."+s,g);if(l)return l}return null})}};return d.prototype=Error.prototype,t.checkPropTypes=i,t.resetWarningCache=i.resetWarningCache,t.PropTypes=t}},function(e,t,n){"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var s in n=Object(arguments[i]))u.call(n,s)&&(r[s]=n[s]);if(l)for(var a=l(n),o=0;o<a.length;o++)c.call(n,a[o])&&(r[a[o]]=n[a[o]])}return r}},function(e,t,n){"use strict";function r(e,t,n,r,i){for(var s in e)if(c(e,s)){var a;try{if("function"!=typeof e[s]){var o=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.");throw o.name="Invariant Violation",o}a=e[s](t,s,r,n,null,l)}catch(e){a=e}!a||a instanceof Error||h((r||"React class")+": type specification of "+n+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in u)&&(u[a.message]=!0,s=i?i():"",h("Failed "+n+" type: "+a.message+(null!=s?s:"")))}}var l=n(5),u={},c=Function.call.bind(Object.prototype.hasOwnProperty),h=function(e){e="Warning: "+e;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(e){}};r.resetWarningCache=function(){u={}},e.exports=r},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(0));t.default=function(e){var t=e.children,n=e.device,r=e.onChange,e=i(e,["children","device","onChange"]),r=(0,s.default)(e,n,r);return"function"==typeof t?t(r):r?t:null}}]))},343:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TLoginButton=t.TLoginButtonSize=void 0;var l=o(n(851)),u=n(851);(n=t.TLoginButtonSize||(t.TLoginButtonSize={})).Large="large",n.Medium="medium",n.Small="small";var c,i=(c=u.Component,i(h,c),h.prototype.componentDidMount=function(){var e=this.props,t=e.botName,n=e.buttonSize,r=e.cornerRadius,i=e.requestAccess,s=e.usePic,a=e.onAuthCallback,o=e.redirectUrl,l=e.lang;null!=a&&(window.TelegramOnAuthCb=function(e){return a(e)});e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?10",e.async=!0,e.setAttribute("data-telegram-login",t),null!=n&&e.setAttribute("data-size",n),null!=n&&e.setAttribute("data-radius",""+r),null!=s&&e.setAttribute("data-userpic",""+s),null!=l&&e.setAttribute("data-lang",l),null!=o&&e.setAttribute("data-auth-url",o),null!=a&&e.setAttribute("data-onauth","TelegramOnAuthCb(user)"),null!=i&&e.setAttribute("data-request-access",i),this._containerRef.current.appendChild(e)},h.prototype.render=function(){return l.createElement("div",{className:"tlogin-button",ref:this._containerRef})},h);function h(){var e=null!==c&&c.apply(this,arguments)||this;return e._containerRef=u.createRef(),e}t.TLoginButton=i},696:(e,t,n)=>{"use strict";var c=n(418),r="function"==typeof Symbol&&Symbol.for,h=r?Symbol.for("react.element"):60103,u=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,n=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;r=x.prototype=new w;r.constructor=x,c(r,b.prototype),r.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:h,type:e,key:s,ref:a,props:i,_owner:E.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var I=/\/+/g,N=[];function _(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,N.length<10&&N.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=!1;if(null===(t="undefined"==(o=typeof t)||"boolean"===o?null:t))s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case h:case u:s=!0}}if(s)return r(i,t,""===n?"."+R(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){var o,l=n+R(o=t[a],a);s+=e(o,l,r,i)}else if("function"==typeof(l=null!==t&&"object"==typeof t&&"function"==typeof(l=m&&t[m]||t["@@iterator"])?l:null))for(t=l.call(t),a=0;!(o=t.next()).done;)s+=e(o=o.value,l=n+R(o,a++),r,i);else if("object"===o)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=e.key,n={"=":"=0",":":"=2"},"$"+(""+e).replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function O(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?A(e,r,n,function(e){return e}):null!=e&&(T(e)&&(n=i+(!(i=e).key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n,e={$$typeof:h,type:i.type,key:n,ref:i.ref,props:i.props,_owner:i._owner}),r.push(e))}function A(e,t,n,r,i){var s="";L(e,j,t=_(t,s=null!=n?(""+n).replace(I,"$&/")+"/":s,r,i)),D(t)}var P={current:null};function M(){var e=P.current;if(null===e)throw Error(g(321));return e}r={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:c};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return A(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,O,t=_(null,null,t,n)),D(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return A(e,t,null,function(e){return e}),t},only:function(e){if(!T(e))throw Error(g(143));return e}},t.Component=b,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=n,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var r=c({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)S.call(t,o)&&!k.hasOwnProperty(o)&&(r[o]=(void 0===t[o]&&void 0!==l?l:t)[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:h,type:e.type,key:i,ref:s,props:r,_owner:a}},t.createContext=function(e,t){return(e={$$typeof:l,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="16.14.0"},851:(e,t,n)=>{"use strict";e.exports=n(696)},251:(e,t,n)=>{"use strict";n(418);var r=n(294),o=60103;t.Fragment=60107,"function"==typeof Symbol&&Symbol.for&&(o=(n=Symbol.for)("react.element"),t.Fragment=n("react.fragment"));var l=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,n){var r,i={},s=null,a=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:u.current}}t.jsx=i,t.jsxs=i},408:(e,t,n)=>{"use strict";var c=n(418),h=60103,d=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var r=60109,i=60110,s=60112;t.Suspense=60113,t.SuspenseList=60120;var a=60115,o=60116;"function"==typeof Symbol&&Symbol.for&&(h=(v=Symbol.for)("react.element"),d=v("react.portal"),t.Fragment=v("react.fragment"),t.StrictMode=v("react.strict_mode"),t.Profiler=v("react.profiler"),r=v("react.provider"),i=v("react.context"),s=v("react.forward_ref"),t.Suspense=v("react.suspense"),t.SuspenseList=v("react.suspense_list"),a=v("react.memo"),o=v("react.lazy"));var f="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u={};function m(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var v=y.prototype=new g;v.constructor=y,c(v,m.prototype),v.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:h,type:e,key:s,ref:a,props:i,_owner:x.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var C=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function I(e,t,n,r,i){var s,a,o=!1;if(null===(e="undefined"===(u=typeof e)||"boolean"===u?null:e))o=!0;else switch(u){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case h:case d:o=!0}}if(o)return i=i(o=e),e=""===r?"."+T(o,0):r,b(i)?(n="",I(i,t,n=null!=e?e.replace(C,"$&/")+"/":n,"",function(e){return e})):null!=i&&(k(i)&&(s=n+(!(a=i).key||o&&o.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e,i={$$typeof:h,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}),t.push(i)),1;if(o=0,r=""===r?".":r+":",b(e))for(var l=0;l<e.length;l++){var u,c=r+T(u=e[l],l);o+=I(u,t,n,c,i)}else if("function"==typeof(c=null!==(a=e)&&"object"==typeof a&&"function"==typeof(a=f&&a[f]||a["@@iterator"])?a:null))for(e=c.call(e),l=0;!(u=e.next()).done;)o+=I(u=u.value,t,n,c=r+T(u,l++),i);else if("object"===u)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function _(t){var e;if(-1===t._status&&((e=(e=t._result)()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)),1===t._status)return t._result.default;throw t._result}var D={current:null},L={transition:0},v={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:x,assign:c};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var r=c({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)w.call(t,o)&&!E.hasOwnProperty(o)&&(r[o]=(void 0===t[o]&&void 0!==l?l:t)[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:h,type:e.type,key:i,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:o,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:a,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition=1;try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error(p(406))},t.unstable_createMutableSource=function(e,t){return{_getVersion:t,_source:e,_workInProgressVersionPrimary:null,_workInProgressVersionSecondary:null}},t.unstable_useMutableSource=function(e,t,n){return D.current.useMutableSource(e,t,n)},t.unstable_useOpaqueIdentifier=function(){return D.current.useOpaqueIdentifier()},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fd5e01c2e-20210913"},294:(e,t,n)=>{"use strict";e.exports=n(408)},893:(e,t,n)=>{"use strict";e.exports=n(251)},53:(e,o)=>{"use strict";function s(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(!(0<c(i,t)))break;e[r]=t,e[n]=i,n=r}}function l(e){return 0===e.length?null:e[0]}function u(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,o=e[a],l=1+a,u=e[l];if(c(o,n)<0)r=l<i&&c(u,o)<0?(e[r]=u,e[l]=n,l):(e[r]=o,e[a]=n,a);else{if(!(l<i&&c(u,n)<0))break;e[r]=u,e[l]=n,r=l}}}return t}}function c(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}var t,n,r;"object"==typeof performance&&"function"==typeof performance.now?(t=performance,o.unstable_now=function(){return t.now()}):(n=Date,r=n.now(),o.unstable_now=function(){return n.now()-r});var h=[],d=[],a=1,f=null,p=3,m=!1,g=!1,y=!1,i="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=l(d);null!==t;){if(null===t.callback)u(d);else{if(!(t.startTime<=e))break;u(d),t.sortIndex=t.expirationTime,s(h,t)}t=l(d)}}function x(e){var t;y=!1,w(e),g||(null!==l(h)?(g=!0,O(E)):null!==(t=l(d))&&j(x,t.startTime-e))}function E(e,t){g=!1,y&&(y=!1,v(N),N=-1),m=!0;var n=p;try{for(w(t),f=l(h);null!==f&&(!(f.expirationTime>t)||e&&!L());){var r,i=f.callback;"function"==typeof i?(f.callback=null,p=f.priorityLevel,r=i(f.expirationTime<=t),t=o.unstable_now(),"function"==typeof r?f.callback=r:f===l(h)&&u(h),w(t)):u(h),f=l(h)}var s,a=null!==f||(null!==(s=l(d))&&j(x,s.startTime-t),!1);return a}finally{f=null,p=n,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k,C,T=!1,I=null,N=-1,_=5,D=-1;function L(){return!(o.unstable_now()-D<_)}function R(){if(null!==I){var e=o.unstable_now();D=e;var t=!0;try{t=I(!0,e)}finally{t?S():(T=!1,I=null)}}else T=!1}function O(e){I=e,T||(T=!0,S())}function j(e,t){N=i(function(){e(o.unstable_now())},t)}S="function"==typeof b?function(){b(R)}:"undefined"!=typeof MessageChannel?(k=new MessageChannel,C=k.port2,k.port1.onmessage=R,function(){C.postMessage(null)}):function(){i(R,0)},o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(e){e.callback=null},o.unstable_continueExecution=function(){g||m||(g=!0,O(E))},o.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},o.unstable_getCurrentPriorityLevel=function(){return p},o.unstable_getFirstCallbackNode=function(){return l(h)},o.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},o.unstable_scheduleCallback=function(e,t,n){var r=o.unstable_now();switch(n="object"==typeof n&&null!==n?"number"==typeof(n=n.delay)&&0<n?r+n:r:r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:a++,callback:t,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},r<n?(e.sortIndex=n,s(d,e),null===l(h)&&e===l(d)&&(y?(v(N),N=-1):y=!0,j(x,n-r))):(e.sortIndex=i,s(h,e),g||m||(g=!0,O(E))),e},o.unstable_shouldYield=L,o.unstable_wrapCallback=function(t){var n=p;return function(){var e=p;p=n;try{return t.apply(this,arguments)}finally{p=e}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},r={};function Df(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e].call(t.exports,t,t.exports,Df),t.exports}Df.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return Df.d(t,{a:t}),t},Df.d=(e,t)=>{for(var n in t)Df.o(t,n)&&!Df.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Df.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),Df.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);(()=>{"use strict";var g=Df(294),l=Df(935);function e(n){const r=[];let i=0;for(let t=0;t<n.length;t++){let e=n.charCodeAt(t);e<128?r[i++]=e:(e<2048?r[i++]=e>>6|192:(55296==(64512&e)&&t+1<n.length&&56320==(64512&n.charCodeAt(t+1))?(e=65536+((1023&e)<<10)+(1023&n.charCodeAt(++t)),r[i++]=e>>18|240,r[i++]=e>>12&63|128):r[i++]=e>>12|224,r[i++]=e>>6&63|128),r[i++]=63&e|128)}return r}class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(n){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof n&&(this.promise.catch(()=>{}),1===n.length?n(e):n(e,t))}}}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function t(){return!function(){try{return"[object process]"===Object.prototype.toString.call(Df.g.process)}catch(e){return}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s.prototype.create)}}class s{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var r,n=t[0]||{},t=this.service+"/"+e,e=this.errors[e],e=e?(r=n,e.replace(a,(e,t)=>{var n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${t}).`;return new i(t,e,n)}}const a=/\{\$([^}]+)}/g;function u(e,t){if(e===t)return 1;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return;var i=e[a],s=t[a];if(c(i)&&c(s)){if(!u(i,s))return}else if(i!==s)return}for(const o of r)if(!n.includes(o))return;return 1}function c(e){return null!==e&&"object"==typeof e}var h;function f(e){return e&&e._delegate?e._delegate:e}class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const p="[DEFAULT]";class n{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){e=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(e)){const n=new r;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var t=this.getOrInitializeService({instanceIdentifier:e});t&&n.resolve(t)}catch(e){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),t=null!==(t=null==t?void 0:t.optional)&&void 0!==t&&t;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(e){if(t)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:p})}catch(e){}for(var[t,n]of this.instancesDeferred.entries()){t=this.normalizeInstanceIdentifier(t);try{var r=this.getOrInitializeService({instanceIdentifier:t});n.resolve(r)}catch(e){}}}}clearInstance(e=p){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=p){return this.instances.has(e)}getOptions(e=p){return this.instancesOptions.get(e)||{}}initialize(e={}){var{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(this.name+`(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);var r,i,s=this.getOrInitializeService({instanceIdentifier:n,options:t});for([r,i]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(r)&&i.resolve(s);return s}onInit(e,t){var n=this.normalizeInstanceIdentifier(t);const r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;r.add(e),this.onInitCallbacks.set(n,r);t=this.instances.get(n);return t&&e(t,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){var n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===p?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=p){return!this.component||this.component.multipleInstances?e:p}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with `+this.name);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);var t=new n(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const y=[];(Ct=h=h||{})[Ct.DEBUG=0]="DEBUG",Ct[Ct.VERBOSE=1]="VERBOSE",Ct[Ct.INFO=2]="INFO",Ct[Ct.WARN=3]="WARN",Ct[Ct.ERROR=4]="ERROR",Ct[Ct.SILENT=5]="SILENT";const v={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},b=h.INFO,w={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},x=(e,t,...n)=>{if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=w[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)}};class E{constructor(e){this.name=e,this._logLevel=b,this._logHandler=x,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?v[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}class S{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(function(e){e=e.getComponent();return"VERSION"===(null==e?void 0:e.type)}(e)){e=e.getImmediate();return e.library+"/"+e.version}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",C=new E("@firebase/app");var T;const I="[DEFAULT]",N={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_=new Map,D=new Map;function L(e){var t=e.name;if(!D.has(t)){D.set(t,e);for(const n of _.values())!function(t,n){try{t.container.addComponent(n)}catch(e){C.debug(`Component ${n.name} failed to register with FirebaseApp `+t.name,e)}}(n,e);return 1}C.debug(`There were multiple attempts to register component ${t}.`)}function R(e,t){return e.container.getProvider(t)}const O=new s("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class j{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw O.create("app-deleted",{appName:this._name})}}function A(e,t,n){var r;let i=null!==(r=N[e])&&void 0!==r?r:e;n&&(i+="-"+n);e=i.match(/\s|\//),n=t.match(/\s|\//);if(e||n){const s=[`Unable to register library "${i}" with version "${t}":`];return e&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),e&&n&&s.push("and"),n&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void C.warn(s.join(" "))}L(new o(i+"-version",()=>({library:i,version:t}),"VERSION"))}T="",L(new o("platform-logger",e=>new S(e),"PRIVATE")),A(k,"0.7.6",T),A(k,"0.7.6","esm2017"),A("fire-js","");var P,M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Df.g?Df.g:"undefined"!=typeof self?self:{},F={},V={},U=M||self;function z(){}function B(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function q(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var H="closure_uid_"+(1e9*Math.random()>>>0),$=0;function K(e,t,n){return e.call.apply(e.bind,arguments)}function W(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function Q(e,t,n){return(Q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?K:W).apply(null,arguments)}function G(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Y(e,s){function t(){}t.prototype=s.prototype,e.Z=s.prototype,e.prototype=new t,(e.prototype.constructor=e).Vb=function(e,t,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return s.prototype[t].apply(e,r)}}function X(){this.s=this.s,this.o=this.o}var Z={};X.prototype.s=!1,X.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,H)&&e[H]||(e[H]=++$),delete Z[e])},X.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(let e=0;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},ee=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,r){var i=t.length,s="string"==typeof t?t.split(""):t;for(let e=0;e<i;e++)e in s&&n.call(r,s[e],e,t)};function te(){return Array.prototype.concat.apply([],arguments)}function ne(t){var n=t.length;if(0<n){const r=Array(n);for(let e=0;e<n;e++)r[e]=t[e];return r}return[]}function re(e){return/^[\s\xa0]*$/.test(e)}var ie,se=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ae(e,t){return-1!=e.indexOf(t)}function oe(e,t){return e<t?-1:t<e?1:0}e:{var le=U.navigator;if(le){le=le.userAgent;if(le){ie=le;break e}}ie=""}function ue(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ce(e){const t={};for(const n in e)t[n]=e[n];return t}var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(t){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e])t[n]=r[n];for(let e=0;e<he.length;e++)n=he[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fe(e){return fe[" "](e),e}fe[" "]=z;var pe,me=ae(ie,"Opera"),ge=ae(ie,"Trident")||ae(ie,"MSIE"),ye=ae(ie,"Edge"),ve=ye||ge,be=ae(ie,"Gecko")&&!(ae(ie.toLowerCase(),"webkit")&&!ae(ie,"Edge"))&&!(ae(ie,"Trident")||ae(ie,"MSIE"))&&!ae(ie,"Edge"),we=ae(ie.toLowerCase(),"webkit")&&!ae(ie,"Edge");function xe(){var e=U.document;return e?e.documentMode:void 0}e:{var Ee="",Se=(Se=ie,be?/rv:([^\);]+)(\)|;)/.exec(Se):ye?/Edge\/([\d\.]+)/.exec(Se):ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Se):we?/WebKit\/(\S+)/.exec(Se):me?/(?:Version)[ \/]?(\S+)/.exec(Se):void 0);if(Se&&(Ee=Se?Se[1]:""),ge){Se=xe();if(null!=Se&&Se>parseFloat(Ee)){pe=String(Se);break e}}pe=Ee}var ke={};function Ce(){return e=function(){let t=0;var n=se(String(pe)).split("."),r=se("9").split("."),i=Math.max(n.length,r.length);for(let e=0;0==t&&e<i;e++)for(var s=n[e]||"",a=r[e]||"";s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=s[0].length||0!=a[0].length)&&(t=oe(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||oe(0==s[2].length,0==a[2].length)||oe(s[2],a[2]),s=s[3],a=a[3],0==t););return 0<=t},t=ke,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}var Te=U.document&&ge&&(xe()||parseInt(pe,10))||void 0,Ie=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{U.addEventListener("test",z,t),U.removeEventListener("test",z,t)}catch(e){}return e}();function Ne(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function _e(e,t){if(Ne.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(be){e:{try{fe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:De[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&_e.Z.h.call(this)}}Ne.prototype.h=function(){this.defaultPrevented=!0},Y(_e,Ne);var De={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Re,this.ca=this.fa=!1}function je(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ae(e){this.src=e,this.g={},this.h=0}function Pe(e,t){var n,r,i,s=t.type;s in e.g&&(n=e.g[s],(i=0<=(r=J(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(je(t),0==e.g[s].length&&(delete e.g[s],e.h--)))}function Me(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ae.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Me(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Oe(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Fe="closure_lm_"+(1e6*Math.random()|0),Ve={};function Ue(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}r=We(r);return t&&t[Le]?t.O(n,r,q(i)?!!i.capture:!!i,s):ze(t,n,r,!0,i,s)}(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ue(e,t[s],n,r,i);return null}return n=We(n),e&&e[Le]?e.N(t,n,q(r)?!!r.capture:!!r,i):ze(e,t,n,!1,r,i)}function ze(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a,o=q(i)?!!i.capture:!!i,l=$e(e);if(l||(e[Fe]=l=new Ae(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(a=He,r=function e(t){return a.call(e.src,e.listener,t)},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=!Ie?o:i)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Be(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[Le]?Pe(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$e(t))?(Pe(n,e),0==n.h&&(n.src=null,t[Fe]=null)):je(e)))}function qe(e){return e in Ve?Ve[e]:Ve[e]="on"+e}function He(e,t){var n,r;return e=!!e.ca||(t=new _e(t,this),n=e.listener,r=e.ia||e.src,e.fa&&Be(e),n.call(r,t))}function $e(e){return(e=e[Fe])instanceof Ae?e:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(t){return"function"==typeof t?t:(t[Ke]||(t[Ke]=function(e){return t.handleEvent(e)}),t[Ke])}function Qe(){X.call(this),this.i=new Ae(this),(this.P=this).I=null}function Ge(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new Ne(t,e):t instanceof Ne?t.target=t.target||e:(a=t,de(t=new Ne(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var s=t.g=n[i],a=Ye(s,r,!0,t)&&a;if(a=Ye(s=t.g=e,r,!0,t)&&a,a=Ye(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Ye(s=t.g=n[i],r,!1,t)&&a}function Ye(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a,o,l=t[s];l&&!l.ca&&l.capture==n&&(a=l.listener,o=l.ia||l.src,l.fa&&Pe(e.i,l),i=!1!==a.call(o,r)&&i)}return i&&!r.defaultPrevented}Y(Qe,X),Qe.prototype[Le]=!0,Qe.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else i=q(i)?!!i.capture:!!i,r=We(r),t&&t[Le]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Me(a=t.g[n],r,i,s))&&(je(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):(t=t&&$e(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?Me(n,r,i,s):t)?n[t]:null)&&Be(r))}(this,e,t,n,r)},Qe.prototype.M=function(){if(Qe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)je(n[r]);delete t.g[e],t.h--}}this.I=null},Qe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xe=U.JSON.stringify;var Ze,Je=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new et,e=>e.reset());class et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tt(e,t){var n;Ze||(n=U.Promise.resolve(void 0),Ze=function(){n.then(it)}),nt||(Ze(),nt=!0),rt.add(e,t)}var nt=!1,rt=new class{constructor(){this.h=this.g=null}add(e,t){const n=Je.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function it(){for(var e;e=function(){var e=rt;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}();){try{e.h.call(e.g)}catch(e){!function(e){U.setTimeout(()=>{throw e},0)}(e)}var t=Je;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}nt=!1}function st(e,t){Qe.call(this),this.h=e||1,this.g=t||U,this.j=Q(this.kb,this),this.l=Date.now()}function at(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ot(e,t,n){if("function"==typeof e)n&&(e=Q(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Q(e.handleEvent,e)}return 2147483647<Number(t)?-1:U.setTimeout(e,t||0)}Y(st,Qe),(P=st.prototype).da=!1,P.S=null,P.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(at(this),this.start())))},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){st.Z.M.call(this),at(this),delete this.g};class lt extends X{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ot(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(e){X.call(this),this.h=e,this.g={}}Y(ut,X);var ct=[];function ht(e,t,n,r){Array.isArray(n)||(n&&(ct[0]=n.toString()),n=ct);for(var i=0;i<n.length;i++){var s=Ue(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function dt(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&Be(e)},e),e.g={}}function ft(){this.g=!0}function pt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Xe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}ut.prototype.M=function(){ut.Z.M.call(this),dt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ft.prototype.Aa=function(){this.g=!1},ft.prototype.info=function(){};var mt={},gt=null;function yt(){return gt=gt||new Qe}function vt(e){Ne.call(this,mt.Ma,e)}function bt(){var e=yt();Ge(e,new vt(e))}function wt(e,t){Ne.call(this,mt.STAT_EVENT,e),this.stat=t}function xt(e){var t=yt();Ge(t,new wt(t,e))}function Et(e,t){Ne.call(this,mt.Na,e),this.size=t}function St(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){e()},t)}mt.Ma="serverreachability",Y(vt,Ne),mt.STAT_EVENT="statevent",Y(wt,Ne),mt.Na="timingevent",Y(Et,Ne);var kt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tt(){}function It(e){return e.h||(e.h=e.i())}function Nt(){}Tt.prototype.h=null;M={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _t(){Ne.call(this,"d")}function Dt(){Ne.call(this,"c")}function Lt(){}function Rt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ut(this),this.P=At,this.W=new st(e=ve?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}Y(_t,Ne),Y(Dt,Ne),Y(Lt,Tt),Lt.prototype.g=function(){return new XMLHttpRequest},Lt.prototype.i=function(){return{}};var jt=new Lt,At=45e3,Pt={},Mt={};function Ft(e,t,n){e.K=1,e.v=on(en(t)),e.s=n,e.U=!0,Vt(e,null)}function Vt(e,t){e.F=Date.now(),Bt(e),e.A=en(e.v);var a,o,l,u,c,h,n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ot,e.g=wr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new lt(Q(e.Ia,e,e.g),e.O)),ht(e.V,e.g,"readystatechange",e.gb),t=e.H?ce(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),bt(),a=e.j,o=e.u,l=e.A,u=e.m,c=e.X,h=e.s,a.info(function(){if(a.g)if(h)for(var e="",t=h.split("&"),n=0;n<t.length;n++){var r,i,s=t[n].split("=");1<s.length&&(r=s[0],s=s[1],e=2<=(i=r.split("_")).length&&"type"==i[1]?e+(r+"=")+s+"&":e+(r+"=redacted&"))}else e=null;else e=h;return"XMLHTTP REQ ("+u+") [attempt "+c+"]: "+o+"\n"+l+"\n"+e})}function Ut(e){return e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function zt(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;){if(i=(a=n,l=o=void 0,o=(s=e).C,-1==(l=a.indexOf("\n",o))?Mt:(o=Number(a.substring(o,l)),isNaN(o)?Pt:(l+=1)+o>a.length?Mt:(a=a.substr(l,o),s.C=l+o,a))),i==Mt){4==t&&(e.o=4,xt(14),r=!1),pt(e.j,e.m,null,"[Incomplete Response]");break}if(i==Pt){e.o=4,xt(15),pt(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}pt(e.j,e.m,i,null),Wt(e,i)}var s,a,o,l;Ut(e)&&i!=Mt&&i!=Pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dr(t),t.L=!0,xt(11))):(pt(e.j,e.m,n,"[Invalid Chunked Response]"),Kt(e),$t(e))}function Bt(e){e.Y=Date.now()+e.P,qt(e,e.P)}function qt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=St(Q(e.eb,e),t)}function Ht(e){e.B&&(U.clearTimeout(e.B),e.B=null)}function $t(e){0==e.l.G||e.I||mr(e.l,e)}function Kt(e){Ht(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,at(e.W),dt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||In(n.i,e)))if(n.I=e.N,!e.J&&In(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pr(n),rr(n)}hr(n),xt(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=St(Q(n.ab,n),6e3));if(Tn(n.i)<=1&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else yr(n,11)}else if(!e.J&&n.g!=e||pr(n),!re(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var a=s[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var o=s[4];null!=o&&(n.za=o,n.h.info("SVER="+n.za));var l,u,c,h=s[5];null!=h&&"number"==typeof h&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;m&&(!(l=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(u=r.i).g&&(ae(l,"spdy")||ae(l,"quic")||ae(l,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Nn(u,u.h),u.h=null)),!r.D||(c=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=c,an(r.F,r.D,c))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d,f,p=e;(r=n).oa=br(r,r.H?r.la:null,r.W),p.J?(_n(r.i,p),d=p,(f=r.K)&&d.setTimeout(f),d.B&&(Ht(d),Bt(d)),r.g=p):cr(r),0<n.l.length&&ar(n)}else"stop"!=s[0]&&"close"!=s[0]||yr(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?yr(n,7):nr(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}bt()}catch(e){}}function Qt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(B(e)||"string"==typeof e)ee(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(B(e)||"string"==typeof e)for(var n=[],r=e.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,e)n[r++]=i;for(var i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(B(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Gt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Gt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Yt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){for(var i={},n=t=0;t<e.g.length;)Xt(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function Xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(P=Rt.prototype).setTimeout=function(e){this.P=e},P.gb=function(e){e=e.target;const t=this.L;t&&3==Xn(e)?t.l():this.Ia(e)},P.Ia=function(e){try{if(e==this.g)e:{var t=Xn(this.g),n=this.g.Da();this.g.ba();if(!(t<3)&&(3!=t||ve||this.g&&(this.h.h||this.g.ga()||Zn(this.g)))){this.I||4!=t||7==n||bt(),Ht(this);var r=this.g.ba();this.N=r;t:if(Ut(this)){var i=Zn(this.g);e="";var s=i.length,a=4==Xn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kt(this),$t(this);var o="";break t}this.h.i=new U.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==r,h=this.j,d=this.u,f=this.A,p=this.m,m=this.X,g=t,y=r,h.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+m+"]: "+d+"\n"+f+"\n"+g+" "+y}),this.i){if(this.$&&!this.J){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(l)){var c=l;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,xt(12),Kt(this),$t(this);break e}pt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wt(this,r)}this.U?(zt(this,t,o),ve&&this.i&&3==t&&(ht(this.V,this.W,"tick",this.fb),this.W.start())):(pt(this.j,this.m,o,null),Wt(this,o)),4==t&&Kt(this),this.i&&!this.I&&(4==t?mr(this.l,this):(this.i=!1,Bt(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),Kt(this),$t(this)}}}catch(e){}var h,d,f,p,m,g,y},P.fb=function(){var e,t;this.g&&(e=Xn(this.g),t=this.g.ga(),this.C<t.length&&(Ht(this),zt(this,e,t),this.i&&4!=e&&Bt(this)))},P.cancel=function(){this.I=!0,Kt(this)},P.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.K&&(bt(),xt(17)),Kt(this),this.o=2,$t(this)):qt(this,this.Y-n)},(P=Gt.prototype).R=function(){Yt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},P.T=function(){return Yt(this),this.g.concat()},P.get=function(e,t){return Xt(this.h,e)?this.h[e]:t},P.set=function(e,t){Xt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},P.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Zt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jt(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jt?(this.g=void 0!==t?t:e.g,tn(this,e.j),this.s=e.s,nn(this,e.i),rn(this,e.m),this.l=e.l,t=e.h,(n=new gn).i=t.i,t.g&&(n.g=new Gt(t.g),n.h=t.h),sn(this,n),this.o=e.o):e&&(n=String(e).match(Zt))?(this.g=!!t,tn(this,n[1]||"",!0),this.s=ln(n[2]||""),nn(this,n[3]||"",!0),rn(this,n[4]),this.l=ln(n[5]||"",!0),sn(this,n[6]||"",!0),this.o=ln(n[7]||"")):(this.g=!!t,this.h=new gn(null,this.g))}function en(e){return new Jt(e)}function tn(e,t,n){e.j=n?ln(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nn(e,t,n){e.i=n?ln(t,!0):t}function rn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sn(e,t,n){var r,i;t instanceof gn?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(yn(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(vn(this,t),wn(this,n,e))},r)),r.j=i):(n||(t=un(t,pn)),e.h=new gn(t,e.g))}function an(e,t,n){e.h.set(t,n)}function on(e){return an(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ln(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function un(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,cn),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function cn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(un(t,hn,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(un(t,hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(un(n,"/"==n.charAt(0)?fn:dn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",un(n,mn)),e.join("")};var hn=/[#\/\?@]/g,dn=/[#\?:]/g,fn=/[#\?]/g,pn=/[#\?@]/g,mn=/#/g;function gn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yn(n){n.g||(n.g=new Gt,n.h=0,n.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),s=null;0<=i?(r=e[n].substring(0,i),s=e[n].substring(i+1)):r=e[n],t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vn(e,t){yn(e),t=xn(e,t),Xt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yt(e)))}function bn(e,t){return yn(e),t=xn(e,t),Xt(e.g.h,t)}function wn(e,t,n){vn(e,t),0<n.length&&(e.i=null,e.g.set(xn(e,t),ne(n)),e.h+=n.length)}function xn(e,t){return t=String(t),t=e.j?t.toLowerCase():t}(P=gn.prototype).add=function(e,t){yn(this),this.i=null,e=xn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},P.forEach=function(n,r){yn(this),this.g.forEach(function(e,t){ee(e,function(e){n.call(r,e,t,this)},this)},this)},P.T=function(){yn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},P.R=function(e){yn(this);var t=[];if("string"==typeof e)bn(this,e)&&(t=te(t,this.g.get(xn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=te(t,e[n])}return t},P.set=function(e,t){return yn(this),this.i=null,bn(this,e=xn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},P.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),r=this.R(r),s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}return this.i=e.join("&")};var En=class{constructor(e,t){this.h=e,this.g=t}};function Sn(e){this.l=e||10,e=U.PerformanceNavigationTiming?0<(e=U.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(U.g&&U.g.Ea&&U.g.Ea()&&U.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kn;function Cn(e){return e.h||e.g&&e.g.size>=e.j}function Tn(e){return e.h?1:e.g?e.g.size:0}function In(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function Nn(e,t){e.g?e.g.add(t):e.h=t}function _n(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Dn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null==t.g||0===t.g.size)return ne(t.i);{let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}}function Ln(){}function Rn(){this.g=new Ln}function On(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function jn(e){this.l=e.$b||null,this.j=e.ib||!1}function An(e,t){Qe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sn.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Ln.prototype.stringify=function(e){return U.JSON.stringify(e,void 0)},Ln.prototype.parse=function(e){return U.JSON.parse(e,void 0)},Y(jn,Tt),jn.prototype.g=function(){return new An(this.l,this.j)},jn.prototype.i=(kn={},function(){return kn}),Y(An,Qe);var Pn=0;function Mn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vn(e)}function Vn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(P=An.prototype).open=function(e,t){if(this.readyState!=Pn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vn(this)},P.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||U).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fn(this)),this.readyState=Pn},P.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==U.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},P.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?Fn:Vn)(this),3==this.readyState&&Mn(this))},P.Ua=function(e){this.g&&(this.response=this.responseText=e,Fn(this))},P.Ta=function(e){this.g&&(this.response=e,Fn(this))},P.ha=function(){this.g&&Fn(this)},P.setRequestHeader=function(e,t){this.v.append(e,t)},P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(An.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Un=U.JSON.parse;function zn(e){Qe.call(this),this.headers=new Gt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bn,this.K=this.L=!1}Y(zn,Qe);var Bn="",qn=/^https?$/i,Hn=["POST","PUT"];function $n(e){return"content-type"==e.toLowerCase()}function Kn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wn(e),Gn(e)}function Wn(e){e.D||(e.D=!0,Ge(e,"complete"),Ge(e,"error"))}function Qn(e){if(e.h&&void 0!==V&&(!e.C[1]||4!=Xn(e)||2!=e.ba()))if(e.v&&4==Xn(e))ot(e.Fa,0,e);else if(Ge(e,"readystatechange"),4==Xn(e)){e.h=!1;try{var t,n,r,i,s=e.ba();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break;default:a=!1}if((t=a)||((n=0===s)&&(!(i=String(e.H).match(Zt)[1]||null)&&U.self&&U.self.location&&(i=(r=U.self.location.protocol).substr(0,r.length-1)),n=!qn.test(i?i.toLowerCase():"")),t=n),t)Ge(e,"complete"),Ge(e,"success");else{e.m=6;try{var o=2<Xn(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",Wn(e)}}finally{Gn(e)}}}function Gn(e,t){if(e.g){Yn(e);const n=e.g,r=e.C[0]?z:null;e.g=null,e.C=null,t||Ge(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Yn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(U.clearTimeout(e.A),e.A=null)}function Xn(e){return e.g?e.g.readyState:0}function Zn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Bn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let n="";return ue(e,function(e,t){n+=t,n+=":",n+=e,n+="\r\n"}),n}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):an(e,t,n))}function er(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tr(e){this.za=0,this.l=[],this.h=new ft,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=er("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=er("baseRetryDelayMs",5e3,e),this.$a=er("retryDelaySeedMs",1e4,e),this.Ya=er("forwardChannelMaxRetries",2,e),this.ra=er("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Sn(e&&e.concurrentRequestLimit),this.Ca=new Rn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function nr(e){var t,n;ir(e),3==e.G&&(t=e.V++,an(n=en(e.F),"SID",e.J),an(n,"RID",t),an(n,"TYPE","terminate"),lr(e,n),(t=new Rt(e,e.h,t,void 0)).K=2,t.v=on(en(n)),n=!1,!(n=U.navigator&&U.navigator.sendBeacon?U.navigator.sendBeacon(t.v.toString(),""):n)&&U.Image&&((new Image).src=t.v,n=!0),n||(t.g=wr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Bt(t)),vr(e)}function rr(e){e.g&&(dr(e),e.g.cancel(),e.g=null)}function ir(e){rr(e),e.u&&(U.clearTimeout(e.u),e.u=null),pr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&U.clearTimeout(e.m),e.m=null)}function sr(e,t){e.l.push(new En(e.Za++,t)),3==e.G&&ar(e)}function ar(e){Cn(e.i)||e.m||(e.m=!0,tt(e.Ha,e),e.C=0)}function or(e,t){var n=t?t.m:e.V++,r=en(e.F);an(r,"SID",e.J),an(r,"RID",n),an(r,"AID",e.U),lr(e,r),e.o&&e.s&&Jn(r,e.o,e.s),n=new Rt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ur(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Nn(e.i,n),Ft(n,r,t)}function lr(e,n){e.j&&Qt({},function(e,t){an(n,t,e)})}function ur(e,t,r){r=Math.min(e.l.length,r);var i=e.j?Q(e.j.Oa,e.j,e):null;e:{var s=e.l;let n=-1;for(;;){const l=["count="+r];-1==n?0<r?(n=s[0].h,l.push("ofs="+n)):n=0:l.push("ofs="+n);let t=!0;for(let e=0;e<r;e++){var a=s[e].h,o=s[e].g;if((a-=n)<0)n=Math.max(0,s[e].h-100),t=!1;else try{!function(e,r,t){const i=t||"";try{Qt(e,function(e,t){let n=e;q(e)&&(n=Xe(e)),r.push(i+t+"="+encodeURIComponent(n))})}catch(e){throw r.push(i+"type="+encodeURIComponent("_badmap")),e}}(o,l,"req"+a+"_")}catch(e){i&&i(o)}}if(t){i=l.join("&");break e}}}return e=e.l.splice(0,r),t.D=e,i}function cr(e){e.g||e.u||(e.Y=1,tt(e.Ga,e),e.A=0)}function hr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=St(Q(e.Ga,e),gr(e,e.A)),e.A++,1)}function dr(e){null!=e.B&&(U.clearTimeout(e.B),e.B=null)}function fr(e){e.g=new Rt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=en(e.oa);an(t,"RID","rpc"),an(t,"SID",e.J),an(t,"CI",e.N?"0":"1"),an(t,"AID",e.U),lr(e,t),an(t,"TYPE","xmlhttp"),e.o&&e.s&&Jn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=on(en(t)),n.s=null,n.U=!0,Vt(n,e)}function pr(e){null!=e.v&&(U.clearTimeout(e.v),e.v=null)}function mr(e,t){var n,r,i,s=null;if(e.g==t){pr(e),dr(e),e.g=null;var a=2}else{if(!In(e.i,t))return;s=t.D,_n(e.i,t),a=1}if(e.I=t.N,0!=e.G)if(t.i)1==a?(s=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,Ge(a=yt(),new Et(a,s)),ar(e)):cr(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=a||(i=t,Tn((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=St(Q(r.Ha,r,i),gr(r,r.C)),r.C++,0))))&&(2!=a||!hr(e)))switch(s&&0<s.length&&(t=e.i,t.i=t.i.concat(s)),n){case 1:yr(e,5);break;case 4:yr(e,10);break;case 3:yr(e,6);break;default:yr(e,2)}}function gr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function yr(e,t){var n,r;e.h.info("Error code "+t),2==t?(n=null,e.j&&(n=null),r=Q(e.jb,e),n||(n=new Jt("//www.google.com/images/cleardot.gif"),U.location&&"http"==U.location.protocol||tn(n,"https"),on(n)),function(e,t){var n=new ft;if(U.Image){const r=new Image;r.onload=G(On,n,r,"TestLoadImage: loaded",!0,t),r.onerror=G(On,n,r,"TestLoadImage: error",!1,t),r.onabort=G(On,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=G(On,n,r,"TestLoadImage: timeout",!1,t),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)):xt(2),e.G=0,e.j&&e.j.va(t),vr(e),ir(e)}function vr(e){e.G=0,e.I=-1,e.j&&(0==Dn(e.i).length&&0==e.l.length||(e.i.i.length=0,ne(e.l),e.l.length=0),e.j.ua())}function br(e,t,n){let r=(o=n)instanceof Jt?en(o):new Jt(o,void 0);var i,s,a,o,l;return""!=r.i?(t&&nn(r,t+"."+r.i),rn(r,r.m)):(l=U.location,r=(i=l.protocol,s=t?t+"."+l.hostname:l.hostname,a=+l.port,o=n,l=new Jt(null,void 0),i&&tn(l,i),s&&nn(l,s),a&&rn(l,a),o&&(l.l=o),l)),e.aa&&ue(e.aa,function(e,t){an(r,t,e)}),t=e.D,n=e.sa,t&&n&&an(r,t,n),an(r,"VER",e.ma),lr(e,r),r}function wr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zn(new jn({ib:!0})):new zn(e.qa)).L=e.H,t}function xr(){}function Er(){if(ge&&!(10<=Number(Te)))throw Error("Environmental error: no available transport.")}function Sr(e,t){Qe.call(this),this.g=new tr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!re(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!re(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tr(this)}function kr(e){_t.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cr(){Dt.call(this),this.status=1}function Tr(e){this.g=e}(P=zn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||jt).g(),this.C=this.u?It(this.u):It(jt),this.g.onreadystatechange=Q(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Kn(this,e)}e=n||"";const i=new Gt(this.headers);r&&Qt(r,function(e,t){i.set(t,e)}),r=function(t){e:{var n=$n,r=t.length,i="string"==typeof t?t.split(""):t;for(let e=0;e<r;e++)if(e in i&&n.call(void 0,i[e],e,t)){n=e;break e}n=-1}return n<0?null:"string"==typeof t?t.charAt(n):t[n]}(i.T()),n=U.FormData&&e instanceof U.FormData,0<=J(Hn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yn(this),0<this.B&&((this.K=(s=this.g,ge&&Ce()&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=Q(this.pa,this)):this.A=ot(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Kn(this,e)}var s},P.pa=function(){void 0!==V&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))},P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ge(this,"complete"),Ge(this,"abort"),Gn(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gn(this,!0)),zn.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?Qn(this):this.cb())},P.cb=function(){Qn(this)},P.ba=function(){try{return 2<Xn(this)?this.g.status:-1}catch(e){return-1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},P.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Un(t)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=tr.prototype).ma=8,P.G=1,P.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},P.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Rt(this,this.h,t,void 0);let e=this.s;if(this.P&&(e?(e=ce(e),de(e,this.P)):e=this.P),null===this.o&&(s.H=e),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var i=this.l[r];if("__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i=i.length:i=void 0,void 0===i)break;if(4096<(n+=i)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=ur(this,s,n),an(r=en(this.F),"RID",t),an(r,"CVER",22),this.D&&an(r,"X-HTTP-Session-Id",this.D),lr(this,r),this.o&&e&&Jn(r,this.o,e),Nn(this.i,s),this.Ra&&an(r,"TYPE","init"),this.ja?(an(r,"$req",n),an(r,"SID","null"),s.$=!0,Ft(s,r,null)):Ft(s,r,n),this.G=2}}else 3==this.G&&(t?or(this,t):0==this.l.length||Cn(this.i)||or(this))},P.Ga=function(){var e;this.u=null,fr(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=St(Q(this.bb,this),e))},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xt(10),rr(this),fr(this))},P.ab=function(){null!=this.v&&(this.v=null,rr(this),hr(this),xt(19))},P.jb=function(e){e?(this.h.info("Successfully pinged google.com"),xt(2)):(this.h.info("Failed to ping google.com"),xt(1))},(P=xr.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},Er.prototype.g=function(e,t){return new Sr(e,t)},Y(Sr,Qe),Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),tt(Q(e.hb,e,t))),xt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=br(e,null,e.W),ar(e)},Sr.prototype.close=function(){nr(this.g)},Sr.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,sr(this.g,t)):this.v?((t={}).__data__=Xe(e),sr(this.g,t)):sr(this.g,e)},Sr.prototype.M=function(){this.g.j=null,delete this.j,nr(this.g),delete this.g,Sr.Z.M.call(this)},Y(kr,_t),Y(Cr,Dt),Y(Tr,xr),Tr.prototype.xa=function(){Ge(this.g,"a")},Tr.prototype.wa=function(e){Ge(this.g,new kr(e))},Tr.prototype.va=function(e){Ge(this.g,new Cr)},Tr.prototype.ua=function(){Ge(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Ct.COMPLETE="complete",(Nt.EventType=M).OPEN="a",M.CLOSE="b",M.ERROR="c",M.MESSAGE="d",Qe.prototype.listen=Qe.prototype.N,zn.prototype.listenOnce=zn.prototype.O,zn.prototype.getLastError=zn.prototype.La,zn.prototype.getLastErrorCode=zn.prototype.Da,zn.prototype.getStatus=zn.prototype.ba,zn.prototype.getResponseJson=zn.prototype.Qa,zn.prototype.getResponseText=zn.prototype.ga,zn.prototype.send=zn.prototype.ea;var Ir,Nr=F.createWebChannelTransport=function(){return new Er},_r=F.getStatEventTarget=yt,Dr=F.ErrorCode=kt,Lr=F.EventType=Ct,Rr=F.Event=mt,Or=F.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jr=F.FetchXmlHttpFactory=jn,Ar=F.WebChannel=Nt,Pr=F.XhrIo=zn;const Mr="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Vr="9.3.0";const Ur=new E("@firebase/firestore");function zr(){return Ur.logLevel}function Br(e,...t){Ur.logLevel<=h.DEBUG&&(t=t.map($r),Ur.debug(`Firestore (${Vr}): `+e,...t))}function qr(e,...t){Ur.logLevel<=h.ERROR&&(t=t.map($r),Ur.error(`Firestore (${Vr}): `+e,...t))}function Hr(e,...t){Ur.logLevel<=h.WARN&&(t=t.map($r),Ur.warn(`Firestore (${Vr}): `+e,...t))}function $r(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Kr(e="Unexpected state"){e=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+e;throw qr(e),new Error(e)}function Wr(e){e||Kr()}const Qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gr extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: `+this.message}}class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Xr{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}}class Zr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class Jr{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=e=>this.i!==r?(r=this.i,n(e)):Promise.resolve();let s=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yr,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const e=s;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=e=>{Br("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>o(e)),setTimeout(()=>{var e;this.auth||((e=this.t.getImmediate({optional:!0}))?o(e):(Br("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yr))},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Br("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Wr("string"==typeof e.accessToken),new Xr(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){var e=this.auth&&this.auth.getUid();return Wr(null===e||"string"==typeof e),new Fr(e)}}class ei{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Fr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ti{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ei(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ni{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){var e=++this.previousValue;return this.p&&this.p(e),e}}ni.T=-1;class ri{static I(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){var i=function(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let e=0;e<i.length;++e)r.length<20&&i[e]<n&&(r+=t.charAt(i[e]%t.length))}return r}}function ii(e,t){return e<t?-1:t<e?1:0}function si(e,n,r){return e.length===n.length&&e.every((e,t)=>r(e,n[t]))}class ai{constructor(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){var t=Math.floor(e/1e3),e=Math.floor(1e6*(e-1e3*t));return new ai(t,e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oi(e)}static min(){return new oi(new ai(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function li(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ui(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ci(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class hi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Kr(),void 0===n?n=e.length-t:n>e.length-t&&Kr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(n){for(let e=this.offset,t=this.limit();e<t;e++)n(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let e=0;e<r;e++){const r=t.get(e),i=n.get(e);if(r<i)return-1;if(r>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class di extends hi{construct(e,t,n){return new di(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(0<=n.indexOf("//"))throw new Gr(Qr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>0<e.length))}return new di(t)}static emptyPath(){return new di([])}}const fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends hi{construct(e,t,n){return new pi(e,t,n)}static isValidIdentifier(e){return fi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e=!pi.isValidIdentifier(e)?"`"+e+"`":e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;var i=()=>{if(0===n.length)throw new Gr(Qr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new Gr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}class mi{constructor(e){(this.fields=e).sort(pi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return si(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){e=atob(e);return new gi(e)}static fromUint8Array(e){e=function(t){let n="";for(let e=0;e<t.length;++e)n+=String.fromCharCode(t[e]);return n}(e);return new gi(e)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Wr(!!t),"string"!=typeof t)return{seconds:bi(t.seconds),nanos:bi(t.nanos)};{let e=0;var n=yi.exec(t);Wr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n));const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}}function bi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wi(e){return"string"==typeof e?gi.fromBase64String(e):gi.fromUint8Array(e)}function xi(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ei(e){e=vi(e.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}function Si(e){return null==e}function ki(e){return 0===e&&1/e==-1/0}function Ci(e){return"number"==typeof e&&Number.isInteger(e)&&!ki(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Ti{constructor(e){this.path=e}static fromPath(e){return new Ti(di.fromString(e))}static fromName(e){return new Ti(di.fromString(e).popFirst(5))}hasCollectionId(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===di.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ti(new di(e.slice()))}}function Ii(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xi(e)?4:10:Kr()}function Ni(n,r){var e,t,i=Ii(n);if(i!==Ii(r))return!1;switch(i){case 0:return!0;case 1:return n.booleanValue===r.booleanValue;case 4:return Ei(n).isEqual(Ei(r));case 3:return function(e){if("string"==typeof n.timestampValue&&"string"==typeof e.timestampValue&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;var t=vi(n.timestampValue),e=vi(e.timestampValue);return t.seconds===e.seconds&&t.nanos===e.nanos}(r);case 5:return n.stringValue===r.stringValue;case 6:return t=r,wi(n.bytesValue).isEqual(wi(t.bytesValue));case 7:return n.referenceValue===r.referenceValue;case 8:return e=r,bi((t=n).geoPointValue.latitude)===bi(e.geoPointValue.latitude)&&bi(t.geoPointValue.longitude)===bi(e.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bi(e.integerValue)===bi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){e=bi(e.doubleValue),t=bi(t.doubleValue);return e===t?ki(e)===ki(t):isNaN(e)&&isNaN(t)}return!1}(n,r);case 9:return si(n.arrayValue.values||[],r.arrayValue.values||[],Ni);case 10:return function(e){const t=e.mapValue.fields||{},n=r.mapValue.fields||{};if(li(t)!==li(n))return!1;for(const e in t)if(t.hasOwnProperty(e)&&(void 0===n[e]||!Ni(t[e],n[e])))return!1;return!0}(n);default:return Kr()}}function _i(e,t){return void 0!==(e.values||[]).find(e=>Ni(e,t))}function Di(e,t){var n,r,i,s=Ii(e),a=Ii(t);if(s!==a)return ii(s,a);switch(s){case 0:return 0;case 1:return ii(e.booleanValue,t.booleanValue);case 2:return r=t,i=bi(e.integerValue||e.doubleValue),r=bi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Li(e.timestampValue,t.timestampValue);case 4:return Li(Ei(e),Ei(t));case 5:return ii(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wi(e),r=wi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){var n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ii(n[e],r[e]);if(0!==t)return t}return ii(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=ii(bi(n.latitude),bi(i.latitude)))?r:ii(bi(n.longitude),bi(i.longitude));case 9:return function(e,t){var n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Di(n[e],r[e]);if(t)return t}return ii(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=ii(r[e],s[e]);if(0!==t)return t;var a=Di(n[r[e]],i[s[e]]);if(0!==a)return a}return ii(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Kr()}}function Li(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ii(e,t);var n=vi(e),e=vi(t),t=ii(n.seconds,e.seconds);return 0!==t?t:ii(n.nanos,e.nanos)}function Ri(e){return function s(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wi(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,Ti.fromName(t).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=s(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=i+":"+s(e.fields[i]);return n+"}"}(e.mapValue):Kr();var t}(e)}function Oi(e){return e&&"integerValue"in e}function ji(e){return!!e&&"arrayValue"in e}function Ai(e){return e&&"nullValue"in e}function Pi(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mi(e){return e&&"mapValue"in e}function Fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const n={mapValue:{fields:{}}};return ui(t.mapValue.fields,(e,t)=>n.mapValue.fields[e]=Fi(t)),n}if(t.arrayValue){const r={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)r.arrayValue.values[e]=Fi(t.arrayValue.values[e]);return r}return Object.assign({},t)}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let e=0;e<n.length-1;++e)if(t=(t.mapValue.fields||{})[n.get(e)],!Mi(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fi(t)}setAll(e){let n=pi.emptyPath(),r={},i=[];e.forEach((e,t)=>{if(!n.isImmediateParentOf(t)){const e=this.getFieldsMap(n);this.applyChanges(e,r,i),r={},i=[],n=t.popLast()}e?r[t.lastSegment()]=Fi(e):i.push(t.lastSegment())});e=this.getFieldsMap(n);this.applyChanges(e,r,i)}delete(e){const t=this.field(e.popLast());Mi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let t=0;t<n.length;++t){let e=r.mapValue.fields[n.get(t)];Mi(e)&&e.mapValue.fields||(e={mapValue:{fields:{}}},r.mapValue.fields[n.get(t)]=e),r=e}return r.mapValue.fields}applyChanges(n,e,t){ui(e,(e,t)=>n[e]=t);for(const e of t)delete n[e]}clone(){return new Vi(Fi(this.value))}}class Ui{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Ui(e,0,oi.min(),Vi.empty(),0)}static newFoundDocument(e,t,n){return new Ui(e,1,t,n,0)}static newNoDocument(e,t){return new Ui(e,2,t,Vi.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,Vi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ui(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.A=null}}function Bi(e,t=null,n=[],r=[],i=null,s=null,a=null){return new zi(e,t,n,r,i,s,a)}function qi(e){const t=e;if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Ri(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Si(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ns(t.startAt)),t.endAt&&(e+="|ub:",e+=ns(t.endAt)),t.A=e}return t.A}function Hi(t,n){if(t.limit!==n.limit)return!1;if(t.orderBy.length!==n.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(r=t.orderBy[e],i=n.orderBy[e],r.dir!==i.dir||!r.field.isEqual(i.field))return!1;var r,i,s,a;if(t.filters.length!==n.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(s=t.filters[e],a=n.filters[e],s.op!==a.op||!s.field.isEqual(a.field)||!Ni(s.value,a.value))return!1;return t.collectionGroup===n.collectionGroup&&!!t.path.isEqual(n.path)&&!!ss(t.startAt,n.startAt)&&ss(t.endAt,n.endAt)}function $i(e){return Ti.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ki extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Wi(e,t,n):"array-contains"===t?new Xi(e,n):"in"===t?new Zi(e,n):"not-in"===t?new Ji(e,n):"array-contains-any"===t?new es(e,n):new Ki(e,t,n)}static R(e,t,n){return new("in"===t?Qi:Gi)(e,n)}matches(e){e=e.data.field(this.field);return"!="===this.op?null!==e&&this.P(Di(e,this.value)):null!==e&&Ii(this.value)===Ii(e)&&this.P(Di(e,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return Kr()}}v(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)}}class Wi extends Ki{constructor(e,t,n){super(e,t,n),this.key=Ti.fromName(n.referenceValue)}matches(e){e=Ti.comparator(e.key,this.key);return this.P(e)}}class Qi extends Ki{constructor(e,t){super(e,"in",t),this.keys=Yi(0,t)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Gi extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=Yi(0,t)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Yi(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map(e=>Ti.fromName(e.referenceValue))}class Xi extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){e=e.data.field(this.field);return ji(e)&&_i(e.arrayValue,this.value)}}class Zi extends Ki{constructor(e,t){super(e,"in",t)}matches(e){e=e.data.field(this.field);return null!==e&&_i(this.value.arrayValue,e)}}class Ji extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(_i(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;e=e.data.field(this.field);return null!==e&&!_i(this.value.arrayValue,e)}}class es extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ji(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>_i(this.value.arrayValue,e))}}class ts{constructor(e,t){this.position=e,this.before=t}}function ns(e){return`${e.before?"b":"a"}:`+e.position.map(e=>Ri(e)).join(",")}class rs{constructor(e,t="asc"){this.field=e,this.dir=t}}function is(t,n,r){let i=0;for(let e=0;e<t.position.length;e++){const s=n[e],a=t.position[e];if(i=s.field.isKeyField()?Ti.comparator(Ti.fromName(a.referenceValue),r.key):Di(a,r.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function ss(t,n){if(null===t)return null===n;if(null===n)return!1;if(t.before!==n.before||t.position.length!==n.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!Ni(t.position[e],n.position[e]))return!1;return!0}class as{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.V=null,this.S=null,this.startAt,this.endAt}}function os(e,t,n,r,i,s,a,o){return new as(e,t,n,r,i,s,a,o)}function ls(e){return new as(e)}function us(e){return!Si(e.limit)&&"F"===e.limitType}function cs(e){return!Si(e.limit)&&"L"===e.limitType}function hs(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function ds(e){for(const t of e.filters)if(t.v())return t.field;return null}function fs(e){return null!==e.collectionGroup}function ps(t){const n=t;if(null===n.V){n.V=[];const t=ds(n),e=hs(n);if(null!==t&&null===e)t.isKeyField()||n.V.push(new rs(t)),n.V.push(new rs(pi.keyField(),"asc"));else{let e=!1;for(const r of n.explicitOrderBy)n.V.push(r),r.field.isKeyField()&&(e=!0);if(!e){const t=0<n.explicitOrderBy.length?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new rs(pi.keyField(),t))}}}return n.V}function ms(e){const t=e;if(!t.S)if("F"===t.limitType)t.S=Bi(t.path,t.collectionGroup,ps(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const i of ps(t)){const t="desc"===i.dir?"asc":"desc";r.push(new rs(i.field,t))}var n=t.endAt?new ts(t.endAt.position,!t.endAt.before):null,e=t.startAt?new ts(t.startAt.position,!t.startAt.before):null;t.S=Bi(t.path,t.collectionGroup,r,t.filters,t.limit,n,e)}return t.S}function gs(e,t,n){return new as(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ys(e,t){return Hi(ms(e),ms(t))&&e.limitType===t.limitType}function vs(e){return qi(ms(e))+"|lt:"+e.limitType}function bs(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(t+=`, filters: [${e.filters.map(e=>{return`${(e=e).field.canonicalString()} ${e.op} `+Ri(e.value)}).join(", ")}]`),Si(e.limit)||(t+=", limit: "+e.limit),0<e.orderBy.length&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ns(e.startAt)),e.endAt&&(t+=", endAt: "+ns(e.endAt)),`Target(${t})`}(ms(e))}; limitType=${e.limitType})`}function ws(n,e){return e.isFoundDocument()&&(t=n,i=(r=e).key.path,null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ti.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i))&&function(e){for(const t of n.explicitOrderBy)if(!t.field.isKeyField()&&null===e.data.field(t.field))return;return 1}(e)&&function(e){for(const t of n.filters)if(!t.matches(e))return;return 1}(e)&&(i=e,(!(e=n).startAt||is(e.startAt,ps(e),i))&&(!e.endAt||!is(e.endAt,ps(e),i)));var t,r,i}function xs(i){return(e,t)=>{let n=!1;for(const r of ps(i)){const i=function(e,r,t){var n=e.field.isKeyField()?Ti.comparator(r.key,t.key):function(e,t){var n=r.data.field(e),e=t.data.field(e);return null!==n&&null!==e?Di(n,e):Kr()}(e.field,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Kr()}}(r,e,t);if(0!==i)return i;n=n||r.field.isKeyField()}return 0}}function Es(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ki(t)?"-0":t}}function Ss(e){return{integerValue:""+e}}function ks(e,t){return Ci(t)?Ss(t):Es(e,t)}class Cs{constructor(){this._=void 0}}function Ts(e,t){return e instanceof Rs?Oi(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}class Is extends Cs{}class Ns extends Cs{constructor(e){super(),this.elements=e}}function _s(e,t){const n=js(t);for(const t of e.elements)n.some(e=>Ni(e,t))||n.push(t);return{arrayValue:{values:n}}}class Ds extends Cs{constructor(e){super(),this.elements=e}}function Ls(e,t){let n=js(t);for(const t of e.elements)n=n.filter(e=>!Ni(e,t));return{arrayValue:{values:n}}}class Rs extends Cs{constructor(e,t){super(),this.N=e,this.C=t}}function Os(e){return bi(e.integerValue||e.doubleValue)}function js(e){return ji(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class As{constructor(e,t){this.field=e,this.transform=t}}class Ps{constructor(e,t){this.version=e,this.transformResults=t}}class Ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Vs{}function Us(e,t,n){e instanceof Hs?function(e,t,n){const r=e.value.clone(),i=Ws(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $s?function(e,t,n){if(!Fs(e.precondition,t))return t.convertToUnknownDocument(n.version);const r=Ws(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ks(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function zs(e,t,n){e instanceof Hs?function(e,t,n){if(Fs(e.precondition,t)){const r=e.value.clone(),i=Qs(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(qs(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $s?function(e,t,n){if(Fs(e.precondition,t)){const r=Qs(e.fieldTransforms,n,t),i=t.data;i.setAll(Ks(e)),i.setAll(r),t.convertToFoundDocument(qs(t),i).setHasLocalMutations()}}(e,t,n):(t=t,Fs(e.precondition,t)&&t.convertToNoDocument(oi.min()))}function Bs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&si(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof Ns&&t instanceof Ns||e instanceof Ds&&t instanceof Ds?si(e.elements,t.elements,Ni):e instanceof Rs&&t instanceof Rs?Ni(e.C,t.C):e instanceof Is&&t instanceof Is)}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}function qs(e){return e.isFoundDocument()?e.version:oi.min()}class Hs extends Vs{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class $s extends Vs{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ks(n){const r=new Map;return n.fieldMask.fields.forEach(e=>{var t;e.isEmpty()||(t=n.data.field(e),r.set(e,t))}),r}function Ws(t,n,r){const i=new Map;Wr(t.length===r.length);for(let e=0;e<r.length;e++){var s=t[e],a=s.transform,o=n.data.field(s.field);i.set(s.field,(s=a,a=o,o=r[e],s instanceof Ns?_s(s,a):s instanceof Ds?Ls(s,a):o))}return i}function Qs(e,t,n){const r=new Map;for(const u of e){const e=u.transform,c=n.data.field(u.field);r.set(u.field,(i=e,s=c,a=t,l=o=void 0,i instanceof Is?function(){const e={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&(e.fields.__previous_value__=s),{mapValue:e}}():i instanceof Ns?_s(i,s):i instanceof Ds?Ls(i,s):(l=Ts(o=i,s),i=Os(l)+Os(o.C),Oi(l)&&Oi(o.C)?Ss(i):Es(o.N,i))))}var i,s,a,o,l;return r}class Gs extends Vs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ys extends Vs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Xs{constructor(e){this.count=e}}function Zs(e){switch(e){default:return Kr(),0;case Qr.CANCELLED:case Qr.UNKNOWN:case Qr.DEADLINE_EXCEEDED:case Qr.RESOURCE_EXHAUSTED:case Qr.INTERNAL:case Qr.UNAVAILABLE:case Qr.UNAUTHENTICATED:return;case Qr.INVALID_ARGUMENT:case Qr.NOT_FOUND:case Qr.ALREADY_EXISTS:case Qr.PERMISSION_DENIED:case Qr.FAILED_PRECONDITION:case Qr.ABORTED:case Qr.OUT_OF_RANGE:case Qr.UNIMPLEMENTED:case Qr.DATA_LOSS:return 1}}function Js(e){if(void 0===e)return qr("GRPC error has no .code"),Qr.UNKNOWN;switch(e){case Ir.OK:return Qr.OK;case Ir.CANCELLED:return Qr.CANCELLED;case Ir.UNKNOWN:return Qr.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Qr.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Qr.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Qr.INTERNAL;case Ir.UNAVAILABLE:return Qr.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Qr.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Qr.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Qr.NOT_FOUND;case Ir.ALREADY_EXISTS:return Qr.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Qr.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Qr.FAILED_PRECONDITION;case Ir.ABORTED:return Qr.ABORTED;case Ir.OUT_OF_RANGE:return Qr.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Qr.UNIMPLEMENTED;case Ir.DATA_LOSS:return Qr.DATA_LOSS;default:return Kr()}}(Ct=Ir=Ir||{})[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";class ea{constructor(e,t){this.comparator=e,this.root=t||na.EMPTY}insert(e,t){return new ea(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,na.BLACK,null,null))}remove(e){return new ea(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(n){this.inorderTraversal((e,t)=>(n(e,t),!1))}toString(){const n=[];return this.inorderTraversal((e,t)=>(n.push(e+":"+t),!1)),`{${n.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}}class ta{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();var t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return 0<this.nodeStack.length}peek(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class na{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:na.RED,this.left=null!=r?r:na.EMPTY,this.right=null!=i?i:na.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new na(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;var i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return na.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return na.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){var e=this.copy(null,null,na.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){var e=this.copy(null,null,na.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){var e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kr();if(this.right.isRed())throw Kr();var e=this.left.check();if(e!==this.right.check())throw Kr();return e+(this.isRed()?0:1)}}na.EMPTY=null,na.RED=!0,na.BLACK=!1,na.EMPTY=new class{constructor(){this.size=0}get key(){throw Kr()}get value(){throw Kr()}get color(){throw Kr()}get left(){throw Kr()}get right(){throw Kr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new na(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ra{constructor(e){this.comparator=e,this.data=new ea(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(n){this.data.inorderTraversal((e,t)=>(n(e),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ia(this.data.getIterator())}getIteratorFrom(e){return new ia(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ra))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(e){const t=new ra(this.comparator);return t.data=e,t}}class ia{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const sa=new ea(Ti.comparator);const aa=new ea(Ti.comparator);const oa=new ea(Ti.comparator);const la=new ra(Ti.comparator);function ua(...e){let t=la;for(const n of e)t=t.add(n);return t}const ca=new ra(ii);class ha{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,t)),new ha(oi.min(),n,ca,sa,ua())}}class da{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new da(gi.EMPTY_BYTE_STRING,t,ua(),ua(),ua())}}class fa{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class pa{constructor(e,t){this.targetId=e,this.O=t}}class ma{constructor(e,t,n=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ga{constructor(){this.F=0,this.M=ba(),this.L=gi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){0<e.approximateByteSize()&&(this.U=!0,this.L=e)}W(){let n=ua(),r=ua(),i=ua();return this.M.forEach((e,t)=>{switch(t){case 0:n=n.add(e);break;case 2:r=r.add(e);break;case 1:i=i.add(e);break;default:Kr()}}),new da(this.L,this.B,n,r,i)}G(){this.U=!1,this.M=ba()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){--this.F}Z(){this.U=!0,this.B=!0}}class ya{constructor(e){this.tt=e,this.et=new Map,this.nt=sa,this.st=va(),this.it=new ra(ii)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}at(n){this.forEachTarget(n,e=>{const t=this.ut(e);switch(n.state){case 0:this.ht(e)&&t.j(n.resumeToken);break;case 1:t.X(),t.q||t.G(),t.j(n.resumeToken);break;case 2:t.X(),t.q||this.removeTarget(e);break;case 3:this.ht(e)&&(t.Z(),t.j(n.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),t.j(n.resumeToken));break;default:Kr()}})}forEachTarget(e,n){0<e.targetIds.length?e.targetIds.forEach(n):this.et.forEach((e,t)=>{this.ht(t)&&n(t)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if($i(e))if(0===n){const n=new Ti(e.path);this.ct(t,n,Ui.newNoDocument(n,oi.min()))}else Wr(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(r){const i=new Map;this.et.forEach((e,t)=>{var n=this.dt(t);if(n){if(e.current&&$i(n.target)){const i=new Ti(n.target.path);null!==this.nt.get(i)||this.gt(t,i)||this.ct(t,i,Ui.newNoDocument(i,r))}e.K&&(i.set(t,e.W()),e.G())}});let s=ua();this.st.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{e=this.dt(e);return!e||2===e.purpose||(n=!1)}),n&&(s=s.add(e))});var e=new ha(r,i,this.it,this.nt,s);return this.nt=sa,this.st=va(),this.it=new ra(ii),e}ot(e,t){var n;this.ht(e)&&(n=this.gt(e,t.key)?2:0,this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e)))}ct(e,t,n){if(this.ht(e)){const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}removeTarget(e){this.et.delete(e)}wt(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new ga,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new ra(ii),this.st=this.st.insert(e,t)),t}ht(e){var t=null!==this.dt(e);return t||Br("WatchChangeAggregator","Detected inactive target",e),t}dt(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(t){this.et.set(t,new ga),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function va(){return new ea(Ti.comparator)}function ba(){return new ea(Ti.comparator)}const wa={asc:"ASCENDING",desc:"DESCENDING"},xa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ea{constructor(e,t){this.databaseId=e,this.D=t}}function Sa(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ka(e,t){return e.D?t.toBase64():t.toUint8Array()}function Ca(e){return Wr(!!e),oi.fromTimestamp((e=vi(e),new ai(e.seconds,e.nanos)))}function Ta(e,t){return e=e,new di(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function Ia(e){e=di.fromString(e);return Wr(Wa(e)),e}function Na(e,t){return Ta(e.databaseId,t.path)}function _a(e,t){const n=Ia(t);if(n.get(1)!==e.databaseId.projectId)throw new Gr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ti(Oa(n))}function Da(e,t){return Ta(e.databaseId,t)}function La(e){e=Ia(e);return 4===e.length?di.emptyPath():Oa(e)}function Ra(e){return new di(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oa(e){return Wr(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function ja(e,t,n){return{name:Na(e,t),fields:n.value.mapValue.fields}}function Aa(e,t,n){const r=_a(e,t.name),i=Ca(t.updateTime),s=new Vi({mapValue:{fields:t.fields}}),a=Ui.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pa(e,t){let n;if(t instanceof Hs)n={update:ja(e,t.key,t.value)};else if(t instanceof Gs)n={delete:Na(e,t.key)};else if(t instanceof $s)n={update:ja(e,t.key,t.data),updateMask:function(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof Ys))return Kr();n={verify:Na(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e){var t=e.transform;if(t instanceof Is)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Ns)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof Ds)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Rs)return{fieldPath:e.field.canonicalString(),increment:t.C};throw Kr()}(e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:(t=r.updateTime,Sa(e,t.toTimestamp()))}:void 0!==r.exists?{exists:r.exists}:Kr()),n;var r}function Ma(t,n){const e=n.currentDocument?void 0!==(s=n.currentDocument).updateTime?Ms.updateTime(Ca(s.updateTime)):void 0!==s.exists?Ms.exists(s.exists):Ms.none():Ms.none(),r=n.updateTransforms?n.updateTransforms.map(e=>function(e,t){let n=null;if("setToServerValue"in t)Wr("REQUEST_TIME"===t.setToServerValue),n=new Is;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ns(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ds(e)}else"increment"in t?n=new Rs(e,t.increment):Kr();t=pi.fromServerFormat(t.fieldPath);return new As(t,n)}(t,e)):[];if(n.update){n.update.name;var i=_a(t,n.update.name),s=new Vi({mapValue:{fields:n.update.fields}});if(n.updateMask){const t=function(){const e=n.updateMask.fieldPaths||[];return new mi(e.map(e=>pi.fromServerFormat(e)))}();return new $s(i,s,t,e,r)}return new Hs(i,s,e,r)}if(n.delete){const r=_a(t,n.delete);return new Gs(r,e)}if(n.verify){const r=_a(t,n.verify);return new Ys(r,e)}return Kr()}function Fa(e,t){return{documents:[Da(e,t.path)]}}function Va(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Da(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Da(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){e=e.map(e=>function(e){if("=="===e.op){if(Pi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NAN"}};if(Ai(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NAN"}};if(Ai(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(e.field),op:(t=e.op,xa[t]),value:e.value}};var t}(e));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(t.filters);i&&(n.structuredQuery.where=i);i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qa(e.field),direction:(e=e.dir,wa[e])}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);i=t.limit,i=e.D||Si(i)?i:{value:i};return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=za(t.startAt)),t.endAt&&(n.structuredQuery.endAt=za(t.endAt)),n}function Ua(e){let t=La(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(0<r){Wr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Ka(e)]:void 0!==e.fieldFilter?[$a(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>t(e)).reduce((e,t)=>e.concat(t)):Kr():[]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new rs(Ha(e.field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}())}(e)));let o=null;n.limit&&(o=function(e){e="object"==typeof e?e.value:e;return Si(e)?null:e}(n.limit));let l=null;n.startAt&&(l=Ba(n.startAt));let u=null;return n.endAt&&(u=Ba(n.endAt)),os(t,i,a,s,o,"F",l,u)}function za(e){return{before:e.before,values:e.position}}function Ba(e){var t=!!e.before,e=e.values||[];return new ts(e,t)}function qa(e){return{fieldPath:e.canonicalString()}}function Ha(e){return pi.fromServerFormat(e.fieldPath)}function $a(e){return Ki.create(Ha(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kr()}}(),e.fieldFilter.value)}function Ka(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ha(e.unaryFilter.field);return Ki.create(t,"==",{doubleValue:NaN});case"IS_NULL":t=Ha(e.unaryFilter.field);return Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Ha(e.unaryFilter.field);return Ki.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":n=Ha(e.unaryFilter.field);return Ki.create(n,"!=",{nullValue:"NULL_VALUE"});default:return Kr()}}function Wa(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qa(t){let n="";for(let e=0;e<t.length;e++)0<n.length&&(n+=""),n=function(t,e){let n=e;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}(t.get(e),n);return n+""}function Ga(n){const r=n.length;if(Wr(2<=r),2===r)return Wr(""===n.charAt(0)&&""===n.charAt(1)),di.emptyPath();const i=r-2,s=[];let a="";for(let t=0;t<r;){const r=n.indexOf("",t);switch((r<0||r>i)&&Kr(),n.charAt(r+1)){case"":const i=n.substring(t,r);let e;0===a.length?e=i:(a+=i,e=a,a=""),s.push(e);break;case"":a+=n.substring(t,r),a+="\0";break;case"":a+=n.substring(t,r+1);break;default:Kr()}t=r+2}return new di(s)}class Ya{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Xa{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Xa.store="owner",Xa.key="owner";class Za{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Za.store="mutationQueues",Za.keyPath="userId";class Ja{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Ja.store="mutations",Ja.keyPath="batchId",Ja.userMutationsIndex="userMutationsIndex",Ja.userMutationsKeyPath=["userId","batchId"];class eo{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Qa(t)]}static key(e,t,n){return[e,Qa(t),n]}}eo.store="documentMutations",eo.PLACEHOLDER=new eo;class to{constructor(e,t){this.path=e,this.readTime=t}}class no{constructor(e,t){this.path=e,this.version=t}}class ro{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}ro.store="remoteDocuments",ro.readTimeIndex="readTimeIndex",ro.readTimeIndexPath="readTime",ro.collectionReadTimeIndex="collectionReadTimeIndex",ro.collectionReadTimeIndexPath=["parentPath","readTime"];class io{constructor(e){this.byteSize=e}}io.store="remoteDocumentGlobal",io.key="remoteDocumentGlobalKey";class so{constructor(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a}}so.store="targets",so.keyPath="targetId",so.queryTargetsIndexName="queryTargetsIndex",so.queryTargetsKeyPath=["canonicalId","targetId"];class ao{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}ao.store="targetDocuments",ao.keyPath=["targetId","path"],ao.documentTargetsIndex="documentTargetsIndex",ao.documentTargetsKeyPath=["path","targetId"];class oo{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}oo.key="targetGlobalKey",oo.store="targetGlobal";class lo{constructor(e,t){this.collectionId=e,this.parent=t}}lo.store="collectionParents",lo.keyPath=["collectionId","parent"];class uo{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}uo.store="clientMetadata",uo.keyPath="clientId";class co{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}co.store="bundles",co.keyPath="bundleId";class ho{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ho.store="namedQueries",ho.keyPath="name";const fo=[Za.store,Ja.store,eo.store,ro.store,so.store,Xa.store,oo.store,ao.store,uo.store,io.store,lo.store,co.store,ho.store],po="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class go{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(r,i){return this.callbackAttached&&Kr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new go((t,n)=>{this.nextCallback=e=>{this.wrapSuccess(r,e).next(t,n)},this.catchCallback=e=>{this.wrapFailure(i,e).next(t,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{var t=e();return t instanceof go?t:go.resolve(t)}catch(e){return go.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):go.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):go.reject(t)}static resolve(n){return new go((e,t)=>{e(n)})}static reject(n){return new go((e,t)=>{t(n)})}static waitFor(e){return new go((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=go.resolve(!1);for(const n of e)t=t.next(e=>e?go.resolve(e):n());return t}static forEach(e,n){const r=[];return e.forEach((e,t)=>{r.push(n.call(this,e,t))}),this.waitFor(r)}}class yo{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new Yr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new wo(t,e.error)):this.Et.resolve()},this.transaction.onerror=e=>{e=Co(e.target.error);this.Et.reject(new wo(t,e))}}static open(e,t,n,r){try{return new yo(t,e.transaction(r,n))}catch(e){throw new wo(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Br("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){e=this.transaction.objectStore(e);return new Eo(e)}}class vo{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===vo.Rt(d())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Br("SimpleDb","Removing database:",e),So(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if("object"!=typeof indexedDB)return!1;if(vo.Pt())return!0;const e=d(),t=vo.Rt(e),n=0<t&&t<10,r=vo.vt(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(i){return this.db||(Br("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{e=e.target.result;t(e)},r.onblocked=()=>{n(new wo(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{e=e.target.error;"VersionError"===e.name?n(new Gr(Qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===e.name?n(new Gr(Qr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+e)):n(new wo(i,e))},r.onupgradeneeded=e=>{Br("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next(()=>{Br("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(e,t,n,r){var i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=yo.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch(e=>(t.abort(e),go.reject(e))).toPromise();return s.catch(()=>{}),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Br("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class bo{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return So(this.kt.delete())}}class wo extends Gr{constructor(e,t){super(Qr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: `+t),this.name="IndexedDbTransactionError"}}function xo(e){return"IndexedDbTransactionError"===e.name}class Eo{constructor(e){this.store=e}put(e,t){let n;return n=void 0!==t?(Br("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(Br("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)),So(n)}add(e){return Br("SimpleDb","ADD",this.store.name,e,e),So(this.store.add(e))}get(t){return So(this.store.get(t)).next(e=>(Br("SimpleDb","GET",this.store.name,t,e=void 0===e?null:e),e))}delete(e){return Br("SimpleDb","DELETE",this.store.name,e),So(this.store.delete(e))}count(){return Br("SimpleDb","COUNT",this.store.name),So(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Br("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;t=this.cursor(n);return this.Bt(t,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);e=this.cursor(n);return this.Bt(e,t)}jt(r){const e=this.cursor({});return new go((n,t)=>{e.onerror=e=>{e=Co(e.target.error);t(e)},e.onsuccess=e=>{const t=e.target.result;t?r(t.primaryKey,t.value).next(e=>{e?t.continue():n()}):n()}})}Bt(e,s){const a=[];return new go((i,t)=>{e.onerror=e=>{t(e.target.error)},e.onsuccess=e=>{const t=e.target.result;if(t){const n=new bo(t),r=s(t.primaryKey,t.value,n);if(r instanceof go){const e=r.catch(e=>(n.done(),go.reject(e)));a.push(e)}n.isDone?i():null===n.Ft?t.continue():t.continue(n.Ft)}else i()}}).next(()=>go.waitFor(a))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function So(e){return new go((t,n)=>{e.onsuccess=e=>{e=e.target.result;t(e)},e.onerror=e=>{e=Co(e.target.error);n(e)}})}let ko=!1;function Co(e){const t=vo.Rt(d());if(12.2<=t&&t<13){const t="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(t)){const e=new Gr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ko||(ko=!0,setTimeout(()=>{throw e},0)),e}}return e}class To extends mo{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Io(e,t){return vo.St(e.Qt,t)}class No{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){var n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&Us(r,t,n[e])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&zs(t,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&zs(n,e,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(e=>{const t=r.get(e.key),n=t;this.applyToLocalView(n),t.isValidDocument()||n.convertToNoDocument(oi.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ua())}isEqual(e){return this.batchId===e.batchId&&si(this.mutations,e.mutations,(e,t)=>Bs(e,t))&&si(this.baseMutations,e.baseMutations,(e,t)=>Bs(e,t))}}class _o{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wr(e.mutations.length===n.length);let r=oa;var i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new _o(e,t,n,r)}}class Do{constructor(e,t,n,r,i=oi.min(),s=oi.min(),a=gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Lo{constructor(e){this.Wt=e}}function Ro(e,t){if(t.document)return Aa(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Ti.fromSegments(t.noDocument.path),n=Mo(t.noDocument.readTime),r=Ui.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Ti.fromSegments(t.unknownDocument.path),i=Mo(t.unknownDocument.version);return Ui.newUnknownDocument(e,i)}return Kr()}function Oo(e,t,n){var r=jo(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const s={name:Na(n=e.Wt,(e=t).key),fields:e.data.value.mapValue.fields,updateTime:Sa(n,e.version.toTimestamp())},a=t.hasCommittedMutations;return new ro(null,null,s,a,r,i)}if(t.isNoDocument()){const o=t.key.path.toArray(),s=Po(t.version),l=t.hasCommittedMutations;return new ro(null,new to(o,s),null,l,r,i)}if(t.isUnknownDocument()){const o=t.key.path.toArray(),s=Po(t.version);return new ro(new no(o,s),null,null,!0,r,i)}return Kr()}function jo(e){e=e.toTimestamp();return[e.seconds,e.nanoseconds]}function Ao(e){e=new ai(e[0],e[1]);return oi.fromTimestamp(e)}function Po(e){e=e.toTimestamp();return new Ya(e.seconds,e.nanoseconds)}function Mo(e){e=new ai(e.seconds,e.nanoseconds);return oi.fromTimestamp(e)}function Fo(t,n){const r=(n.baseMutations||[]).map(e=>Ma(t.Wt,e));for(let e=0;e<n.mutations.length-1;++e){const r=n.mutations[e];if(e+1<n.mutations.length&&void 0!==n.mutations[e+1].transform){const i=n.mutations[e+1];r.updateTransforms=i.transform.fieldTransforms,n.mutations.splice(e+1,1),++e}}const i=n.mutations.map(e=>Ma(t.Wt,e)),e=ai.fromMillis(n.localWriteTimeMs);return new No(n.batchId,e,r,i)}function Vo(e){var t,n=Mo(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Mo(e.lastLimboFreeSnapshotVersion):oi.min();let i;return i=void 0!==e.query.documents?(Wr(1===(t=e.query).documents.length),ms(ls(La(t.documents[0])))):ms(Ua(e.query)),new Do(i,e.targetId,0,e.lastListenSequenceNumber,n,r,gi.fromBase64String(e.resumeToken))}function Uo(e,t){var n=Po(t.snapshotVersion),r=Po(t.lastLimboFreeSnapshotVersion),i=($i(t.target)?Fa:Va)(e.Wt,t.target),e=t.resumeToken.toBase64();return new so(t.targetId,qi(t.target),n,e,t.sequenceNumber,r,i)}function zo(e){var t=Ua({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gs(t,t.limit,"L"):t}class Bo{getBundleMetadata(e,t){return qo(e).get(t).next(e=>{if(e)return{id:(e=e).bundleId,createTime:Mo(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return qo(e).put({bundleId:(t=t).id,createTime:Po(Ca(t.createTime)),version:t.version})}getNamedQuery(e,t){return Ho(e).get(t).next(e=>{if(e)return{name:(e=e).name,query:zo(e.bundledQuery),readTime:Mo(e.readTime)}})}saveNamedQuery(e,t){return Ho(e).put({name:(t=t).name,readTime:Po(Ca(t.readTime)),bundledQuery:t.bundledQuery})}}function qo(e){return Io(e,co.store)}function Ho(e){return Io(e,ho.store)}class $o{constructor(){this.Gt=new Ko}addToCollectionParentIndex(e,t){return this.Gt.add(t),go.resolve()}getCollectionParents(e,t){return go.resolve(this.Gt.getEntries(t))}}class Ko{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ra(di.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ra(di.comparator)).toArray()}}class Wo{constructor(){this.zt=new Ko}addToCollectionParentIndex(e,t){if(this.zt.has(t))return go.resolve();var n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});r={collectionId:n,parent:Qa(r)};return Qo(e).put(r)}getCollectionParents(e,n){const r=[],t=IDBKeyRange.bound([n,""],[n+"\0",""],!1,!0);return Qo(e).Lt(t).next(e=>{for(const t of e){if(t.collectionId!==n)break;r.push(Ga(t.parent))}return r})}}function Qo(e){return Io(e,lo.store)}const Go={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yo(e,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xo(e,t,n){const r=e.store(Ja.store),i=e.store(eo.store),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Kt({range:a},(e,t,n)=>(o++,n.delete()));s.push(l.next(()=>{Wr(1===o)}));const u=[];for(const e of n.mutations){const r=eo.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return go.waitFor(s).next(()=>u)}function Zo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Kr();t=e.noDocument}return JSON.stringify(t).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);class Jo{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Wr(""!==e.uid);e=e.isAuthenticated()?e.uid:"";return new Jo(e,t,n,r)}checkEmpty(e){let r=!0;var t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).Kt({index:Ja.userMutationsIndex,range:t},(e,t,n)=>{r=!1,n.done()}).next(()=>r)}addMutationBatch(c,h,d,f){const p=nl(c),m=tl(c);return m.add({}).next(e=>{Wr("number"==typeof e);const t=new No(e,h,d,f),n=(i=this.N,s=this.userId,a=t,o=a.baseMutations.map(e=>Pa(i.Wt,e)),l=a.mutations.map(e=>Pa(i.Wt,e)),new Ja(s,a.batchId,a.localWriteTime.toMillis(),o,l)),r=[];var i,s,a,o,l;let u=new ra((e,t)=>ii(e.canonicalString(),t.canonicalString()));for(const c of f){const h=eo.key(this.userId,c.key.path,e);u=u.add(c.key.path.popLast()),r.push(m.put(n)),r.push(p.put(h,eo.PLACEHOLDER))}return u.forEach(e=>{r.push(this.Ht.addToCollectionParentIndex(c,e))}),c.addOnCommittedListener(()=>{this.Jt[e]=t.keys()}),go.waitFor(r).next(()=>t)})}lookupMutationBatch(e,t){return tl(e).get(t).next(e=>e?(Wr(e.userId===this.userId),Fo(this.N,e)):null)}Xt(e,t){return this.Jt[t]?go.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){e=e.keys();return this.Jt[t]=e}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return tl(e).Kt({index:Ja.userMutationsIndex,range:n},(e,t,n)=>{t.userId===this.userId&&(Wr(t.batchId>=r),i=Fo(this.N,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return tl(e).Kt({index:Ja.userMutationsIndex,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){var t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).Lt(Ja.userMutationsIndex,t).next(e=>e.map(e=>Fo(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(s,a){const e=eo.prefixForPath(this.userId,a.path),t=IDBKeyRange.lowerBound(e),o=[];return nl(s).Kt({range:t},(e,t,n)=>{var[r,i,e]=e,i=Ga(i);if(r===this.userId&&a.path.isEqual(i))return tl(s).get(e).next(e=>{if(!e)throw Kr();Wr(e.userId===this.userId),o.push(Fo(this.N,e))});n.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new ra(ii);const n=[];return e.forEach(s=>{var e=eo.prefixForPath(this.userId,s.path),e=IDBKeyRange.lowerBound(e),e=nl(t).Kt({range:e},(e,t,n)=>{var[r,i,e]=e,i=Ga(i);r===this.userId&&s.path.isEqual(i)?a=a.add(e):n.done()});n.push(e)}),go.waitFor(n).next(()=>this.Zt(t,a))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,n=eo.prefixForPath(this.userId,s),r=IDBKeyRange.lowerBound(n);let o=new ra(ii);return nl(e).Kt({range:r},(e,t,n)=>{var[r,i,e]=e,i=Ga(i);r===this.userId&&s.isPrefixOf(i)?i.length===a&&(o=o.add(e)):n.done()}).next(()=>this.Zt(e,o))}Zt(t,e){const n=[],r=[];return e.forEach(e=>{r.push(tl(t).get(e).next(e=>{if(null===e)throw Kr();Wr(e.userId===this.userId),n.push(Fo(this.N,e))}))}),go.waitFor(r).next(()=>n)}removeMutationBatch(t,n){return Xo(t.Qt,this.userId,n).next(e=>(t.addOnCommittedListener(()=>{this.te(n.batchId)}),go.forEach(e,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(e){delete this.Jt[e]}performConsistencyCheck(n){return this.checkEmpty(n).next(e=>{if(!e)return go.resolve();const t=IDBKeyRange.lowerBound(eo.prefixForUser(this.userId)),r=[];return nl(n).Kt({range:t},(e,t,n)=>{if(e[0]===this.userId){const t=Ga(e[1]);r.push(t)}else n.done()}).next(()=>{Wr(0===r.length)})})}containsKey(e,t){return el(e,this.userId,t)}ee(e){return rl(e).get(this.userId).next(e=>e||new Za(this.userId,-1,""))}}function el(e,i,t){const n=eo.prefixForPath(i,t.path),s=n[1],r=IDBKeyRange.lowerBound(n);let a=!1;return nl(e).Kt({range:r,qt:!0},(e,t,n)=>{var[r,e]=e;r===i&&e===s&&(a=!0),n.done()}).next(()=>a)}function tl(e){return Io(e,Ja.store)}function nl(e){return Io(e,eo.store)}function rl(e){return Io(e,Za.store)}class il{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new il(0)}static ie(){return new il(-1)}}class sl{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(n){return this.re(n).next(e=>{const t=new il(e.highestTargetId);return e.highestTargetId=t.next(),this.oe(n,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>oi.fromTimestamp(new ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.re(t).next(e=>(e.highestListenSequenceNumber=n,r&&(e.lastRemoteSnapshotVersion=r.toTimestamp()),n>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n),this.oe(t,e)))}addTargetData(t,n){return this.ce(t,n).next(()=>this.re(t).next(e=>(e.targetCount+=1,this.ae(n,e),this.oe(t,e))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>al(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(Wr(0<e.targetCount),--e.targetCount,this.oe(t,e)))}removeTargets(n,r,i){let s=0;const a=[];return al(n).Kt((e,t)=>{t=Vo(t);t.sequenceNumber<=r&&null===i.get(t.targetId)&&(s++,a.push(this.removeTargetData(n,t)))}).next(()=>go.waitFor(a)).next(()=>s)}forEachTarget(e,n){return al(e).Kt((e,t)=>{t=Vo(t);n(t)})}re(e){return ol(e).get(oo.key).next(e=>(Wr(null!==e),e))}oe(e,t){return ol(e).put(oo.key,t)}ce(e,t){return al(e).put(Uo(this.N,t))}ae(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,r){var t=qi(r),t=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]);let i=null;return al(e).Kt({range:t,index:so.queryTargetsIndexName},(e,t,n)=>{t=Vo(t);Hi(r,t.target)&&(i=t,n.done())}).next(()=>i)}addMatchingKeys(n,e,r){const i=[],s=ll(n);return e.forEach(e=>{var t=Qa(e.path);i.push(s.put(new ao(r,t))),i.push(this.referenceDelegate.addReference(n,r,e))}),go.waitFor(i)}removeMatchingKeys(n,e,r){const i=ll(n);return go.forEach(e,e=>{var t=Qa(e.path);return go.waitFor([i.delete([r,t]),this.referenceDelegate.removeReference(n,r,e)])})}removeMatchingKeysForTargetId(e,t){const n=ll(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ll(e);let i=ua();return r.Kt({range:n,qt:!0},(e,t,n)=>{e=Ga(e[1]),e=new Ti(e);i=i.add(e)}).next(()=>i)}containsKey(e,t){t=Qa(t.path),t=IDBKeyRange.bound([t],[t+"\0"],!1,!0);let r=0;return ll(e).Kt({index:ao.documentTargetsIndex,qt:!0,range:t},([e],t,n)=>{0!==e&&(r++,n.done())}).next(()=>0<r)}Tt(e,t){return al(e).get(t).next(e=>e?Vo(e):null)}}function al(e){return Io(e,so.store)}function ol(e){return Io(e,oo.store)}function ll(e){return Io(e,ao.store)}async function ul(e){if(e.code!==Qr.FAILED_PRECONDITION||e.message!==po)throw e;Br("LocalStore","Unexpectedly lost primary lease")}function cl([e,t],[n,r]){n=ii(e,n);return 0===n?ii(t,r):n}class hl{constructor(e){this.ue=e,this.buffer=new ra(cl),this.he=0}le(){return++this.he}fe(e){e=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();cl(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class dl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this.de?3e5:6e4;Br("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){xo(e)?Br("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ul(e)}await this._e(e)})}}class fl{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return go.resolve(ni.T);const n=new hl(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(t,n){return-1===this.params.cacheSizeCollectionThreshold?(Br("LruGarbageCollector","Garbage collection skipped; disabled"),go.resolve(Go)):this.getCacheSize(t).next(e=>e<this.params.cacheSizeCollectionThreshold?(Br("LruGarbageCollector",`Garbage collection skipped; Cache size ${e} is lower than threshold `+this.params.cacheSizeCollectionThreshold),Go):this.pe(t,n))}getCacheSize(e){return this.me.getCacheSize(e)}pe(t,n){let r,i,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(i=e>this.params.maximumSequenceNumbersToCollect?(Br("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from `+e),this.params.maximumSequenceNumbersToCollect):e,a=Date.now(),this.nthSequenceNumber(t,i))).next(e=>(r=e,o=Date.now(),this.removeTargets(t,r,n))).next(e=>(s=e,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(e=>(u=Date.now(),zr()<=h.DEBUG&&Br("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+"ms\n"+`	Removed ${s} targets in `+(l-o)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),go.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:e})))}}class pl{constructor(e,t){this.db=e,this.garbageCollector=(e=this,t=t,new fl(e,t))}ge(e){const n=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(t=>n.next(e=>t+e))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,n){return this.Ee(e,(e,t)=>n(t))}addReference(e,t,n){return ml(e,n)}removeReference(e,t,n){return ml(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ml(e,t)}Ie(t,n){let r=!1;return rl(t).jt(e=>el(t,e,n).next(e=>(e&&(r=!0),go.resolve(!e)))).next(()=>r)}removeOrphanedDocuments(n,r){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.Ee(n,(t,e)=>{if(e<=r){const r=this.Ie(n,t).next(e=>{if(!e)return a++,i.getEntry(n,t).next(()=>(i.removeEntry(t),ll(n).delete([0,Qa(t.path)])))});s.push(r)}}).next(()=>go.waitFor(s)).next(()=>i.apply(n)).next(()=>a)}removeTarget(e,t){t=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,t)}updateLimboDocument(e,t){return ml(e,t)}Ee(e,r){const t=ll(e);let i,s=ni.T;return t.Kt({index:ao.documentTargetsIndex},([e],{path:t,sequenceNumber:n})=>{0===e?(s!==ni.T&&r(new Ti(Ga(i)),s),s=n,i=t):s=ni.T}).next(()=>{s!==ni.T&&r(new Ti(Ga(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ml(e,t){return ll(e).put((t=t,e=e.currentSequenceNumber,new ao(0,Qa(t.path),e)))}class gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(t,n){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r){for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return void(r[e]=[t,n]);r.push([t,n])}else this.inner[e]=[[t,n]]}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return!1;for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return 1===r.length?delete this.inner[n]:r.splice(e,1),!0;return!1}forEach(r){ui(this.inner,(e,t)=>{for(const[e,n]of t)r(e,n)})}isEmpty(){return ci(this.inner)}}class yl{constructor(){this.changes=new gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){e=this.changes.get(e);return e?e.readTime:oi.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ui.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?go.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vl{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return xl(e).put(El(t),n)}removeEntry(e,t){const n=xl(e),r=El(t);return n.delete(r)}updateMetadata(t,n){return this.getMetadata(t).next(e=>(e.byteSize+=n,this.Ae(t,e)))}getEntry(e,t){return xl(e).get(El(t)).next(e=>this.Re(t,e))}be(e,t){return xl(e).get(El(t)).next(e=>({document:this.Re(t,e),size:Zo(e)}))}getEntries(e,t){let n=sa;return this.Pe(e,t,(e,t)=>{t=this.Re(e,t);n=n.insert(e,t)}).next(()=>n)}ve(e,t){let r=sa,i=new ea(Ti.comparator);return this.Pe(e,t,(e,t)=>{var n=this.Re(e,t);r=r.insert(e,n),i=i.insert(e,Zo(t))}).next(()=>({documents:r,Ve:i}))}Pe(e,t,i){if(t.isEmpty())return go.resolve();const n=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let a=s.getNext();return xl(e).Kt({range:n},(e,t,n)=>{for(var r=Ti.fromSegments(e);a&&Ti.comparator(a,r)<0;)i(a,null),a=s.getNext();a&&a.isEqual(r)&&(i(a,t),a=s.hasNext()?s.getNext():null),a?n.Mt(a.path.toArray()):n.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,r,t){let i=sa;const s=r.path.length+1,n={};if(t.isEqual(oi.min())){const e=r.path.toArray();n.range=IDBKeyRange.lowerBound(e)}else{const e=r.path.toArray(),i=jo(t);n.range=IDBKeyRange.lowerBound([e,i],!0),n.index=ro.collectionReadTimeIndex}return xl(e).Kt(n,(e,t,n)=>{e.length===s&&(t=Ro(this.N,t),r.path.isPrefixOf(t.key.path)?ws(r,t)&&(i=i.insert(t.key,t)):n.done())}).next(()=>i)}newChangeBuffer(e){return new bl(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return wl(e).get(io.key).next(e=>(Wr(!!e),e))}Ae(e,t){return wl(e).put(io.key,t)}Re(e,t){if(t){const e=Ro(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(oi.min()))return e}return Ui.newInvalidDocument(e)}}class bl extends yl{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new gl(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(i){const s=[];let a=0,o=new ra((e,t)=>ii(e.canonicalString(),t.canonicalString()));return this.changes.forEach((e,t)=>{var n=this.De.get(e);if(t.document.isValidDocument()){var r=Oo(this.Se.N,t.document,this.getReadTime(e));o=o.add(e.path.popLast());t=Zo(r);a+=t-n,s.push(this.Se.addEntry(i,e,r))}else if(a-=n,this.trackRemovals){const a=Oo(this.Se.N,Ui.newNoDocument(e,oi.min()),this.getReadTime(e));s.push(this.Se.addEntry(i,e,a))}else s.push(this.Se.removeEntry(i,e))}),o.forEach(e=>{s.push(this.Se.Ht.addToCollectionParentIndex(i,e))}),s.push(this.Se.updateMetadata(i,a)),go.waitFor(s)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function wl(e){return Io(e,io.store)}function xl(e){return Io(e,ro.store)}function El(e){return e.path.toArray()}class Sl{constructor(e){this.N=e}Ct(t,n,e,r){Wr(e<r&&0<=e&&r<=11);const i=new yo("createOrUpgrade",n);var s;e<1&&1<=r&&(t.createObjectStore(Xa.store),(s=t).createObjectStore(Za.store,{keyPath:Za.keyPath}),s.createObjectStore(Ja.store,{keyPath:Ja.keyPath,autoIncrement:!0}).createIndex(Ja.userMutationsIndex,Ja.userMutationsKeyPath,{unique:!0}),s.createObjectStore(eo.store),kl(t),t.createObjectStore(ro.store));let a=go.resolve();return e<3&&3<=r&&(0!==e&&((s=t).deleteObjectStore(ao.store),s.deleteObjectStore(so.store),s.deleteObjectStore(oo.store),kl(t)),a=a.next(()=>function(){const e=i.store(oo.store),t=new oo(0,0,oi.min().toTimestamp(),0);return e.put(oo.key,t)}())),e<4&&4<=r&&(0!==e&&(a=a.next(()=>function(r,i){return i.store(Ja.store).Lt().next(e=>{r.deleteObjectStore(Ja.store),r.createObjectStore(Ja.store,{keyPath:Ja.keyPath,autoIncrement:!0}).createIndex(Ja.userMutationsIndex,Ja.userMutationsKeyPath,{unique:!0});const t=i.store(Ja.store),n=e.map(e=>t.put(e));return go.waitFor(n)})}(t,i))),a=a.next(()=>{t.createObjectStore(uo.store,{keyPath:uo.keyPath})})),e<5&&5<=r&&(a=a.next(()=>this.Ce(i))),e<6&&6<=r&&(a=a.next(()=>(t.createObjectStore(io.store),this.Ne(i)))),e<7&&7<=r&&(a=a.next(()=>this.xe(i))),e<8&&8<=r&&(a=a.next(()=>this.ke(t,i))),e<9&&9<=r&&(a=a.next(()=>{var e;(e=t).objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),function(){const e=n.objectStore(ro.store);e.createIndex(ro.readTimeIndex,ro.readTimeIndexPath,{unique:!1}),e.createIndex(ro.collectionReadTimeIndex,ro.collectionReadTimeIndexPath,{unique:!1})}()})),e<10&&10<=r&&(a=a.next(()=>this.$e(i))),e<11&&11<=r&&(a=a.next(()=>{t.createObjectStore(co.store,{keyPath:co.keyPath}),t.createObjectStore(ho.store,{keyPath:ho.keyPath})})),a}Ne(t){let n=0;return t.store(ro.store).Kt((e,t)=>{n+=Zo(t)}).next(()=>{var e=new io(n);return t.store(io.store).put(io.key,e)})}Ce(n){const e=n.store(Za.store),r=n.store(Ja.store);return e.Lt().next(e=>go.forEach(e,t=>{var e=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return r.Lt(Ja.userMutationsIndex,e).next(e=>go.forEach(e,e=>{Wr(e.userId===t.userId);e=Fo(this.N,e);return Xo(n,t.userId,e).next(()=>{})}))}))}xe(e){const a=e.store(ao.store),t=e.store(ro.store);return e.store(oo.store).get(oo.key).next(i=>{const s=[];return t.Kt((e,t)=>{const n=new di(e),r=[0,Qa(n)];s.push(a.get(r).next(e=>e?go.resolve():(e=>a.put(new ao(0,Qa(e),i.highestListenSequenceNumber)))(n)))}).next(()=>go.waitFor(s))})}ke(e,t){e.createObjectStore(lo.store,{keyPath:lo.keyPath});const n=t.store(lo.store),r=new Ko,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Qa(r)})}};return t.store(ro.store).Kt({qt:!0},(e,t)=>{const n=new di(e);return i(n.popLast())}).next(()=>t.store(eo.store).Kt({qt:!0},([,e],t)=>{const n=Ga(e);return i(n.popLast())}))}$e(e){const n=e.store(so.store);return n.Kt((e,t)=>{t=Vo(t),t=Uo(this.N,t);return n.put(t)})}}function kl(e){e.createObjectStore(ao.store,{keyPath:ao.keyPath}).createIndex(ao.documentTargetsIndex,ao.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(so.store,{keyPath:so.keyPath}).createIndex(so.queryTargetsIndexName,so.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(oo.store)}const Cl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tl{constructor(e,t,n,r,i,s,a,o,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=a,this.Fe=l,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Tl.bt())throw new Gr(Qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pl(this,r),this.We=t+"main",this.N=new Lo(o),this.Ge=new vo(this.We,11,new Sl(this.N)),this.ze=new sl(this.referenceDelegate,this.N),this.Ht=new Wo,this.He=(t=this.N,o=this.Ht,new vl(t,o)),this.Je=new Bo,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gr(Qr.FAILED_PRECONDITION,Cl);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new ni(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(t){return this.Qe=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(async e=>{null===e.newVersion&&await t()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Nl(t).put(new uo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(e=>{if(xo(e))return Br("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Br("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Il(e).get(Xa.key).next(e=>go.resolve(this.an(e)))}un(e){return Nl(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();var e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const r=Io(e,uo.store);return r.Lt().next(e=>{const t=this.fn(e,18e5),n=e.filter(e=>-1===t.indexOf(e));return go.forEach(n,e=>r.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(t){return this.Me?go.resolve(!0):Il(t).get(Xa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new Gr(Qr.FAILED_PRECONDITION,Cl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nl(t).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){var t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,e=this.networkEnabled===e.networkEnabled;if(t||n&&e)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Br("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[Xa.store,uo.store],e=>{const t=new To(e,ni.T);return this.on(t).next(()=>this.un(t))}),this.Ge.close(),this.yn()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Nl(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Jo.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,n,r){Br("IndexedDbPersistence","Starting transaction:",t);let i;return this.Ge.runTransaction(t,"readonly"===n?"readonly":"readwrite",fo,e=>(i=new To(e,this.Le?this.Le.next():ni.T),"readwrite-primary"===n?this.sn(i).next(e=>!!e||this.rn(i)).next(e=>{if(!e)throw qr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Gr(Qr.FAILED_PRECONDITION,po);return r(i)}).next(e=>this.cn(i).next(()=>e)):this.Tn(i).next(()=>r(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Tn(e){return Il(e).get(Xa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gr(Qr.FAILED_PRECONDITION,Cl)})}cn(e){var t=new Xa(this.clientId,this.allowTabSynchronization,Date.now());return Il(e).put(Xa.key,t)}static bt(){return vo.bt()}on(e){const t=Il(e);return t.get(Xa.key).next(e=>this.an(e)?(Br("IndexedDbPersistence","Releasing primary lease."),t.delete(Xa.key)):go.resolve())}ln(e,t){var n=Date.now();return!(e<n-t||n<e&&(qr(`Detected an update time that is in the future: ${e} > `+n),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),t()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Br("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return qr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_`+e}}function Il(e){return Io(e,Xa.store)}function Nl(e){return Io(e,uo.store)}function _l(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Dl{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(t,n){return this.In.getAllMutationBatchesAffectingDocumentKey(t,n).next(e=>this.Rn(t,n,e))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,n){e.forEach((e,t)=>{for(const e of n)e.applyToLocalView(t)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return r=t,Ti.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):fs(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}Vn(e,t){return this.An(e,new Ti(t)).next(e=>{let t=aa;return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(n,r,i){const s=r.collectionGroup;let a=aa;return this.Ht.getCollectionParents(n,s).next(e=>go.forEach(e,e=>{var t,t=(t=r,e=e.child(s),new as(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt));return this.Dn(n,t,i).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}Dn(t,n,e){let i,s;return this.He.getDocumentsMatchingQuery(t,n,e).next(e=>(i=e,this.In.getAllMutationBatchesAffectingQuery(t,n))).next(e=>(s=e,this.Cn(t,s,i).next(t=>{i=t;for(const t of s)for(const r of t.mutations){var n=r.key;let e=i.get(n);null==e&&(e=Ui.newInvalidDocument(n),i=i.insert(n,e)),zs(r,e,t.localWriteTime),e.isFoundDocument()||(i=i.remove(n))}}))).next(()=>(i.forEach((e,t)=>{ws(n,t)||(i=i.remove(e))}),i))}Cn(e,t,n){let r=ua();for(const e of t)for(const t of e.mutations)t instanceof $s&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Ll{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=ua(),r=ua();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Ll(e,t.fromCache,n,r)}}class Rl{$n(e){this.On=e}getDocumentsMatchingQuery(t,r,i,s){return 0===(e=r).filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||i.isEqual(oi.min())?this.Fn(t,r):this.On.Pn(t,s).next(e=>{const n=this.Mn(r,e);return(us(r)||cs(r))&&this.Ln(r.limitType,n,s,i)?this.Fn(t,r):(zr()<=h.DEBUG&&Br("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(r)),this.On.getDocumentsMatchingQuery(t,r,i).next(t=>(n.forEach(e=>{t=t.insert(e.key,e)}),t)))});var e}Mn(n,e){let r=new ra(xs(n));return e.forEach((e,t)=>{ws(n,t)&&(r=r.add(t))}),r}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||0<i.version.compareTo(r))}Fn(e,t){return zr()<=h.DEBUG&&Br("QueryEngine","Using full collection scan to execute query:",bs(t)),this.On.getDocumentsMatchingQuery(e,t,oi.min())}}class Ol{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new ea(ii),this.qn=new gl(e=>qi(e),Hi),this.Kn=oi.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Dl(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function jl(e,t,n,r){return new Ol(e,t,n,r)}async function Al(e,t){const n=e;let r=n.In,a=n.Qn;e=await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.In.getAllMutationBatches(i).next(e=>(s=e,r=n.persistence.getMutationQueue(t),a=new Dl(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(i))).next(e=>{const t=[],n=[];let r=ua();for(const i of s){t.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}for(const i of e){n.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}return a.Pn(i,r).next(e=>({Wn:e,removedBatchIds:t,addedBatchIds:n}))})});return n.In=r,n.Qn=a,n.Bn.$n(n.Qn),e}function Pl(e){const t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Ml(e,n){const c=e,h=n.snapshotVersion;let d=c.Un;return c.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const e=c.jn.newChangeBuffer({trackRemovals:!0});d=c.Un;const u=[];n.targetChanges.forEach((e,t)=>{const n=d.get(t);if(n){u.push(c.ze.removeMatchingKeys(l,e.removedDocuments,t).next(()=>c.ze.addMatchingKeys(l,e.addedDocuments,t)));const o=e.resumeToken;var r,i,s,a;0<o.approximateByteSize()&&(r=n.withResumeToken(o,h).withSequenceNumber(l.currentSequenceNumber),d=d.insert(t,r),i=n,a=e,Wr(0<(s=r).resumeToken.approximateByteSize()),0!==i.resumeToken.approximateByteSize()&&!(3e8<=s.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()||0<a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size)||u.push(c.ze.updateTargetData(l,r)))}});let t=sa;if(n.documentUpdates.forEach((e,t)=>{n.resolvedLimboDocuments.has(e)&&u.push(c.persistence.referenceDelegate.updateLimboDocument(l,e))}),u.push(Fl(l,e,n.documentUpdates,h,void 0).next(e=>{t=e})),!h.isEqual(oi.min())){const n=c.ze.getLastRemoteSnapshotVersion(l).next(e=>c.ze.setTargetsMetadata(l,l.currentSequenceNumber,h));u.push(n)}return go.waitFor(u).next(()=>e.apply(l)).next(()=>c.Qn.vn(l,t)).next(()=>t)}).then(e=>(c.Un=d,e))}function Fl(e,a,t,o,l){let n=ua();return t.forEach(e=>n=n.add(e)),a.getEntries(e,n).next(i=>{let s=sa;return t.forEach((e,t)=>{const n=i.get(e),r=(null==l?void 0:l.get(e))||o;t.isNoDocument()&&t.version.isEqual(oi.min())?(a.removeEntry(e,r),s=s.insert(e,t)):!n.isValidDocument()||0<t.version.compareTo(n.version)||0===t.version.compareTo(n.version)&&n.hasPendingWrites?(a.addEntry(t,r),s=s.insert(e,t)):Br("LocalStore","Ignoring outdated watch update for ",e,". Current version:",n.version," Watch version:",t.version)}),s})}function Vl(e,r){const i=e;return i.persistence.runTransaction("Allocate target","readwrite",t=>{let n;return i.ze.getTargetData(t,r).next(e=>e?(n=e,go.resolve(n)):i.ze.allocateTargetId(t).next(e=>(n=new Do(r,e,0,t.currentSequenceNumber),i.ze.addTargetData(t,n).next(()=>n))))}).then(e=>{var t=i.Un.get(e.targetId);return(null===t||0<e.snapshotVersion.compareTo(t.snapshotVersion))&&(i.Un=i.Un.insert(e.targetId,e),i.qn.set(r,e.targetId)),e})}async function Ul(e,t,n){const r=e,i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!xo(e))throw e;Br("LocalStore",`Failed to update sequence numbers for target ${t}: `+e)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function zl(e,n,r){const i=e;let s=oi.min(),a=ua();return i.persistence.runTransaction("Execute query","readonly",t=>function(e,t,n){const r=e,i=r.qn.get(n);return void 0!==i?go.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(i,t,ms(n)).next(e=>{if(e)return s=e.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(t,e.targetId).next(e=>{a=e})}).next(()=>i.Bn.getDocumentsMatchingQuery(t,n,r?s:oi.min(),r?a:ua())).next(e=>({documents:e,Gn:a})))}class Bl{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return go.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){return this.Yn.set(t.id,{id:t.id,version:t.version,createTime:Ca(t.createTime)}),go.resolve()}getNamedQuery(e,t){return go.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(t=t).name,query:zo(t.bundledQuery),readTime:Ca(t.readTime)}),go.resolve()}}class ql{constructor(){this.Zn=new ra(Hl.ts),this.es=new ra(Hl.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){t=new Hl(e,t);this.Zn=this.Zn.add(t),this.es=this.es.add(t)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Hl(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Ti(new di([])),n=new Hl(t,e),r=new Hl(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){var t=new Ti(new di([])),n=new Hl(t,e),e=new Hl(t,e+1);let r=ua();return this.es.forEachInRange([n,e],e=>{r=r.add(e.key)}),r}containsKey(e){var t=new Hl(e,0),t=this.Zn.firstAfterOrEqual(t);return null!==t&&e.isEqual(t.key)}}class Hl{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ti.comparator(e.key,t.key)||ii(e.ls,t.ls)}static ns(e,t){return ii(e.ls,t.ls)||Ti.comparator(e.key,t.key)}}class $l{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new ra(Hl.ts)}checkEmpty(e){return go.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){var i=this.fs;this.fs++,0<this.In.length&&this.In[this.In.length-1];n=new No(i,t,n,r);this.In.push(n);for(const t of r)this.ds=this.ds.add(new Hl(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return go.resolve(n)}lookupMutationBatch(e,t){return go.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){t=this._s(t+1),t=t<0?0:t;return go.resolve(this.In.length>t?this.In[t]:null)}getHighestUnacknowledgedBatchId(){return go.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return go.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hl(t,0),r=new Hl(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{e=this.ws(e.ls);i.push(e)}),go.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ra(ii);return t.forEach(e=>{var t=new Hl(e,0),e=new Hl(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,e],e=>{n=n.add(e.ls)})}),go.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ti.isDocumentKey(i)||(i=i.child(""));t=new Hl(new Ti(i),0);let s=new ra(ii);return this.ds.forEachWhile(e=>{var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)},t),go.resolve(this.gs(s))}gs(e){const t=[];return e.forEach(e=>{e=this.ws(e);null!==e&&t.push(e)}),t}removeMutationBatch(n,r){Wr(0===this.ys(r.batchId,"removed")),this.In.shift();let i=this.ds;return go.forEach(r.mutations,e=>{var t=new Hl(e.key,r.batchId);return i=i.delete(t),this.referenceDelegate.markPotentiallyOrphaned(n,e.key)}).next(()=>{this.ds=i})}te(e){}containsKey(e,t){var n=new Hl(t,0),n=this.ds.firstAfterOrEqual(n);return go.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.In.length,go.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){e=this._s(e);return e<0||e>=this.In.length?null:this.In[e]}}class Kl{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ea(Ti.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return go.resolve(n?n.document.clone():Ui.newInvalidDocument(t))}getEntries(e,t){let n=sa;return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Ui.newInvalidDocument(e))}),go.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=sa;const i=new Ti(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:a}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;a.compareTo(n)<=0||ws(t,i)&&(r=r.insert(i.key,i.clone()))}return go.resolve(r)}Ts(e,t){return go.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Wl(this)}getSize(e){return go.resolve(this.size)}}class Wl extends yl{constructor(e){super(),this.Se=e}applyChanges(n){const r=[];return this.changes.forEach((e,t)=>{t.document.isValidDocument()?r.push(this.Se.addEntry(n,t.document,this.getReadTime(e))):this.Se.removeEntry(e)}),go.waitFor(r)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Ql{constructor(e){this.persistence=e,this.Es=new gl(e=>qi(e),Hi),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.Is=0,this.As=new ql,this.targetCount=0,this.Rs=il.se()}forEachTarget(e,n){return this.Es.forEach((e,t)=>n(t)),go.resolve()}getLastRemoteSnapshotVersion(e){return go.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return go.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),go.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),go.resolve()}ce(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new il(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,go.resolve()}updateTargetData(e,t){return this.ce(t),go.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),--this.targetCount,go.resolve()}removeTargets(n,r,i){let s=0;const a=[];return this.Es.forEach((e,t)=>{t.sequenceNumber<=r&&null===i.get(t.targetId)&&(this.Es.delete(e),a.push(this.removeMatchingKeysForTargetId(n,t.targetId)),s++)}),go.waitFor(a).next(()=>s)}getTargetCount(e){return go.resolve(this.targetCount)}getTargetData(e,t){t=this.Es.get(t)||null;return go.resolve(t)}addMatchingKeys(e,t,n){return this.As.ss(t,n),go.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),go.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),go.resolve()}getMatchingKeysForTargetId(e,t){t=this.As.hs(t);return go.resolve(t)}containsKey(e,t){return go.resolve(this.As.containsKey(t))}}class Gl{constructor(e,t){var n;this.bs={},this.Le=new ni(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Ql(this),this.Ht=new $o,this.He=(n=this.Ht,e=e=>this.referenceDelegate.Ps(e),new Kl(n,e)),this.N=new Lo(t),this.Je=new Bl(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new $l(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Br("MemoryPersistence","Starting transaction:",e);const r=new Yl(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(t,n){return go.or(Object.values(this.bs).map(e=>()=>e.containsKey(t,n)))}}class Yl extends mo{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.Ds=new ql,this.Cs=null}static Ns(e){return new Xl(e)}get xs(){if(this.Cs)return this.Cs;throw Kr()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),go.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),go.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),go.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return go.forEach(this.xs,e=>{const t=Ti.fromPath(e);return this.ks(n,t).next(e=>{e||r.removeEntry(t)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return go.or([()=>go.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class Zl{constructor(){this.activeTargetIds=ca}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jl{constructor(){this.yi=new Zl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Zl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class eu{Ti(e){}shutdown(){}}class tu{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Br("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Br("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ru{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class iu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);Br("RestConnection","Sending: ",i,n);e={};return this.Ui(e,r),this.qi(t,i,e,n).then(e=>(Br("RestConnection","Received: ",e),e),e=>{throw Hr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){e=nu[e];return this.Fi+`/v1/${t}:`+e}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(o,t,n,r){return new Promise((i,s)=>{const a=new Pr;a.listenOnce(Lr.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Dr.NO_ERROR:var e=a.getResponseJson();Br("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Dr.TIMEOUT:Br("Connection",'RPC "'+o+'" timed out'),s(new Gr(Qr.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:var t,n=a.getStatus();if(Br("Connection",'RPC "'+o+'" failed with status:',n,"response text:",a.getResponseText()),0<n){const o=a.getResponseJson().error;o&&o.status&&o.message?(r=o.status.toLowerCase().replace(/_/g,"-"),t=0<=Object.values(Qr).indexOf(r)?r:Qr.UNKNOWN,s(new Gr(t,o.message))):s(new Gr(Qr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Gr(Qr.UNAVAILABLE,"Connection failed."));break;default:Kr()}}finally{Br("Connection",'RPC "'+o+'" completed.')}var r});var e=JSON.stringify(r);a.send(t,"POST",e,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Nr(),i=_r(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/`+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new jr({})),this.Ui(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=d().indexOf("Electron/")||function(){const e=d();return 0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")}()||0<=d().indexOf("MSAppHost/")||"object"==typeof(a="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==a.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Br("Connection","Creating WebChannel: "+a,s);const o=r.createWebChannel(a,s);let l=!1,u=!1;const c=new ru({vi:e=>{u?Br("Connection","Not sending because WebChannel is closed:",e):(l||(Br("Connection","Opening WebChannel transport."),o.open(),l=!0),Br("Connection","WebChannel sending:",e),o.send(e))},Vi:()=>o.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(o,Ar.EventType.OPEN,()=>{u||Br("Connection","WebChannel transport opened.")}),h(o,Ar.EventType.CLOSE,()=>{u||(u=!0,Br("Connection","WebChannel transport closed"),c.$i())}),h(o,Ar.EventType.ERROR,e=>{u||(u=!0,Hr("Connection","WebChannel transport errored:",e),c.$i(new Gr(Qr.UNAVAILABLE,"The operation could not be completed")))}),h(o,Ar.EventType.MESSAGE,e=>{if(!u){e=e.data[0];Wr(!!e);var n=e.error||(null===(n=e[0])||void 0===n?void 0:n.error);if(n){Br("Connection","WebChannel received error:",n);const r=n.status;let e=function(e){e=Ir[e];if(void 0!==e)return Js(e)}(r),t=n.message;void 0===e&&(e=Qr.INTERNAL,t="Unknown error status: "+r+" with message "+n.message),u=!0,c.$i(new Gr(e,t)),o.close()}else Br("Connection","WebChannel received:",e),c.Oi(e)}}),h(i,Rr.STAT_EVENT,e=>{e.stat===Or.PROXY?Br("Connection","Detected buffering proxy"):e.stat===Or.NOPROXY&&Br("Connection","Detected no buffering proxy")}),setTimeout(()=>{c.ki()},0),c}}function su(){return"undefined"!=typeof window?window:null}function au(){return"undefined"!=typeof document?document:null}function ou(e){return new Ea(e,!0)}class lu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();var t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);0<r&&Br("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class uu{constructor(e,t,n,r,i,s,a){this.Oe=e,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=a,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new lu(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}async stop(){this.ur()&&await this.close(0)}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}async _r(){if(this.hr())return this.close(0)}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.gr(),this.yr(),this.ar.cancel(),this.ir++,4!==e?this.ar.reset():t&&t.code===Qr.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.ar.Yi()):t&&t.code===Qr.UNAUTHENTICATED&&3!==this.state&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.pr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(e=>{this.ir===t&&this.Er(e)},t=>{e(()=>{var e=new Gr(Qr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ir(e)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.Ir(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}lr(){this.state=5,this.ar.Xi(async()=>{this.state=0,this.start()})}Ir(e){return Br("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Br("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cu extends uu{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i),this.N=r}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();var t=function(e,t){let n;if("targetChange"in t){t.targetChange;var r="NO_CHANGE"===(s=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===s?1:"REMOVE"===s?2:"CURRENT"===s?3:"RESET"===s?4:Kr(),i=t.targetChange.targetIds||[],s=(a=t.targetChange.resumeToken,e.D?(Wr(void 0===a||"string"==typeof a),gi.fromBase64String(a||"")):(Wr(void 0===a||a instanceof Uint8Array),gi.fromUint8Array(a||new Uint8Array))),a=t.targetChange.cause,o=a&&(a=void 0===(o=a).code?Qr.UNKNOWN:Js(o.code),new Gr(a,o.message||""));n=new ma(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var s=_a(e,l.document.name),u=Ca(l.document.updateTime),o=new Vi({mapValue:{fields:l.document.fields}}),u=Ui.newFoundDocument(s,u,o),o=l.targetIds||[],l=l.removedTargetIds||[];n=new fa(o,l,u.key,u)}else if("documentDelete"in t){t.documentDelete;l=t.documentDelete;l.document;var u=_a(e,l.document),c=l.readTime?Ca(l.readTime):oi.min(),c=Ui.newNoDocument(u,c),l=l.removedTargetIds||[];n=new fa([],l,c.key,c)}else if("documentRemove"in t){t.documentRemove;c=t.documentRemove;c.document;var h=_a(e,c.document),c=c.removedTargetIds||[];n=new fa([],c,h,null)}else{if(!("filter"in t))return Kr();{t.filter;const e=t.filter;e.targetId;h=e.count||0,t=new Xs(h),h=e.targetId;n=new pa(h,t)}}var o,s;return n}(this.N,e),e=function(e){if(!("targetChange"in e))return oi.min();e=e.targetChange;return(!e.targetIds||!e.targetIds.length)&&e.readTime?Ca(e.readTime):oi.min()}(e);return this.listener.Rr(t,e)}br(e){const t={};t.database=Ra(this.N),t.addTarget=function(e,t){let n;var r=t.target;return n=$i(r)?{documents:Fa(e,r)}:{query:Va(e,r)},n.targetId=t.targetId,0<t.resumeToken.approximateByteSize()?n.resumeToken=ka(e,t.resumeToken):0<t.snapshotVersion.compareTo(oi.min())&&(n.readTime=Sa(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n,e=(this.N,n=e,null==(e=function(){switch(n.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Kr()}}())?null:{"goog-listen-tags":e});e&&(t.labels=e),this.mr(t)}Pr(e){const t={};t.database=Ra(this.N),t.removeTarget=e,this.mr(t)}}class hu extends uu{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Wr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(Wr(void 0!==r),n.map(e=>function(e,t){let n=e.updateTime?Ca(e.updateTime):Ca(t);return n.isEqual(oi.min())&&(n=Ca(t)),new Ps(n,e.transformResults||[])}(e,r))):[]),n=Ca(e.commitTime);return this.listener.Dr(n,t)}var n,r;return Wr(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Ra(this.N),this.mr(e)}Sr(e){e={streamToken:this.lastStreamToken,writes:e.map(e=>Pa(this.N,e))};this.mr(e)}}class du extends class{}{constructor(e,t,n){super(),this.credentials=e,this.sr=t,this.N=n,this.kr=!1}$r(){if(this.kr)throw new Gr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,n,r){return this.$r(),this.credentials.getToken().then(e=>this.sr.Li(t,n,r,e)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Qr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Gr(Qr.UNKNOWN,e.toString())})}Ki(t,n,r){return this.$r(),this.credentials.getToken().then(e=>this.sr.Ki(t,n,r,e)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Qr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Gr(Qr.UNKNOWN,e.toString())})}terminate(){this.kr=!0}}class fu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,1<=this.Or&&(this.Kr(),this.Ur("Connection failed 1 times. Most recent error: "+e.toString()),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){e=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(qr(e),this.Mr=!1):Br("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class pu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(e=>{n.enqueueAndForget(async()=>{Su(this)&&(Br("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=e;t.Wr.add(4),await gu(t),t.Hr.set("Unknown"),t.Wr.delete(4),await mu(t)}(this))})}),this.Hr=new fu(n,r)}}async function mu(e){if(Su(e))for(const t of e.Gr)await t(!0)}async function gu(e){for(const t of e.Gr)await t(!1)}function yu(e,t){const n=e;n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),Eu(n)?xu(n):Lu(n).hr()&&bu(n,t))}function vu(e,t){const n=e,r=Lu(n);n.Qr.delete(t),r.hr()&&wu(n,t),0===n.Qr.size&&(r.hr()?r.wr():Su(n)&&n.Hr.set("Unknown"))}function bu(e,t){e.Jr.Y(t.targetId),Lu(e).br(t)}function wu(e,t){e.Jr.Y(t),Lu(e).Pr(t)}function xu(t){t.Jr=new ya({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),Lu(t).start(),t.Hr.Lr()}function Eu(e){return Su(e)&&!Lu(e).ur()&&0<e.Qr.size}function Su(e){return 0===e.Wr.size}function ku(e){e.Jr=void 0}async function Cu(e,t,n){if(!xo(t))throw t;e.Wr.add(1),await gu(e),e.Hr.set("Offline"),n=n||(()=>Pl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Br("RemoteStore","Retrying IndexedDB access"),await n(),e.Wr.delete(1),await mu(e)})}function Tu(t,n){return n().catch(e=>Cu(t,e,n))}async function Iu(e){const t=e,n=Ru(t);let r=0<t.jr.length?t.jr[t.jr.length-1].batchId:-1;for(;Su(i=t)&&i.jr.length<10;)try{const e=await function(e,t){const n=e;return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}(t.localStore,r);if(null===e){0===t.jr.length&&n.wr();break}r=e.batchId,function(e,t){e.jr.push(t);const n=Ru(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}(t,e)}catch(e){await Cu(t,e)}var i;Nu(t)&&_u(t)}function Nu(e){return Su(e)&&!Ru(e).ur()&&0<e.jr.length}function _u(e){Ru(e).start()}async function Du(e,t){const n=e;t?(n.Wr.delete(2),await mu(n)):(n.Wr.add(2),await gu(n),n.Hr.set("Unknown"))}function Lu(t){return t.Yr||(t.Yr=function(e,t,n){const r=e;return r.$r(),new cu(t,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:async function(n){n.Qr.forEach((e,t)=>{bu(n,e)})}.bind(null,t),Ci:async function(e,t){ku(e),Eu(e)?(e.Hr.qr(t),xu(e)):e.Hr.set("Unknown")}.bind(null,t),Rr:async function(e,r,t){if(e.Hr.set("Online"),r instanceof ma&&2===r.state&&r.cause)try{await async function(e){var t=r.cause;for(const n of r.targetIds)e.Qr.has(n)&&(await e.remoteSyncer.rejectListen(n,t),e.Qr.delete(n),e.Jr.removeTarget(n))}(e)}catch(t){Br("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),t),await Cu(e,t)}else if(r instanceof fa?e.Jr.rt(r):r instanceof pa?e.Jr.ft(r):e.Jr.at(r),!t.isEqual(oi.min()))try{const r=await Pl(e.localStore);0<=t.compareTo(r)&&await function(r,i){const e=r.Jr._t(i);return e.targetChanges.forEach((e,t)=>{if(0<e.resumeToken.approximateByteSize()){const n=r.Qr.get(t);n&&r.Qr.set(t,n.withResumeToken(e.resumeToken,i))}}),e.targetMismatches.forEach(e=>{const t=r.Qr.get(e);t&&(r.Qr.set(e,t.withResumeToken(gi.EMPTY_BYTE_STRING,t.snapshotVersion)),wu(r,e),e=new Do(t.target,e,1,t.sequenceNumber),bu(r,e))}),r.remoteSyncer.applyRemoteEvent(e)}(e,t)}catch(r){Br("RemoteStore","Failed to raise snapshot:",r),await Cu(e,r)}}.bind(null,t)}),t.Gr.push(async e=>{e?(t.Yr.dr(),Eu(t)?xu(t):t.Hr.set("Unknown")):(await t.Yr.stop(),ku(t))})),t.Yr}function Ru(t){return t.Xr||(t.Xr=function(e,t,n){const r=e;return r.$r(),new hu(t,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:async function(e){Ru(e).Nr()}.bind(null,t),Ci:async function(e,t){t&&Ru(e).Vr&&await async function(e,t){if(Zs(n=t.code)&&n!==Qr.ABORTED){const n=e.jr.shift();Ru(e).dr(),await Tu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Iu(e)}var n}(e,t),Nu(e)&&_u(e)}.bind(null,t),Cr:async function(e){const t=Ru(e);for(const n of e.jr)t.Sr(n.mutations)}.bind(null,t),Dr:async function(e,t,n){const r=e.jr.shift(),i=_o.from(r,t,n);await Tu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Iu(e)}.bind(null,t)}),t.Gr.push(async e=>{e?(t.Xr.dr(),await Iu(t)):(await t.Xr.stop(),0<t.jr.length&&(Br("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))})),t.Xr}class Ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Ou(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gr(Qr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ju(e,t){if(qr("AsyncQueue",t+": "+e),xo(e))return new Gr(Qr.UNAVAILABLE,t+": "+e);throw e}class Au{constructor(n){this.comparator=n?(e,t)=>n(e,t)||Ti.comparator(e.key,t.key):(e,t)=>Ti.comparator(e.key,t.key),this.keyedMap=aa,this.sortedSet=new ea(this.comparator)}static emptySet(e){return new Au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){e=this.keyedMap.get(e);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((e,t)=>(n(e),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Au))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(e,t){const n=new Au;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Pu{constructor(){this.Zr=new ea(Ti.comparator)}track(e){var t=e.doc.key,n=this.Zr.get(t);!n||0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):Kr()}eo(){const n=[];return this.Zr.inorderTraversal((e,t)=>{n.push(t)}),n}}class Mu{constructor(e,t,n,r,i,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Mu(e,t,Au.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Fu{constructor(){this.no=void 0,this.listeners=[]}}class Vu{constructor(){this.queries=new gl(e=>vs(e),ys),this.onlineState="Unknown",this.so=new Set}}async function Uu(e,t){const n=e,r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fu),i)try{s.no=await n.onListen(r)}catch(e){const n=ju(e,`Initialization of query '${bs(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.io(n.onlineState),!s.no||t.ro(s.no)&&Bu(n)}async function zu(e,t){const n=e,r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);0<=e&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Bu(e){e.so.forEach(e=>{e.next()})}class qu{constructor(e,t,n){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Mu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){if(0<e.docChanges.length)return!0;var t=this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}lo(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class Hu{constructor(e){this.key=e}}class $u{constructor(e){this.key=e}}class Ku{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=ua(),this.mutatedKeys=ua(),this.Io=xs(e),this.Ao=new Au(this.Io)}get Ro(){return this.po}bo(e,t){const o=t?t.Po:new Pu,l=(t||this).Ao;let u=(t||this).mutatedKeys,c=l,h=!1;const d=us(this.query)&&l.size===this.query.limit?l.last():null,f=cs(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((e,t)=>{const n=l.get(e),r=ws(this.query,t)?t:null,i=!!n&&this.mutatedKeys.has(n.key),s=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let a=!1;n&&r?n.data.isEqual(r.data)?i!==s&&(o.track({type:3,doc:r}),a=!0):this.vo(n,r)||(o.track({type:2,doc:r}),a=!0,(d&&0<this.Io(r,d)||f&&this.Io(r,f)<0)&&(h=!0)):!n&&r?(o.track({type:0,doc:r}),a=!0):n&&!r&&(o.track({type:1,doc:n}),a=!0,(d||f)&&(h=!0)),a&&(u=r?(c=c.add(r),s?u.add(e):u.delete(e)):(c=c.delete(e),u.delete(e)))}),us(this.query)||cs(this.query))for(;c.size>this.query.limit;){const e=us(this.query)?c.last():c.first();c=c.delete(e.key),u=u.delete(e.key),o.track({type:1,doc:e})}return{Ao:c,Po:o,Ln:h,mutatedKeys:u}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){var r=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const i=e.Po.eo();i.sort((e,t)=>function(e,t){var n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kr()}};return n(e)-n(t)}(e.type,t.type)||this.Io(e.doc,t.doc)),this.Vo(n);var s=t?this.So():[],n=0===this.Eo.size&&this.current?1:0,t=n!==this.To;return this.To=n,0!==i.length||t?{snapshot:new Mu(this.query,e.Ao,r,i,e.mutatedKeys,0==n,t,!1),Do:s}:{Do:s}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Pu,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(e=>this.po=this.po.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=e.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=ua(),this.Ao.forEach(e=>{this.Co(e.key)&&(this.Eo=this.Eo.add(e.key))});const n=[];return t.forEach(e=>{this.Eo.has(e)||n.push(new $u(e))}),this.Eo.forEach(e=>{t.has(e)||n.push(new Hu(e))}),n}No(e){this.po=e.Gn,this.Eo=ua();e=this.bo(e.documents);return this.applyChanges(e,!0)}xo(){return Mu.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Wu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Qu{constructor(e){this.key=e,this.ko=!1}}class Gu{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new gl(e=>vs(e),ys),this.Fo=new Map,this.Mo=new Set,this.Lo=new ea(Ti.comparator),this.Bo=new Map,this.Uo=new ql,this.qo={},this.Ko=new Map,this.jo=il.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}async function Yu(n,e,t,r){n.Wo=(e,i,t)=>async function(e,t,n){let r=t.view.bo(i);r.Ln&&(r=await zl(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,r)));n=n&&n.targetChanges.get(t.targetId),n=t.view.applyChanges(r,e.isPrimaryClient,n);return sc(e,t.targetId,n.Do),n.snapshot}(n,e,t);const i=await zl(n.localStore,e,!0),s=new Ku(e,i.Gn),a=s.bo(i.documents),o=da.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(a,n.isPrimaryClient,o);sc(n,t,l.Do);r=new Wu(e,t,s);return n.Oo.set(e,r),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),l.snapshot}async function Xu(e,t,n){const r=uc(e);try{const e=await function(e,r){const i=e,s=ai.now(),t=r.reduce((e,t)=>e.add(t.key),ua());let a;return i.persistence.runTransaction("Locally write mutations","readwrite",n=>i.Qn.Pn(n,t).next(e=>{a=e;const t=[];for(const n of r){const r=function(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ts(r.transform,e||null);null!=i&&(null==n&&(n=Vi.empty()),n.set(r.field,i))}return n||null}(n,a.get(n.key));null!=r&&t.push(new $s(n.key,r,function r(e){const i=[];return ui(e.fields,(e,t)=>{const n=new pi([e]);if(Mi(t)){const e=r(t.mapValue).fields;if(0===e.length)i.push(n);else for(const t of e)i.push(n.child(t))}else i.push(n)}),new mi(i)}(r.value.mapValue),Ms.exists(!0)))}return i.In.addMutationBatch(n,s,t,r)})).then(e=>(e.applyToLocalDocumentSet(a),{batchId:e.batchId,changes:a}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qo[e.currentUser.toKey()];r=r||new ea(ii),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(r,e.batchId,n),await oc(r,e.changes),await Iu(r.remoteStore)}catch(e){const t=ju(e,"Failed to persist write");n.reject(t)}}async function Zu(e,t){const r=e;try{const e=await Ml(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.Bo.get(t);n&&(Wr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?n.ko=!0:0<e.modifiedDocuments.size?Wr(n.ko):0<e.removedDocuments.size&&(Wr(n.ko),n.ko=!1))}),await oc(r,e,t)}catch(e){await ul(e)}}function Ju(n,r,e){const t=n;if(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e){const n=[];t.Oo.forEach((e,t)=>{t=t.view.io(r);t.snapshot&&n.push(t.snapshot)}),function(e,n){const t=e;t.onlineState=n;let r=!1;t.queries.forEach((e,t)=>{for(const e of t.listeners)e.io(n)&&(r=!0)}),r&&Bu(t)}(t.eventManager,r),n.length&&t.$o.Rr(n),t.onlineState=r,t.isPrimaryClient&&t.sharedClientState.setOnlineState(r)}}async function ec(e,t){const n=e,r=t.batch.batchId;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const t=r.batch.keys(),n=i.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,r,i){const s=r.batch,n=s.keys();let a=go.resolve();return n.forEach(n=>{a=a.next(()=>i.getEntry(t,n)).next(e=>{var t=r.docVersions.get(n);Wr(null!==t),e.version.compareTo(t)<0&&(s.applyToRemoteDocument(e,r),e.isValidDocument()&&i.addEntry(e,r.commitVersion))})}),a.next(()=>e.In.removeMutationBatch(t,s))}(i,e,r,n).next(()=>n.apply(e)).next(()=>i.In.performConsistencyCheck(e)).next(()=>i.Qn.Pn(e,t))})}(n.localStore,t);nc(n,r,null),tc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oc(n,e)}catch(e){await ul(e)}}function tc(e,t){(e.Ko.get(t)||[]).forEach(e=>{e.resolve()}),e.Ko.delete(t)}function nc(e,t,n){const r=e;let i=r.qo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function rc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(e=>{t.Uo.containsKey(e)||ic(t,e)})}function ic(e,t){e.Mo.delete(t.path.canonicalString());var n=e.Lo.get(t);null!==n&&(vu(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),ac(e))}function sc(e,t,n){for(const r of n)r instanceof Hu?(e.Uo.addReference(r.key,t),function(e,t){const n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(Br("SyncEngine","New document in limbo: "+n),e.Mo.add(r),ac(e))}(e,r)):r instanceof $u?(Br("SyncEngine","Document no longer in limbo: "+r.key),e.Uo.removeReference(r.key,t),e.Uo.containsKey(r.key)||ic(e,r.key)):Kr()}function ac(e){for(;0<e.Mo.size&&e.Lo.size<e.maxConcurrentLimboResolutions;){var t=e.Mo.values().next().value;e.Mo.delete(t);var n=new Ti(di.fromString(t)),t=e.jo.next();e.Bo.set(t,new Qu(n)),e.Lo=e.Lo.insert(n,t),yu(e.remoteStore,new Do(ms(ls(n.path)),t,2,ni.T))}}async function oc(e,n,r){const i=e,s=[],a=[],o=[];i.Oo.isEmpty()||(i.Oo.forEach((e,t)=>{o.push(i.Wo(t,n,r).then(e=>{e&&(i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),s.push(e),e=Ll.kn(t.targetId,e),a.push(e))}))}),await Promise.all(o),i.$o.Rr(s),await async function(e,t){const r=e;try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>go.forEach(t,t=>go.forEach(t.Nn,e=>r.persistence.referenceDelegate.addReference(n,t.targetId,e)).next(()=>go.forEach(t.xn,e=>r.persistence.referenceDelegate.removeReference(n,t.targetId,e)))))}catch(e){if(!xo(e))throw e;Br("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=r.Un.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.Un=r.Un.insert(t,i)}}}(i.localStore,a))}function lc(e){const t=e;return t.remoteStore.remoteSyncer.applyRemoteEvent=Zu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){const n=e,r=n.Bo.get(t);if(r&&r.ko)return ua().add(r.key);{let e=ua();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Ro)}return e}}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=async function(e,t,n){const r=e;r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Bo.get(t),s=i&&i.key;if(s){let e=new ea(Ti.comparator);e=e.insert(s,Ui.newNoDocument(s,oi.min()));const n=ua().add(s),i=new ha(oi.min(),new Map,new ra(ii),e,n);await Zu(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(t),ac(r)}else await Ul(r.localStore,t,!1).then(()=>rc(r,t,n)).catch(ul)}.bind(null,t),t.$o.Rr=function(e,t){const n=e;let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.ro(e)&&(r=!0);i.no=e}}r&&Bu(n)}.bind(null,t.eventManager),t.$o.Go=function(e,t,n){const r=e,i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}.bind(null,t.eventManager),t}function uc(e){const t=e;return t.remoteStore.remoteSyncer.applySuccessfulWrite=ec.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=async function(e,t,n){const r=e;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let n;return i.In.lookupMutationBatch(t,r).next(e=>(Wr(null!==e),n=e.keys(),i.In.removeMutationBatch(t,e))).next(()=>i.In.performConsistencyCheck(t)).next(()=>i.Qn.Pn(t,n))})}(r.localStore,t);nc(r,t,n),tc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await oc(r,e)}catch(n){await ul(n)}}.bind(null,t),t}class cc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=ou(e.databaseInfo.databaseId),this.sharedClientState=this.Ho(e),this.persistence=this.Jo(e),await this.persistence.start(),this.gcScheduler=this.Yo(e),this.localStore=this.Xo(e)}Yo(e){return null}Xo(e){return jl(this.persistence,new Rl,e.initialUser,this.N)}Jo(e){return new Gl(Xl.Ns,this.N)}Ho(e){return new Jl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hc extends cc{constructor(e,t,n){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=e;return t.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(){const e=xl(t);let r=oi.min();return e.Kt({index:ro.readTimeIndex,reverse:!0},(e,t,n)=>{t.readTime&&(r=Ao(t.readTime)),n.done()}).next(()=>r)}()).then(e=>{t.Kn=e})}(this.localStore),await this.Zo.initialize(this,e),await uc(this.Zo.syncEngine),await Iu(this.Zo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Xo(e){return jl(this.persistence,new Rl,e.initialUser,this.N)}Yo(e){var t=this.persistence.referenceDelegate.garbageCollector;return new dl(t,e.asyncQueue)}Jo(e){var t=_l(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new Tl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,su(),au(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Jl}}(class extends null{});class dc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ju(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=async function(e,t){const n=e;if(!n.currentUser.isEqual(t)){Br("SyncEngine","User change. New user:",t.toKey());const r=await Al(n.localStore,t);n.currentUser=t,(e=n).Ko.forEach(e=>{e.forEach(e=>{e.reject(new Gr(Qr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ko.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await oc(n,r.Wn)}}.bind(null,this.syncEngine),await Du(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Vu}createDatastore(e){var t,n=ou(e.databaseInfo.databaseId),t=(t=e.databaseInfo,new iu(t));return e=e.credentials,t=t,n=n,new du(e,t,n)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ju(this.syncEngine,e,0),e=new(tu.bt()?tu:eu),new pu(t,n,r,i,e);var t,n,r,i}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Gu(e,t,n,r,i,s);return a&&(o.Qo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=e;Br("RemoteStore","RemoteStore shutting down."),t.Wr.add(5),await gu(t),t.zr.shutdown(),t.Hr.set("Unknown")}(this.remoteStore)}}class fc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class pc{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Fr.UNAUTHENTICATED,this.clientId=ri.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,async e=>{Br("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),n.resolve()}catch(e){var t=ju(e,"Failed to shutdown persistence");n.reject(t)}}),n.promise}}async function mc(e,t){e.asyncQueue.verifyOperationInProgress(),Br("FirestoreClient","Initializing OfflineComponentProvider");var n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Al(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function gc(e,t){e.asyncQueue.verifyOperationInProgress();var n=await yc(e);Br("FirestoreClient","Initializing OnlineComponentProvider");var r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=e;n.asyncQueue.verifyOperationInProgress(),Br("RemoteStore","RemoteStore received new credentials");e=Su(n);n.Wr.add(3),await gu(n),e&&n.Hr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Wr.delete(3),await mu(n)}(t.remoteStore,e)),e.onlineComponents=t}async function yc(e){return e.offlineComponents||(Br("FirestoreClient","Using default OfflineComponentProvider"),await mc(e,new cc)),e.offlineComponents}async function vc(e){return e.onlineComponents||(Br("FirestoreClient","Using default OnlineComponentProvider"),await gc(e,new dc)),e.onlineComponents}function bc(e){return vc(e).then(e=>e.syncEngine)}async function wc(e){const t=await vc(e),n=t.eventManager;return n.onListen=async function(e,t){const n=lc(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await Vl(n.localStore,ms(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Yu(n,t,r,"current"===s),n.isPrimaryClient&&yu(n.remoteStore,e)}return i}.bind(null,t.syncEngine),n.onUnlisten=async function(e,t){const n=e,r=n.Oo.get(t),i=n.Fo.get(r.targetId);if(1<i.length)return n.Fo.set(r.targetId,i.filter(e=>!ys(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ul(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vu(n.remoteStore,r.targetId),rc(n,r.targetId)}).catch(ul)):(rc(n,r.targetId),await Ul(n.localStore,r.targetId,!0))}.bind(null,t.syncEngine),n}class xc{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Ec{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}const Sc=new Map;function kc(e,t,n){if(!n)throw new Gr(Qr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Cc(e){if(!Ti.isDocumentKey(e))throw new Gr(Qr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tc(e){if(Ti.isDocumentKey(e))throw new Gr(Qr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ic(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Kr();if(e instanceof Array)return"an array";e=(e=e).constructor?e.constructor.name:null;return e?`a custom ${e} object`:"an object"}function Nc(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new Gr(Qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");e=Ic(e);throw new Gr(Qr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: `+e)}class _c{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Gr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Gr(Qr.INVALID_ARGUMENT,e+` and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _c({}),this._settingsFrozen=!1,e instanceof Ec?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(e.options.projectId)}(e))}get app(){if(!this._app)throw new Gr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _c(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Zr;switch(e.type){case"gapi":var t=e.client;return Wr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ti(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Gr(Qr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sc.get(e);t&&(Br("ComponentProvider","Removing Datastore"),Sc.delete(e),t.terminate())}(this),Promise.resolve()}}class Lc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lc(this.firestore,e,this._key)}}class Rc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Oc extends Rc{constructor(e,t,n){super(e,t,ls(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lc(this.firestore,null,new Ti(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function jc(e,t,...n){if(e=f(e),kc("doc","path",t=1===arguments.length?ri.I():t),e instanceof Dc){var r=di.fromString(t,...n);return Cc(r),new Lc(e,null,new Ti(r))}if(!(e instanceof Lc||e instanceof Oc))throw new Gr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");n=e._path.child(di.fromString(t,...n));return Cc(n),new Lc(e.firestore,e instanceof Oc?e.converter:null,new Ti(n))}class Ac{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new lu(this,"async_queue_retry"),this.Rc=()=>{var e=au();e&&Br("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const e=au();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=au();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Yr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}async vc(){if(0!==this.mc.length){try{await this.mc[0](),this.mc.shift(),this.ar.reset()}catch(e){if(!xo(e))throw e;Br("AsyncQueue","Operation failed with retryable error: "+e)}0<this.mc.length&&this.ar.Xi(()=>this.vc())}}Pc(e){var t=this._c.then(()=>(this.Ec=!0,e().catch(e=>{throw this.Tc=e,this.Ec=!1,qr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ec=!1,e))));return this._c=t}enqueueAfterDelay(e,t,n){this.bc(),-1<this.Ac.indexOf(e)&&(t=0);n=Ou.createAndSchedule(this,e,t,n,e=>this.Vc(e));return this.yc.push(n),n}bc(){this.Tc&&Kr()}verifyOperationInProgress(){}async Sc(){for(var e;await(e=this._c),e!==this._c;);}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){e=this.yc.indexOf(e);this.yc.splice(e,1)}}function Pc(e){return function(e){if("object"==typeof e&&null!==e){var t=e;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return 1}}(e)}class Mc extends Dc{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Ac,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Vc(this),this._firestoreClient.terminate()}}function Fc(e){return e._firestoreClient||Vc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vc(e){var t,n,r,i=e._freezeSettings(),i=(t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=i,new xc(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams));e._firestoreClient=new pc(e._credentials,e._queue,i)}function Uc(e,n,r){const i=new Yr;return e.asyncQueue.enqueue(async()=>{try{await mc(e,r),await gc(e,n),i.resolve()}catch(e){if(!("FirebaseError"===(t=e).name?t.code===Qr.FAILED_PRECONDITION||t.code===Qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}var t}).then(()=>i.promise)}function zc(e){if(e._initialized||e._terminated)throw new Gr(Qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(gi.fromBase64String(e))}catch(e){throw new Gr(Qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qc(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hc{constructor(e){this._methodName=e}}class $c{constructor(e,t){if(!isFinite(e)||e<-90||90<e)throw new Gr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Gr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}const Kc=/^__.*__$/;class Wc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hs(e,this.data,t,this.fieldTransforms)}}class Qc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gc(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Kr()}}class Yc{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}Lc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return fh(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Gc(this.kc)&&Kc.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class Xc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||ou(e)}jc(e,t,n,r=!1){return new Yc({kc:e,methodName:t,Kc:n,path:pi.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Zc(e){var t=e._freezeSettings(),n=ou(e._databaseId);return new Xc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jc(e,t,n,r,i,s={}){const a=e.jc(s.merge||s.mergeFields?2:0,t,n,i);uh("Data must be an object, but it was:",a,r);r=oh(r,a);let o,l;if(s.merge)o=new mi(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const u of s.mergeFields){const i=ch(t,u,n);if(!a.contains(i))throw new Gr(Qr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ph(e,i)||e.push(i)}o=new mi(e),l=a.fieldTransforms.filter(e=>o.covers(e.field))}else o=null,l=a.fieldTransforms;return new Wc(new Vi(r),o,l)}class eh extends Hc{_toFieldTransform(e){if(2!==e.kc)throw 1===e.kc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function th(e,t,n){return new Yc({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}(class extends null{});class nh extends Hc{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=th(this,e,!0),n=this.Qc.map(e=>ah(e,t)),r=new Ns(n);return new As(e.path,r)}isEqual(e){return this===e}}class rh extends Hc{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=th(this,e,!0),n=this.Qc.map(e=>ah(e,t)),r=new Ds(n);return new As(e.path,r)}isEqual(e){return this===e}}(class extends null{});function ih(e,i,s,t){const a=e.jc(1,i,s);uh("Data must be an object, but it was:",a,t);const o=[],l=Vi.empty();ui(t,(e,t)=>{var n=dh(i,e,s);t=f(t);e=a.Lc(n);if(t instanceof eh)o.push(n);else{const r=ah(t,e);null!=r&&(o.push(n),l.set(n,r))}});t=new mi(o);return new Qc(l,t,a.fieldTransforms)}function sh(t,n,e,r,i,s){const a=t.jc(1,n,e),o=[ch(n,r,e)],l=[i];if(s.length%2!=0)throw new Gr(Qr.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(ch(n,s[e])),l.push(s[e+1]);const u=[],c=Vi.empty();for(let e=o.length-1;0<=e;--e)if(!ph(u,o[e])){const n=o[e];var h=f(h=l[e]);const r=a.Lc(n);if(h instanceof eh)u.push(n);else{const t=ah(h,r);null!=t&&(u.push(n),c.set(n,t))}}i=new mi(u);return new Qc(c,i,a.fieldTransforms)}function ah(s,e){if(lh(s=f(s)))return uh("Unsupported field value:",e,s),oh(s,e);if(s instanceof Hc)return function(e,t){if(!Gc(t.kc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");e=e._toFieldTransform(t);e&&t.fieldTransforms.push(e)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t){const n=[];let r=0;for(const i of s){let e=ah(i,t.Bc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e)}return function(e,t){if(null===(e=f(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ks(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ai.fromDate(e);return{timestampValue:Sa(t.N,n)}}if(e instanceof ai){n=new ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sa(t.N,n)}}if(e instanceof $c)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qc)return{bytesValue:ka(t.N,e._byteString)};if(e instanceof Lc){const r=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(r))throw t.Uc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/`+r.database);return{referenceValue:Ta(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+Ic(e))}(0,e)}function oh(e,n){const r={};return ci(e)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):ui(e,(e,t)=>{t=ah(t,n.Oc(e));null!=t&&(r[e]=t)}),{mapValue:{fields:r}}}function lh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ai||e instanceof $c||e instanceof qc||e instanceof Lc||e instanceof Hc)}function uh(e,t,n){if(!lh(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Ic(n);throw"an object"===n?t.Uc(e+" a custom object"):t.Uc(e+" "+n)}var r}function ch(e,t,n){if((t=f(t))instanceof Bc)return t._internalPath;if("string"==typeof t)return dh(e,t);throw fh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const hh=new RegExp("[~\\*/\\[\\]]");function dh(t,n,r){if(0<=n.search(hh))throw fh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Bc(...n.split("."))._internalPath}catch(e){throw fh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fh(e,t,n,r,i){var s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new Gr(Qr.INVALID_ARGUMENT,o+e+l)}function ph(e,t){return e.some(e=>e.isEqual(t))}class mh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){var e=new gh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){e=this._document.data.field(yh("DocumentSnapshot.get",e));if(null!==e)return this._userDataWriter.convertValue(e)}}}class gh extends mh{data(){return super.data()}}function yh(e,t){return"string"==typeof t?dh(e,t):(t instanceof Bc?t:t._delegate)._internalPath}class vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bh extends mh{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){var t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){e=this._document.data.field(yh("DocumentSnapshot.get",e));if(null!==e)return this._userDataWriter.convertValue(e,t.serverTimestamps)}}}class wh extends bh{data(e={}){return super.data(e)}}class xh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,n){this._snapshot.docs.forEach(e=>{t.call(n,new wh(this._firestore,this._userDataWriter,e.key,e,new vh(this._snapshot.mutatedKeys.has(e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){e=!!e.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,t){if(s._snapshot.oldDocs.isEmpty()){let t=0;return s._snapshot.docChanges.map(e=>({type:"added",doc:new wh(s._firestore,s._userDataWriter,e.doc.key,e.doc,new vh(s._snapshot.mutatedKeys.has(e.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:t++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(e=>t||3!==e.type).map(e=>{var t=new wh(s._firestore,s._userDataWriter,e.doc.key,e.doc,new vh(s._snapshot.mutatedKeys.has(e.doc.key),s._snapshot.fromCache),s.query.converter);let n=-1,r=-1;return 0!==e.type&&(n=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),r=i.indexOf(e.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kr()}}(e.type),doc:t,oldIndex:n,newIndex:r}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Eh(e){if(cs(e)&&0===e.explicitOrderBy.length)throw new Gr(Qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(class extends null{});(class extends null{});(class extends null{});(class extends null{});(class extends null{});class Sh{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kr()}}convertObject(e,n){const r={};return ui(e.fields,(e,t)=>{r[e]=this.convertValue(t,n)}),r}convertGeoPoint(e){return new $c(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":var n=function e(t){t=t.mapValue.fields.__previous_value__;return xi(t)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ei(e));default:return null}}convertTimestamp(e){e=vi(e);return new ai(e.seconds,e.nanos)}convertDocumentKey(e,t){const n=di.fromString(e);Wr(Wa(n));const r=new Ec(n.get(1),n.get(3)),i=new Ti(n.popFirst(5));return r.isEqual(t)||qr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function kh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}(class extends null{});class Ch extends Sh{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){e=this.convertDocumentKey(e,this.firestore._databaseId);return new Lc(this.firestore,null,e)}}function Th(e,t,n){e=Nc(e,Lc);var r=Nc(e.firestore,Mc),t=kh(e.converter,t,n);return Nh(r,[Jc(Zc(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,Ms.none())])}function Ih(t,...n){var e;t=f(t);let r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||Pc(n[i])||(r=n[i],i++);var s={includeMetadataChanges:r.includeMetadataChanges};if(Pc(n[i])){const t=n[i];n[i]=null===(e=t.next)||void 0===e?void 0:e.bind(t),n[i+1]=null===(e=t.error)||void 0===e?void 0:e.bind(t),n[i+2]=null===(e=t.complete)||void 0===e?void 0:e.bind(t)}let a,o,l;if(t instanceof Lc)o=Nc(t.firestore,Mc),l=ls(t._key.path),a={next:e=>{n[i]&&n[i](_h(o,t,e))},error:n[i+1],complete:n[i+2]};else{const u=Nc(t,Rc);o=Nc(u.firestore,Mc),l=u._query;const c=new Ch(o);a={next:e=>{n[i]&&n[i](new xh(o,c,u,e))},error:n[i+1],complete:n[i+2]},Eh(t._query)}return function(e,t,n,r){const i=new fc(r),s=new qu(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Uu(await wc(e),s)),()=>{i.ec(),e.asyncQueue.enqueueAndForget(async()=>zu(await wc(e),s))}}(Fc(o),l,s,a)}function Nh(e,t){return function(e,t){const n=new Yr;return e.asyncQueue.enqueueAndForget(async()=>Xu(await bc(e),t,n)),n.promise}(Fc(e),t)}function _h(e,t,n){var r=n.docs.get(t._key),i=new Ch(e);return new bh(e,i,t._key,r,new vh(n.hasPendingWrites,n.fromCache),t.converter)}(class extends null{});Vr="9.3.0",L(new o("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Mc(n,new Jr(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),A(Mr,"3.2.1",void 0),A(Mr,"3.2.1","esm2017");A("firebase","9.3.0","app");!function(e,t={}){if("object"!=typeof t){const r=t;t={name:r}}var n=Object.assign({name:I,automaticDataCollectionEnabled:!1},t);const r=n.name;if("string"!=typeof r||!r)throw O.create("bad-app-name",{appName:String(r)});if(t=_.get(r)){if(u(e,t.options)&&u(n,t.config))return;throw O.create("duplicate-app",{appName:r})}const i=new m(r);for(const s of D.values())i.addComponent(s);n=new j(e,n,i),_.set(r,n)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1",projectId:"rebot-f643e"});const Dh=R(function(e=I){var t=_.get(e);if(!t)throw O.create("no-app",{appName:e});return t}(),"firestore").getImmediate();!function(e,t){zc(e=Nc(e,Mc));var n=Fc(e),r=e._freezeSettings(),e=new dc;Uc(n,e,new hc(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(Dh,{forceOwnership:!0});const Lh=(0,g.createContext)(null),Rh=(0,g.createContext)(null),Oh=(0,g.createContext)(null),jh=(0,g.createContext)(null);F=Df(697),Ct=Df.n(F);function Ah(t){const[e,n]=(0,g.useState)(null);return(0,g.useEffect)(()=>{const e=Ih(t,e=>{n(e.data())});return()=>e()},[t]),e}const Ph=r=>{const[i,s]=(0,g.useState)({});return(e,t,n)=>{r.current.animate([i,e],{duration:t.duration??500,fill:t.fill??"forwards",easing:t.easing??"ease-in-out"}).onfinish=n,s(e)}};var Mh=Df(852),Fh=Df(893);const Vh=(0,g.forwardRef)(function(e,t){return(0,l.createPortal)((0,Fh.jsxs)(Fh.Fragment,{children:[e.children,(0,Fh.jsx)("div",{ref:t,onClick:e.onClick,className:e.active?"backdrop":""})]}),document.getElementById("modals-container"))});var Uh=null;F=t=>{const n=(0,g.useRef)(null),e=(0,g.useRef)(null);var r=(0,Mh.useMediaQuery)({query:"(min-width: 700px) and (orientation: landscape)"})&&"split"==t.direction;const i=Ph(n),[s,a]=(0,g.useState)(!0),[o,l]=(0,g.useState)(null);(0,g.useEffect)(()=>{e.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"})},[]);const u=()=>{t.direction&&"bottom"!==t.direction&&"split"!==t.direction?i({transform:"translateX(100%)"},{duration:220,easing:"ease-in"},t.handleClose):i({transform:"translateY(100vh) "+("left"==o?"translateX(-50%)":"right"==o?"translateX(50%)":"")},{duration:220,easing:"ease-in"},t.handleClose),e.current.animate([{opacity:1},{opacity:0}],{duration:320,fill:"forwards",easing:"ease-in-out"}),document.getElementById("hw-re-container").childElementCount<=2?document.body.classList.remove("mini-left","mini-right"):"left"==o?(document.body.classList.remove("mini-right"),document.body.classList.add("mini-left")):"right"==o&&(document.body.classList.remove("mini-left"),document.body.classList.add("mini-right"))};function c(e){n.current.style.width="50vw",i({transform:`translateX(${"left"==e?"-50%":"50%"})`,borderRadius:0,top:0},{duration:300,easing:"ease-out"}),document.getElementById("hw-re-container").childElementCount<=2&&(document.body.classList.remove("mini-left","mini-right"),document.body.classList.add("right"==e?"mini-left":"mini-right")),a(!1),l(e)}return(0,Fh.jsx)(Vh,{active:s,ref:e,onClick:u,children:(0,Fh.jsxs)("div",{ref:n,onTouchStart:e=>{Uh=e.touches[0].clientY},onTouchMove:e=>{null!=Uh&&(e=e.touches[0].clientY,Uh-e<-8&&0==t.scrollContainer.current.scrollTop&&u(),Uh=null)},className:"adaptive-panel"+("right"==t.direction?" fullscreen-right":" bottom"),children:[(0,Fh.jsxs)("header",{style:{background:r?"":"none"},children:[r&&"left"!=o&&(0,Fh.jsx)("button",{className:"split-left",onClick:()=>c("left"),children:(0,Fh.jsx)("i",{className:"fas fa-caret-left"})}),r&&"right"!=o&&(0,Fh.jsx)("button",{className:"split-right",onClick:()=>c("right"),children:(0,Fh.jsx)("i",{className:"fas fa-caret-right"})}),(0,Fh.jsx)("button",{className:"close",onClick:u,children:(0,Fh.jsx)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"var(--text2)",children:(0,Fh.jsx)("path",{d:"M0.32373 11.209C0.0161133 11.5166 0.00146484 12.0659 0.331055 12.3882C0.65332 12.7104 1.20264 12.7031 1.51025 12.3955L5.99268 7.90576L10.4824 12.3955C10.7974 12.7104 11.3394 12.7104 11.6616 12.3882C11.9766 12.0586 11.9839 11.5239 11.6616 11.209L7.1792 6.71924L11.6616 2.23682C11.9839 1.92188 11.9839 1.37988 11.6616 1.05762C11.332 0.742676 10.7974 0.735352 10.4824 1.05029L5.99268 5.54004L1.51025 1.05029C1.20264 0.742676 0.645996 0.728027 0.331055 1.05762C0.00878906 1.37988 0.0161133 1.9292 0.32373 2.23682L4.81348 6.71924L0.32373 11.209Z"})})})]}),t.children]})})};F.propTypes={handleClose:Ct().func.isRequired,direction:Ct().string,scrollContainer:Ct().oneOfType([Ct().func,Ct().shape({current:Ct().elementType})]),children:Ct().node};const zh=F;const Bh=({text:e})=>(0,Fh.jsx)("h1",{className:"H1",children:e});F=({title:e,icon:t,descr:n,checked:r,onChange:i})=>(0,Fh.jsxs)("div",{className:"_Switch",children:[t,(0,Fh.jsxs)("div",{className:"label-block",children:[(0,Fh.jsx)("a",{className:"title",children:e}),(0,Fh.jsx)("a",{className:"descr",children:n})]}),(0,Fh.jsxs)("label",{className:"ios7-switch",children:[(0,Fh.jsx)("input",{type:"checkbox",checked:r,onChange:i}),(0,Fh.jsx)("span",{})]})]});F.propTypes={title:Ct().string.isRequired,descr:Ct().string,icon:Ct().element,checked:Ct().bool,onChange:Ct().func};const qh=F;const Hh=({title:e,onSelect:t,selected:n})=>(0,Fh.jsx)("button",{className:"Item"+(n?" selected":""),onClick:t,children:e});const $h=({variants:e,defaultState:t,onChange:n})=>{const[r,i]=(0,g.useState)(t);(0,g.useEffect)(()=>{i(t)},[t]);e=e.map(e=>(0,Fh.jsx)(Hh,{selected:e.id==r,title:e.title,onSelect:()=>(e=>{i(e),n(e)})(e.id)},e.id));return(0,Fh.jsx)("div",{className:"_Radio",children:e})};const Kh=({children:e})=>(0,Fh.jsx)("div",{className:"_VerticalLayout",children:e});const Wh=({text:e,onClick:t})=>(0,Fh.jsx)("button",{className:"_Button",onClick:t,children:e});const Qh=()=>{const[e,t]=(0,g.useState)(!1),[n,r]=(0,g.useState)(!1);(0,g.useEffect)(()=>{try{const e=navigator.serviceWorker.addEventListener("message",e=>{e=e.data.type;t(!1),"update-complete"==e&&r(!0)});return()=>{navigator.serviceWorker.removeEventListener("message",e)}}catch(e){alert("Ошибка: Cant find active SW")}},[]);return{updateFounded:n,checking:e,checkForUpdates:()=>{t(!0),navigator.serviceWorker.ready.then(e=>{e.active.postMessage({type:"run-updater"})})}}};const Gh=()=>{var{checking:e,updateFounded:t,checkForUpdates:n}=Qh();return(0,Fh.jsxs)("div",{className:"Updater",children:[(0,Fh.jsx)("button",{className:"check-btn"+(e?" active":""),onClick:n,children:(0,Fh.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M13.7451 12.0986C14 12.0986 14.2021 12.0195 14.3604 11.8525L17.9639 8.22266C18.1572 8.0293 18.2451 7.81836 18.2451 7.57227C18.2451 7.33496 18.1484 7.10645 17.9639 6.93066L14.3604 3.26562C14.2021 3.08984 14 3.00195 13.7451 3.00195C13.2705 3.00195 12.8926 3.39746 12.8926 3.88086C12.8926 4.11816 12.9805 4.31152 13.1299 4.47852L15.2305 6.53516C14.8174 6.47363 14.3955 6.43848 13.9736 6.43848C9.62305 6.43848 6.14258 9.91895 6.14258 14.2783C6.14258 18.6377 9.64941 22.1445 14 22.1445C18.3594 22.1445 21.8574 18.6377 21.8574 14.2783C21.8574 13.751 21.4883 13.373 20.9609 13.373C20.4512 13.373 20.1084 13.751 20.1084 14.2783C20.1084 17.6709 17.3926 20.3955 14 20.3955C10.6162 20.3955 7.8916 17.6709 7.8916 14.2783C7.8916 10.8594 10.5898 8.15234 13.9736 8.15234C14.5449 8.15234 15.0723 8.19629 15.5381 8.27539L13.1387 10.6484C12.9805 10.8066 12.8926 11 12.8926 11.2373C12.8926 11.7207 13.2705 12.0986 13.7451 12.0986Z"})})}),(0,Fh.jsxs)("div",{className:"descr",children:[(0,Fh.jsx)("span",{className:"title",children:t?"Доступно обновление":"Обновления"}),(0,Fh.jsx)("span",{className:"info",children:e?"Проверка..":"Последняя проверка: 18:30"})]}),t&&(0,Fh.jsx)("button",{className:"update-btn",onClick:()=>location.reload(),children:"Обновить"}),!t&&(0,Fh.jsx)("span",{className:"version",children:"V1.0.3"})]})};F=({inversion:e,changeInversion:t,theme:n,changeTheme:r,logout:i})=>(0,Fh.jsxs)(Kh,{children:[(0,Fh.jsx)(Bh,{text:"Настройки"}),(0,Fh.jsx)($h,{defaultState:n,onChange:e=>r(e),variants:[{title:"Темная",id:"dark"},{title:"Светлая",id:"light"}]}),(0,Fh.jsx)(Gh,{}),(0,Fh.jsx)(qh,{title:"Затемнять решения",descr:"Светлый текст на темном фоне",icon:(0,Fh.jsx)("i",{className:"fas fa-moon"}),onChange:e=>t(e.target.checked),checked:e}),(0,Fh.jsx)(Wh,{text:"Выйти из аккаунта",onClick:i})]});F.propTypes={};const Yh=F;const Xh=()=>{const[e,t]=(0,g.useState)(),[n,r]=(0,g.useState)();(0,g.useEffect)(()=>{var e=localStorage.theme??"dark";r(e);e="true"==localStorage.inversion;e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),t(e)},[]);return(0,Fh.jsx)(Yh,{logout:()=>{localStorage.user=null,window.location.reload()},inversion:e,theme:n,changeInversion:e=>{e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),localStorage.setItem("inversion",e),t(e)},changeTheme:e=>{r(e),document.documentElement.setAttribute("theme",e);const t=document.querySelector("meta[name=theme-color]");t.content=getComputedStyle(document.documentElement).getPropertyValue("--bg2"),localStorage.theme=e}})};function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jh(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),s=0;s<i.length;s++)n=i[s],0<=t.indexOf(n)||(r[n]=e[n]);return r}function ed(e,t){return(ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function td(e,t){e.prototype=Object.create(t.prototype),ed(e.prototype.constructor=e,t)}function nd(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const rd={disabled:!1},id=g.createContext(null);var sd="unmounted",ad="exited",od="entering",ld="entered",ud="exiting",F=function(i){function e(e,t){var n,r=i.call(this,e,t)||this,t=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?t?(n=ad,r.appearStatus=od):n=ld:n=e.unmountOnExit||e.mountOnEnter?sd:ad,r.state={status:n},r.nextCallback=null,r}td(e,i),e.getDerivedStateFromProps=function(e,t){return e.in&&t.status===sd?{status:ad}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var t=null;e!==this.props&&(e=this.state.status,this.props.in?e!==od&&e!==ld&&(t=od):e!==od&&e!==ld||(t=ud)),this.updateStatus(!1,t)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,t,n=this.props.timeout,r=e=t=n;return null!=n&&"number"!=typeof n&&(r=n.exit,e=n.enter,t=void 0!==n.appear?n.appear:e),{exit:r,enter:e,appear:t}},t.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===od?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ad&&this.setState({status:sd})},t.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.findDOMNode(this),r],s=i[0],a=i[1],i=this.getTimeouts(),o=r?i.appear:i.enter;!e&&!n||rd.disabled?this.safeSetState({status:ld},function(){t.props.onEntered(s)}):(this.props.onEnter(s,a),this.safeSetState({status:od},function(){t.props.onEntering(s,a),t.onTransitionEnd(o,function(){t.safeSetState({status:ld},function(){t.props.onEntered(s,a)})})}))},t.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!rd.disabled?(this.props.onExit(r),this.safeSetState({status:ud},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:ad},function(){e.props.onExited(r)})})})):this.safeSetState({status:ad},function(){e.props.onExited(r)})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},t.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),t=null==e&&!this.props.addEndListener;n&&!t?(this.props.addEndListener&&(n=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],this.props.addEndListener(n[0],n[1])),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===sd)return null;var t=this.props,n=t.children,t=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Jh(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return g.createElement(id.Provider,{value:null},"function"==typeof n?n(e,t):g.cloneElement(g.Children.only(n),t))},e}(g.Component);function cd(){}F.contextType=id,F.propTypes={},F.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cd,onEntering:cd,onEntered:cd,onExit:cd,onExiting:cd,onExited:cd},F.UNMOUNTED=sd,F.EXITED=ad,F.ENTERING=od,F.ENTERED=ld,F.EXITING=ud;const hd=F;function dd(i,e){return i&&e&&e.split(" ").forEach(function(e){var t,n,r;n=e,(t=i).classList?t.classList.add(n):(r=n,((e=t).classList?r&&e.classList.contains(r):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+r+" "))||("string"==typeof t.className?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n)))})}function fd(n,e){return n&&e&&e.split(" ").forEach(function(e){var t;t=e,(e=n).classList?e.classList.remove(t):"string"==typeof e.className?e.className=nd(e.className,t):e.setAttribute("class",nd(e.className&&e.className.baseVal||"",t))})}F=function(r){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=r.call.apply(r,[this].concat(t))||this).appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(e,t){var n=i.resolveArguments(e,t),r=n[0],n=n[1];i.removeClasses(r,"exit"),i.addClass(r,n?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(e,t)},i.onEntering=function(e,t){var n=i.resolveArguments(e,t),r=n[0],n=n[1];i.addClass(r,n?"appear":"enter","active"),i.props.onEntering&&i.props.onEntering(e,t)},i.onEntered=function(e,t){var n=i.resolveArguments(e,t),r=n[0],n=n[1]?"appear":"enter";i.removeClasses(r,n),i.addClass(r,n,"done"),i.props.onEntered&&i.props.onEntered(e,t)},i.onExit=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"appear"),i.removeClasses(t,"enter"),i.addClass(t,"exit","base"),i.props.onExit&&i.props.onExit(e)},i.onExiting=function(e){var t=i.resolveArguments(e)[0];i.addClass(t,"exit","active"),i.props.onExiting&&i.props.onExiting(e)},i.onExited=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"exit"),i.addClass(t,"exit","done"),i.props.onExited&&i.props.onExited(e)},i.resolveArguments=function(e,t){return i.props.nodeRef?[i.props.nodeRef.current,e]:[e,t]},i.getClassNames=function(e){var t=i.props.classNames,n="string"==typeof t,r=n?(n&&t?t+"-":"")+e:t[e];return{baseClassName:r,activeClassName:n?r+"-active":t[e+"Active"],doneClassName:n?r+"-done":t[e+"Done"]}},i}td(e,r);var t=e.prototype;return t.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,dd(e,r))},t.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,n=n.done;this.appliedClasses[t]={},r&&fd(e,r),i&&fd(e,i),n&&fd(e,n)},t.render=function(){var e=this.props,e=(e.classNames,Jh(e,["classNames"]));return g.createElement(hd,Zh({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(g.Component);F.defaultProps={classNames:""},F.propTypes={};const pd=F;const md=function(e){var t=e.currentPanel==e.id;return(0,Fh.jsx)(pd,{in:t,timeout:500,classNames:"main"==e.id?"view-panel-main":"view-panel",unmountOnExit:!0,children:(0,Fh.jsx)("div",{className:"view-panel",children:e.children})})};function gd(e){return(0,Fh.jsx)("div",{className:"notebook",onClick:e.onClick,children:(0,Fh.jsx)("img",{src:e.img})})}function yd(e){return(0,Fh.jsxs)("div",{className:"panel-header",children:[e.backButton&&(0,Fh.jsx)("button",{onClick:e.onBack,children:(0,Fh.jsx)("i",{className:"fas fa-chevron-left"})}),e.icon&&(0,Fh.jsx)("div",{className:"panel-header-icon",children:e.icon}),(0,Fh.jsx)("div",{className:"title",children:e.title})]})}yd.propTypes={backButton:Ct().bool,onBack:Ct().func,title:Ct().string,icon:Ct().element};const vd=yd;function bd(e){const t=(0,g.useRef)(null),n=(0,g.useRef)(null);return(0,g.useEffect)(()=>{e.currentPanel==e.id&&setTimeout(()=>{n.current.style.display="none",t.current.style.display="block"},450)},[e.currentPanel,e.id]),(0,Fh.jsxs)(md,{currentPanel:e.currentPanel,id:e.id,children:[(0,Fh.jsx)(vd,{title:e.title,backButton:!0,onBack:()=>e.setCurrentPanel("main")}),(0,Fh.jsx)("div",{className:"notebook-loader",ref:n,children:(0,Fh.jsx)("i",{className:"fas fa-spinner fa-spin fa-2x"})}),(0,Fh.jsx)("iframe",{ref:t,style:{display:"none"},frameBorder:"0",src:e.url,className:"notebook-iframe",sandbox:e.scripts?"allow-same-origin allow-scripts":"allow-same-origin"})]})}function wd(){const[e,t]=(0,g.useState)("main");return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsx)(md,{currentPanel:e,id:"main",children:(0,Fh.jsxs)("div",{className:"notebooks-grid",children:[(0,Fh.jsx)(gd,{onClick:()=>t("phis"),img:"./static/img/phis.webp"}),(0,Fh.jsx)(gd,{onClick:()=>t("bio"),img:"./static/img/bio.webp"}),(0,Fh.jsx)(gd,{onClick:()=>t("him"),img:"./static/img/him.webp"}),(0,Fh.jsx)(gd,{onClick:()=>t("eng"),img:"./static/img/engwb.webp"}),(0,Fh.jsx)(gd,{onClick:()=>t("geo"),img:"./static/img/geo.webp"})]})}),(0,Fh.jsx)(bd,{id:"phis",setCurrentPanel:t,currentPanel:e,url:"https://superresheba.by/9-physics-wbook_25",title:"Физика",scripts:!0}),(0,Fh.jsx)(bd,{id:"bio",setCurrentPanel:t,currentPanel:e,url:"https://superresheba.by/9-biology-wbook_24",title:"Биология"}),(0,Fh.jsx)(bd,{id:"him",setCurrentPanel:t,currentPanel:e,url:"https://superresheba.by/9-chemistry-wbook_147",title:"Химия"}),(0,Fh.jsx)(bd,{id:"eng",setCurrentPanel:t,currentPanel:e,url:"https://megaresheba.ru/publ/reshebnik/anglijskij/otvety_k_english_workbook_9_klass_lapickaja/42-1-0-1202",title:"Английский WB"}),(0,Fh.jsx)(bd,{id:"geo",setCurrentPanel:t,currentPanel:e,url:"https://superresheba.by/10-geography-wbook_6",title:"География"})]})}F=({setActiveTab:e,isActive:t,icon:n,title:r})=>(0,Fh.jsxs)("button",{onClick:e,className:"NavButton "+(t?"active":""),children:[n,(0,Fh.jsx)("span",{children:r})]});F.propTypes={setActiveTab:Ct().func.isRequired,isActive:Ct().bool,icon:Ct().node.isRequired,title:Ct().string.isRequired};const xd=F;F=e=>{const t=(0,g.useContext)(Rh).setStatusBar,n=(0,g.useRef)(null);return(0,g.useEffect)(()=>{setTimeout(()=>{n.current.animate([{transform:"translateY(0)"},{transform:"translateY(100%)"}],{duration:200,fill:"forwards"}).onfinish=()=>{t(!1)}},2e3)},[]),(0,Fh.jsxs)("div",{className:"Navigation-StatusBar",ref:n,children:["sucsess"===e.type&&(0,Fh.jsx)("i",{className:"fas fa-check-circle sucsess"}),(0,Fh.jsx)("div",{className:"title",children:e.title})]})};F.propTypes={type:Ct().string,title:Ct().string.isRequired};const Ed=F;F=({activeTab:e,setActiveTab:t,statusBar:n})=>(0,Fh.jsxs)(Fh.Fragment,{children:[n&&(0,Fh.jsx)(Ed,{title:n.title,type:n.type}),(0,Fh.jsxs)("div",{className:"bottom-nav",children:[(0,Fh.jsx)(xd,{title:"Главная",icon:(0,Fh.jsx)("svg",{width:"30px",height:"30px",viewBox:"0 0 28 28",children:(0,Fh.jsx)("path",{d:"M15.1295491,2.69100093 L24.0662484,11.1808652 C24.6624397,11.747247 25,12.53353 25,13.3558635 L25,21.9972407 C25,23.3779526 23.8807119,24.4972407 22.5,24.4972407 L16.5,24.4972407 C15.9477153,24.4972407 15.5,24.0495254 15.5,23.4972407 L15.5,17.9971013 C15.5,17.1686742 14.8284271,16.4971013 14,16.4971013 C13.1715729,16.4971013 12.5,17.1686742 12.5,17.9971013 L12.5,23.4972407 C12.5,24.0495254 12.0522847,24.4972407 11.5,24.4972407 L5.5,24.4972407 C4.11928813,24.4972407 3,23.3779526 3,21.9972407 L3,13.3558635 C3,12.53353 3.33756025,11.747247 3.93375161,11.1808652 L12.8704509,2.69100093 C13.5034346,2.08966636 14.4965654,2.08966636 15.1295491,2.69100093 Z M14,4.37655211 L5.31125054,12.6308641 C5.11252008,12.819658 5,13.0817523 5,13.3558635 L5,21.9972407 C5,22.2733831 5.22385763,22.4972407 5.5,22.4972407 L10.5,22.4972407 L10.5,17.9971013 C10.5,16.0641047 12.0670034,14.4971013 14,14.4971013 C15.9329966,14.4971013 17.5,16.0641047 17.5,17.9971013 L17.5,22.4972407 L22.5,22.4972407 C22.7761424,22.4972407 23,22.2733831 23,21.9972407 L23,13.3558635 C23,13.0817523 22.8874799,12.819658 22.6887495,12.6308641 L14,4.37655211 Z",fill:"currentColor"})}),setActiveTab:()=>t(1),isActive:1==e}),(0,Fh.jsx)(xd,{title:"Поиск",icon:(0,Fh.jsx)("svg",{width:"31px",height:"31px",viewBox:"0 0 28 28",children:(0,Fh.jsx)("path",{d:"M20.5216013,18.9659665 L24.2778174,22.7221826 C24.7073941,23.1517593 24.7073941,23.8482407 24.2778174,24.2778174 C23.8482407,24.7073941 23.1517593,24.7073941 22.7221826,24.2778174 L18.9659665,20.5216013 C17.3277266,21.8227597 15.2546304,22.5999999 13,22.5999999 C7.69806645,22.5999999 3.4000001,18.3019335 3.4000001,13 C3.4000001,7.69806645 7.69806645,3.4000001 13,3.4000001 C18.3019335,3.4000001 22.5999999,7.69806645 22.5999999,13 C22.5999999,15.2546304 21.8227597,17.3277266 20.5216013,18.9659665 Z M13,20.4000001 C17.0869072,20.4000001 20.4000001,17.0869072 20.4000001,13 C20.4000001,8.9130928 17.0869072,5.5999999 13,5.5999999 C8.9130928,5.5999999 5.5999999,8.9130928 5.5999999,13 C5.5999999,17.0869072 8.9130928,20.4000001 13,20.4000001 Z",fill:"currentColor"})}),setActiveTab:()=>t(2),isActive:2==e}),(0,Fh.jsx)(xd,{title:"Оценки",icon:(0,Fh.jsxs)("svg",{width:"31",height:"31",viewBox:"0 0 28 28",children:[(0,Fh.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4275 6.04347C13.0109 5.09342 14.9891 5.09342 16.5725 6.04346L23.2541 10.0524C23.5849 10.2509 23.5758 10.7333 23.2378 10.9192L16.4098 14.6748C14.9094 15.5001 13.091 15.5001 11.5905 14.6748L4.76228 10.9192C4.42426 10.7333 4.4152 10.2509 4.746 10.0524L11.4275 6.04347ZM17.6015 4.32847L24.2831 8.33741C25.9371 9.32979 25.8918 11.7421 24.2017 12.6717L17.3737 16.4272C15.2731 17.5826 12.7273 17.5826 10.6267 16.4272L3.79844 12.6717C2.10834 11.7421 2.06301 9.3298 3.717 8.3374L10.3985 4.32848C12.6153 2.99842 15.3847 2.99841 17.6015 4.32847Z",fill:"currentColor"}),(0,Fh.jsx)("path",{d:"M23.4999 10.5001C23.4999 9.94784 23.9476 9.50013 24.4999 9.50013C25.0521 9.50013 25.4999 9.94784 25.4999 10.5001V15.5001C25.4999 16.0524 25.0521 16.5001 24.4999 16.5001C23.9476 16.5001 23.4999 16.0524 23.4999 15.5001V10.5001Z",fill:"currentColor"}),(0,Fh.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99985 13.0001V18.0001C7.99985 20.7616 10.2384 23.0001 12.9998 23.0001H14.9998C17.7613 23.0001 19.9998 20.7616 19.9998 18.0001V13.0001H21.9998V18.0001C21.9998 21.8661 18.8658 25.0001 14.9998 25.0001H12.9998C9.13386 25.0001 5.99985 21.8661 5.99985 18.0001V13.0001H7.99985Z",fill:"currentColor"})]}),setActiveTab:()=>t(4),isActive:4==e}),(0,Fh.jsx)(xd,{title:"Неделя",icon:(0,Fh.jsx)("svg",{width:"30px",height:"30px",viewBox:"0 0 28 28",children:(0,Fh.jsx)("path",{d:"M19,1 C19.5522847,1 20,1.44771525 20,2 L20.0007134,3.15981736 C20.840564,3.29343733 21.3843149,3.50927527 21.9305371,3.80139811 C22.9083149,4.32431939 23.6756806,5.09168511 24.1986019,6.06946289 C24.6736814,6.9577844 24.9469986,7.83956959 24.9930333,9.99907027 L25,10 L25,17.3083444 L24.9946707,17.9183846 C24.9538793,20.1381287 24.6796895,21.0309816 24.1986019,21.9305371 C23.6756806,22.9083149 22.9083149,23.6756806 21.9305371,24.1986019 C20.9527593,24.7215232 19.9829006,25 17.3083444,25 L10.6916556,25 L10.0816154,24.9946707 C7.8618713,24.9538793 6.96901844,24.6796895 6.06946289,24.1986019 C5.09168511,23.6756806 4.32431939,22.9083149 3.80139811,21.9305371 C3.29939368,20.9918704 3.02266926,20.060502 3.00133451,17.6212182 L3,10.6916556 L3,10 C3.05300141,7.83956959 3.32631857,6.9577844 3.80139811,6.06946289 C4.32431939,5.09168511 5.09168511,4.32431939 6.06946289,3.80139811 C6.61590733,3.50915642 7.15987843,3.29326172 8.00031181,3.15965432 L8,2 C8,1.44771525 8.44771525,1 9,1 C9.55228475,1 10,1.44771525 10,2 L9.99907027,3.00696674 C10.2165376,3.00233094 10.4469622,3 10.6916556,3 L17.3083444,3 C17.5534172,3 17.7841769,3.00233817 18.0019411,3.00698832 L18,2 C18,1.44771525 18.4477153,1 19,1 Z M22.999,12 L5,12 L5.0009221,17.591291 L5.00977072,18.1601475 C5.04864664,19.667315 5.20790244,20.3195792 5.56502451,20.9873394 C5.90154619,21.6165802 6.38341978,22.0984538 7.01266061,22.4349755 C7.75898085,22.8341119 8.48594441,22.9860867 10.408709,22.9990779 L17.591291,22.9990779 L18.1601475,22.9902293 C19.667315,22.9513534 20.3195792,22.7920976 20.9873394,22.4349755 C21.6165802,22.0984538 22.0984538,21.6165802 22.4349755,20.9873394 C22.8341119,20.2410191 22.9860867,19.5140556 22.9990779,17.591291 L22.999,12 Z M19.0460121,17 C19.478797,17 19.8195548,17.0812224 20.10474,17.2337411 C20.3899252,17.3862598 20.6137402,17.6100748 20.7662589,17.89526 C20.9187776,18.1804452 21,18.521203 21,18.9539879 L21,19.0460121 C21,19.478797 20.9187776,19.8195548 20.7662589,20.10474 C20.6137402,20.3899252 20.3899252,20.6137402 20.10474,20.7662589 C19.8195548,20.9187776 19.478797,21 19.0460121,21 L18.9539879,21 C18.521203,21 18.1804452,20.9187776 17.89526,20.7662589 C17.6100748,20.6137402 17.3862598,20.3899252 17.2337411,20.10474 C17.0812224,19.8195548 17,19.478797 17,19.0460121 L17,18.9539879 C17,18.521203 17.0812224,18.1804452 17.2337411,17.89526 C17.3862598,17.6100748 17.6100748,17.3862598 17.89526,17.2337411 C18.1804452,17.0812224 18.521203,17 18.9539879,17 L19.0460121,17 Z M17.591291,5.0009221 L10.408709,5.0009221 L10,5.006 L10,6 C10,6.55228475 9.55228475,7 9,7 C8.44771525,7 8,6.55228475 8,6 L7.99925005,5.19251184 C7.618557,5.28042372 7.31722055,5.40214407 7.01266061,5.56502451 C6.38341978,5.90154619 5.90154619,6.38341978 5.56502451,7.01266061 C5.19560369,7.70341749 5.03791225,8.37759259 5.00617938,9.99864362 L22.993,10 L22.9902293,9.83985252 C22.9513534,8.33268497 22.7920976,7.68042082 22.4349755,7.01266061 C22.0984538,6.38341978 21.6165802,5.90154619 20.9873394,5.56502451 C20.6828516,5.40218264 20.3815857,5.28048136 20.0010204,5.1925743 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 L18.0023619,5.00619909 C17.8716635,5.00363578 17.7348083,5.00189178 17.591291,5.0009221 Z",fill:"currentColor"})}),setActiveTab:()=>t(5),isActive:5==e})]})]});F.propTypes={activeTab:Ct().number.isRequired,setActiveTab:Ct().func.isRequired,statusBar:Ct().object||Ct().bool};const Sd=F,kd=()=>{const e=new Date;var t=e.getDay();return{dayNum:t,isWeekend:0==t||6==t}};const Cd=()=>{const[t,n]=(0,g.useState)(kd());return(0,g.useEffect)(()=>{const e=setInterval(()=>{var e=kd();e.dayNum!==t.dayNum&&n(e)},1e3);return()=>clearInterval(e)},[]),t},Td=e=>{const t=document.querySelector(".alert");t.textContent=e,t.style="display: block; animation: alert 0.45s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",globalThis.active_timeout&&clearTimeout(globalThis.active_timeout),globalThis.active_timeout=setTimeout(()=>{t.style="display: block; animation: alert-down 0.4s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",t.addEventListener("animationend",()=>{t.style=""},{once:!0}),globalThis.active_timeout=null},1400)};F=({subjectInfo:t,startNum:e,onClose:n})=>{const[r,i]=(0,g.useState)(e);e=(0,g.useMemo)(()=>function(t,n){const r=[];if(t.section){const a=t.url.replace("*",n-("Химия"==t.title?1:0));for(let e=1;e<10;e++){var i=a.replace("?",e);r.push((0,Fh.jsx)("img",{src:i,width:"100%",onError:e=>e.target.style.display="none"},i))}}else{var e=t.url.replace("?",n);if(t.full_img)r.push((0,Fh.jsx)("img",{src:e,width:"100%",onError:e=>e.target.style.display="none"},e));else{r.push((0,Fh.jsx)("img",{src:e,width:"100%",onError:e=>e.target.style.display="none"},e));for(let e=1;e<4;e++){var s=t.url.replace("?",n+"_"+e);r.push((0,Fh.jsx)("img",{src:s,width:"100%",onError:e=>e.target.style.display="none"},s))}}}return r}(t,r),[t,r]);return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"hwr-sol-tools",children:[(0,Fh.jsx)("button",{className:"alt block",onClick:()=>{var e=t.alt_url.replace("?",t.section&&"Физика"==t.title?r+2:r);window.open(e,"_blank")},children:"Решебник 2"}),(0,Fh.jsxs)("div",{className:"center-section",children:[(0,Fh.jsx)("button",{className:"block",onClick:()=>i(r-1),children:(0,Fh.jsx)("i",{className:"fas fa-chevron-left fa-lg"})}),(0,Fh.jsx)("button",{className:"num block",children:r}),(0,Fh.jsx)("button",{className:"block",onClick:()=>i(r+1),children:(0,Fh.jsx)("i",{className:"fas fa-chevron-right fa-lg"})}),n&&(0,Fh.jsx)("button",{className:"block",onClick:n,children:(0,Fh.jsx)("i",{className:"fas fa-times fa-lg"})})]})]}),(0,Fh.jsx)("div",{className:"hwr-sol-imgs",children:e})]})};F.propTypes={subjectInfo:Ct().object.isRequired,startNum:Ct().number.isRequired,onClose:Ct().func};const Id=F;F=({subjectInfo:n,toOpen:e,hwRaw:t})=>{const r=[];e.forEach((e,t)=>{e&&r.push((0,Fh.jsx)(Id,{subjectInfo:n,startNum:e},t))});e={backgroundColor:n.color};return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"sol-subj",children:[(0,Fh.jsx)("div",{className:"title block",style:e,children:n.title}),(0,Fh.jsx)("div",{className:"homework block",children:t})]}),(0,Fh.jsx)("div",{className:"sol-content",children:r})]})};F.propTypes={subjectInfo:Ct().object.isRequired,toOpen:Ct().array.isRequired,hwRaw:Ct().string};const Nd=F;F=e=>{var t,n=(0,g.useContext)(Lh),r=(0,g.useRef)(null);const i=[];for(t in e.lessonsData){var s=e.lessonsData[t],a=n[s.id];if(a.url){const l=s.hw;var o=l.replace(/ *\([^)]*\) */g,"").split(",").map(e=>(e=e.replace(/\D/g,""),parseInt(e)));i.push((0,Fh.jsx)(Nd,{subjectInfo:a,toOpen:o,hwRaw:s.hw},s.id))}}return(0,Fh.jsx)(zh,{handleClose:e.handleClose,direction:"split",scrollContainer:r,children:(0,Fh.jsx)("div",{className:"scroll-content hw-re",ref:r,children:i})})};F.propTypes={handleClose:Ct().func.isRequired};const _d=F,Dd=()=>{const t=(0,g.useContext)(Rh).database.timetable;return e=>{!function(e,t,n,r){e=Nc(e,Lc);var i=Nc(e.firestore,Mc),s=Zc(i);let a;a="string"==typeof(t=f(t))||t instanceof Bc?sh(s,"updateDoc",e._key,t,n,r):ih(s,"updateDoc",e._key,t),Nh(i,[a.toMutation(e._key,Ms.exists(!0))])}(t,e,void 0,[])}},Ld=(0,g.forwardRef)(({value:e,onSave:t,onChange:n},r)=>{const[i,s]=(0,g.useState)(!1),a=(0,g.useRef)(null),o=e=>{13==e.keyCode&&a.current.blur()};(0,g.useEffect)(()=>{i?(a.current.addEventListener("keydown",o),document.body.classList.add("keyboard-active")):document.body.classList.remove("keyboard-active")},[i]),(0,g.useImperativeHandle)(r,()=>({focus(){s(!0)}}));return(0,Fh.jsx)("div",{className:"editable-field",onClick:()=>s(!0),children:i?(0,Fh.jsx)("input",{type:"text",value:e,onChange:()=>{n(a.current.value)},onBlur:()=>{t(a.current.value),s(!1)},ref:a,autoFocus:!0,autoComplete:"off",spellCheck:"false"}):e})});Ld.displayName="EditableField",Ld.propTypes={value:Ct().string.isRequired,onSave:Ct().func,onChange:Ct().func};const Rd=Ld;F=e=>{const[t,n]=(0,g.useState)({}),r=(0,g.useContext)(Rh).marksRatingPattern;return(0,g.useEffect)(()=>{"2"===r&&(8<=e?n({color:"#34C759"}):6<=e?n({color:"#FFCC00"}):1<=e&&n({color:"#FF3B30"}))},[]),{markStyle:t}};F.propTypes={mark:Ct().number.isRequired};const Od=F;F=e=>{var t=Od(e.mark.mark)["markStyle"];return(0,Fh.jsx)("div",{className:"Mark",style:t,onClick:()=>e.removeMark(e.mark),children:e.mark.mark})};F.propTypes={mark:Ct().object.isRequired,removeMark:Ct().func.isRequired};const jd=F;F=e=>{var t=[1,2,3,4,5,6,7,8,9,10].map(e=>(0,Fh.jsx)("button",{className:"new-mark-btn",children:e},e));return(0,Fh.jsxs)("div",{className:"MarksCalculator",children:[(0,Fh.jsx)("h1",{className:"average-mark",children:"2"}),(0,Fh.jsxs)("div",{className:"marks-display",children:[(0,Fh.jsx)("div",{className:"info",children:"Оценки, которые уже есть"}),(0,Fh.jsxs)("div",{className:"marks-container",children:[(0,Fh.jsx)("div",{className:"mark",children:"1"}),(0,Fh.jsx)("div",{className:"mark",children:"10"}),(0,Fh.jsx)("div",{className:"mark",children:"9"}),(0,Fh.jsx)("div",{className:"mark",children:"3"}),(0,Fh.jsx)("div",{className:"mark",children:"6"})]}),(0,Fh.jsx)("div",{className:"info",children:"Добавленные оценки"}),(0,Fh.jsxs)("div",{className:"marks-container added",children:[(0,Fh.jsx)("div",{className:"mark",children:"1"}),(0,Fh.jsx)("div",{className:"mark",children:"10"}),(0,Fh.jsx)("div",{className:"mark",children:"9"})]}),(0,Fh.jsx)("div",{className:"mark"})]}),(0,Fh.jsx)("div",{className:"marks-input-container",children:t})]})};F.propTypes={marks:Ct().string.isRequired,subject:Ct().object.isRequired};const Ad=F,Pd=g.createContext(null);const Md=({onClose:e,children:t})=>{const[n,r]=(0,g.useState)(!1),i=(0,g.useRef)(null);var s=()=>{r(!0),i.current.animate([{opacity:1},{opacity:0}],{duration:250,fill:"forwards"})};return(0,g.useEffect)(()=>{i.current.animate([{opacity:0},{opacity:1}],{duration:400,fill:"forwards"})},[]),(0,Fh.jsx)(Vh,{onClick:s,ref:i,active:!0,children:(0,Fh.jsx)(Pd.Provider,{value:{close:s},children:(0,Fh.jsxs)("div",{className:"ActionSheet"+(n?" closing":" "),onAnimationEnd:n?e:null,children:[t,(0,Fh.jsx)("div",{className:"ActionSheetCloseBtn",onClick:s,children:"Закрыть"})]})})})};F=t=>{var e=[1,2,3,4,5,6,7,8,9,10].map(e=>(0,Fh.jsx)("button",{className:"new-mark-btn",onClick:()=>t.handleMarkInput(e),children:e},e));return(0,Fh.jsx)("div",{className:"marks-input-container",children:e})};F.propTypes={handleMarkInput:Ct().func.isRequired};const Fd=F;F=t=>{const n=(0,g.useContext)(Pd)["close"],r=(0,g.useContext)(Rh),i=r.database.marks;return(0,Fh.jsxs)("div",{className:"AddMarkDialog",children:[(0,Fh.jsxs)("header",{className:"mark-info",children:[(0,Fh.jsx)("h5",{className:"title",children:"Нажми на оценку чтобы добавить"}),(0,Fh.jsx)("div",{className:"subject",children:t.subjectInfo?.title})]}),(0,Fh.jsx)(Fd,{handleMarkInput:e=>{n(),Th(i,{[t.subjectInfo.id]:(e=[{mark:e,time:Date.now()}],new nh("arrayUnion",e))},{merge:!0}),r.setStatusBar({title:"Оценка добавлена",type:"sucsess"})}})]})};F.propTypes={subjectInfo:Ct().object.isRequired};const Vd=F;F=({subject:t,marks:e,embedded:n})=>{const[r,i]=(0,g.useState)(!1),[s,a]=(0,g.useState)(!1),o=(0,g.useContext)(Rh).database.marks,l=e=>{confirm(`Удалить оценку (${e.mark}) ?`)&&Th(o,{[t.id]:(e=[e],new rh("arrayRemove",e))},{merge:!0})};let u=0;var c=e.map(e=>(u+=e.mark,(0,Fh.jsx)(jd,{mark:e,removeMark:l},e.time)));let h=u/e.length;return h=!isNaN(h)&&h<=10?Number(h.toFixed(2)):null,(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"SubjectMarks"+(n?" embedded":""),children:[!n&&(0,Fh.jsx)("div",{className:"color-indicator",style:{backgroundColor:t.color,boxShadow:"0px 0px 4px "+t.color}}),(0,Fh.jsxs)("div",{className:"main-content",children:[!n&&(0,Fh.jsx)("h5",{className:"subject-title",children:t.title}),(0,Fh.jsxs)("div",{className:"marks-container",children:[c,(0,Fh.jsx)("div",{className:"Mark",onClick:()=>a(!0),children:(0,Fh.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 19 19",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M9.49165 18.4297C14.2259 18.4297 18.1335 14.3164 18.1335 9.3418C18.1335 4.36719 14.2175 0.253906 9.4833 0.253906C4.75742 0.253906 0.858154 4.36719 0.858154 9.3418C0.858154 14.3164 4.76577 18.4297 9.49165 18.4297ZM5.45043 9.35059C5.45043 8.83203 5.80113 8.47168 6.2854 8.47168H8.66503V5.9668C8.66503 5.45703 8.99903 5.09668 9.47495 5.09668C9.96759 5.09668 10.3099 5.45703 10.3099 5.9668V8.47168H12.6979C13.1738 8.47168 13.5245 8.83203 13.5245 9.35059C13.5245 9.8516 13.1738 10.2119 12.6979 10.2119H10.3099V12.7168C10.3099 13.2178 9.96759 13.5869 9.47495 13.5869C8.99903 13.5869 8.66503 13.2178 8.66503 12.7168V10.2119H6.2854C5.80113 10.2119 5.45043 9.8516 5.45043 9.35059Z"})})})]})]}),e&&h&&(0,Fh.jsx)("div",{className:"average-mark",children:h})]}),s&&(0,Fh.jsx)(Md,{onClose:()=>a(!1),children:(0,Fh.jsx)(Vd,{subjectInfo:t})}),r&&(0,Fh.jsx)(zh,{handleClose:()=>i(!1),direction:"right",children:(0,Fh.jsx)(Ad,{marks:"10, 9, 7, 4, 10",subject:{}})})]})};F.propTypes={subject:Ct().object.isRequired,marks:Ct().array.isRequired};const Ud=(0,g.memo)(F,(e,t)=>e?.marks?.length==t?.marks?.length);F=e=>{var t=(0,g.useContext)(jh)?.[e.lesson.id]??[];return(0,Fh.jsx)(zh,{handleClose:e.handleClose,children:(0,Fh.jsxs)(Kh,{children:[(0,Fh.jsx)(Bh,{text:e.subject.title}),(0,Fh.jsxs)("div",{className:"lesson-info-block",children:[(0,Fh.jsx)("div",{className:"title",children:"Домашнее"}),(0,Fh.jsx)("div",{className:"homework-view",children:e.lesson.hw}),e.lesson.changedBy&&(0,Fh.jsxs)("div",{className:"last-changes-by",children:["Записал: ",e.lesson.changedBy]})]}),(0,Fh.jsxs)("div",{className:"lesson-info-block",children:[(0,Fh.jsx)("div",{className:"title",children:"Мои оценки"}),(0,Fh.jsx)("div",{className:"marks",children:(0,Fh.jsx)(Ud,{marks:t,subject:e.subject,embedded:!0})})]})]})})};F.propTypes={};const zd=F;F=e=>{const[t,n]=(0,g.useState)(!1),r=(0,g.useRef)();var i=()=>{r.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=()=>n(!1)};return(0,Fh.jsxs)("div",{className:"context-menu",children:[(0,Fh.jsx)("button",{className:"context-menu-btn"+(t?" active":""),onClick:()=>{n(!0)},onBlur:i,onMouseOut:window.ios?i:null,children:e.icon??(0,Fh.jsx)("i",{className:"fas fa-ellipsis-v"})}),t&&(0,Fh.jsx)("div",{className:"menu-items-wraper",children:(0,Fh.jsx)("div",{className:"menu-items",ref:r,children:e.children})})]})};F.propTypes={icon:Ct().node,children:Ct().node};const Bd=F;const qd=({onClick:e,title:t,icon:n})=>(0,Fh.jsxs)("button",{className:"context-menu-variant",onClick:e,children:[n,(0,Fh.jsx)("span",{children:t})]});F=({lesson:e,path:t})=>{const n=Dd(),r=(0,g.useContext)(Rh).user;var i=(0,g.useContext)(Lh),s=i?.[e.id];const[a,o]=(0,g.useState)(e.hw),[l,u]=(0,g.useState)(!1),[c,h]=(0,g.useState)(!1),[d,f]=(0,g.useState)(!1);var p="alg"===e.id||"geom"===e.id;(0,g.useEffect)(()=>{o(e.hw)},[e.hw]);var m=s?.title??(0,Fh.jsx)("i",{className:"fas fa-circle-notch fa-spin"});return(0,Fh.jsxs)("div",{className:"flexRow",children:[(0,Fh.jsx)("div",{className:"rowBlock medium colored",style:{backgroundColor:s?.color??"var(--bg3)"},children:m}),(0,Fh.jsx)("div",{className:"rowBlock mainField",children:(0,Fh.jsx)(Rd,{value:a??"",onChange:o,onSave:()=>{a!==e.hw&&n({[t+".hw"]:a,[t+".changedBy"]:r.first_name})}})}),(0,Fh.jsxs)("div",{className:"rowBlock square",children:[(0,Fh.jsxs)(Bd,{children:[s?.url&&a&&(0,Fh.jsx)(qd,{onClick:()=>{u(!0)},title:"Решение",icon:(0,Fh.jsx)("i",{className:"fas fa-book fa-xl"})}),(s?.marks||p)&&(0,Fh.jsx)(qd,{onClick:()=>h(!0),title:"Новая оценка",icon:(0,Fh.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 19 19",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M9.49165 18.4297C14.2259 18.4297 18.1335 14.3164 18.1335 9.3418C18.1335 4.36719 14.2175 0.253906 9.4833 0.253906C4.75742 0.253906 0.858154 4.36719 0.858154 9.3418C0.858154 14.3164 4.76577 18.4297 9.49165 18.4297ZM5.45043 9.35059C5.45043 8.83203 5.80113 8.47168 6.2854 8.47168H8.66503V5.9668C8.66503 5.45703 8.99903 5.09668 9.47495 5.09668C9.96759 5.09668 10.3099 5.45703 10.3099 5.9668V8.47168H12.6979C13.1738 8.47168 13.5245 8.83203 13.5245 9.35059C13.5245 9.8516 13.1738 10.2119 12.6979 10.2119H10.3099V12.7168C10.3099 13.2178 9.96759 13.5869 9.47495 13.5869C8.99903 13.5869 8.66503 13.2178 8.66503 12.7168V10.2119H6.2854C5.80113 10.2119 5.45043 9.8516 5.45043 9.35059Z"})})}),(0,Fh.jsx)(qd,{onClick:()=>{f(!0)},title:"Об Уроке",icon:(0,Fh.jsx)("i",{className:"fas fa-info-circle fa-xl"})})]}),l&&(0,Fh.jsx)(_d,{lessonsData:[e],handleClose:()=>{u(!1)}}),d&&(0,Fh.jsx)(zd,{lesson:p?{...e,id:"math"}:e,subject:p?i.math:s,handleClose:()=>{f(!1)}}),c&&(0,Fh.jsx)(Md,{onClose:()=>h(!1),children:(0,Fh.jsx)(Vd,{subjectInfo:p?i.math:s})})]})]})};F.propTypes={lesson:Ct().shape({id:Ct().string,hw:Ct().string}).isRequired,path:Ct().string.isRequired};const Hd=(0,g.memo)(F),$d={1:"Понедельник",2:"Вторник",3:"Среда",4:"Четверг",5:"Пятница",6:"Суббота",7:"Воскресенье"};F=({dayNum:e,week:t,timetable:r,pathToDay:n})=>{const[i,s]=(0,g.useState)(!1),a=(0,g.useContext)(Rh).user.group,o=new Date;var l=o.getDay();let u=0;1==t?u=-7:3==t&&(u=7);l=e+u-(0!=l?l:7);o.setDate(o.getDate()+l);var c,l=o.toLocaleDateString("ru-RU",{day:"numeric",month:"numeric"});const h=[];for(c in r){var d=r[c];let e,t;if(d.groups){if(!d[a])break;e=d[a],t=`${n}.${c}.`+a}else e=d,t=n+"."+c;h.push((0,Fh.jsx)(Hd,{path:t,lesson:e},c))}return(0,Fh.jsxs)("div",{className:"content-card",children:[i&&(0,Fh.jsx)(_d,{lessonsData:i,handleClose:()=>s(!1)}),(0,Fh.jsxs)("header",{className:"day-header",children:[(0,Fh.jsx)("div",{className:"day-title",children:$d[e]}),(0,Fh.jsx)("div",{className:"day-date",children:l})]}),(0,Fh.jsx)("button",{className:"table-btn tool",onClick:()=>{const e=[];for(var t in r){var n=r[t];n.groups?!n[a]||(t=n[a]).hw&&e.push(t):n.hw&&e.push(n)}0!=e.length?s(e):Td("Решебники не найдены")},children:(0,Fh.jsx)("i",{className:"fas fa-book fa-lg"})}),(0,Fh.jsx)("div",{className:"content",children:h})]})};F.propTypes={dayNum:Ct().number.isRequired,week:Ct().number.isRequired,timetable:Ct().object.isRequired,pathToDay:Ct().string.isRequired,afterTitle:Ct().string};const Kd=F;const Wd=()=>{const[e,n]=(0,g.useState)(""),r={day:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"};return(0,g.useEffect)(()=>{var e=()=>{var e=(new Date).toLocaleString("ru",r);n(e)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,Fh.jsx)("div",{className:"time",children:e})},Qd=["8.00 - 8.45","8.55 - 9.40","9.55 - 10.40","10.55 - 11.40","11.55 - 12.40","12.50 - 13.35","13.55 - 14.40"];const Gd=()=>{var e=Qd.map((e,t)=>(0,Fh.jsxs)("div",{className:"rings-row",children:[(0,Fh.jsx)("span",{className:"index",children:t+1}),(0,Fh.jsx)("span",{className:"content",children:e})]},t));return(0,Fh.jsx)(Bd,{icon:(0,Fh.jsx)("i",{className:"fas fa-bell"}),children:e})};F=e=>(0,Fh.jsxs)("header",{className:"homescreen-header",children:[(0,Fh.jsx)(Wd,{}),(0,Fh.jsx)("button",{onClick:()=>e.setSettingsOpen(!0),children:(0,Fh.jsx)("i",{className:"fas fa-cog"})}),(0,Fh.jsx)(Gd,{})]});F.propTypes={setSettingsOpen:Ct().func.isRequired};const Yd=F,Xd=[["8.00","8.45"],["8.55","9.40"],["9.55","10.40"],["10.55","11.40"],["11.55","12.40"],["12.50","13.35"],["13.55","14.40"]];function Zd(e){var t=Math.floor(e/6e4),e=(e%6e4/1e3).toFixed(0);return t+":"+(e<10?"0":"")+e}F=({day_data:e,pathToDay:t})=>{var n=(0,g.useContext)(Rh).user.group;const[r,i]=(0,g.useState)(null),[s,a]=(0,g.useState)("");function o(){var[e,t]=function(){let s=null,a=null;return Xd.forEach((e,t)=>{var n=e[0].split("."),e=e[1].split(".");const r=new Date;r.setHours(n[0],n[1],0);const i=new Date;i.setHours(e[0],e[1],0);e=new Date;r<=e&&e<=i?(s=t+1,a="До конца осталось: "+Zd(i-e)):r>=e&&!s&&(s=t+1,a="До начала осталось: "+Zd(r-e))}),[s,a]}();e?e!=r&&t!=s&&(i(e),a(t)):(i(null),a(""))}(0,g.useEffect)(()=>{o(),setInterval(o,1e3)},[]);let l,u;if(r&&e[r]){if(e[r].groups){if(!e[r][n])return null;l=e[r][n],u=`${t}.${r}.`+n}else l=e[r],u=t+"."+r;return r&&(0,Fh.jsxs)("div",{className:"content-card Now",children:[(0,Fh.jsx)(Hd,{lesson:l,path:u}),(0,Fh.jsxs)("div",{className:"info",children:[" ",s]})]})}return null};F.propTypes={day_data:Ct().object.isRequired,pathToDay:Ct().string.isRequired};const Jd=F;var ef=null;F=e=>{var t=window.ios?{onTouchStart:e=>{ef=e.touches[0].clientY},onTouchMove:e=>{var t,n;null!==ef&&(n=e.touches[0].clientY,t=ef-n,e.target.scrollWidth==e.target.clientWidth&&(n=e.currentTarget,(0<t&&n.scrollHeight-n.scrollTop<=n.clientHeight||0==n.scrollTop)&&e.preventDefault(),ef=null))}}:{};return(0,Fh.jsx)("div",{className:"VScroll__Wraper",children:(0,Fh.jsx)("div",{className:"VScroll",...t,children:e.children})})};F.propTypes={children:Ct().node};const tf=F;const nf=({children:e,styles:t})=>(0,Fh.jsx)(tf,{children:(0,Fh.jsx)("div",{className:"tab-wraper",style:t,children:e})});const rf=g.useLayoutEffect;const sf=function(e){var t=(0,g.useRef)(e);return rf(function(){t.current=e}),t};function af(e,t){"function"!=typeof e?e.current=t:e(t)}const of=function(t,n){var r=(0,g.useRef)();return(0,g.useCallback)(function(e){t.current=e,r.current&&af(r.current,null),(r.current=n)&&af(n,e)},[n])};var lf={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},uf=function(t){Object.keys(lf).forEach(function(e){t.style.setProperty(e,lf[e],"important")})},cf=null,hf=function(e,t){e=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?e+t.borderSize:e-t.paddingSize};function df(){}function ff(e){var t=sf(e);(0,g.useLayoutEffect)(function(){function e(e){t.current(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])}var pf=function(e,n){return e.reduce(function(e,t){return e[t]=n[t],e},{})},mf=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],gf=!!document.documentElement.currentStyle,F=function(e,t){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,n=e.onChange,a=void 0===n?df:n,n=e.onHeightChange,o=void 0===n?df:n,e=Jh(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);function l(){var e,t=c.current,n=r&&d.current?d.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;e=pf(mf,t),t=e.boxSizing;return""===t?null:(gf&&"border-box"===t&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px"),{sizingStyle:e,paddingSize:parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),borderSize:parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth)})}(t);n&&(n=(e=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),cf||((cf=document.createElement("textarea")).setAttribute("tabindex","-1"),cf.setAttribute("aria-hidden","true"),uf(cf)),null===cf.parentNode&&document.body.appendChild(cf);var i=e.paddingSize,s=e.borderSize,a=e.sizingStyle,o=a.boxSizing;return Object.keys(a).forEach(function(e){cf.style[e]=a[e]}),uf(cf),cf.value=t,t=hf(cf,e),cf.value="x",e=cf.scrollHeight-i,n*=e,"border-box"===o&&(n=n+i+s),t=Math.max(n,t),r*=e,"border-box"===o&&(r=r+i+s),[t=Math.min(r,t),e]}(d.current=n,t.value||t.placeholder||"x",s,i))[0],e=e[1],h.current!==n&&(h.current=n,t.style.setProperty("height",n+"px","important"),o(n,{rowHeight:e})))}var u=void 0!==e.value,c=(0,g.useRef)(null),t=of(c,t),h=(0,g.useRef)(0),d=(0,g.useRef)();return(0,g.useLayoutEffect)(l),ff(l),(0,g.createElement)("textarea",Zh({},e,{onChange:function(e){u||l(),a(e)},ref:t}))};const yf=(0,g.forwardRef)(F);F=({noteData:e,docRef:t})=>{const n=(0,g.useRef)(),[r,i]=(0,g.useState)(e.text),s=e.isPinned;(0,g.useEffect)(()=>{i(e.text)},[e.text]);var a="note "+(s?"pinned":"");return(0,Fh.jsxs)("div",{className:a,children:[(0,Fh.jsx)(yf,{maxRows:10,ref:n,value:r,placeholder:"Новая заметка..",onBlur:function(){Th(t,{text:r},{merge:!0})},onChange:function(){i(n.current.value)}}),(0,Fh.jsxs)(Bd,{children:[(0,Fh.jsx)(qd,{onClick:function(){Th(t,{isPinned:!s},{merge:!0})},title:s?"Открепить":"Закрепить",icon:(0,Fh.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M7.04785 16.3613C7.04785 17.1611 7.59277 17.6885 8.42773 17.6885H13.1211V21.8545C13.1211 23.0762 13.7539 24.333 14 24.333C14.2373 24.333 14.8701 23.0762 14.8701 21.8545V17.6885H19.5723C20.4072 17.6885 20.9434 17.1611 20.9434 16.3613C20.9434 14.4629 19.4404 12.5205 16.9531 11.6064L16.6719 7.51074C17.9814 6.77246 19.0186 5.95508 19.4668 5.36621C19.7129 5.05859 19.8271 4.7334 19.8271 4.45215C19.8271 3.87207 19.3877 3.44141 18.7197 3.44141H9.27148C8.6123 3.44141 8.16406 3.87207 8.16406 4.45215C8.16406 4.7334 8.27832 5.05859 8.52441 5.36621C8.97266 5.95508 10.0098 6.77246 11.3193 7.51074L11.0381 11.6064C8.55078 12.5205 7.04785 14.4629 7.04785 16.3613Z"})})}),(0,Fh.jsx)(qd,{onClick:function(){navigator.clipboard.writeText(r).then(()=>{Td("Скопировано")})},title:"Скопировать",icon:(0,Fh.jsx)("i",{className:"fas fa-clone"})}),(0,Fh.jsx)(qd,{onClick:function(){var e;Nh(Nc((e=t).firestore,Mc),[new Gs(e._key,Ms.none())])},title:"Удалить",icon:(0,Fh.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M9.84277 22.4785H18.166C19.3701 22.4785 20.0732 21.8369 20.126 20.6416L20.6797 7.94141H21.8926C22.3408 7.94141 22.6836 7.58984 22.6836 7.15039C22.6836 6.71094 22.332 6.37695 21.8926 6.37695H18.0781V5.05859C18.0781 3.65234 17.1729 2.81738 15.6611 2.81738H12.3213C10.8096 2.81738 9.9043 3.65234 9.9043 5.05859V6.37695H6.10742C5.66797 6.37695 5.31641 6.71973 5.31641 7.15039C5.31641 7.59863 5.66797 7.94141 6.10742 7.94141H7.3291L7.8916 20.6416C7.93555 21.8369 8.63867 22.4785 9.84277 22.4785ZM11.7324 5.1377C11.7324 4.74219 12.0049 4.4873 12.4443 4.4873H15.5469C15.9863 4.4873 16.2588 4.74219 16.2588 5.1377V6.37695H11.7324V5.1377ZM11.1787 19.7803C10.8271 19.7803 10.5811 19.5518 10.5723 19.2002L10.3086 9.86621C10.2998 9.51465 10.5459 9.27734 10.915 9.27734C11.2666 9.27734 11.5127 9.50586 11.5215 9.85742L11.7852 19.1914C11.8027 19.543 11.5566 19.7803 11.1787 19.7803ZM14 19.7803C13.6309 19.7803 13.3848 19.5518 13.3848 19.2002V9.85742C13.3848 9.51465 13.6309 9.27734 14 9.27734C14.3691 9.27734 14.624 9.51465 14.624 9.85742V19.2002C14.624 19.5518 14.3691 19.7803 14 19.7803ZM16.8213 19.7891C16.4434 19.7891 16.1973 19.543 16.2148 19.2002L16.4785 9.85742C16.4873 9.50586 16.7334 9.27734 17.085 9.27734C17.4541 9.27734 17.7002 9.51465 17.6914 9.86621L17.4277 19.2002C17.4189 19.5518 17.1729 19.7891 16.8213 19.7891Z"})})})]})]})};F.propTypes={noteData:Ct().object.isRequired,docRef:Ct().object.isRequired};const vf=F;const bf=()=>{const e=(0,g.useContext)(Rh).database,t=function(t){const[e,n]=(0,g.useState)([]);return(0,g.useEffect)(()=>{const e=Ih(t,e=>{n(e)});return()=>e()},[t]),e}(e.notes)?.docs??[],n=t.map(e=>(0,Fh.jsx)(vf,{docRef:e.ref,noteData:e.data()},e.id));return(0,Fh.jsxs)("div",{className:"content-card",id:"notes",children:[(0,Fh.jsx)("h1",{children:"Заметки"}),(0,Fh.jsx)("button",{id:"add-note",onClick:()=>{n.length<=10?function(e,t){const n=Nc(e.firestore,Mc),r=jc(e),i=kh(e.converter,t);Nh(n,[Jc(Zc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ms.exists(!1))]).then(()=>r)}(e.notes,{text:"",isPinned:!1}):Td("Нельзя добавить больше 10 заметок")},children:(0,Fh.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM9.7373 13.6631C9.7373 13.1445 10.1064 12.7842 10.6162 12.7842H13.1211V10.2793C13.1211 9.76953 13.4727 9.40918 13.9736 9.40918C14.4922 9.40918 14.8525 9.76953 14.8525 10.2793V12.7842H17.3662C17.8672 12.7842 18.2363 13.1445 18.2363 13.6631C18.2363 14.1641 17.8672 14.5244 17.3662 14.5244H14.8525V17.0293C14.8525 17.5303 14.4922 17.8994 13.9736 17.8994C13.4727 17.8994 13.1211 17.5303 13.1211 17.0293V14.5244H10.6162C10.1064 14.5244 9.7373 14.1641 9.7373 13.6631Z"})})}),(0,Fh.jsx)("div",{className:"content",children:n})]})};F=e=>{const[t,n]=(0,g.useState)(!1);var r=(0,g.useContext)(Oh);let{dayNum:i,isWeekend:s}=Cd();(0,g.useEffect)(()=>{var e=()=>{var e=(new Date).getHours();n(7<=e&&24!=e)};e(),setInterval(e,1e3)},[]);let a=null;var o=(new Date).getHours();return s?(a="",i=1):15<o&&(5==i?(a="",i=1):(a="",i+=1)),(0,Fh.jsx)(nf,{children:(0,Fh.jsxs)("div",{className:"HomeScreen",children:[(0,Fh.jsx)(Yd,{setSettingsOpen:e.setSettingsOpen}),r&&!s&&t&&(0,Fh.jsx)(Jd,{day_data:r[2][i],pathToDay:"2."+i}),(0,Fh.jsxs)("div",{id:"homescreen-layout",children:[(0,Fh.jsx)("div",{className:"side-left",children:(0,Fh.jsx)(bf,{})}),(0,Fh.jsx)("div",{className:"side-right",children:r&&(0,Fh.jsx)(Kd,{dayNum:i,week:s?3:2,timetable:r[s?3:2][i],pathToDay:(s?3:2)+"."+i,afterTitle:a})})]})]})})};F.propTypes={setSettingsOpen:Ct().func.isRequired};const wf=(0,g.memo)(F);const xf=(0,g.memo)(()=>{var e=Cd()["isWeekend"];const[t,n]=(0,g.useState)(e?3:2);var r=(0,g.useContext)(Oh)?.[t];const i=(0,g.useRef)(null);e=1==t?"Прошлая неделя":2==t?"Эта неделя":"Следующая неделя";const s=[];let a;for(a in r)s.push((0,Fh.jsx)(Kd,{dayNum:parseInt(a),week:t,timetable:r[a],pathToDay:t+"."+a},a));const o=()=>{i.current.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(2%)",opacity:.5},{transform:"translateY(0)",opacity:1}],{ease:"ease-in-out",duration:280})};return(0,Fh.jsxs)(nf,{children:[(0,Fh.jsxs)("header",{id:"week-header",children:[1<t?(0,Fh.jsx)("button",{onClick:()=>{n(t-1),o()},children:(0,Fh.jsx)("i",{className:"fas fa-chevron-left fa-2x"})}):(0,Fh.jsx)("button",{className:"unactive",children:(0,Fh.jsx)("i",{className:"fas fa-chevron-left fa-2x"})}),(0,Fh.jsx)("span",{children:e}),t<3?(0,Fh.jsx)("button",{onClick:()=>{n(t+1),o()},children:(0,Fh.jsx)("i",{className:"fas fa-chevron-right fa-2x"})}):(0,Fh.jsx)("button",{className:"unactive",children:(0,Fh.jsx)("i",{className:"fas fa-chevron-right fa-2x"})})]}),(0,Fh.jsx)("div",{className:"week-grid",ref:i,children:0!=s.length?s:(0,Fh.jsx)("div",{className:"no-timetable-alert content-card",children:"Тут каникулы)"})})]})});F=n=>{const[e,r]=(0,g.useState)("google"),[t,i]=(0,g.useState)(""),s=(0,g.useRef)();(0,g.useEffect)(()=>{"google"!==e&&s.current.focus()},[e]);const a=()=>{""!=t?("google"!==e?(n.addSolution(e,t),r("google")):window.open("https://www.google.com/search?q="+t,"_blank"),i("")):r("google")};var o=["eng","rus","bel","phis","alg","him","rus_lit","geom","bel_lit"].map(e=>{var t=n.manifest[e];return(0,Fh.jsx)("button",{style:{background:t.color},onClick:()=>r(e),children:t.title},e)}),l="google"===e;return(0,Fh.jsxs)("header",{id:"search-header",children:[(0,Fh.jsxs)("div",{className:"search",style:{borderColor:n.manifest?.[e]?.color},children:[!l&&(0,Fh.jsx)("div",{className:"unit",children:n.manifest?.[e].unit}),(0,Fh.jsx)("input",{ref:s,value:t,onChange:e=>i(e.target.value),onBlur:a,onKeyPress:e=>{"Enter"==e.key&&""!==t&&a()},inputMode:l?"":"decimal",type:l?"text":"numbers",autoComplete:"off"})]}),(0,Fh.jsx)("div",{className:"wraper",children:o})]})};F.propTypes={addSolution:Ct().func.isRequired,manifest:Ct().object.isRequired};const Ef=F;F=e=>{const t=(0,g.useContext)(Lh),[n,s]=(0,g.useState)([]);const r=n.map(e=>(0,Fh.jsx)(Id,{subjectInfo:t[e.subjID],startNum:e.num,onClose:()=>(e=>{e=n.indexOf(e);n.splice(e,1),s([...n])})(e)},e.subjID+e.num));return(0,Fh.jsxs)(nf,{styles:{padding:0,maxWidth:600,paddingBottom:100},children:[t&&(0,Fh.jsx)(Ef,{addSolution:(r,i)=>{var e;"rus_lit"!==r&&"bel_lit"!==r?s(e=>{const t=i.replace(/ *\([^)]*\) */g,"").split(",");var n=t.map(e=>(e=e.replace(/\D/g,""),{subjID:r,num:parseInt(e)}));return e.concat(n)}):(e=t[r].alt_url.replace("?",i.replace(/ *\([^)]*\) */g,"")),window.open(e,"_blank"))},manifest:t}),(0,Fh.jsxs)("div",{className:"tool-bar",children:[(0,Fh.jsx)("button",{onClick:()=>e.setNotebooksOpen(!0),children:(0,Fh.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M9.5791 20.7207C11.1172 20.720 12.1807 21.2744 12.6553 21.5996C12.8223 21.6875 13.2617 21.96 13.376 21.9863V7.37891C12.7168 6.23633 10.915 5.33984 9.07812 5.33984C6.64355 5.33984 4.65723 6.71094 4.13867 7.74805V21.0283C4.14746 21.8105 4.58691 22.127 5.13184 22.127C5.53613 22.127 5.79102 21.9863 6.06348 21.7754C6.62598 21.3184 7.91797 20.7207 9.5791 20.7207ZM18.4209 20.7207C20.082 20.7207 21.3652 21.3184 21.9277 21.7754C22.2002 21.9863 22.4551 22.127 22.8506 22.127C23.3955 22.127 23.8525 21.8105 23.8525 21.0283V7.74805C23.334 6.71094 21.3477 5.33984 18.9219 5.33984C17.085 5.33984 15.2744 6.23633 14.624 7.37891V22.0039C14.7295 21.9775 15.1689 21.6963 15.3447 21.5996C15.8193 21.2744 16.8828 20.7207 18.4209 20.7207Z"})})}),(0,Fh.jsx)("span",{children:"ReBot"}),(0,Fh.jsx)("button",{onClick:()=>e.setSettingsOpen(!0),children:(0,Fh.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor",children:(0,Fh.jsx)("path",{d:"M13.2002 23.0059H14.8086C15.3359 23.0059 15.7314 22.6895 15.8457 22.1709L16.2852 20.3164C16.584 20.2109 16.8652 20.0967 17.1289 19.9736L18.7549 20.9756C19.1855 21.248 19.7041 21.2041 20.0645 20.8438L21.1982 19.71C21.5586 19.3496 21.6113 18.8135 21.3213 18.374L20.3281 16.7656C20.4512 16.502 20.5654 16.2207 20.6533 15.9482L22.5254 15.5088C23.0439 15.3945 23.3516 14.999 23.3516 14.4717V12.8896C23.3516 12.3711 23.0439 11.9668 22.5254 11.8525L20.6709 11.4043C20.5742 11.0967 20.4512 10.8242 20.3457 10.5869L21.3389 8.94336C21.6201 8.49512 21.585 7.99414 21.207 7.625L20.0645 6.49121C19.6953 6.15723 19.2295 6.0957 18.7812 6.3418L17.1289 7.36133C16.874 7.23828 16.5928 7.12402 16.2939 7.01855L15.8457 5.1377C15.7314 4.61914 15.3359 4.30273 14.8086 4.30273H13.2002C12.6641 4.30273 12.2686 4.61914 12.1543 5.1377L11.7148 7.00977C11.416 7.10645 11.126 7.2207 10.8623 7.35254L9.21875 6.3418C8.77051 6.0957 8.31348 6.14844 7.93555 6.49121L6.79297 7.625C6.41504 7.99414 6.37988 8.49512 6.66113 8.94336L7.6543 10.5869C7.54883 10.8242 7.43457 11.0967 7.3291 11.4043L5.47461 11.8525C4.95605 11.9668 4.64844 12.3711 4.64844 12.8896V14.4717C4.64844 14.999 4.95605 15.3945 5.47461 15.5088L7.34668 15.9482C7.43457 16.2207 7.54883 16.502 7.67188 16.7656L6.67871 18.374C6.38867 18.8135 6.44141 19.3496 6.81055 19.71L7.93555 20.8438C8.2959 21.2041 8.81445 21.248 9.25391 20.9756L10.8711 19.9736C11.1348 20.0967 11.416 20.2109 11.7148 20.3164L12.1543 22.1709C12.2686 22.6895 12.6641 23.0059 13.2002 23.0059ZM14 16.7305C12.3125 16.7305 10.9326 15.3418 10.9326 13.6455C10.9326 11.9668 12.3125 10.5869 14 10.5869C15.6963 10.5869 17.0762 11.9668 17.0762 13.6455C17.0762 15.3418 15.6963 16.7305 14 16.7305Z"})})})]}),r.reverse()]})};F.propTypes={setNotebooksOpen:Ct().func.isRequired,setSettingsOpen:Ct().func.isRequired};const Sf=F;F=e=>{var t,n=(0,g.useContext)(Lh);const r=[];for(t in n){const i=n[t];i.id=t,i.marks&&r.push((0,Fh.jsx)(Ud,{subject:i,marks:e.marks[t]??[]},t))}return(0,Fh.jsx)("div",{className:"marks-grid",children:r})};F.propTypes={marks:Ct().object.isRequired};const kf=(0,g.memo)(F);const Cf=(0,g.memo)(()=>{var e=(0,g.useContext)(jh);return(0,Fh.jsx)(nf,{styles:{paddingLeft:0,paddingRight:0},children:(0,Fh.jsxs)("div",{className:"marks",children:[(0,Fh.jsx)(Bh,{text:"Оценки"}),(0,Fh.jsx)(kf,{marks:e??{}})]})})});F=({config:e})=>{var[t,n]=(0,g.useState)(1),[r,i]=(0,g.useState)(!1);(0,g.useEffect)(()=>{try{navigator.serviceWorker.addEventListener("message",e=>{e.data.type}),navigator.serviceWorker.ready.then(e=>{e.active.postMessage({type:"run-updater"})})}catch(e){alert(e.message)}},[]);var s=function(){const[e,t]=(0,g.useState)(null);return(0,g.useEffect)(()=>{var e=localStorage.getItem("CACHED_MANIFEST");e&&t(JSON.parse(e));fetch("https://rebot-f643e-default-rtdb.europe-west1.firebasedatabase.app/subjects-manifest.json").then(async e=>{e=await e.json();e?.error||(t(e),localStorage.setItem("CACHED_MANIFEST",JSON.stringify(e)))})},[]),e}(),a=Ah(e.database.timetable),o=Ah(e.database.marks);const[l,u]=(0,g.useState)(!1),[c,h]=(0,g.useState)(!1);return(0,Fh.jsxs)(Rh.Provider,{value:{...e,setStatusBar:i},children:[(0,Fh.jsx)("div",{id:"hw-re-container"}),(0,Fh.jsx)("div",{id:"modals-container"}),(0,Fh.jsx)(Sd,{activeTab:t,setActiveTab:n,statusBar:r}),(0,Fh.jsxs)(Lh.Provider,{value:s,children:[(0,Fh.jsx)(Oh.Provider,{value:a,children:(0,Fh.jsxs)(jh.Provider,{value:o,children:[(0,Fh.jsx)("div",{className:"tab",hidden:1!=t,children:(0,Fh.jsx)(wf,{setSettingsOpen:h})}),(0,Fh.jsx)("div",{className:"tab",hidden:4!=t,children:(0,Fh.jsx)(Cf,{})}),(0,Fh.jsx)("div",{className:"tab",hidden:5!=t,children:(0,Fh.jsx)(xf,{})})]})}),(0,Fh.jsx)("div",{className:"tab",hidden:2!=t,children:(0,Fh.jsx)(Sf,{setNotebooksOpen:u,setSettingsOpen:h})})]}),l&&(0,Fh.jsx)(zh,{handleClose:()=>u(!1),direction:"split",children:(0,Fh.jsx)("div",{className:"scroll-content",style:{marginTop:50},children:(0,Fh.jsx)(wd,{})})}),c&&(0,Fh.jsx)(zh,{handleClose:()=>h(!1),children:(0,Fh.jsx)(Xh,{})})]})};F.propTypes={config:Ct().object.isRequired};const Tf=F;var If=Df(343);function Nf({setUser:t}){const[e,n]=(0,g.useState)(1);return(0,g.useEffect)(()=>{navigator.serviceWorker.register("./sw.js")},[]),(0,g.useEffect)(()=>{localStorage.group=e},[e]),(0,Fh.jsxs)("div",{className:"Login",children:[(0,Fh.jsx)("div",{className:"top-container",children:(0,Fh.jsx)("header",{children:(0,Fh.jsx)("div",{className:"logo",children:(0,Fh.jsx)("img",{width:"36px",src:"static/icons/icon-128.png"})})})}),(0,Fh.jsx)("div",{className:"content",children:(0,Fh.jsxs)("div",{className:"block",children:[(0,Fh.jsx)("h5",{className:"group-title",children:"Группа по английскому"}),(0,Fh.jsxs)("div",{className:"group",children:[(0,Fh.jsx)("button",{className:1==e?"active":"",onClick:()=>n(1),children:"1"}),(0,Fh.jsx)("button",{className:2==e?"active":"",onClick:()=>n(2),children:"2"}),(0,Fh.jsx)("button",{className:3==e?"active":"",onClick:()=>n(3),children:"3"})]}),(0,Fh.jsx)("div",{id:"auth",children:(0,Fh.jsx)(If.TLoginButton,{botName:"resh1_bot",buttonSize:If.TLoginButtonSize.Large,lang:"ru",usePic:!0,cornerRadius:7,onAuthCallback:e=>{Th(jc(Dh,"users",""+e.id),e).then(()=>{t({...e,group:localStorage.group})}),localStorage.user=JSON.stringify({...e,group:localStorage.group})},requestAccess:"write"})})]})})]})}F=/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;globalThis.ios=F;const _f=l.createRoot(document.getElementById("root"));_f.render((0,Fh.jsx)(()=>{const[e,n]=(0,g.useState)(null),[t,r]=(0,g.useState)(null);function i(e){var t=""+e.id,t={userInfo:jc(Dh,"users",t),timetable:jc(Dh,"timeTables","9D"),marks:jc(Dh,"users",t,"userStorage","marks_new"),notes:function(e,t,n){if(e=f(e),kc("collection","path",t),e instanceof Dc){var r=di.fromString(t,...n);return Tc(r),new Oc(e,null,r)}if(!(e instanceof Lc||e instanceof Oc))throw new Gr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tc(n=e._path.child(di.fromString(t,...n))),new Oc(e.firestore,null,n)}(Dh,"users",[t,"notes"])};n(e),r(t)}return(0,g.useEffect)(()=>{var e=localStorage.getItem("user");null!=e&&"null"!=e?i(JSON.parse(e)):n("login")},[]),e&&t?(0,Fh.jsx)(Tf,{config:{database:t,user:e,chat:"true"==localStorage.chat,marksRatingPattern:"2"}}):"login"==e&&(0,Fh.jsx)(Nf,{setUser:i})},{})),navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js")})()})();
//# sourceMappingURL=bundle.js.map