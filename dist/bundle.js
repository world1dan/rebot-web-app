/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var n={8744:(e,t,n)=>{"use strict";n.r(t)},5623:(e,t,n)=>{"use strict";n.r(t)},9883:(e,t,n)=>{"use strict";n.r(t)},6972:(e,t,n)=>{"use strict";n.r(t)},3218:(e,t,n)=>{"use strict";n.r(t)},6717:(e,t,n)=>{"use strict";n.r(t)},1095:(e,t,n)=>{"use strict";n.r(t)},625:(e,t,n)=>{"use strict";n.r(t)},3838:(e,t,n)=>{"use strict";n.r(t)},457:(e,t,n)=>{"use strict";n.r(t)},148:(e,t,n)=>{"use strict";n.r(t)},6788:(e,t,n)=>{"use strict";n.r(t)},710:(e,t,n)=>{"use strict";n.r(t)},7920:(e,t,n)=>{"use strict";n.r(t)},790:(e,t,n)=>{"use strict";n.r(t)},887:(e,t,n)=>{"use strict";n.r(t)},4311:(e,t,n)=>{"use strict";n.r(t)},6352:(e,t,n)=>{"use strict";n.r(t)},4868:(e,t,n)=>{"use strict";n.r(t)},1675:(e,t,n)=>{"use strict";n.r(t)},3526:(e,t,n)=>{"use strict";n.r(t)},2838:(e,t,n)=>{"use strict";n.r(t)},7669:(e,t,n)=>{"use strict";n.r(t)},8520:(e,t,n)=>{"use strict";n.r(t)},7480:(e,t,n)=>{"use strict";n.r(t)},4434:(e,t,n)=>{"use strict";n.r(t)},716:(e,t,n)=>{"use strict";n.r(t)},9101:(e,t,n)=>{"use strict";n.r(t)},9073:(e,t,n)=>{"use strict";n.r(t)},7673:(e,t,n)=>{"use strict";n.r(t)},9385:(e,t,n)=>{"use strict";n.r(t)},558:(e,t,n)=>{"use strict";n.r(t)},7359:(e,t,n)=>{"use strict";n.r(t)},4718:(e,t,n)=>{"use strict";n.r(t)},2872:(e,t,n)=>{"use strict";n.r(t)},7843:(e,t,n)=>{"use strict";n.r(t)},9244:(e,t,n)=>{"use strict";n.r(t)},8301:(e,t,n)=>{"use strict";n.r(t)},9793:(e,t,n)=>{"use strict";n.r(t)},2076:(e,t,n)=>{"use strict";n.r(t)},3011:(e,t,n)=>{"use strict";n.r(t)},9358:(e,t,n)=>{"use strict";n.r(t)},8726:(e,t,n)=>{"use strict";n.r(t)},7837:(e,t,n)=>{"use strict";n.r(t)},1927:(e,t,n)=>{"use strict";n.r(t)},2410:(e,t,n)=>{"use strict";n.r(t)},2899:(e,t,n)=>{"use strict";n.r(t)},3315:(e,t,n)=>{"use strict";n.r(t)},2609:(e,t,n)=>{"use strict";n.r(t)},442:(e,t,n)=>{"use strict";n.r(t)},3464:(e,t,n)=>{"use strict";n.r(t)},9508:(e,t,n)=>{"use strict";n.r(t)},4412:(e,t,n)=>{"use strict";n.r(t)},1992:(e,t,n)=>{"use strict";n.r(t)},7106:(e,t,n)=>{"use strict";n.r(t)},7953:(e,t,n)=>{"use strict";n.r(t)},3924:(e,t,n)=>{"use strict";n.r(t)},6094:(e,t,n)=>{"use strict";n.r(t)},2479:(e,t,n)=>{"use strict";n.r(t)},7826:(e,t,n)=>{"use strict";n.r(t)},8682:(e,t,n)=>{"use strict";n.r(t)},9632:(e,t,n)=>{"use strict";n.r(t)},350:(e,t,n)=>{"use strict";n.r(t)},771:(e,t,n)=>{"use strict";n.r(t)},4598:(e,t,n)=>{"use strict";n.r(t)},6458:(e,t,n)=>{"use strict";n.r(t)},2703:(e,t,n)=>{"use strict";var s=n(414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==s)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(c,h,e)=>{"use strict";var d=e(7294),n=e(3840);function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,L={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(L[e]=t,e=0;e<t.length;e++)f.add(t[e])}var e=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D={},M={};function r(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var s={},R=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){s[e]=new r(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];s[t]=new r(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){s[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){s[e]=new r(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){s[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){s[e]=new r(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){s[e]=new r(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){s[e]=new r(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){s[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)}),/[\-:]([a-z])/g);function O(e){return e[1].toUpperCase()}function F(e,n,t,r){var i,a=s.hasOwnProperty(n)?s[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(r,e,t){if(null==r||function(e,t,n){if(null===t||0!==t.type)switch(typeof r){case"function":case"symbol":return 1;case"boolean":return!n&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return}}(n,e,t))return 1;if(!t&&null!==e)switch(e.type){case 3:return!r;case 4:return!1===r;case 5:return isNaN(r);case 6:return isNaN(r)||r<1}}(t,a,r)&&(t=null),r||null===a?(i=n,(y.call(M,i)||!y.call(D,i)&&(v.test(i)?M[i]=!0:void(D[i]=!0)))&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t))):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,O);s[t]=new r(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,O);s[t]=new r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,O);s[t]=new r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){s[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)}),s.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){s[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)});var z=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),ee=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function te(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=ee&&e[ee]||e["@@iterator"])?e:null}var ne,b=Object.assign;function re(e){if(void 0===ne)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ne=t&&t[1]||""}return"\n"+ne+e}var ie=!1;function ae(t,e){if(!t||ie)return"";ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(e){var r=e}Reflect.construct(t,[],e)}else{try{e.call()}catch(e){r=e}t.call(e.prototype)}else{try{throw Error()}catch(e){r=e}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i,a=e.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(1!==o||1!==l)do{if(o--,--l<0||a[o]!==s[l])return i="\n"+a[o].replace(" at new "," at "),i=t.displayName&&i.includes("<anonymous>")?i.replace("<anonymous>",t.displayName):i}while(1<=o&&0<=l);break}}}finally{ie=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?re(t):""}function se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function le(e){e._valueTracker||(e._valueTracker=function(e){var t,n,r=oe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set)return t=i.get,n=i.set,Object.defineProperty(e,r,{configurable:!0,get:function(){return t.call(this)},set:function(e){a=""+e,n.call(this,e)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}(e))}function ue(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),r="";return(e=r=e?oe(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)}}function ce(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function he(e,t){var n=t.checked;return b({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function de(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked,n=se(null!=t.value?t.value:n);e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function fe(e,t){null!=(t=t.checked)&&F(e,"checked",t,!1)}function pe(e,t){fe(e,t);var n=se(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return e.removeAttribute("value");t.hasOwnProperty("value")?ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&ge(e,t.type,se(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ge(e,t,n){"number"===t&&ce(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ye=Array.isArray;function Ie(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+se(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,r&&(e[i].defaultSelected=!0);null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ve(91));return b({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ve(92));if(ye(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:se(n)}}function Ae(e,t){var n=se(t.value),r=se(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function Me(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Re=Re||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Re.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}var Re,Oe="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Me(e,t)})}:Me;function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return n.nodeValue=t}e.textContent=t}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];function Ue(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Fe.hasOwnProperty(e)&&Fe[e]?(""+t).trim():t+"px"}function Be(e,t){for(var n in e=e.style,t){var r,i;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),i=Ue(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i)}}Object.keys(Fe).forEach(function(t){ze.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fe[e]=Fe[t]})});var qe=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(e,t){if(t){if(qe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ve(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ve(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ve(62))}}function We(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ke=null;function Ge(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var Ye=null,$e=null,Xe=null;function Qe(e){if(e=xi(e)){if("function"!=typeof Ye)throw Error(ve(280));var t=e.stateNode;t&&(t=ki(t),Ye(e.stateNode,e.type,t))}}function Ze(e){$e?Xe?Xe.push(e):Xe=[e]:$e=e}function Je(){if($e){var e=$e,t=Xe;if(Xe=$e=null,Qe(e),t)for(e=0;e<t.length;e++)Qe(t[e])}}function et(e,t){return e(t)}function tt(){}var nt=!1;function rt(e,t,n){if(nt)return e(t,n);nt=!0;try{et(e,t,n)}finally{nt=!1,null===$e&&null===Xe||(tt(),Je())}}function it(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=(r=!r.disabled)?r:!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e));break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ve(231,t,typeof n));return n}var at=!1;if(e)try{var t={};Object.defineProperty(t,"passive",{get:function(){at=!0}}),window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){at=!1}var st=!1,ot=null,lt=!1,ut=null,ct={onError:function(e){st=!0,ot=e}};function ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function dt(e){if(13===e.tag){var t=e.memoizedState;if(null!==(t=null===t&&null!==(e=e.alternate)?e.memoizedState:t))return t.dehydrated}return null}function ft(e){if(ht(e)!==e)throw Error(ve(188))}function pt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ht(e)))throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null===(r=i.return))break;n=r}else{if(i.child===a.child){for(a=i.child;a;){if(a===n)return ft(i),e;if(a===r)return ft(i),t;a=a.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}}if(3!==n.tag)throw Error(ve(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var mt=n.unstable_scheduleCallback,gt=n.unstable_cancelCallback,yt=n.unstable_shouldYield,vt=n.unstable_requestPaint,be=n.unstable_now,bt=n.unstable_getCurrentPriorityLevel,wt=n.unstable_ImmediatePriority,xt=n.unstable_UserBlockingPriority,Ct=n.unstable_NormalPriority,kt=n.unstable_LowPriority,St=n.unstable_IdlePriority,Et=null,Tt=null,_t=Math.clz32||function(e){return 0==(e>>>=0)?32:31-(It(e)/Nt|0)|0},It=Math.log,Nt=Math.LN2,jt=64,At=4194304;function Pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r,i=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o?0!=(r=o&~a)?i=Pt(r):0!=(s&=o)&&(i=Pt(s)):0!=(o=n&~a)?i=Pt(o):0!==s&&(i=Pt(s)),0===i)return 0;if(0!==t&&t!==i&&0==(t&a)&&((s=t&-t)<=(a=i&-i)||16===a&&0!=(4194240&s)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)i|=e[n=31-_t(t)],t&=~(a=1<<n);return i}function Dt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Rt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-_t(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function Vt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Ft,zt,Ut,Bt,qt,Ht=!1,Wt=[],Kt=null,Gt=null,Yt=null,$t=new Map,Xt=new Map,Qt=[],Zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jt(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function en(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=xi(t))&&zt(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tn(e){var t=wi(e.target);if(null!==t){var n=ht(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=dt(n)))return e.blockedOn=t,qt(e.priority,function(){Ut(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null}function nn(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=fn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&zt(t),e.blockedOn=n,0;var r=new(n=e.nativeEvent).constructor(n.type,n);Ke=r,n.target.dispatchEvent(r),Ke=null,t.shift()}return 1}}function rn(e,t,n){nn(e)&&n.delete(t)}function an(){Ht=!1,null!==Kt&&nn(Kt)&&(Kt=null),null!==Gt&&nn(Gt)&&(Gt=null),null!==Yt&&nn(Yt)&&(Yt=null),$t.forEach(rn),Xt.forEach(rn)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ht||(Ht=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,an)))}function on(t){function e(e){return sn(e,t)}if(0<Wt.length){sn(Wt[0],t);for(var n=1;n<Wt.length;n++){var r=Wt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Kt&&sn(Kt,t),null!==Gt&&sn(Gt,t),null!==Yt&&sn(Yt,t),$t.forEach(e),Xt.forEach(e),n=0;n<Qt.length;n++)(r=Qt[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&null===(n=Qt[0]).blockedOn;)tn(n),null===n.blockedOn&&Qt.shift()}var ln=z.ReactCurrentBatchConfig;function un(e,t,n,r){var i=we,a=ln.transition;ln.transition=null;try{we=1,hn(e,t,n,r)}finally{we=i,ln.transition=a}}function cn(e,t,n,r){var i=we,a=ln.transition;ln.transition=null;try{we=4,hn(e,t,n,r)}finally{we=i,ln.transition=a}}function hn(e,t,n,r){var i=fn(e,0,0,r);if(null===i)Yr(e,t,r,dn,n),Jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Kt=en(Kt,e,t,n,r,i),1;case"dragenter":return Gt=en(Gt,e,t,n,r,i),1;case"mouseover":return Yt=en(Yt,e,t,n,r,i),1;case"pointerover":var a=i.pointerId;return $t.set(a,en($t.get(a)||null,e,t,n,r,i)),1;case"gotpointercapture":return a=i.pointerId,Xt.set(a,en(Xt.get(a)||null,e,t,n,r,i)),1}}(i,e,t,n,r))r.stopPropagation();else if(Jt(e,r),4&t&&-1<Zt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&Ft(a),null===(a=fn(e,0,0,r))&&Yr(e,t,r,dn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}var dn=null;function fn(e,t,n,r){if((dn=null)!==(e=wi(e=Ge(r))))if(null===(t=ht(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=dt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dn=e,null}function pn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bt()){case wt:return 1;case xt:return 4;case Ct:case kt:return 16;case St:return 536870912;default:return 16}default:return 16}}var mn=null,gn=null,yn=null;function vn(){if(yn)return yn;for(var e=gn,t=e.length,n=("value"in mn?mn.value:mn.textContent),r=n.length,i=0;i<t&&e[i]===n[i];i++);for(var a=t-i,s=1;s<=a&&e[t-s]===n[r-s];s++);return yn=n.slice(i,1<s?1-s:void 0)}function bn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function wn(){return!0}function xn(){return!1}function Cn(s){function e(e,t,n,r,i){for(var a in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,s)s.hasOwnProperty(a)&&(e=s[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?wn:xn,this.isPropagationStopped=xn,this}return b(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=wn)},persist:function(){},isPersistent:wn}),e}var kn,Sn,En,t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tn=Cn(t),i=b({},t,{view:0,detail:0}),_n=Cn(i),a=b({},i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(Sn=En&&"mousemove"===e.type?(kn=e.screenX-En.screenX,e.screenY-En.screenY):kn=0,En=e),kn)},movementY:function(e){return"movementY"in e?e.movementY:Sn}}),In=Cn(a),Nn=Cn(b({},a,{dataTransfer:0})),jn=Cn(b({},i,{relatedTarget:0})),An=Cn(b({},t,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=Cn(b({},t,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),Ln=Cn(b({},t,{data:0})),Dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function Vn(){return On}var Fn=Cn(b({},i,{key:function(e){if(e.key){var t=Dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=bn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return"keypress"===e.type?bn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?bn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),zn=Cn(b({},a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=Cn(b({},i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn})),Bn=Cn(b({},t,{propertyName:0,elapsedTime:0,pseudoElement:0})),qn=Cn(b({},a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Hn=[9,13,27,32],Wn=e&&"CompositionEvent"in window,i=null,Kn=(e&&"documentMode"in document&&(i=document.documentMode),e&&"TextEvent"in window&&!i),Gn=e&&(!Wn||i&&8<i&&i<=11),Yn=String.fromCharCode(32),$n=!1;function Xn(e,t){switch(e){case"keyup":return-1!==Hn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function Qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1,Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?Jn[e.type]:"textarea"===t}function tr(e,t,n,r){Ze(r),0<(t=Xr(t,"onChange")).length&&(n=new Tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ir(e){qr(e,0)}function ar(e){if(ue(Ci(e)))return e}function sr(e,t){if("change"===e)return t}var or=!1;function lr(){nr&&(nr.detachEvent("onpropertychange",ur),rr=nr=null)}function ur(e){var t;"value"===e.propertyName&&ar(rr)&&(tr(t=[],rr,e,Ge(e)),rt(ir,t))}function cr(e,t,n){"focusin"===e?(lr(),rr=n,(nr=t).attachEvent("onpropertychange",ur)):"focusout"===e&&lr()}function hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(rr)}function dr(e,t){if("click"===e)return ar(t)}function fr(e,t){if("input"===e||"change"===e)return ar(t)}e&&(i=e&&((t="oninput"in document)||((a=document.createElement("div")).setAttribute("oninput","return;"),t="function"==typeof a.oninput),t),or=i&&(!document.documentMode||9<document.documentMode));var pr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function mr(e,t){if(pr(e,t))return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var n=Object.keys(e),r=Object.keys(t);if(n.length===r.length){for(r=0;r<n.length;r++){var i=n[r];if(!y.call(t,i)||!pr(e[i],t[i]))return}return 1}}}function gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n,r=gr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gr(r)}}function vr(){for(var e=window,t=ce();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ce((e=t.contentWindow).document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var wr=e&&"documentMode"in document&&document.documentMode<=11,xr=null,Cr=null,kr=null,Sr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==xr||xr!==ce(r)||(r="selectionStart"in(r=xr)&&br(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&mr(kr,r)||(kr=r,0<(r=Xr(Cr,"onSelect")).length&&(t=new Tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},Ir={},Nr={};function jr(e){if(Ir[e])return Ir[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Ir[e]=n[t];return e}e&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=jr("animationend"),Pr=jr("animationiteration"),Lr=jr("animationstart"),Dr=jr("transitionend"),Mr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Mr.set(e,t),p(t,[e])}for(var Vr=0;Vr<Rr.length;Vr++){var Fr=Rr[Vr];Or(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Or(Ar,"onAnimationEnd"),Or(Pr,"onAnimationIteration"),Or(Lr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Dr,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ur=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(){var e;(function(e,t,n,r,i,a,s,o,l){st=!1,ot=null,function(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(ct,arguments)}).apply(this,arguments),st&&(e=ot,st=!1,ot=null,lt||(lt=!0,ut=e))}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(i=e[n]).event,i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=(u=i[s]).instance,l=u.currentTarget,u=u.listener;if(o!==a&&r.isPropagationStopped())break e;Br(r,u,l),a=o}else for(s=0;s<i.length;s++){if(o=(u=i[s]).instance,l=u.currentTarget,u=u.listener,o!==a&&r.isPropagationStopped())break e;Br(r,u,l),a=o}}}if(lt)throw e=ut,lt=!1,ut=null,e}function w(e,t){var n=t[yi],r=e+"__bubble";(n=void 0===n?t[yi]=new Set:n).has(r)||(Gr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Kr(t){var e;t[Wr]||(t[Wr]=!0,f.forEach(function(e){"selectionchange"!==e&&(Ur.has(e)||Hr(e,!1,t),Hr(e,!0,t))}),null===(e=9===t.nodeType?t:t.ownerDocument)||e[Wr]||Hr("selectionchange",!(e[Wr]=!0),e))}function Gr(e,t,n,r){switch(pn(t)){case 1:var i=un;break;case 4:i=cn;break;default:i=hn}n=i.bind(null,t,n,e),i=!(!at||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t)||void 0,r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(g,y,v,e,t){var b=e;if(0==(1&y)&&0==(2&y)&&null!==e)e:for(;;){if(null===e)return;var n=e.tag;if(3===n||4===n){var r=e.stateNode.containerInfo;if(r===t||8===r.nodeType&&r.parentNode===t)break;if(4===n)for(n=e.return;null!==n;){var i=n.tag;if((3===i||4===i)&&((i=n.stateNode.containerInfo)===t||8===i.nodeType&&i.parentNode===t))return;n=n.return}for(;null!==r;){if(null===(n=wi(r)))return;if(5===(i=n.tag)||6===i){e=b=n;continue e}r=r.parentNode}}e=e.return}rt(function(){var e,t,n,r=b,i=Ge(v),a=[];e:{var s=Mr.get(g);if(void 0!==s){var o=Tn,l=g;switch(g){case"keypress":if(0===bn(v))break e;case"keydown":case"keyup":o=Fn;break;case"focusin":l="focus",o=jn;break;case"focusout":l="blur",o=jn;break;case"beforeblur":case"afterblur":o=jn;break;case"click":if(2===v.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Un;break;case Ar:case Pr:case Lr:o=An;break;case Dr:o=Bn;break;case"scroll":o=_n;break;case"wheel":o=qn;break;case"copy":case"cut":case"paste":o=Pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=zn}for(var u=!(h=0!=(4&y))&&"scroll"===g,c=h?null!==s?s+"Capture":null:s,h=[],d=r;null!==d;){var f,p=(f=d).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==c&&null!=(p=it(d,c))&&h.push($r(d,p,f))),u)break;d=d.return}0<h.length&&(s=new o(s,l,null,v,i),a.push({event:s,listeners:h}))}}if(0==(7&y)){if(o="mouseout"===g||"pointerout"===g,(!(s="mouseover"===g||"pointerover"===g)||v===Ke||!(l=v.relatedTarget||v.fromElement)||!wi(l)&&!l[gi])&&(o||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,o?(o=r,null!==(l=(l=v.relatedTarget||v.toElement)?wi(l):null)&&(l!==(u=ht(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(o=null,l=r),o!==l)){if(h=In,p="onMouseLeave",c="onMouseEnter",d="mouse","pointerout"!==g&&"pointerover"!==g||(h=zn,p="onPointerLeave",c="onPointerEnter",d="pointer"),u=null==o?s:Ci(o),f=null==l?s:Ci(l),(s=new h(p,d+"leave",o,v,i)).target=u,s.relatedTarget=f,p=null,wi(i)===r&&((h=new h(c,d+"enter",l,v,i)).target=f,h.relatedTarget=u,p=h),u=p,o&&l)e:{for(c=l,d=0,f=h=o;f;f=Qr(f))d++;for(f=0,p=c;p;p=Qr(p))f++;for(;0<d-f;)h=Qr(h),d--;for(;0<f-d;)c=Qr(c),f--;for(;d--;){if(h===c||null!==c&&h===c.alternate)break e;h=Qr(h),c=Qr(c)}h=null}else h=null;null!==o&&Zr(a,s,o,h,!1),null!==l&&null!==u&&Zr(a,u,l,h,!0)}switch("select"===(o=(s=r?Ci(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===o&&"file"===s.type?e=sr:er(s)?or?e=fr:(e=hr,t=cr):!(o=s.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type||(e=dr),(e=e&&e(g,r))?tr(a,e,v,i):(t&&t(g,s,r),"focusout"===g&&(t=s._wrapperState)&&t.controlled&&"number"===s.type&&ge(s,"number",s.value)),t=r?Ci(r):window,g){case"focusin":!er(t)&&"true"!==t.contentEditable||(xr=t,Cr=r,kr=null);break;case"focusout":kr=Cr=xr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Er(a,v,i);break;case"selectionchange":if(wr)break;case"keydown":case"keyup":Er(a,v,i)}if(Wn)e:{switch(g){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else Zn?Xn(g,v)&&(m="onCompositionEnd"):"keydown"===g&&229===v.keyCode&&(m="onCompositionStart");m&&(Gn&&"ko"!==v.locale&&(Zn||"onCompositionStart"!==m?"onCompositionEnd"===m&&Zn&&(n=vn()):(gn="value"in(mn=i)?mn.value:mn.textContent,Zn=!0)),0<(t=Xr(r,m)).length&&(m=new Ln(m,g,null,v,i),a.push({event:m,listeners:t}),!n&&null===(n=Qn(v))||(m.data=n))),(n=(Kn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:($n=!0,Yn);case"textInput":return(e=t.data)===Yn&&$n?null:e;default:return null}}:function(e,t){if(Zn)return"compositionend"===e||!Wn&&Xn(e,t)?(e=vn(),yn=gn=mn=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data;default:return null}})(g,v))&&0<(r=Xr(r,"onBeforeInput")).length&&(i=new Ln("onBeforeInput","beforeinput",null,v,i),a.push({event:i,listeners:r}),i.data=n)}qr(a,y)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=it(e,n))&&r.unshift($r(e,a,i)),null!=(a=it(e,t))&&r.push($r(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=it(n,a))&&s.unshift($r(n,l,o)):null!=(l=it(n,a))&&s.push($r(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,ei=/\u0000|\uFFFD/g;function ti(e){return("string"==typeof e?e:""+e).replace(Jr,"\n").replace(ei,"")}function ni(e,t,n){if(t=ti(t),ti(e)!==t&&n)throw Error(ve(425))}function ri(){}var ii=null;function ai(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"==typeof setTimeout?setTimeout:void 0,oi="function"==typeof clearTimeout?clearTimeout:void 0,li="function"==typeof Promise?Promise:void 0,ui="function"==typeof queueMicrotask?queueMicrotask:void 0!==li?function(e){return li.resolve(null).then(e).catch(ci)}:si;function ci(e){setTimeout(function(){throw e})}function hi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),on(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}while(n=i);on(t)}function di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var a=Math.random().toString(36).slice(2),pi="__reactFiber$"+a,mi="__reactProps$"+a,gi="__reactContainer$"+a,yi="__reactEvents$"+a,vi="__reactListeners$"+a,bi="__reactHandles$"+a;function wi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=fi(e);null!==e;){if(n=e[pi])return n;e=fi(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[pi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ve(33))}function ki(e){return e[mi]||null}var Si=[],Ei=-1;function Ti(e){return{current:e}}function x(e){Ei<0||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function C(e,t){Si[++Ei]=e.current,e.current=t}var _i={},k=Ti(_i),S=Ti(!1),Ii=_i;function Ni(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function E(e){return null!=e.childContextTypes}function ji(){x(S),x(k)}function Ai(e,t,n){if(k.current!==_i)throw Error(ve(168));C(k,t),C(S,n)}function Pi(e,t,n){var r,i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(r in i=i.getChildContext())if(!(r in t))throw Error(ve(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case q:return"Fragment";case B:return"Portal";case W:return"Profiler";case H:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case G:return(t.displayName||"Context")+".Consumer";case K:return(t._context.displayName||"Context")+".Provider";case Y:var n=t.render;return(t=t.displayName)?t:""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef";case Q:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case Z:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",r));return b({},n,i)}function Li(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=k.current,C(k,e),C(S,S.current)}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,x(S),x(k),C(k,e)):x(S),C(S,n)}var Mi=null,Ri=!1,Oi=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function Fi(){if(!Oi&&null!==Mi){Oi=!0;var t=0,e=we;try{var n=Mi;for(we=1;t<n.length;t++)for(var r=n[t];null!==(r=r(!0)););Mi=null,Ri=!1}catch(e){throw null!==Mi&&(Mi=Mi.slice(t+1)),mt(wt,Fi),e}finally{we=e,Oi=!1}}return null}var zi=z.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=b({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=Ti(null),qi=null,Hi=null,Wi=null;function Ki(){Wi=Hi=qi=null}function Gi(e){var t=Bi.current;x(Bi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){(Wi=Hi=null)!==(e=(qi=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(to=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(ve(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Qi=null,Zi=!1;function Ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==ke&&0!=(1&e.mode)&&0==(2&Ce)?(null===(e=n.interleaved)?(t.next=t,null===Qi?Qi=[n]:Qi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){var r;null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))&&(r=t.lanes,r&=e.pendingLanes,Ot(e,t.lanes=n|=r))}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===a?i=a=s:a=a.next=s,null!==(n=n.next));null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i,a,s=e.updateQueue,o=(Zi=!1,s.firstBaseUpdate),l=s.lastBaseUpdate;if(null!==(h=s.shared.pending)&&(s.shared.pending=null,a=(i=h).next,(i.next=null)===l?o=a:l.next=a,l=i,null!==(c=e.alternate)&&(h=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===h?c.firstBaseUpdate=a:h.next=a,c.lastBaseUpdate=i)),null!==o){for(var u=s.baseState,l=0,c=a=i=null,h=o;;){var d=h.lane,f=h.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var p=e,m=h,d=t,f=n;switch(m.tag){case 1:if("function"==typeof(p=m.payload)){u=p.call(f,u,d);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,u,d):p))break e;u=b({},u,d);break e;case 2:Zi=!0}}null!==h.callback&&0!==h.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[h]:d.push(h))}else f={eventTime:f,lane:d,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===c?(a=c=f,i=u):c=c.next=f,l|=d;if(null===(h=h.next)){if(null===(h=s.shared.pending))break;h=(d=h).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===c&&(i=u),s.baseState=i,s.firstBaseUpdate=a,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved))for(s=t;l|=s.lane,(s=s.next)!==t;);else null===o&&(s.shared.lanes=0);Yo|=l,e.lanes=l,e.memoizedState=u}}function sa(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(ve(191,i));i.call(r)}}}var oa=(new d.Component).refs;function la(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:b({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return!!(e=e._reactInternals)&&ht(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=u(),i=cl(e),a=ta(r,i);a.payload=t,null!=n&&(a.callback=n),na(e,a),null!==(t=hl(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=u(),i=cl(e),a=ta(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),na(e,a),null!==(t=hl(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=u(),r=cl(e),i=ta(n,r);i.tag=2,null!=t&&(i.callback=t),na(e,i),null!==(t=hl(e,r,n))&&ra(t,e,r)}};function ca(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&mr(n,r)&&mr(i,a))}function ha(e,t,n){var r=!1,i=_i,a=t.contextType;t=new t(n,a="object"==typeof a&&null!==a?Xi(a):(i=E(t)?Ii:k.current,(r=null!=t.contextTypes)?Ni(e,i):_i)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ua,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a)}function da(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function fa(e,t,n,r){var i=e.stateNode,a=(i.props=n,i.state=e.memoizedState,i.refs=oa,Ji(e),t.contextType);"object"==typeof a&&null!==a?i.context=Xi(a):(a=E(t)?Ii:k.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(la(e,0,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],ma=0,ga=null,ya=0,va=[],ba=0,wa=null,xa=1,Ca="";function ka(e,t){pa[ma++]=ya,pa[ma++]=ga,ga=e,ya=t}function Sa(e,t,n){va[ba++]=xa,va[ba++]=Ca,va[ba++]=wa,wa=e;var r,i=xa,a=(e=Ca,32-_t(i)-1),s=(i&=~(1<<a),n+=1,32-_t(t)+a);Ca=30<s?(s=(i&(1<<(r=a-a%5))-1).toString(32),i>>=r,a-=r,xa=1<<32-_t(t)+a|n<<a|i,s+e):(xa=1<<s|n<<a|i,e)}function Ea(e){null!==e.return&&(ka(e,1),Sa(e,1,0))}function Ta(e){for(;e===ga;)ga=pa[--ma],pa[ma]=null,ya=pa[--ma],pa[ma]=null;for(;e===wa;)wa=va[--ba],va[ba]=null,Ca=va[--ba],va[ba]=null,xa=va[--ba],va[ba]=null}var _a=null,T=null,V=!1,Ia=null;function Na(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,null===(t=(n.return=e).deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,_a=e,T=di(t.firstChild),1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,_a=e,T=null,1);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wa?{id:xa,overflow:Ca}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,(n.return=e).child=n,_a=e,T=null,1);default:return}}function Aa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Pa(e){if(V)if(n=T){var t=n;if(!ja(e,n)){if(Aa(e))throw Error(ve(418));var n=di(t.nextSibling),r=_a;n&&ja(e,n)?Na(r,t):(e.flags=-4097&e.flags|2,V=!1,_a=e)}}else{if(Aa(e))throw Error(ve(418));e.flags=-4097&e.flags|2,V=!1,_a=e}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Da(e){if(e!==_a)return!1;if(!V)return La(e),!(V=!0);var t;if(t=(t=(t=3!==e.tag)&&!(t=5!==e.tag)?"head"!==(t=e.type)&&"body"!==t&&!ai(e.type,e.memoizedProps):t)&&T){if(Aa(e)){for(e=T;e;)e=di(e.nextSibling);throw Error(ve(418))}for(;t;)Na(e,t),t=di(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){T=di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}T=null}}else T=_a?di(e.stateNode.nextSibling):null;return!0}function Ma(){T=_a=null,V=!1}function Ra(e){null===Ia?Ia=[e]:Ia.push(e)}function Oa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===oa&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fa(e){return(0,e._init)(e._payload)}function za(I){function N(e,t){var n;I&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t))}function j(e,t){if(!I)return null;for(;null!==t;)N(e,t),t=t.sibling;return null}function A(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function P(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function L(e,t,n){return e.index=n,I?null===(n=e.alternate)||(n=n.index)<t?(e.flags|=2,t):n:(e.flags|=1048576,t)}function D(e){return I&&null===e.alternate&&(e.flags|=2),e}function a(e,t,n,r){return null===t||6!==t.tag?(t=zl(n,e.mode,r)).return=e:(t=P(t,n)).return=e,t}function s(e,t,n,r){var i=n.type;return i===q?l(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===Z&&Fa(i)===t.type)?(r=P(t,n.props)).ref=Oa(0,t,n):(r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Oa(0,t,n),r.return=e,r)}function o(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ul(n,e.mode,r)).return=e:(t=P(t,n.children||[])).return=e,t}function l(e,t,n,r,i){return null===t||7!==t.tag?(t=Vl(n,e.mode,r,i)).return=e:(t=P(t,n)).return=e,t}function M(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case U:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Oa(0,null,t),n.return=e,n;case B:return(t=Ul(t,e.mode,n)).return=e,t;case Z:return M(e,(0,t._init)(t._payload),n)}if(ye(t)||te(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Va(0,t)}return null}function R(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case U:return n.key===i?s(e,t,n,r):null;case B:return n.key===i?o(e,t,n,r):null;case Z:return R(e,t,(i=n._init)(n._payload),r)}if(ye(n)||te(n))return null!==i?null:l(e,t,n,r,null);Va(0,n)}return null}function O(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case U:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return o(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Z:return O(e,t,n,(0,r._init)(r._payload),i)}if(ye(r)||te(r))return l(t,e=e.get(n)||null,r,i,null);Va(0,r)}return null}return function e(t,n,r,i){if("object"==typeof(r="object"==typeof r&&null!==r&&r.type===q&&null===r.key?r.props.children:r)&&null!==r){switch(r.$$typeof){case U:e:{for(var a=r.key,s=n;null!==s;){if(s.key===a){if((a=r.type)===q){if(7===s.tag){j(t,s.sibling),(n=P(s,r.props.children)).return=t,t=n;break e}}else if(s.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===Z&&Fa(a)===s.type){j(t,s.sibling),(n=P(s,r.props)).ref=Oa(0,s,r),n.return=t,t=n;break e}j(t,s);break}N(t,s),s=s.sibling}t=r.type===q?((n=Vl(r.props.children,t.mode,i,r.key)).return=t,n):((i=Ol(r.type,r.key,r.props,null,t.mode,i)).ref=Oa(0,n,r),i.return=t,i)}return D(t);case B:e:{for(s=r.key;null!==n;){if(n.key===s){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){j(t,n.sibling),(n=P(n,r.children||[])).return=t,t=n;break e}j(t,n);break}N(t,n),n=n.sibling}(n=Ul(r,t.mode,i)).return=t,t=n}return D(t);case Z:return e(t,n,(s=r._init)(r._payload),i)}if(ye(r)){for(var o=t,l=n,u=r,c=i,h=null,d=null,f=l,p=l=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var g=R(o,f,u[p],c);if(null===g){null===f&&(f=m);break}I&&f&&null===g.alternate&&N(o,f),l=L(g,l,p),null===d?h=g:d.sibling=g,d=g,f=m}if(p===u.length)return j(o,f),V&&ka(o,p),h;if(null===f){for(;p<u.length;p++)null!==(f=M(o,u[p],c))&&(l=L(f,l,p),null===d?h=f:d.sibling=f,d=f);return V&&ka(o,p),h}for(f=A(o,f);p<u.length;p++)null!==(m=O(f,o,p,u[p],c))&&(I&&null!==m.alternate&&f.delete(null===m.key?p:m.key),l=L(m,l,p),null===d?h=m:d.sibling=m,d=m);return I&&f.forEach(function(e){return N(o,e)}),V&&ka(o,p),h}if(te(r)){var y=t,v=n,b=r,w=i,x=te(b);if("function"!=typeof x)throw Error(ve(150));if(null==(b=x.call(b)))throw Error(ve(151));for(var C=x=null,k=v,S=v=0,E=null,T=b.next();null!==k&&!T.done;S++,T=b.next()){k.index>S?(E=k,k=null):E=k.sibling;var _=R(y,k,T.value,w);if(null===_){null===k&&(k=E);break}I&&k&&null===_.alternate&&N(y,k),v=L(_,v,S),null===C?x=_:C.sibling=_,C=_,k=E}if(T.done)return j(y,k),V&&ka(y,S),x;if(null===k){for(;!T.done;S++,T=b.next())null!==(T=M(y,T.value,w))&&(v=L(T,v,S),null===C?x=T:C.sibling=T,C=T);return V&&ka(y,S),x}for(k=A(y,k);!T.done;S++,T=b.next())null!==(T=O(k,y,S,T.value,w))&&(I&&null!==T.alternate&&k.delete(null===T.key?S:T.key),v=L(T,v,S),null===C?x=T:C.sibling=T,C=T);return I&&k.forEach(function(e){return N(y,e)}),V&&ka(y,S),x}Va(0,r)}return"string"==typeof r&&""!==r||"number"==typeof r?(r=""+r,(n=null!==n&&6===n.tag?(j(t,n.sibling),P(n,r)):(j(t,n),zl(r,t.mode,i))).return=t,D(t=n)):j(t,n)}}var Ua=za(!0),Ba=za(!1),qa={},Ha=Ti(qa),Wa=Ti(qa),Ka=Ti(qa);function Ga(e){if(e===qa)throw Error(ve(174));return e}function Ya(e,t){switch(C(Ka,t),C(Wa,e),C(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}x(Ha),C(Ha,t)}function $a(){x(Ha),x(Wa),x(Ka)}function Xa(e){Ga(Ka.current);var t=Ga(Ha.current),n=De(t,e.type);t!==n&&(C(Wa,e),C(Ha,n))}function Qa(e){Wa.current===e&&(x(Ha),x(Wa))}var _=Ti(0);function Za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function es(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var ts=z.ReactCurrentDispatcher,ns=z.ReactCurrentBatchConfig,rs=0,I=null,N=null,j=null,is=!1,as=!1,ss=0,os=0;function o(){throw Error(ve(321))}function ls(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!pr(e[n],t[n]))return;return 1}}function us(e,t,n,r,i,a){if(rs=a,(I=t).memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=null===e||null===e.memoizedState?Bs:qs,e=n(r,i),as){a=0;do{if(as=!1,ss=0,25<=a)throw Error(ve(301))}while(a+=1,j=N=null,t.updateQueue=null,ts.current=Hs,e=n(r,i),as)}if(ts.current=Us,t=null!==N&&null!==N.next,rs=0,j=N=I=null,is=!1,t)throw Error(ve(300));return e}function cs(){var e=0!==ss;return ss=0,e}function hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===j?I.memoizedState=j=e:j=j.next=e,j}function ds(){var e=null===N?null!==(e=I.alternate)?e.memoizedState:null:N.next,t=null===j?I.memoizedState:j.next;if(null!==t)j=t,N=e;else{if(null===e)throw Error(ve(310));e={memoizedState:(N=e).memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},null===j?I.memoizedState=j=e:j=j.next=e}return j}function fs(e,t){return"function"==typeof t?t(e):t}function ps(e){var t=ds(),n=t.queue;if(null===n)throw Error(ve(311));n.lastRenderedReducer=e;var r,i=(s=N).baseQueue;if(null!==(a=n.pending)&&(null!==i&&(r=i.next,i.next=a.next,a.next=r),s.baseQueue=i=a,n.pending=null),null!==i){var a=i.next,s=s.baseState,o=r=null,l=null,u=a;do{var c,h=u.lane}while((rs&h)===h?(null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action)):(c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(o=l=c,r=s):l=l.next=c,I.lanes|=h,Yo|=h),null!==(u=u.next)&&u!==a);null===l?r=s:l.next=o,pr(s,t.memoizedState)||(to=!0),t.memoizedState=s,t.baseState=r,t.baseQueue=l,n.lastRenderedState=s}if(null!==(e=n.interleaved))for(i=e;a=i.lane,I.lanes|=a,Yo|=a,(i=i.next)!==e;);else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ms(e){var t=ds(),n=t.queue;if(null===n)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;for(var s=i=i.next;a=e(a,s.action),(s=s.next)!==i;);pr(a,t.memoizedState)||(to=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gs(){}function ys(e,t){var n=I,r=ds(),i=t(),a=!pr(r.memoizedState,i);if(a&&(r.memoizedState=i,to=!0),r=r.queue,Is(ws.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==j&&1&j.memoizedState.tag){if(n.flags|=2048,ks(9,bs.bind(null,n,r,i,t),void 0,null),null===ke)throw Error(ve(349));0==(30&rs)&&vs(n,t,i)}return i}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=I.updateQueue)?(I.updateQueue=t={lastEffect:null,stores:null}).stores=[e]:null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&hl(e,1,-1)}function ws(e,t,n){return n(function(){xs(t)&&hl(e,1,-1)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pr(e,n)}catch(e){return 1}}function Cs(e){var t=hs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e}).dispatch=function(e,t,n){var r=cl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Os(e))Vs(t,i);else{Fs(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,pr(o,s))return}catch(e){}null!==(e=hl(e,r,n=u()))&&zs(e,t,r)}}.bind(null,I,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=I.updateQueue)?(I.updateQueue=t={lastEffect:null,stores:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function Ss(){return ds().memoizedState}function Es(e,t,n,r){var i=hs();I.flags|=e,i.memoizedState=ks(1|t,n,void 0,void 0===r?null:r)}function Ts(e,t,n,r){var i=ds(),a=void(r=void 0===r?null:r);if(null!==N){var s=N.memoizedState,a=s.destroy;if(null!==r&&ls(r,s.deps))return void(i.memoizedState=ks(t,n,a,r))}I.flags|=e,i.memoizedState=ks(1|t,n,a,r)}function _s(e,t){return Es(8390656,8,e,t)}function Is(e,t){return Ts(2048,8,e,t)}function Ns(e,t){return Ts(4,2,e,t)}function js(e,t){return Ts(4,4,e,t)}function As(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ps(e,t,n){return n=null!=n?n.concat([e]):null,Ts(4,4,As.bind(null,t,e),n)}function Ls(){}function Ds(e,t){var n=ds(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ms(e,t){var n=ds(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&ls(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rs(){return ds().memoizedState}function Os(e){var t=e.alternate;return e===I||null!==t&&t===I}function Vs(e,t){as=is=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fs(e,t,n){null!==ke&&0!=(1&e.mode)&&0==(2&Ce)?(null===(e=t.interleaved)?(n.next=n,null===Qi?Qi=[t]:Qi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function zs(e,t,n){var r;0!=(4194240&n)&&(r=t.lanes,r&=e.pendingLanes,Ot(e,t.lanes=n|=r))}var Us={readContext:Xi,useCallback:o,useContext:o,useEffect:o,useImperativeHandle:o,useInsertionEffect:o,useLayoutEffect:o,useMemo:o,useReducer:o,useRef:o,useState:o,useDebugValue:o,useDeferredValue:o,useTransition:o,useMutableSource:o,useSyncExternalStore:o,useId:o,unstable_isNewReconciler:!1},Bs={readContext:Xi,useCallback:function(e,t){return hs().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:_s,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Es(4194308,4,As.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=hs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=function(e,t,n){var r=cl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Os(e)?Vs(t,n):(Fs(e,t,n),null!==(e=hl(e,r,n=u()))&&zs(e,t,r))}.bind(null,I,e),[r.memoizedState,e]},useRef:function(e){return hs().memoizedState=e={current:e}},useState:Cs,useDebugValue:Ls,useDeferredValue:function(t){var e=Cs(t),n=e[0],r=e[1];return _s(function(){var e=ns.transition;ns.transition={};try{r(t)}finally{ns.transition=e}},[t]),n},useTransition:function(){var e=(t=Cs(!1))[0],t=function(e,t){var n=we,r=(we=0!==n&&n<4?n:4,e(!0),ns.transition);ns.transition={};try{e(!1),t()}finally{we=n,ns.transition=r}}.bind(null,t[1]);return[e,hs().memoizedState=t]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=I,i=hs();if(V){if(void 0===n)throw Error(ve(407));n=n()}else{if(n=t(),null===ke)throw Error(ve(349));0==(30&rs)&&vs(r,t,n)}var a={value:i.memoizedState=n,getSnapshot:t};return i.queue=a,_s(ws.bind(null,r,a,e),[e]),r.flags|=2048,ks(9,bs.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e,t=hs(),n=ke.identifierPrefix;return V?(e=Ca,n=":"+n+"R"+(e=(xa&~(1<<32-_t(xa)-1)).toString(32)+e),0<(e=ss++)&&(n+="H"+e.toString(32)),n+=":"):n=":"+n+"r"+(e=os++).toString(32)+":",t.memoizedState=n},unstable_isNewReconciler:!1},qs={readContext:Xi,useCallback:Ds,useContext:Xi,useEffect:Is,useImperativeHandle:Ps,useInsertionEffect:Ns,useLayoutEffect:js,useMemo:Ms,useReducer:ps,useRef:Ss,useState:function(){return ps(fs)},useDebugValue:Ls,useDeferredValue:function(t){var e=ps(fs),n=e[0],r=e[1];return Is(function(){var e=ns.transition;ns.transition={};try{r(t)}finally{ns.transition=e}},[t]),n},useTransition:function(){return[ps(fs)[0],ds().memoizedState]},useMutableSource:gs,useSyncExternalStore:ys,useId:Rs,unstable_isNewReconciler:!1},Hs={readContext:Xi,useCallback:Ds,useContext:Xi,useEffect:Is,useImperativeHandle:Ps,useInsertionEffect:Ns,useLayoutEffect:js,useMemo:Ms,useReducer:ms,useRef:Ss,useState:function(){return ms(fs)},useDebugValue:Ls,useDeferredValue:function(t){var e=ms(fs),n=e[0],r=e[1];return Is(function(){var e=ns.transition;ns.transition={};try{r(t)}finally{ns.transition=e}},[t]),n},useTransition:function(){return[ms(fs)[0],ds().memoizedState]},useMutableSource:gs,useSyncExternalStore:ys,useId:Rs,unstable_isNewReconciler:!1};function Ws(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return re(e.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return ae(e.type,!1);case 11:return ae(e.type.render,!1);case 1:return ae(e.type,!0);default:return""}}(r),r=r.return;);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Ks(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Gs="function"==typeof WeakMap?WeakMap:Map;function Ys(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,tl=r),Ks(0,t)},n}function $s(e,t,n){(n=ta(-1,n)).tag=3;var r,i=e.type.getDerivedStateFromError,e=("function"==typeof i&&(r=t.value,n.payload=function(){return i(r)},n.callback=function(){Ks(0,t)}),e.stateNode);return null!==e&&"function"==typeof e.componentDidCatch&&(n.callback=function(){Ks(0,t),"function"!=typeof i&&(null===nl?nl=new Set([this]):nl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Xs(e,t,n){var r,i=e.pingCache;null===i?(i=e.pingCache=new Gs,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),r.has(n)||(r.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=u(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ee&n)===n&&(4===P||3===P&&(130023424&Ee)===Ee&&be()-Zo<500?xl(e,0):Xo|=n),Te(e,t)}.bind(null,e,t,n),t.then(e,e))}function Qs(e){do{var t;if(t=(t=13===e.tag)?null===(t=e.memoizedState)||null!==t.dehydrated:t)return e}while(null!==(e=e.return));return null}function Zs(e,t,n,r,i){if(0==(1&e.mode))return e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1);e.flags|=65536,e.lanes=i}function Js(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function A(e){var t=0,n=0;if(null!==e.alternate&&e.alternate.child===e.child)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,n=(n|=14680064&r.subtreeFlags)|14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,n=(n|=r.subtreeFlags)|r.flags,r.return=e,r=r.sibling;e.subtreeFlags|=n,e.childLanes=t}var eo=z.ReactCurrentOwner,to=!1;function g(e,t,n,r){t.child=null===e?Ba(t,null,n,r):Ua(t,e.child,n,r)}function no(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=us(e,t,n,r,a,i),n=cs(),null===e||to?(V&&n&&Ea(t),t.flags|=1,g(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ko(e,t,i))}function ro(e,t,n,r,i){var a;if(null===e)return"function"!=typeof(a=n.type)||Ml(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=a,io(e,t,a,r,i));if(a=e.child,0==(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:mr)(s,r)&&e.ref===t.ref)return ko(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,(e.return=t).child=e}function io(e,t,n,r,i){if(null!==e&&mr(e.memoizedProps,r)&&e.ref===t.ref){if(to=!1,0==(e.lanes&i))return t.lanes=e.lanes,ko(e,t,i);0!=(131072&e.flags)&&(to=!0)}return oo(e,t,n,r,i)}function ao(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},C(Ko,Wo),Wo|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,C(Ko,Wo),Wo|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,C(Ko,Wo),Wo|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,C(Ko,Wo),Wo|=r;return g(e,t,i,n),t.child}function so(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oo(e,t,n,r,i){var a=Ni(t,E(n)?Ii:k.current);return $i(t,i),n=us(e,t,n,r,a,i),r=cs(),null===e||to?(V&&r&&Ea(t),t.flags|=1,g(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ko(e,t,i))}function lo(e,t,n,r,i){var a,s,o,l,u,c,h,d,f,p;return E(n)?(a=!0,Li(t)):a=!1,$i(t,i),r=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ha(t,n,r),fa(t,n,r,i),!0):null===e?(s=t.stateNode,o=t.memoizedProps,s.props=o,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Xi(l):Ni(t,l=E(n)?Ii:k.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||o===r&&d===l||da(0,s,r,l),Zi=!1,h=t.memoizedState,s.state=h,aa(t,r,s,i),d=t.memoizedState,o!==r||h!==d||S.current||Zi?("function"==typeof u&&(la(t,0,u,r),d=t.memoizedState),(o=Zi||ca(t,n,o,r,h,d,l))?(c||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),!1)):(s=t.stateNode,ea(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Ui(t.type,o),s.props=l,c=t.pendingProps,h=s.context,d="object"==typeof(d=n.contextType)&&null!==d?Xi(d):Ni(t,d=E(n)?Ii:k.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||o===c&&h===d||da(0,s,r,d),Zi=!1,h=t.memoizedState,s.state=h,aa(t,r,s,i),p=t.memoizedState,o!==c||h!==p||S.current||Zi?("function"==typeof f&&(la(t,0,f,r),p=t.memoizedState),(l=Zi||ca(t,n,l,r,h,p,d)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,d),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,d)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=d,l):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),!1)),uo(e,t,n,r,a,i)}function uo(e,t,n,r,i,a){so(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),ko(e,t,a);r=t.stateNode,eo.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ua(t,e.child,null,a),t.child=Ua(t,null,o,a)):g(e,t,o,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function co(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Ya(e,t.containerInfo)}function ho(e,t,n,r,i){return Ma(),Ra(i),t.flags|=256,g(e,t,n,r),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function po(e){return{baseLanes:e,cachePool:null}}function mo(e,t,n){var r,i=t.pendingProps,a=_.current,s=!1,o=0!=(128&t.flags);if((r=(r=o)?r:(null===e||null!==e.memoizedState)&&0!=(2&a))?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),C(_,1&a),null===e)return Pa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Fl(a,i,0,null),e=Vl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=po(n),t.memoizedState=fo,e):go(t,a));if(null===(a=e.memoizedState))return s?(i=vo(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?po(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=fo,i):(n=yo(e,t,i.children,n),t.memoizedState=null,n);if(null===(r=a.dehydrated))return s?(i=vo(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?po(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=fo,i):(n=yo(e,t,i.children,n),t.memoizedState=null,n);if(o)return 256&t.flags?(t.flags&=-257,bo(e,t,n,Error(ve(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Fl({mode:"visible",children:i.children},a,0,null),(s=Vl(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!=(1&t.mode)&&Ua(t,e.child,null,n),t.child.memoizedState=po(n),t.memoizedState=fo,s);if(0==(1&t.mode))t=bo(e,t,n,null);else if("$!"===r.data)t=bo(e,t,n,Error(ve(419)));else if(i=0!=(n&e.childLanes),to||i){if(null!==(i=ke)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!=(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&hl(e,a.retryLane=i,-1)}Sl(),t=bo(e,t,n,Error(ve(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;Al(e,n=null!==t?t.retryLane:n)}.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,T=di(r.nextSibling),_a=t,V=!0,(Ia=null)!==n&&(va[ba++]=xa,va[ba++]=Ca,va[ba++]=wa,xa=n.id,Ca=n.overflow,wa=t),(t=go(t,t.pendingProps.children)).flags|=4096);return t}function go(e,t){return((t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e).child=t}function yo(e,t,n,r){var i=e.child;return e=i.sibling,n=Rl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,(n.sibling=null)!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function vo(e,t,n,r,i){var a=t.mode,s=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Rl(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==s?r=Rl(s,r):(r=Vl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function bo(e,t,n,r){return null!==r&&Ra(r),Ua(t,e.child,null,n),(e=go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function xo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Co(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(g(e,t,r.children,n),0!=(2&(r=_.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&wo(e,n,t);else if(19===e.tag)wo(e,n,t);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(C(_,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xo(t,!1,i,n,a);break;case"backwards":for(i=t.child,t.child=n=null;null!==i;){if(null!==(e=i.alternate)&&null===Za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xo(t,!0,n,null,a);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Yo|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ve(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var So=!1,Eo=!1,To="function"==typeof WeakSet?WeakSet:Set,xe=null;function _o(t,n){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){_e(t,n,e)}else e.current=null}function Io(t,n,e){try{e()}catch(e){_e(t,n,e)}}var No=!1;function jo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null))for(var i,a=r=r.next;(a.tag&e)===e&&(i=a.destroy,(a.destroy=void 0)!==i&&Io(t,n,i)),(a=a.next)!==r;);}function Ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null))for(var n,r=t=t.next;(r.tag&e)===e&&(n=r.create,r.destroy=n()),(r=r.next)!==t;);}function Po(e){var t,n=e.ref;null!==n&&(t=e.stateNode,e.tag,e=t,"function"==typeof n?n(e):n.current=e)}function Lo(e,t,n){if(Tt&&"function"==typeof Tt.onCommitFiberUnmount)try{Tt.onCommitFiberUnmount(Et,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r.destroy,a=r.tag}while(void 0===i||0==(2&a)&&0==(4&a)||Io(t,n,i),(r=r.next)!==e)}break;case 1:if(_o(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){_e(t,n,e)}break;case 5:_o(t,n);break;case 4:Oo(e,t,n)}}function Do(e){return 5===e.tag||3===e.tag||4===e.tag}function Mo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Do(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e=(e.child.return=e).child}if(!(2&e.flags))return e.stateNode}}function Ro(e){e:{for(var t=e.return;null!==t;){if(Do(t))break e;t=t.return}throw Error(ve(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(Ve(t,""),n.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n=Mo(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null==(r=r._reactRootContainer)&&null===n.onclick&&(n.onclick=ri));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n=Mo(e),t);break;default:throw Error(ve(161))}}function Oo(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(ve(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var o=e,l=a,u=n,c=l;;)if(Lo(o,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(o=r,l=a.stateNode,(8===o.nodeType?o.parentNode:o).removeChild(l)):r.removeChild(a.stateNode)}else if(18===a.tag)i?(o=r,l=a.stateNode,8===o.nodeType?hi(o.parentNode,l):1===o.nodeType&&hi(o,l),on(o)):hi(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a=(a.child.return=a).child;continue}}else if(Lo(e,a,n),null!==a.child){a=(a.child.return=a).child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Vo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return jo(3,t,t.return),Ao(3,t),jo(5,t,t.return);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,a=(e=t.type,t.updateQueue);if((t.updateQueue=null)!==a){for("input"===e&&"radio"===r.type&&null!=r.name&&fe(n,r),We(e,i),t=We(e,r),i=0;i<a.length;i+=2){var s=a[i],o=a[i+1];"style"===s?Be(n,o):"dangerouslySetInnerHTML"===s?Oe(n,o):"children"===s?Ve(n,o):F(n,s,o,t)}switch(e){case"input":pe(n,r);break;case"textarea":Ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?Ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}n[mi]=r}}return;case 6:if(null===t.stateNode)throw Error(ve(162));return t.stateNode.nodeValue=t.memoizedProps;case 3:return null!==e&&e.memoizedState.isDehydrated&&on(t.stateNode.containerInfo);case 12:return;case 13:case 19:return null!==(c=(l=t).updateQueue)&&((l.updateQueue=null)===(u=l.stateNode)&&(u=l.stateNode=new To),c.forEach(function(e){var t=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}null!==r&&r.delete(t),Al(e,n)}.bind(null,l,e);u.has(e)||(u.add(e),e.then(t,t))}));case 17:return}var l,u,c;throw Error(ve(163))}function Fo(e){for(;null!==xe;){var t=xe;if(0!=(8772&t.flags)){var n,r,i,a=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Eo||Ao(5,t);break;case 1:var s,o=t.stateNode,l=(4&t.flags&&!Eo&&(null===a?o.componentDidMount():(s=t.elementType===t.type?a.memoizedProps:Ui(t.type,a.memoizedProps),o.componentDidUpdate(s,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate))),t.updateQueue);null!==l&&sa(0,l,o);break;case 3:var u=t.updateQueue;if(null!==u){if((a=null)!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}sa(0,u,a)}break;case 5:var c=t.stateNode;if(null===a&&4&t.flags){var a=c,h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&a.focus();break;case"img":h.src&&(a.src=h.src)}}break;case 6:case 4:case 12:break;case 13:null===t.memoizedState&&null!==(n=t.alternate)&&null!==(r=n.memoizedState)&&null!==(i=r.dehydrated)&&on(i);break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ve(163))}Eo||512&t.flags&&Po(t)}catch(e){_e(t,t.return,e)}}if(t===e){xe=null;break}if(null!==(a=t.sibling)){a.return=t.return,xe=a;break}xe=t.return}}function zo(e){for(;null!==xe;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(null!==n){n.return=t.return,xe=n;break}xe=t.return}}var Uo=Math.ceil,Bo=z.ReactCurrentDispatcher,qo=z.ReactCurrentOwner,Ho=z.ReactCurrentBatchConfig,Ce=0,ke=null,Se=null,Ee=0,Wo=0,Ko=Ti(0),P=0,Go=null,Yo=0,$o=0,Xo=0,Qo=null,l=null,Zo=0,Jo=1/0,el=!1,tl=null,nl=null,rl=!1,il=null,al=0,sl=0,ol=null,ll=-1,ul=0;function u(){return 0!=(6&Ce)?be():-1!==ll?ll:ll=be()}function cl(e){return 0==(1&e.mode)?1:0!=(2&Ce)&&0!==Ee?Ee&-Ee:null!==zi.transition?(0===ul&&(e=jt,0==(4194240&(jt<<=1))&&(jt=64),ul=e),ul):0!==(e=we)?e:void 0===(e=window.event)?16:pn(e.type)}function hl(e,t,n){if(50<sl)throw sl=0,ol=null,Error(ve(185));var r=dl(e,t);return null===r?null:(Rt(r,t,n),0!=(2&Ce)&&r===ke||(r===ke&&(0==(2&Ce)&&($o|=t),4===P&&gl(r,Ee)),Te(r,n),1===t&&0===Ce&&0==(1&e.mode)&&(Jo=be()+500,Ri&&Fi())),r)}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function Te(e,t){var n,r=e.callbackNode,i=(function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-_t(a),o=1<<s,l=i[s];-1===l?0!=(o&n)&&0==(o&r)||(i[s]=function(e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}(t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t),Lt(e,e===ke?Ee:0));if(0===i)null!==r&&gt(r),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=i&-i)){if(null!=r&&gt(r),1===t)0===e.tag?(n=yl.bind(null,e),Ri=!0,Vi(n)):Vi(yl.bind(null,e)),ui(function(){0===Ce&&Fi()}),r=null;else{switch(Vt(i)){case 1:r=wt;break;case 4:r=xt;break;case 16:r=Ct;break;case 536870912:r=St;break;default:r=Ct}r=Pl(r,fl.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fl(t,e){if(ll=-1,(ul=0)!=(6&Ce))throw Error(ve(327));var n=t.callbackNode;if(Nl()&&t.callbackNode!==n)return null;var r=Lt(t,t===ke?Ee:0);if(0===r)return null;if(0!=(30&r)||0!=(r&t.expiredLanes)||e)e=El(t,r);else{e=r;var i=Ce,a=(Ce|=2,kl());for(ke===t&&Ee===e||(Jo=be()+500,xl(t,e));;)try{for(;null!==Se&&!yt();)Tl(Se);break}catch(e){Cl(t,e)}Ki(),Bo.current=a,Ce=i,e=null!==Se?0:(ke=null,Ee=0,P)}if(0!==e){if(1===(e=2===e&&0!==(i=Dt(t))?pl(t,r=i):e))throw n=Go,xl(t,0),gl(t,r),Te(t,be()),n;if(6===e)gl(t,r);else{if(i=t.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=(a=n[r]).getSnapshot,a=a.value;try{if(!pr(i(),a))return}catch(e){return}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return 1;t=t.return}t.sibling.return=t.return,t=t.sibling}}return 1}(i)&&1===(e=2===(e=El(t,r))&&0!==(a=Dt(t))?pl(t,r=a):e))throw n=Go,xl(t,0),gl(t,r),Te(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Il(t,l);break;case 3:if(gl(t,r),(130023424&r)===r&&10<(e=Zo+500-be())){if(0!==Lt(t,0))break;if(((i=t.suspendedLanes)&r)!==r){u(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=si(Il.bind(null,t,l),e);break}Il(t,l);break;case 4:if(gl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_t(r),a=1<<s;i<(s=e[s])&&(i=s),r&=~a}if(r=i,10<(r=((r=be()-r)<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:1960*Uo(r/1960))-r)){t.timeoutHandle=si(Il.bind(null,t,l),r);break}Il(t,l);break;case 5:Il(t,l);break;default:throw Error(ve(329))}}}return Te(t,be()),t.callbackNode===n?fl.bind(null,t):null}function pl(e,t){var n=Qo;return e.current.memoizedState.isDehydrated&&(xl(e,t).flags|=256),2!==(e=El(e,t))&&(t=l,l=n,null!==t&&ml(t)),e}function ml(e){null===l?l=e:l.push.apply(l,e)}function gl(e,t){for(t=t&~Xo&~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function yl(e){if(0!=(6&Ce))throw Error(ve(327));Nl();var t=Lt(e,0);if(0==(1&t))return Te(e,be()),null;var n,r=El(e,t);if(1===(r=0!==e.tag&&2===r&&0!==(n=Dt(e))?pl(e,t=n):r))throw r=Go,xl(e,0),gl(e,t),Te(e,be()),r;if(6===r)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,l),Te(e,be()),null}function vl(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{0===(Ce=n)&&(Jo=be()+500,Ri&&Fi())}}function bl(e){null!==il&&0===il.tag&&0==(6&Ce)&&Nl();var t=Ce,n=(Ce|=1,Ho.transition),r=we;try{if(Ho.transition=null,we=1,e)return e()}finally{we=r,Ho.transition=n,0==(6&(Ce=t))&&Fi()}}function wl(){Wo=Ko.current,x(Ko)}function xl(e,t){e.finishedWork=null,e.finishedLanes=0;var n,r,i,a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,oi(a)),null!==Se)for(a=Se.return;null!==a;){var s=a;switch(Ta(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&ji();break;case 3:$a(),x(S),x(k),es();break;case 5:Qa(s);break;case 4:$a();break;case 13:case 19:x(_);break;case 10:Gi(s.type._context);break;case 22:case 23:wl()}a=a.return}if(Se=e=Rl((ke=e).current,null),Ee=Wo=t,Xo=$o=Yo=P=0,(l=Qo=Go=null)!==Qi){for(t=0;t<Qi.length;t++)null!==(s=(a=Qi[t]).interleaved)&&(a.interleaved=null,n=s.next,null!==(r=a.pending)&&(i=r.next,r.next=n,s.next=i),a.pending=s);Qi=null}return e}function Cl(e,t){do{var n=Se;try{if(Ki(),ts.current=Us,is){for(var r=I.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}is=!1}if(j=N=I=null,as=!1,ss=rs=0,(qo.current=null)===n||null===n.return){P=1,Go=t,Se=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Ee,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u,c=l,h=o,d=h.tag,f=(0!=(1&h.mode)||0!==d&&11!==d&&15!==d||((u=h.alternate)?(h.updateQueue=u.updateQueue,h.memoizedState=u.memoizedState,h.lanes=u.lanes):(h.updateQueue=null,h.memoizedState=null)),Qs(s));if(null!==f){f.flags&=-257,Zs(f,s,o,0,t),1&f.mode&&Xs(a,c,t);var p,l=c,m=(t=f).updateQueue;null===m?((p=new Set).add(l),t.updateQueue=p):m.add(l);break e}if(0==(1&t)){Xs(a,c,t),Sl();break e}l=Error(ve(426))}else if(V&&1&o.mode){var g=Qs(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Zs(g,s,o,0,t),Ra(l);break e}}a=l,4!==P&&(P=2),null===Qo?Qo=[a]:Qo.push(a),l=Ws(l,o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ia(o,Ys(0,l,t));break e;case 1:var a=l,y=o.type,v=o.stateNode;if(0==(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===nl||!nl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,ia(o,$s(o,a,t));break e}}}while(null!==(o=o.return))}_l(n)}catch(e){t=e,Se===n&&null!==n&&(Se=n=n.return);continue}break}while(1)}function kl(){var e=Bo.current;return Bo.current=Us,null===e?Us:e}function Sl(){0!==P&&3!==P&&2!==P||(P=4),null===ke||0==(268435455&Yo)&&0==(268435455&$o)||gl(ke,Ee)}function El(t,e){var n=Ce,r=(Ce|=2,kl());for(ke===t&&Ee===e||xl(t,e);;)try{for(;null!==Se;)Tl(Se);break}catch(e){Cl(t,e)}if(Ki(),Ce=n,Bo.current=r,null!==Se)throw Error(ve(261));return ke=null,Ee=0,P}function Tl(e){var t=Xl(e.alternate,e,Wo);e.memoizedProps=e.pendingProps,null===t?_l(e):Se=t,qo.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return A(t),null;case 1:return E(t.type)&&ji(),A(t),null;case 3:return r=t.stateNode,$a(),x(S),x(k),es(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ia&&(ml(Ia),Ia=null))),A(t),null;case 5:Qa(t);var i,a=Ga(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode){{var s=e;var o=t;var l=n;var u=r;var c=s.memoizedProps;if(c!==u){s=o.stateNode,Ga(Ha.current);var h,d=null;switch(l){case"input":c=he(s,c),u=he(s,u),d=[];break;case"select":c=b({},c,{value:void 0}),u=b({},u,{value:void 0}),d=[];break;case"textarea":c=Ne(s,c),u=Ne(s,u),d=[];break;default:"function"!=typeof c.onClick&&"function"==typeof u.onClick&&(s.onclick=ri)}for(m in He(l,u),l=null,c)if(!u.hasOwnProperty(m)&&c.hasOwnProperty(m)&&null!=c[m])if("style"===m)for(h in p=c[m])p.hasOwnProperty(h)&&(l=l||{},l[h]="");else"dangerouslySetInnerHTML"!==m&&"children"!==m&&"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&"autoFocus"!==m&&(L.hasOwnProperty(m)?d=d||[]:(d=d||[]).push(m,null));for(m in u){var f=u[m],p=null!=c?c[m]:void 0;if(u.hasOwnProperty(m)&&f!==p&&(null!=f||null!=p))if("style"===m)if(p){for(h in p)!p.hasOwnProperty(h)||f&&f.hasOwnProperty(h)||(l=l||{},l[h]="");for(h in f)f.hasOwnProperty(h)&&p[h]!==f[h]&&(l=l||{},l[h]=f[h])}else l||(d=d||[]).push(m,l),l=f;else"dangerouslySetInnerHTML"===m?(f=f?f.__html:void 0,p=p?p.__html:void 0,null!=f&&p!==f&&(d=d||[]).push(m,f)):"children"===m?"string"!=typeof f&&"number"!=typeof f||(d=d||[]).push(m,""+f):"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&(L.hasOwnProperty(m)?(null!=f&&"onScroll"===m&&w("scroll",s),d||p===f||(d=[])):(d=d||[]).push(m,f))}l&&(d=d||[]).push("style",l);var m=d;(o.updateQueue=m)&&(o.flags|=4)}}e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152)}else{if(!r){if(null===t.stateNode)throw Error(ve(166));return A(t),null}if(e=Ga(Ha.current),Da(t)){r=t.stateNode,n=t.type;var g,y,v=t.memoizedProps;switch(r[pi]=t,r[mi]=v,e=0!=(1&t.mode),n){case"dialog":w("cancel",r),w("close",r);break;case"iframe":case"object":case"embed":w("load",r);break;case"video":case"audio":for(a=0;a<zr.length;a++)w(zr[a],r);break;case"source":w("error",r);break;case"img":case"image":case"link":w("error",r),w("load",r);break;case"details":w("toggle",r);break;case"input":de(r,v),w("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!v.multiple},w("invalid",r);break;case"textarea":je(r,v),w("invalid",r)}for(g in He(n,v),a=null,v)v.hasOwnProperty(g)&&(y=v[g],"children"===g?"string"==typeof y?r.textContent!==y&&(ni(r.textContent,y,e),a=["children",y]):"number"==typeof y&&r.textContent!==""+y&&(ni(r.textContent,y,e),a=["children",""+y]):L.hasOwnProperty(g)&&null!=y&&"onScroll"===g&&w("scroll",r));switch(n){case"input":le(r),me(r,v,!0);break;case"textarea":le(r),Pe(r);break;case"select":case"option":break;default:"function"==typeof v.onClick&&(r.onclick=ri)}r=a,null!==(t.updateQueue=r)&&(t.flags|=4)}else{g=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===(e="http://www.w3.org/1999/xhtml"===e?Le(n):e)?"script"===n?((e=g.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=g.createElement(n,{is:r.is}):(e=g.createElement(n),"select"===n&&(g=e,r.multiple?g.multiple=!0:r.size&&(g.size=r.size))):e=g.createElementNS(e,n),e[pi]=t,e[mi]=r,function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,t),t.stateNode=e;e:{switch(g=We(n,r),n){case"dialog":w("cancel",e),w("close",e),a=r;break;case"iframe":case"object":case"embed":w("load",e),a=r;break;case"video":case"audio":for(a=0;a<zr.length;a++)w(zr[a],e);a=r;break;case"source":w("error",e),a=r;break;case"img":case"image":case"link":w("error",e),w("load",e),a=r;break;case"details":w("toggle",e),a=r;break;case"input":de(e,r),a=he(e,r),w("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=b({},r,{value:void 0}),w("invalid",e);break;case"textarea":je(e,r),a=Ne(e,r),w("invalid",e);break;default:a=r}for(v in He(n,a),y=a)y.hasOwnProperty(v)&&(i=y[v],"style"===v?Be(e,i):"dangerouslySetInnerHTML"===v?null!=(i=i?i.__html:void 0)&&Oe(e,i):"children"===v?"string"==typeof i?"textarea"===n&&""===i||Ve(e,i):"number"==typeof i&&Ve(e,""+i):"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&"autoFocus"!==v&&(L.hasOwnProperty(v)?null!=i&&"onScroll"===v&&w("scroll",e):null!=i&&F(e,v,i,g)));switch(n){case"input":le(e),me(e,r,!1);break;case"textarea":le(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+se(r.value));break;case"select":e.multiple=!!r.multiple,null!=(v=r.value)?Ie(e,!!r.multiple,v,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return A(t),null;case 6:if(e&&null!=t.stateNode)o=t,e.memoizedProps!==r&&(o.flags|=4);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ve(166));if(n=Ga(Ka.current),Ga(Ha.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(v=r.nodeValue!==n)&&null!==(e=_a))switch(g=0!=(1&e.mode),e.tag){case 3:ni(r.nodeValue,n,g);break;case 5:!0!==e.memoizedProps[void 0]&&ni(r.nodeValue,n,g)}v&&(t.flags|=4)}else((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t).stateNode=r}return A(t),null;case 13:if(x(_),r=t.memoizedState,V&&null!==T&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=T;r;)r=di(r.nextSibling);return Ma(),t.flags|=98560,t}if(null===r||null===r.dehydrated)return null!==Ia&&(ml(Ia),Ia=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Da(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&_.current)?0===P&&(P=3):Sl())),null!==t.updateQueue&&(t.flags|=4),A(t),null);if(r=Da(t),null===e){if(!r)throw Error(ve(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(ve(317));r[pi]=t}else Ma(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return A(t),null;case 4:return $a(),null===e&&Kr(t.stateNode.containerInfo),A(t),null;case 10:return Gi(t.type._context),A(t),null;case 17:return E(t.type)&&ji(),A(t),null;case 19:if(x(_),null===(v=t.memoizedState))return A(t),null;if(r=0!=(128&t.flags),null===(g=v.rendering))if(r)Js(v,!1);else{if(0!==P||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(g=Za(e))){for(t.flags|=128,Js(v,!1),null!==(r=g.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(v=n).flags&=14680066,null===(g=v.alternate)?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=g.childLanes,v.lanes=g.lanes,v.child=g.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=g.memoizedProps,v.memoizedState=g.memoizedState,v.updateQueue=g.updateQueue,v.type=g.type,e=g.dependencies,v.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return C(_,1&_.current|2),t.child}e=e.sibling}null!==v.tail&&be()>Jo&&(t.flags|=128,Js(v,!(r=!0)),t.lanes=4194304)}else{if(!r)if(null!==(e=Za(g))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Js(v,!0),null===v.tail&&"hidden"===v.tailMode&&!g.alternate&&!V)return A(t),null}else 2*be()-v.renderingStartTime>Jo&&1073741824!==n&&(t.flags|=128,Js(v,!(r=!0)),t.lanes=4194304);v.isBackwards?(g.sibling=t.child,t.child=g):(null!==(n=v.last)?n.sibling=g:t.child=g,v.last=g)}return null!==v.tail?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=be(),t.sibling=null,n=_.current,C(_,r?1&n|2:1&n),t):(A(t),null);case 22:case 23:return wl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Wo)&&(A(t),6&t.subtreeFlags&&(t.flags|=8192)):A(t),null;case 24:case 25:return null}throw Error(ve(156,t.tag))}(n,t,Wo)))return Se=n}else{if(null!==(n=function(e,t){switch(Ta(t),t.tag){case 1:return E(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),x(S),x(k),es(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(x(_),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ve(340));Ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return x(_),null;case 4:return $a(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return wl(),null;default:return null}}(n,t)))return n.flags&=32767,Se=n;if(null===e)return P=6,Se=null;e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return Se=t}while(Se=t=e,null!==t);0===P&&(P=5)}function Il(R,O){var V,F=we,z=Ho.transition;try{Ho.transition=null,we=1;for(var e=R,t=O,U=F;Nl(),null!==il;);if(0!=(6&Ce))throw Error(ve(327));var n=e.finishedWork,B=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;for(var q,H,r=n.lanes|n.childLanes,i=r,W=(a=e).pendingLanes&~i,K=(a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements,a.eventTimes),a=a.expirationTimes;0<W;){var s=31-_t(W),G=1<<s;i[s]=0,K[s]=-1,a[s]=-1,W&=~G}if(e===ke&&(Se=ke=null,Ee=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||rl||(rl=!0,Pl(Ct,function(){return Nl(),null})),r=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||r){r=Ho.transition,Ho.transition=null,q=we,we=1,H=Ce,Ce|=4,qo.current=null;var o=e,l=n;if(br(o=vr())){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:if((c=(u=(u=o.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection())&&0!==c.rangeCount){var u=c.anchorNode,Y=c.anchorOffset,$=c.focusNode,c=c.focusOffset;try{u.nodeType,$.nodeType}catch(e){u=null;break e}var h,d=0,f=-1,p=-1,X=0,Q=0,m=o,g=null;t:for(;;){for(;m!==u||0!==Y&&3!==m.nodeType||(f=d+Y),m!==$||0!==c&&3!==m.nodeType||(p=d+c),3===m.nodeType&&(d+=m.nodeValue.length),null!==(h=m.firstChild);)g=m,m=h;for(;;){if(m===o)break t;if(g===u&&++X===Y&&(f=d),g===$&&++Q===c&&(p=d),null!==(h=m.nextSibling))break;g=(m=g).parentNode}m=h}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;for(ii={focusedElem:o,selectionRange:u},xe=l;null!==xe;)if(o=(l=xe).child,0!=(1028&l.subtreeFlags)&&null!==o)o.return=l,xe=o;else for(;null!==xe;){l=xe;try{var Z,J,ee,te,y=l.alternate;if(0!=(1024&l.flags))switch(l.tag){case 0:case 11:case 15:break;case 1:null!==y&&(Z=y.memoizedProps,J=y.memoizedState,te=(ee=l.stateNode).getSnapshotBeforeUpdate(l.elementType===l.type?Z:Ui(l.type,Z),J),ee.__reactInternalSnapshotBeforeUpdate=te);break;case 3:var ne,v=l.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&null!=(ne=v.body)&&(ne.textContent="");break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(e){_e(l,l.return,e)}if(null!==(o=l.sibling)){o.return=l.return,xe=o;break}xe=l.return}y=No,No=!1;var re=e,b=n;for(xe=b;null!==xe;){if(null!==(S=(b=xe).deletions))for(var w=0;w<S.length;w++){var x=S[w];try{Oo(re,x,b);var ie=x.alternate;null!==ie&&(ie.return=null),x.return=null}catch(e){_e(x,b,e)}}if(S=b.child,0!=(12854&b.subtreeFlags)&&null!==S)S.return=b,xe=S;else for(;null!==xe;){b=xe;try{var ae,C,se,k=b.flags;if(32&k&&Ve(b.stateNode,""),512&k&&null!==(ae=b.alternate)&&null!==(C=ae.ref)&&("function"==typeof C?C(null):C.current=null),8192&k)switch(b.tag){case 13:null===b.memoizedState||null!==(se=b.alternate)&&null!==se.memoizedState||(Zo=be());break;case 22:var S,oe=null!==b.memoizedState,le=b.alternate,ue=null!==le&&null!==le.memoizedState;e:for(var ce,he,de,fe,pe,x=oe,E=null,T=w=S=b;;){if(5===T.tag)null===E&&(ce=(E=T).stateNode,x?"function"==typeof(he=ce.style).setProperty?he.setProperty("display","none","important"):he.display="none":(de=T.stateNode,pe=null!=(fe=T.memoizedProps.style)&&fe.hasOwnProperty("display")?fe.display:null,de.style.display=Ue("display",pe)));else if(6===T.tag)null===E&&(T.stateNode.nodeValue=x?"":T.memoizedProps);else if((22!==T.tag&&23!==T.tag||null===T.memoizedState||T===w)&&null!==T.child){T=(T.child.return=T).child;continue}if(T===w)break;for(;null===T.sibling;){if(null===T.return||T.return===w)break e;E===T&&(E=null),T=T.return}E===T&&(E=null),T.sibling.return=T.return,T=T.sibling}if(oe&&!ue&&0!=(1&S.mode))for(var _=(xe=S).child;null!==_;){for(S=xe=_;null!==xe;){var me=(w=xe).child;switch(w.tag){case 0:case 11:case 14:case 15:jo(4,w,w.return);break;case 1:_o(w,w.return);var I=w.stateNode;if("function"==typeof I.componentWillUnmount){var ge=w.return;try{I.props=w.memoizedProps,I.state=w.memoizedState,I.componentWillUnmount()}catch(e){_e(w,ge,e)}}break;case 5:_o(w,w.return);break;case 22:if(null!==w.memoizedState){zo(S);continue}}null!==me?(me.return=w,xe=me):zo(S)}_=_.sibling}}switch(4102&k){case 2:Ro(b),b.flags&=-3;break;case 6:Ro(b),b.flags&=-3,Vo(b.alternate,b);break;case 4096:b.flags&=-4097;break;case 4100:b.flags&=-4097,Vo(b.alternate,b);break;case 4:Vo(b.alternate,b)}}catch(e){_e(b,b.return,e)}if(null!==(S=b.sibling)){S.return=b.return,xe=S;break}xe=b.return}}var N,j,A,P=ii,L=vr(),D=P.focusedElem,M=P.selectionRange;if(L!==D&&D&&D.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(D.ownerDocument.documentElement,D)){null!==M&&br(D)&&(L=M.start,void 0===(P=M.end)&&(P=L),"selectionStart"in D?(D.selectionStart=L,D.selectionEnd=Math.min(P,D.value.length)):(P=(L=D.ownerDocument||document)&&L.defaultView||window).getSelection&&(P=P.getSelection(),j=D.textContent.length,N=Math.min(M.start,j),M=void 0===M.end?N:Math.min(M.end,j),!P.extend&&M<N&&(j=M,M=N,N=j),j=yr(D,N),A=yr(D,M),j&&A&&(1!==P.rangeCount||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==A.node||P.focusOffset!==A.offset)&&((L=L.createRange()).setStart(j.node,j.offset),P.removeAllRanges(),M<N?(P.addRange(L),P.extend(A.node,A.offset)):(L.setEnd(A.node,A.offset),P.addRange(L))))),L=[];for(P=D;P=P.parentNode;)1===P.nodeType&&L.push({element:P,left:P.scrollLeft,top:P.scrollTop});for("function"==typeof D.focus&&D.focus(),D=0;D<L.length;D++)(P=L[D]).element.scrollLeft=P.left,P.element.scrollTop=P.top}ii=null,V=e.current=n,function e(t,n,r){for(var i=0!=(1&t.mode);null!==xe;){var a=xe,s=a.child;if(22===a.tag&&i){var o=null!==a.memoizedState||So;if(!o){var l=a.alternate,u=null!==l&&null!==l.memoizedState||Eo,c=(l=So,Eo);if(So=o,(Eo=u)&&!c)for(xe=a;null!==xe;)if(u=(o=xe).child,22===o.tag&&null!==o.memoizedState||null===u)for(var h=void 0,d=void 0,f=a;null!==xe;){var p=xe;try{switch(p.tag){case 0:case 11:case 15:var m=p.return;try{Ao(4,p)}catch(e){_e(p,m,e)}break;case 1:var h=p.stateNode;if("function"==typeof h.componentDidMount){var g=p.return;try{h.componentDidMount()}catch(e){_e(p,g,e)}}var y=p.return;try{Po(p)}catch(e){_e(p,y,e)}break;case 5:var v=p.return;try{Po(p)}catch(e){_e(p,v,e)}}}catch(e){_e(p,p.return,e)}if(p===f){xe=null;break}var d=p.sibling;if(null!==d){d.return=p.return,xe=d;break}xe=p.return}else u.return=o,xe=u;for(;null!==s;)e(xe=s,n,r),s=s.sibling;xe=a,So=l,Eo=c}Fo(t)}else 0!=(8772&a.subtreeFlags)&&null!==s?(s.return=a,xe=s):Fo(t)}}(xe=V,e,B),vt(),Ce=H,we=q,Ho.transition=r}else e.current=n;rl&&(rl=!1,il=e,al=B),0===(r=e.pendingLanes)&&(nl=null);var ye=n.stateNode;if(Tt&&"function"==typeof Tt.onCommitFiberRoot)try{Tt.onCommitFiberRoot(Et,ye,void 0,128==(128&ye.current.flags))}catch(e){}if(Te(e,be()),null!==t)for(U=e.onRecoverableError,n=0;n<t.length;n++)U(t[n]);if(el)throw el=!1,e=tl,tl=null,e;0!=(1&al)&&0!==e.tag&&Nl(),0!=(1&(r=e.pendingLanes))?e===ol?sl++:(sl=0,ol=e):sl=0,Fi()}}finally{Ho.transition=z,we=F}return null}function Nl(){if(null!==il){var e=Vt(al),t=Ho.transition,n=we;try{if(Ho.transition=null,we=e<16?16:e,null===il)var r=!1;else{if(e=il,il=null,(al=0)!=(6&Ce))throw Error(ve(331));var i=Ce;for(Ce|=4,xe=e.current;null!==xe;){var a=xe,s=a.child;if(0!=(16&xe.flags)){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(xe=u;null!==xe;){switch((h=xe).tag){case 0:case 11:case 15:jo(8,h,a)}var c=h.child;if(null!==c)c.return=h,xe=c;else for(;null!==xe;){var h,d=(h=xe).sibling,f=h.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[pi],delete n[mi],delete n[yi],delete n[vi],delete n[bi]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(h),h===u){xe=null;break}if(null!==d){d.return=f,xe=d;break}xe=f}}}var p=a.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling}while((m.sibling=null)!==(m=g))}}xe=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,xe=s;else for(;null!==xe;){if(0!=(2048&(a=xe).flags))switch(a.tag){case 0:case 11:case 15:jo(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,xe=y;break}xe=a.return}}var v=e.current;for(xe=v;null!==xe;){var b=(s=xe).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,xe=b;else for(s=v;null!==xe;){if(0!=(2048&(o=xe).flags))try{switch(o.tag){case 0:case 11:case 15:Ao(9,o)}}catch(e){_e(o,o.return,e)}if(o===s){xe=null;break}var w=o.sibling;if(null!==w){w.return=o.return,xe=w;break}xe=o.return}}if(Ce=i,Fi(),Tt&&"function"==typeof Tt.onPostCommitFiberRoot)try{Tt.onPostCommitFiberRoot(Et,e)}catch(e){}r=!0}return r}finally{we=n,Ho.transition=t}}}function jl(e,t,n){na(e,t=Ys(0,t=Ws(n,t),1)),t=u(),null!==(e=dl(e,1))&&(Rt(e,1,t),Te(e,t))}function _e(e,t,n){if(3===e.tag)jl(e,e,n);else for(;null!==t;){if(3===t.tag){jl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===nl||!nl.has(r))){na(t,e=$s(t,e=Ws(n,e),1)),e=u(),null!==(t=dl(t,1))&&(Rt(t,1,e),Te(t,e));break}}t=t.return}}function Al(e,t){0===t&&(0==(1&e.mode)?t=1:(t=At,0==(130023424&(At<<=1))&&(At=4194304)));var n=u();null!==(e=dl(e,t))&&(Rt(e,t,n),Te(e,n))}function Pl(e,t){return mt(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Ll(e,t,n,r)}function Ml(e){return(e=e.prototype)&&e.isReactComponent}function Rl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var s=2;if("function"==typeof(r=e))Ml(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case q:return Vl(n.children,i,a,t);case H:i|=s=8;break;case W:return(e=Dl(12,n,t,2|i)).elementType=W,e.lanes=a,e;case $:return(e=Dl(13,n,t,i)).elementType=$,e.lanes=a,e;case X:return(e=Dl(19,n,t,i)).elementType=X,e.lanes=a,e;case J:return Fl(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case K:s=10;break e;case G:s=9;break e;case Y:s=11;break e;case Q:s=14;break e;case Z:s=16,r=null;break e}throw Error(ve(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vl(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=J,e.lanes=n,e.stateNode={},e}function zl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ql(e,t,n,r,i,a,s,o,l){return e=new Bl(e,t,0,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dl(3,null,null,t),(e.current=a).stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Ji(a),e}function Hl(e){if(!e)return _i;e:{if(ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(E(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}}while(null!==(t=t.return));throw Error(ve(171))}if(1===e.tag){var n=e.type;if(E(n))return Pi(e,n,t)}return t}function Wl(e,t,n,r,i,a,s,o,l){return(e=ql(n,r,!0,e,0,a,0,o,l)).context=Hl(null),n=e.current,(a=ta(r=u(),i=cl(n))).callback=null!=t?t:null,na(n,a),e.current.lanes=i,Rt(e,i,r),Te(e,r),e}function Kl(e,t,n,r){var i=t.current,a=u(),s=cl(i);n=Hl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=hl(i,s,a))&&ra(e,i,s)}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function $l(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}var Xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||S.current)to=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags)){to=!1;var r=e,i=t,a=n;switch(i.tag){case 3:co(i),Ma();break;case 5:Xa(i);break;case 1:E(i.type)&&Li(i);break;case 4:Ya(i,i.stateNode.containerInfo);break;case 10:var s=i.type._context,o=i.memoizedProps.value;C(Bi,s._currentValue),s._currentValue=o;break;case 13:if(null!==(s=i.memoizedState))return null!==s.dehydrated?(C(_,1&_.current),i.flags|=128,null):0!=(a&i.child.childLanes)?mo(r,i,a):(C(_,1&_.current),null!==(r=ko(r,i,a))?r.sibling:null);C(_,1&_.current);break;case 19:if(s=0!=(a&i.childLanes),0!=(128&r.flags)){if(s)return Co(r,i,a);i.flags|=128}if(null!==(o=i.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),C(_,_.current),s)break;return null;case 22:case 23:return i.lanes=0,ao(r,i,a)}return ko(r,i,a)}to=0!=(131072&e.flags)}else to=!1,V&&0!=(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type,u=(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,Ni(t,k.current)),c=($i(t,n),u=us(null,t,l,e,u,n),cs());return t.flags|=1,"object"==typeof u&&null!==u&&"function"==typeof u.render&&void 0===u.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,E(l)?(c=!0,Li(t)):c=!1,t.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,Ji(t),u.updater=ua,fa((t.stateNode=u)._reactInternals=t,l,e,n),uo(null,t,l,!0,c,n)):(t.tag=0,V&&c&&Ea(t),g(null,t,u,n),t.child);case 16:l=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,l=(u=l._init)(l._payload),t.type=l,u=t.tag=function(e){if("function"==typeof e)return Ml(e)?1:0;if(null!=e){if((e=e.$$typeof)===Y)return 11;if(e===Q)return 14}return 2}(l),e=Ui(l,e),u){case 0:t=oo(null,t,l,e,n);break e;case 1:t=lo(null,t,l,e,n);break e;case 11:t=no(null,t,l,e,n);break e;case 14:t=ro(null,t,l,Ui(l.type,e),n);break e}throw Error(ve(306,l,""))}return t;case 0:return l=t.type,u=t.pendingProps,oo(e,t,l,u=t.elementType===l?u:Ui(l,u),n);case 1:return l=t.type,u=t.pendingProps,lo(e,t,l,u=t.elementType===l?u:Ui(l,u),n);case 3:e:{if(co(t),null===e)throw Error(ve(387));if(l=t.pendingProps,u=(c=t.memoizedState).element,ea(e,t),aa(t,l,null,n),l=(p=t.memoizedState).element,c.isDehydrated){if(c={element:l,isDehydrated:!1,cache:p.cache,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,256&t.flags){t=ho(e,t,l,n,u=Error(ve(423)));break e}if(l!==u){t=ho(e,t,l,n,u=Error(ve(424)));break e}for(T=di(t.stateNode.containerInfo.firstChild),V=!0,n=Ba(_a=t,Ia=null,l,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ma(),l===u){t=ko(e,t,n);break e}g(e,t,l,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Pa(t),l=t.type,u=t.pendingProps,c=null!==e?e.memoizedProps:null,p=u.children,ai(l,u)?p=null:null!==c&&ai(l,c)&&(t.flags|=32),so(e,t),g(e,t,p,n),t.child;case 6:return null===e&&Pa(t),null;case 13:return mo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=Ua(t,null,l,n):g(e,t,l,n),t.child;case 11:return l=t.type,u=t.pendingProps,no(e,t,l,u=t.elementType===l?u:Ui(l,u),n);case 7:return g(e,t,t.pendingProps,n),t.child;case 8:case 12:return g(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,u=t.pendingProps,c=t.memoizedProps,p=u.value,C(Bi,l._currentValue),l._currentValue=p,null!==c)if(pr(c.value,p)){if(c.children===u.children&&!S.current){t=ko(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var h=c.dependencies;if(null!==h)for(var d,f,p=c.child,m=h.firstContext;null!==m;){if(m.context===l){1===c.tag&&((m=ta(-1,n&-n)).tag=2,null!==(d=c.updateQueue)&&(null===(f=(d=d.shared).pending)?m.next=m:(m.next=f.next,f.next=m),d.pending=m)),c.lanes|=n,null!==(m=c.alternate)&&(m.lanes|=n),Yi(c.return,n,t),h.lanes|=n;break}m=m.next}else if(10===c.tag)p=c.type===t.type?null:c.child;else if(18===c.tag){if(null===(p=c.return))throw Error(ve(341));p.lanes|=n,null!==(h=p.alternate)&&(h.lanes|=n),Yi(p,n,t),p=c.sibling}else p=c.child;if(null!==p)p.return=c;else for(p=c;null!==p;){if(p===t){p=null;break}if(null!==(c=p.sibling)){c.return=p.return,p=c;break}p=p.return}c=p}g(e,t,u.children,n),t=t.child}return t;case 9:return u=t.type,l=t.pendingProps.children,$i(t,n),l=l(u=Xi(u)),t.flags|=1,g(e,t,l,n),t.child;case 14:return u=Ui(l=t.type,t.pendingProps),ro(e,t,l,u=Ui(l.type,u),n);case 15:return io(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Ui(l,u),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,E(l)?(e=!0,Li(t)):e=!1,$i(t,n),ha(t,l,u),fa(t,l,u,n),uo(null,t,l,!0,e,n);case 19:return Co(e,t,n);case 22:return ao(e,t,n)}throw Error(ve(156,t.tag))},Ql="function"==typeof reportError?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function eu(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)}function tu(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function nu(){}function ru(e,t,n,u,r){var i,a,s=n._reactRootContainer;return s?("function"==typeof r&&(a=r,r=function(){var e=Gl(i);a.call(e)}),Kl(t,i=s,e,r)):i=function(e,t,n,r,i){var a,s,o;if(u)return"function"==typeof r&&(a=r,r=function(){var e=Gl(s);a.call(e)}),s=Wl(t,r,e,0,0,!1,0,"",nu),e._reactRootContainer=s,e[gi]=s.current,Kr(8===e.nodeType?e.parentNode:e),bl(),s;for(;i=e.lastChild;)e.removeChild(i);"function"==typeof r&&(o=r,r=function(){var e=Gl(l);o.call(e)});var l=ql(e,0,!1,null,0,!1,0,"",nu);return e._reactRootContainer=l,e[gi]=l.current,Kr(8===e.nodeType?e.parentNode:e),bl(function(){Kl(t,l,n,r)}),l}(n,t,e,r),Gl(i)}Jl.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ve(409));Kl(e,t,null,null)},Jl.prototype.unmount=Zl.prototype.unmount=function(){var e,t=this._internalRoot;null!==t&&(this._internalRoot=null,e=t.containerInfo,bl(function(){Kl(null,t,null,null)}),e[gi]=null)},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&0!==t&&t<Qt[n].priority;n++);Qt.splice(n,0,e),0===n&&tn(e)}},Ft=function(e){switch(e.tag){case 3:var t,n=e.stateNode;n.current.memoizedState.isDehydrated&&0!==(t=Pt(n.pendingLanes))&&(Ot(n,1|t),Te(n,be()),0==(6&Ce)&&(Jo=be()+500,Fi()));break;case 13:var r=u();bl(function(){return hl(e,1,r)}),$l(e,1)}},zt=function(e){13===e.tag&&(hl(e,134217728,u()),$l(e,134217728))},Ut=function(e){var t,n;13===e.tag&&(t=u(),hl(e,n=cl(e),t),$l(e,n))},Bt=function(){return we},qt=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},tt=bl;t={usingClientEntryPoint:!(Ye=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(ve(90));ue(r),pe(r,i)}}}break;case"textarea":Ae(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}}),Events:[xi,Ci,ki,Ze,Je,et=vl]},i={findFiberByHostInstance:wi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},e={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=pt(e))?null:e.stateNode},findFiberByHostInstance:i.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a.isDisabled&&a.supportsFiber)try{Et=a.inject(e),Tt=a}catch(e){}}h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t,h.createPortal=function(e,t){if(eu(t))return function(e,t,n,r){r=3<arguments.length&&void 0!==r?r:null;return{$$typeof:B,key:null==r?null:""+r,children:e,containerInfo:t,implementation:null}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw Error(ve(200))},h.createRoot=function(e,t){if(!eu(e))throw Error(ve(299));var n=!1,r="",i=Ql;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ql(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Kr(8===e.nodeType?e.parentNode:e),new Zl(t)},h.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0!==t)return null===(e=pt(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(ve(188));throw e=Object.keys(e).join(","),Error(ve(268,e))},h.flushSync=bl,h.hydrate=function(e,t,n){if(tu(t))return ru(null,e,t,!0,n);throw Error(ve(200))},h.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(ve(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ql;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,0,i,0,a,s),e[gi]=t.current,Kr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},h.render=function(e,t,n){if(tu(t))return ru(null,e,t,!1,n);throw Error(ve(200))},h.unmountComponentAtNode=function(e){if(tu(e))return!!e._reactRootContainer&&(bl(function(){ru(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0);throw Error(ve(40))},h.unstable_batchedUpdates=vl,h.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error(ve(200));if(null==e||void 0===e._reactInternals)throw Error(ve(38));return ru(e,t,n,!1,r)},h.version="18.0.0-fc46dba67-20220329"},745:(e,t,n)=>{"use strict";n=n(3935);t.s=n.createRoot,n.hydrateRoot},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},343:function(e,t,n){"use strict";var r,i,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&s(t,e,n);return o(t,e),t},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.TLoginButton=t.TLoginButtonSize=void 0,l(n(7294))),c=n(7294),n=((l=t.TLoginButtonSize||(t.TLoginButtonSize={})).Large="large",l.Medium="medium",l.Small="small",a(h,i=c.Component),h.prototype.componentDidMount=function(){var e=this.props,t=e.botName,n=e.buttonSize,r=e.cornerRadius,i=e.requestAccess,a=e.usePic,s=e.onAuthCallback,o=e.redirectUrl,e=e.lang,l=(null!=s&&(window.TelegramOnAuthCb=function(e){return s(e)}),document.createElement("script"));l.src="https://telegram.org/js/telegram-widget.js?10",l.async=!0,l.setAttribute("data-telegram-login",t),null!=n&&l.setAttribute("data-size",n),null!=n&&l.setAttribute("data-radius",""+r),null!=a&&l.setAttribute("data-userpic",""+a),null!=e&&l.setAttribute("data-lang",e),null!=o&&l.setAttribute("data-auth-url",o),null!=s&&l.setAttribute("data-onauth","TelegramOnAuthCb(user)"),null!=i&&l.setAttribute("data-request-access",i),this._containerRef.current.appendChild(l)},h.prototype.render=function(){return u.createElement("div",{className:"tlogin-button",ref:this._containerRef})},h);function h(){var e=null!==i&&i.apply(this,arguments)||this;return e._containerRef=c.createRef(),e}t.TLoginButton=n},5251:(e,t,n)=>{"use strict";var n=n(7294),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,n){var r,i={},a=null,s=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:u.current}}t.Fragment=r,t.jsx=i,t.jsxs=i},2408:(e,t)=>{"use strict";var d=Symbol.for("react.element"),f=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v,x=(w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0,Array.isArray),C=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:d,type:e,key:a,ref:s,props:i,_owner:k.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var _=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function N(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var s,o,l=!1;if(null===(t="undefined"!=(c=typeof t)&&"boolean"!==c?t:null))l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case d:case f:l=!0}}if(l)return a=a(l=t),t=""===i?"."+I(l,0):i,x(a)?(r="",e(a,n,r=null!=t?t.replace(_,"$&/")+"/":r,"",function(e){return e})):null!=a&&(T(a)&&(o=r+(!(s=a).key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+t,a={$$typeof:d,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}),n.push(a)),1;if(l=0,i=""===i?".":i+":",x(t))for(var u=0;u<t.length;u++){var c,h=i+I(c=t[u],u);l+=e(c,n,r,h,a)}else if("function"==typeof(h=null!==(o=t)&&"object"==typeof o&&"function"==typeof(o=p&&o[p]||o["@@iterator"])?o:null))for(t=h.call(t),u=0;!(c=t.next()).done;)l+=e(c=c.value,n,r,h=i+I(c,u++),a);else if("object"===c)throw n=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(t){var e;if(-1===t._status&&((e=(e=t._result)()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)),1===t._status)return t._result.default;throw t._result}var A={current:null},P={transition:null},w={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(T(e))return e;throw Error("React.Children.only expected to receive a single React element child.")}},t.Component=y,t.Fragment=n,t.Profiler=i,t.PureComponent=b,t.StrictMode=r,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)C.call(t,o)&&!S.hasOwnProperty(o)&&(r[o]=(void 0===t[o]&&void 0!==l?l:t)[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:d,type:e.type,key:i,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:o,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5893:(e,t,n)=>{"use strict";e.exports=n(5251)},53:(e,s)=>{"use strict";function a(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(!(0<c(i,t)))break;e[r]=t,e[n]=i,n=r}}function o(e){return 0===e.length?null:e[0]}function l(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,o=e[s],l=1+s,u=e[l];if(c(o,n)<0)r=l<i&&c(u,o)<0?(e[r]=u,e[l]=n,l):(e[r]=o,e[s]=n,s);else{if(!(l<i&&c(u,n)<0))break;e[r]=u,e[l]=n,r=l}}}}}function c(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(t=performance,s.unstable_now=function(){return t.now()}):(n=Date,r=n.now(),s.unstable_now=function(){return n.now()-r});var t,n,r,u=[],h=[],d=1,f=null,p=3,m=!1,g=!1,y=!1,i="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=o(h);null!==t;){if(null===t.callback)l(h);else{if(!(t.startTime<=e))break;l(h),t.sortIndex=t.expirationTime,a(u,t)}t=o(h)}}function x(e){var t;y=!1,w(e),g||(null!==o(u)?(g=!0,L(C)):null!==(t=o(h))&&D(x,t.startTime-e))}function C(e,t){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var n,r=p;try{for(w(t),f=o(u);null!==f&&(!(f.expirationTime>t)||e&&!A());){var i,a=f.callback;"function"==typeof a?(f.callback=null,p=f.priorityLevel,i=a(f.expirationTime<=t),t=s.unstable_now(),"function"==typeof i?f.callback=i:f===o(u)&&l(u),w(t)):l(u),f=o(u)}return null!==f||(null!==(n=o(h))&&D(x,n.startTime-t),!1)}finally{f=null,p=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S,E,T=!1,_=null,I=-1,N=5,j=-1;function A(){return!(s.unstable_now()-j<N)}function P(){if(null!==_){var e=s.unstable_now(),t=(j=e,!0);try{t=_(!0,e)}finally{t?k():(T=!1,_=null)}}else T=!1}function L(e){_=e,T||(T=!0,k())}function D(e,t){I=i(function(){e(s.unstable_now())},t)}k="function"==typeof b?function(){b(P)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=P,function(){E.postMessage(null)}):function(){i(P,0)},s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_continueExecution=function(){g||m||(g=!0,L(C))},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_getFirstCallbackNode=function(){return o(u)},s.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?r+n:r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:t,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},r<n?(e.sortIndex=n,a(h,e),null===o(u)&&e===o(h)&&(y?(v(I),I=-1):y=!0,D(x,n-r))):(e.sortIndex=i,a(u,e),g||m||(g=!0,L(C))),e},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(t){var n=p;return function(){var e=p;p=n;try{return t.apply(this,arguments)}finally{p=e}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)}},r={};function W9(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e].call(t.exports,t,t.exports,W9),t.exports}W9.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return W9.d(t,{a:t}),t},W9.d=(e,t)=>{for(var n in t)W9.o(t,n)&&!W9.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},W9.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),W9.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),W9.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const a=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{const e=localStorage.getItem("theme");if(e&&"auto"!=e)document.documentElement.setAttribute("theme",e);else{const n=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";document.documentElement.setAttribute("theme",n)}const t=document.querySelector("meta[name=theme-color]");t.content=getComputedStyle(document.documentElement).getPropertyValue("--bg1")};s(),a.addEventListener("change",s);var h,j=W9(7294);function o(e){return function(e){const t=l(e);return c.encodeByteArray(t,!0)}(e).replace(/\./g,"")}const l=function(n){const r=[];let i=0;for(let t=0;t<n.length;t++){let e=n.charCodeAt(t);e<128?r[i++]=e:(e<2048?r[i++]=e>>6|192:(55296==(64512&e)&&t+1<n.length&&56320==(64512&n.charCodeAt(t+1))?(e=65536+((1023&e)<<10)+(1023&n.charCodeAt(++t)),r[i++]=e>>18|240,r[i++]=e>>12&63|128):r[i++]=e>>12|224,r[i++]=e>>6&63|128),r[i++]=63&e|128)}return r},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<r.length;n+=3){const s=r[n],o=n+1<r.length,l=o?r[n+1]:0,u=n+2<r.length,c=u?r[n+2]:0,h=s>>2,d=(3&s)<<4|l>>4;let e=(15&l)<<2|c>>6,t=63&c;u||(t=64,o||(e=64)),a.push(i[h],i[d],i[e],i[t])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString(n,r){if(this.HAS_NATIVE_SUPPORT&&!r)return atob(n);{var i=this.decodeStringToByteArray(n,r);const a=[];let e=0,t=0;for(;e<i.length;){const s=i[e++];if(s<128)a[t++]=String.fromCharCode(s);else if(191<s&&s<224){const o=i[e++];a[t++]=String.fromCharCode((31&s)<<6|63&o)}else if(239<s&&s<365){const l=i[e++],u=i[e++],c=i[e++],h=((7&s)<<18|(63&l)<<12|(63&u)<<6|63&c)-65536;a[t++]=String.fromCharCode(55296+(h>>10)),a[t++]=String.fromCharCode(56320+(1023&h))}else{const d=i[e++],f=i[e++];a[t++]=String.fromCharCode((15&s)<<12|(63&d)<<6|63&f)}}return a.join("")}},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],a=e<t.length,s=a?n[t.charAt(e)]:0,o=++e<t.length,l=o?n[t.charAt(e)]:64,u=++e<t.length,c=u?n[t.charAt(e)]:64;if(++e,null==i||null==s||null==l||null==c)throw Error();const h=i<<2|s>>4;if(r.push(h),64!==l){const d=s<<4&240|l>>2;if(r.push(d),64!==c){const f=l<<6&192|c;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(n){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof n&&(this.promise.catch(()=>{}),1===n.length?n(e):n(e,t))}}}function B(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return"object"==typeof indexedDB}class H extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=this.service+"/"+e,i=this.errors[e],a=i?(s=n,i.replace(K,(e,t)=>{const n=s[t];return null!=n?String(n):`<${t}?>`})):"Error";var s;const o=this.serviceName+`: ${a} (${r}).`,l=new H(r,o,n);return l}}const K=/\{\$([^}]+)}/g;function G(e,t){if(e===t)return 1;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return;const a=e[i],s=t[i];if(Y(a)&&Y(s)){if(!G(a,s))return}else if(a!==s)return}for(const o of r)if(!n.includes(o))return;return 1}function Y(e){return null!==e&&"object"==typeof e}function $(e){return e&&e._delegate?e._delegate:e}function X(e,r){return new Promise((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{n(r+": "+(null==(e=e.target.error)?void 0:e.message))}})}class Q{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new Z(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new J(this._db.createObjectStore(e,t))}close(){this._db.close()}}class Z{constructor(e){this._transaction=e,this.complete=new Promise((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}})}objectStore(e){return new J(this._transaction.objectStore(e))}}class J{constructor(e){this._store=e}index(e){return new ee(this._store.index(e))}createIndex(e,t,n){return new ee(this._store.createIndex(e,t,n))}get(e){const t=this._store.get(e);return X(t,"Error reading from IndexedDB")}put(e,t){const n=this._store.put(e,t);return X(n,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return X(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return X(e,"Error clearing IndexedDB object store")}}class ee{constructor(e){this._index=e}get(e){const t=this._index.get(e);return X(t,"Error reading from IndexedDB")}}class te{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ne="[DEFAULT]";class re{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new F;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!=(e=null==e?void 0:e.optional)&&e;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ne})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch(e){}}}}clearInstance(e=ne){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ne){return this.instances.has(e)}getOptions(e=ne){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(this.name+`(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);n===s&&a.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=null!=(t=this.onInitCallbacks.get(n))?t:new Set,i=(r.add(e),this.onInitCallbacks.set(n,r),this.instances.get(n));return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===ne?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=ne){return!this.component||this.component.multipleInstances?e:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with `+this.name);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new re(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ae=[],se=((e=h=h||{})[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",{debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT}),oe=h.INFO,le={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ue=(e,t,...n)=>{if(!(t<e.logLevel)){const r=(new Date).toISOString(),i=le[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)}};class ce{constructor(e){this.name=e,this._logLevel=oe,this._logHandler=ue,this._userLogHandler=null,ae.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?se[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}class he{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(t=>{if(function(){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}()){const e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(e=>e).join(" ")}}const de="@firebase/app",fe=new ce("@firebase/app"),pe="[DEFAULT]",me={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ge=new Map,ye=new Map;function ve(e){const t=e.name;if(ye.has(t))fe.debug(`There were multiple attempts to register component ${t}.`);else{ye.set(t,e);for(const i of ge.values()){var n=void 0,n=i,r=e;try{n.container.addComponent(r)}catch(e){fe.debug(`Component ${r.name} failed to register with FirebaseApp `+n.name,e)}}}}function be(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const we=new W("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new te("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw we.create("app-deleted",{appName:this._name})}}function Ce(e=pe){const t=ge.get(e);if(t)return t;throw we.create("no-app",{appName:e})}function ke(e,t,n){var r;let i=null!=(r=me[e])?r:e;n&&(i+="-"+n);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${t}":`];return a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fe.warn(o.join(" "))}ve(new te(i+"-version",()=>({library:i,version:t}),"VERSION"))}const Se="firebase-heartbeat-store";let Ee=null;function Te(){var i;return Ee=Ee||(i=(e,t)=>{0===t&&e.createObjectStore(Se)},new Promise((t,n)=>{try{const r=indexedDB.open("firebase-heartbeat-database",1);r.onsuccess=e=>{t(new Q(e.target.result))},r.onerror=e=>{n("Error opening indexedDB: "+(null==(e=e.target.error)?void 0:e.message))},r.onupgradeneeded=e=>{i(new Q(r.result),e.oldVersion,e.newVersion,new Z(r.transaction))}}catch(e){n("Error opening indexedDB: "+e.message)}}).catch(e=>{throw we.create("storage-open",{originalErrorMessage:e.message})}))}async function _e(e,t){try{const n=await Te(),r=n.transaction(Se,"readwrite"),i=r.objectStore(Se);return await i.put(t,Ie(e)),r.complete}catch(e){throw we.create("storage-set",{originalErrorMessage:e.message})}}function Ie(e){return e.name+"!"+e.options.appId}class Ne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>this._heartbeatsCache=e)}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=je();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some(e=>e.date===n))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=je(),{heartbeatsToSend:t,unsentEntries:n}=function(e){const t=[];let n=e.slice();for(const r of e){const i=t.find(e=>e.agent===r.agent);if(i){if(i.dates.push(r.date),1024<Pe(t)){i.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),1024<Pe(t)){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=o(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,0<n.length?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function je(){const e=new Date;return e.toISOString().substring(0,10)}class Ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!q()&&new Promise((t,n)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var e;n((null==(e=i.error)?void 0:e.message)||"")}}catch(e){n(e)}}).then(()=>!0).catch(()=>!1)}async read(){const e=await this._canUseIndexedDBPromise;if(e){const t=await async function(e){try{const t=await Te();return t.transaction(Se).objectStore(Se).get(Ie(e))}catch(e){throw we.create("storage-get",{originalErrorMessage:e.message})}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const r=await this.read();return _e(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const r=await this.read();return _e(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function Pe(e){return o(JSON.stringify({version:2,heartbeats:e})).length}ve(new te("platform-logger",e=>new he(e),"PRIVATE")),ve(new te("heartbeat",e=>new Ne(e),"PRIVATE")),ke(de,"0.7.20",""),ke(de,"0.7.20","esm2017"),ke("fire-js",""),ke("firebase","9.6.10","app");var e={},v=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==W9.g?W9.g:"undefined"!=typeof self?self:{})||self;function Le(){}function De(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Me(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function Re(e,t,n){return e.call.apply(e.bind,arguments)}function Oe(t,n,e){if(t)return 2<arguments.length?(r=Array.prototype.slice.call(arguments,2),function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}):function(){return t.apply(n,arguments)};var r;throw Error()}function Ve(e,t,n){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:Oe).apply(null,arguments)}function Fe(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ze(e,a){function t(){}t.prototype=a.prototype,e.Z=a.prototype,e.prototype=new t,(e.prototype.constructor=e).Vb=function(e,t,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a.prototype[t].apply(e,r)}}function Ue(){this.s=this.s,this.o=this.o}Math.random(),Ue.prototype.s=!1,Ue.prototype.na=function(){this.s||(this.s=!0,this.M())},Ue.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Be=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(let e=0;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},qe=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,r){const i=t.length,a="string"==typeof t?t.split(""):t;for(let e=0;e<i;e++)e in a&&n.call(r,a[e],e,t)};function He(){return Array.prototype.concat.apply([],arguments)}function We(t){const n=t.length;if(0<n){const r=Array(n);for(let e=0;e<n;e++)r[e]=t[e];return r}return[]}function Ke(e){return/^[\s\xa0]*$/.test(e)}var Ge,Ye=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $e(e,t){return-1!=e.indexOf(t)}function Xe(e,t){return e<t?-1:t<e?1:0}e:{var Qe=v.navigator;if(Qe){Qe=Qe.userAgent;if(Qe){Ge=Qe;break e}}Ge=""}function Ze(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Je(e){const t={};for(const n in e)t[n]=e[n];return t}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e])t[n]=r[n];for(let e=0;e<et.length;e++)n=et[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nt(e){return nt[" "](e),e}nt[" "]=Le;var rt,it=$e(Ge,"Opera"),at=$e(Ge,"Trident")||$e(Ge,"MSIE"),st=$e(Ge,"Edge"),ot=st||at,lt=$e(Ge,"Gecko")&&!($e(Ge.toLowerCase(),"webkit")&&!$e(Ge,"Edge"))&&!($e(Ge,"Trident")||$e(Ge,"MSIE"))&&!$e(Ge,"Edge"),ut=$e(Ge.toLowerCase(),"webkit")&&!$e(Ge,"Edge");function ct(){var e=v.document;return e?e.documentMode:void 0}e:{var ht="",dt=(dt=Ge,lt?/rv:([^\);]+)(\)|;)/.exec(dt):st?/Edge\/([\d\.]+)/.exec(dt):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(dt):ut?/WebKit\/(\S+)/.exec(dt):it?/(?:Version)[ \/]?(\S+)/.exec(dt):void 0);if(dt&&(ht=dt?dt[1]:""),at){dt=ct();if(null!=dt&&dt>parseFloat(ht)){rt=String(dt);break e}}rt=ht}var ft={},pt=v.document&&at&&(ct()||parseInt(rt,10))||void 0,mt=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",Le,t),v.removeEventListener("test",Le,t)}catch(e){}return e}();function gt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function yt(e,t){if(gt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lt){e:{try{nt(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:vt[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&yt.Z.h.call(this)}}gt.prototype.h=function(){this.defaultPrevented=!0},ze(yt,gt);var vt={2:"touch",3:"pen",4:"mouse"},bt=(yt.prototype.h=function(){yt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1},"closure_listenable_"+(1e6*Math.random()|0)),wt=0;function xt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++wt,this.ca=this.fa=!1}function Ct(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kt(e){this.src=e,this.g={},this.h=0}function St(e,t){var n,r,i,a=t.type;a in e.g&&(n=e.g[a],(i=0<=(r=Be(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(Ct(t),0==e.g[a].length&&(delete e.g[a],e.h--)))}function Et(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}kt.prototype.add=function(e,t,n,r,i){var a=e.toString(),s=((e=this.g[a])||(e=this.g[a]=[],this.h++),Et(e,t,r,i));return-1<s?(t=e[s],n||(t.fa=!1)):((t=new xt(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Tt="closure_lm_"+(1e6*Math.random()|0),_t={};function It(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s,o=Me(i)?!!i.capture:!!i,l=Pt(e);if(l||(e[Tt]=l=new kt(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(s=At,(n.proxy=r=function e(t){return s.call(e.src,e.listener,t)}).src=e,r.listener=n,e.addEventListener)void 0===(i=mt?i:o)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nt(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[bt]?St(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pt(t))?(St(n,e),0==n.h&&(n.src=null,t[Tt]=null)):Ct(e)))}function jt(e){return e in _t?_t[e]:_t[e]="on"+e}function At(e,t){var n,r;return!!e.ca||(t=new yt(t,this),n=e.listener,r=e.ia||e.src,e.fa&&Nt(e),n.call(r,t))}function Pt(e){return(e=e[Tt])instanceof kt?e:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(t){return"function"==typeof t?t:(t[Lt]||(t[Lt]=function(e){return t.handleEvent(e)}),t[Lt])}function Mt(){Ue.call(this),this.i=new kt(this),(this.P=this).I=null}function Rt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new gt(t,e):t instanceof gt?t.target=t.target||e:(s=t,tt(t=new gt(r,e),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var a=t.g=n[i],s=Ot(a,r,!0,t)&&s;if(s=Ot(a=t.g=e,r,!0,t)&&s,s=Ot(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=Ot(a=t.g=n[i],r,!1,t)&&s}function Ot(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s,o,l=t[a];l&&!l.ca&&l.capture==n&&(s=l.listener,o=l.ia||l.src,l.fa&&St(e.i,l),i=!1!==s.call(o,r)&&i)}return i&&!r.defaultPrevented}ze(Mt,Ue),Mt.prototype[bt]=!0,Mt.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);else i=Me(i)?!!i.capture:!!i,r=Dt(r),t&&t[bt]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Et(s=t.g[n],r,i,a))&&(Ct(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):(t=t&&Pt(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?Et(n,r,i,a):t)?n[t]:null)&&Nt(r))}(this,e,t,n,r)},Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ct(n[r]);delete t.g[e],t.h--}}this.I=null},Mt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vt,Ft=v.JSON.stringify,zt=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ut,e=>e.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bt(e,t){var n;Vt||(n=v.Promise.resolve(void 0),Vt=function(){n.then(Wt)}),qt||(Vt(),qt=!0),Ht.add(e,t)}var qt=!1,Ht=new class{constructor(){this.h=this.g=null}add(e,t){const n=zt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Wt(){for(var e;e=function(){var e=Ht;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}();){try{e.h.call(e.g)}catch(e){!function(e){v.setTimeout(()=>{throw e},0)}(e)}var t=zt;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}qt=!1}function Kt(e,t){Mt.call(this),this.h=e||1,this.g=t||v,this.j=Ve(this.kb,this),this.l=Date.now()}function Gt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yt(e,t,n){if("function"==typeof e)n&&(e=Ve(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ve(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}ze(Kt,Mt),(i=Kt.prototype).da=!1,i.S=null,i.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rt(this,"tick"),this.da&&(Gt(this),this.start())))},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Kt.Z.M.call(this),Gt(this),delete this.g};class $t extends Ue{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Yt(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);const n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(e){Ue.call(this),this.h=e,this.g={}}ze(Xt,Ue);var Qt=[];function Zt(e,t,n,r){Array.isArray(n)||(n&&(Qt[0]=n.toString()),n=Qt);for(var i=0;i<n.length;i++){var a=function e(t,n,r,i,a){if(i&&i.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=Dt(r),t&&t[bt]?t.O(n,r,Me(i)?!!i.capture:!!i,a):It(t,n,r,!0,i,a)}(t,n,r,i,a);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,a);return null}return r=Dt(r),t&&t[bt]?t.N(n,r,Me(i)?!!i.capture:!!i,a):It(t,n,r,!1,i,a)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Jt(e){Ze(e.g,function(e,t){this.g.hasOwnProperty(t)&&Nt(e)},e),e.g={}}function en(){this.g=!0}function tn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return Ft(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}Xt.prototype.M=function(){Xt.Z.M.call(this),Jt(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.Aa=function(){this.g=!1},en.prototype.info=function(){};var nn={},rn=null;function an(){return rn=rn||new Mt}function sn(e){gt.call(this,nn.Ma,e)}function on(){const e=an();Rt(e,new sn(e))}function ln(e,t){gt.call(this,nn.STAT_EVENT,e),this.stat=t}function un(e){const t=an();Rt(t,new ln(t,e))}function cn(e,t){gt.call(this,nn.Na,e),this.size=t}function hn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}nn.Ma="serverreachability",ze(sn,gt),nn.STAT_EVENT="statevent",ze(ln,gt),nn.Na="timingevent",ze(cn,gt);var t={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fn(){}function pn(e){return e.h||(e.h=e.i())}function mn(){}fn.prototype.h=null;var n={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gn(){gt.call(this,"d")}function yn(){gt.call(this,"c")}function vn(){}function bn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xt(this),this.P=Cn,this.W=new Kt(e=ot?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}ze(gn,gt),ze(yn,gt),ze(vn,fn),vn.prototype.g=function(){return new XMLHttpRequest},vn.prototype.i=function(){return{}};var xn=new vn,Cn=45e3,kn={},Sn={};function En(e,t,n){e.K=1,e.v=Kn(Un(t)),e.s=n,e.U=!0,Tn(e,null)}function Tn(e,t){e.F=Date.now(),Nn(e),e.A=Un(e.v);var s,o,l,u,c,h,n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ar(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wn,e.g=ii(e.l,n?t:null,!e.s),0<e.O&&(e.L=new $t(Ve(e.Ia,e,e.g),e.O)),Zt(e.V,e.g,"readystatechange",e.gb),t=e.H?Je(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),on(),s=e.j,o=e.u,l=e.A,u=e.m,c=e.X,h=e.s,s.info(function(){if(s.g)if(h)for(var e="",t=h.split("&"),n=0;n<t.length;n++){var r,i,a=t[n].split("=");1<a.length&&(r=a[0],a=a[1],e=2<=(i=r.split("_")).length&&"type"==i[1]?e+(r+"=")+a+"&":e+(r+"=redacted&"))}else e=null;else e=h;return"XMLHTTP REQ ("+u+") [attempt "+c+"]: "+o+"\n"+l+"\n"+e})}function _n(e){return e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function In(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;){if(s=n,l=void 0,o=(a=e).C,(i=-1==(l=s.indexOf("\n",o))?Sn:(o=Number(s.substring(o,l)),isNaN(o)?kn:(l+=1)+o>s.length?Sn:(s=s.substr(l,o),a.C=l+o,s)))==Sn){4==t&&(e.o=4,un(14),r=!1),tn(e.j,e.m,null,"[Incomplete Response]");break}if(i==kn){e.o=4,un(15),tn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}tn(e.j,e.m,i,null),Dn(e,i)}var a,s,o,l;_n(e)&&i!=Sn&&i!=kn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,un(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xr(t),t.L=!0,un(11))):(tn(e.j,e.m,n,"[Invalid Chunked Response]"),Ln(e),Pn(e))}function Nn(e){e.Y=Date.now()+e.P,jn(e,e.P)}function jn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hn(Ve(e.eb,e),t)}function An(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function Pn(e){0==e.l.G||e.I||Jr(e.l,e)}function Ln(e){An(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gt(e.W),Jt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dn(t,n){try{var r,i=t.l;if(0!=i.G&&(i.g==t||dr(i.i,t)))if(i.I=t.N,!t.J&&dr(i.i,t)&&3==i.G){try{var a=i.Ca.g.parse(n)}catch(e){a=null}if(Array.isArray(a)&&3==a.length){var s=a;if(0==s[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break e;Zr(i),Ur(i)}$r(i),un(18)}}else i.ta=s[1],0<i.ta-i.U&&s[2]<37500&&i.N&&0==i.A&&!i.v&&(i.v=hn(Ve(i.ab,i),6e3));if(hr(i.i)<=1&&i.ka){try{i.ka()}catch(e){}i.ka=void 0}}else ti(i,11)}else if(!t.J&&i.g!=t||Zr(i),!Ke(n))for(s=i.Ca.g.parse(n),n=0;n<s.length;n++){let e=s[n];if(i.U=e[0],e=e[1],2==i.G)if("c"==e[0]){i.J=e[1],i.la=e[2];const c=e[3],h=(null!=c&&(i.ma=c,i.h.info("VER="+i.ma)),e[4]),d=(null!=h&&(i.za=h,i.h.info("SVER="+i.za)),e[5]),f=(null!=d&&"number"==typeof d&&0<d&&(a=1.5*d,i.K=a,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i,t.g);if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p&&!(r=a.i).g&&($e(p,"spdy")||$e(p,"quic")||$e(p,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(fr(r,r.h),r.h=null)),a.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(a.sa=m,g(a.F,a.D,m))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var o,l,u=t;(a=i).oa=ri(a,a.H?a.la:null,a.W),u.J?(pr(a.i,u),o=u,(l=a.K)&&o.setTimeout(l),o.B&&(An(o),Nn(o)),a.g=u):Yr(a),0<i.l.length&&Hr(i)}else"stop"!=e[0]&&"close"!=e[0]||ti(i,7);else 3==i.G&&("stop"==e[0]||"close"==e[0]?"stop"==e[0]?ti(i,7):zr(i):"noop"!=e[0]&&i.j&&i.j.wa(e),i.A=0)}on()}catch(e){}}function Mn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(De(e)||"string"==typeof e)qe(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(De(e)||"string"==typeof e)for(var n=[],r=e.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,e)n[r++]=i;for(var i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(De(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Rn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){for(var i={},n=t=0;t<e.g.length;)Vn(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function Vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=bn.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;const t=this.L;t&&3==Mr(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{const y=Mr(this.g);var t=this.g.Da();if(this.g.ba(),!(y<3)&&(3!=y||ot||this.g&&(this.h.h||this.g.ga()||Rr(this.g)))){this.I||4!=y||7==t||on(),An(this);var n=this.g.ba();this.N=n;t:if(_n(this)){var r=Rr(this.g),i=(e="",r.length),a=4==Mr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ln(this),Pn(this);var s="";break t}this.h.i=new v.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,c=this.j,h=this.u,d=this.A,f=this.m,p=this.X,m=y,g=n,c.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+p+"]: "+h+"\n"+d+"\n"+m+" "+g}),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ke(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,un(12),Ln(this),Pn(this);break e}tn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dn(this,n)}this.U?(In(this,y,s),ot&&this.i&&3==y&&(Zt(this.V,this.W,"tick",this.fb),this.W.start())):(tn(this.j,this.m,s,null),Dn(this,s)),4==y&&Ln(this),this.i&&!this.I&&(4==y?Jr(this.l,this):(this.i=!1,Nn(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Ln(this),Pn(this)}}}catch(e){}var c,h,d,f,p,m,g},i.fb=function(){var e,t;this.g&&(e=Mr(this.g),t=this.g.ga(),this.C<t.length&&(An(this),In(this,e,t),this.i&&4!=e&&Nn(this)))},i.cancel=function(){this.I=!0,Ln(this)},i.eb=function(){this.B=null;const e=Date.now();var t,n;0<=e-this.Y?(t=this.j,n=this.A,t.info(function(){return"TIMEOUT: "+n}),2!=this.K&&(on(),un(17)),Ln(this),this.o=2,Pn(this)):jn(this,this.Y-e)},(i=Rn.prototype).R=function(){On(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return On(this),this.g.concat()},i.get=function(e,t){return Vn(this.h,e)?this.h[e]:t},i.set=function(e,t){Vn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zn(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof zn?(this.g=void 0!==t?t:e.g,Bn(this,e.j),this.s=e.s,qn(this,e.i),Hn(this,e.m),this.l=e.l,t=e.h,(n=new tr).i=t.i,t.g&&(n.g=new Rn(t.g),n.h=t.h),Wn(this,n),this.o=e.o):e&&(n=String(e).match(Fn))?(this.g=!!t,Bn(this,n[1]||"",!0),this.s=Gn(n[2]||""),qn(this,n[3]||"",!0),Hn(this,n[4]),this.l=Gn(n[5]||"",!0),Wn(this,n[6]||"",!0),this.o=Gn(n[7]||"")):(this.g=!!t,this.h=new tr(null,this.g))}function Un(e){return new zn(e)}function Bn(e,t,n){e.j=n?Gn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qn(e,t,n){e.i=n?Gn(t,!0):t}function Hn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wn(e,t,n){var r,i;t instanceof tr?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(nr(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(rr(this,t),ar(this,n,e))},r)),r.j=i):(n||(t=Yn(t,Jn)),e.h=new tr(t,e.g))}function g(e,t,n){e.h.set(t,n)}function Kn(e){return g(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,$n),n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function $n(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zn.prototype.toString=function(){var e=[],t=this.j,n=(t&&e.push(Yn(t,Xn,!0),":"),this.i);return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(Yn(t,Xn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yn(n,"/"==n.charAt(0)?Zn:Qn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yn(n,er)),e.join("")};var Xn=/[#\/\?@]/g,Qn=/[#\?:]/g,Zn=/[#\?]/g,Jn=/[#\?@]/g,er=/#/g;function tr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nr(e){if(!e.g&&(e.g=new Rn,e.h=0,e.i)&&(t=e.i))for(var t=t.split("&"),n=0;n<t.length;n++){var r,i=t[n].indexOf("="),a=null;0<=i?(r=t[n].substring(0,i),a=t[n].substring(i+1)):r=t[n],i=r,a=a?decodeURIComponent(a.replace(/\+/g," ")):"",e.add(decodeURIComponent(i.replace(/\+/g," ")),a)}}function rr(e,t){nr(e),t=sr(e,t),Vn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Vn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&On(e)))}function ir(e,t){return nr(e),t=sr(e,t),Vn(e.g.h,t)}function ar(e,t,n){rr(e,t),0<n.length&&(e.i=null,e.g.set(sr(e,t),We(n)),e.h+=n.length)}function sr(e,t){return t=String(t),e.j?t.toLowerCase():t}(i=tr.prototype).add=function(e,t){nr(this),this.i=null,e=sr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(n,r){nr(this),this.g.forEach(function(e,t){qe(e,function(e){n.call(r,e,t,this)},this)},this)},i.T=function(){nr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},i.R=function(e){nr(this);var t=[];if("string"==typeof e)ir(this,e)&&(t=He(t,this.g.get(sr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=He(t,e[n])}return t},i.set=function(e,t){return nr(this),this.i=null,ir(this,e=sr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),r=this.R(r),a=0;a<r.length;a++){var s=i;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}return this.i=e.join("&")};var or,lr=class{constructor(e,t){this.h=e,this.g=t}};function ur(e){this.l=e||10,e=v.PerformanceNavigationTiming?0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(v.g&&v.g.Ea&&v.g.Ea()&&v.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(e){return e.h||e.g&&e.g.size>=e.j}function hr(e){return e.h?1:e.g?e.g.size:0}function dr(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function fr(e,t){e.g?e.g.add(t):e.h=t}function pr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mr(t){if(null!=t.h)return t.i.concat(t.h.D);if(null==t.g||0===t.g.size)return We(t.i);{let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}}function gr(){}function yr(){this.g=new gr}function vr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function br(e){this.l=e.$b||null,this.j=e.ib||!1}function wr(e,t){Mt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ur.prototype.cancel=function(){if(this.i=mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},gr.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},gr.prototype.parse=function(e){return v.JSON.parse(e,void 0)},ze(br,fn),br.prototype.g=function(){return new wr(this.l,this.j)},br.prototype.i=(or={},function(){return or}),ze(wr,Mt);var xr=0;function Cr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function kr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sr(e)}function Sr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=wr.prototype).open=function(e,t){if(this.readyState!=xr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sr(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kr(this)),this.readyState=xr},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?kr:Sr)(this),3==this.readyState&&Cr(this))},i.Ua=function(e){this.g&&(this.response=this.responseText=e,kr(this))},i.Ta=function(e){this.g&&(this.response=e,kr(this))},i.ha=function(){this.g&&kr(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Er=v.JSON.parse;function r(e){Mt.call(this),this.headers=new Rn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tr,this.K=this.L=!1}ze(r,Mt);var Tr="",_r=/^https?$/i,Ir=["POST","PUT"];function Nr(e){return"content-type"==e.toLowerCase()}function jr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ar(e),Lr(e)}function Ar(e){e.D||(e.D=!0,Rt(e,"complete"),Rt(e,"error"))}function Pr(e){if(e.h&&(!e.C[1]||4!=Mr(e)||2!=e.ba()))if(e.v&&4==Mr(e))Yt(e.Fa,0,e);else if(Rt(e,"readystatechange"),4==Mr(e)){e.h=!1;try{const o=e.ba();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break;default:t=!1}var n,r,i,a;if((n=t)||((r=0===o)&&(!(a=String(e.H).match(Fn)[1]||null)&&v.self&&v.self.location&&(a=(i=v.self.location.protocol).substr(0,i.length-1)),r=!_r.test(a?a.toLowerCase():"")),n=r),n)Rt(e,"complete"),Rt(e,"success");else{e.m=6;try{var s=2<Mr(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Ar(e)}}finally{Lr(e)}}}function Lr(e,t){if(e.g){Dr(e);const n=e.g,r=e.C[0]?Le:null;e.g=null,e.C=null,t||Rt(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Dr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Mr(e){return e.g?e.g.readyState:0}function Rr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Or(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=function(){let n="";return Ze(r,function(e,t){n=(n=n+t+":")+e+"\r\n"}),n}(),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):g(e,t,r))}function Vr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fr(e){this.za=0,this.l=[],this.h=new en,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vr("baseRetryDelayMs",5e3,e),this.$a=Vr("retryDelaySeedMs",1e4,e),this.Ya=Vr("forwardChannelMaxRetries",2,e),this.ra=Vr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ur(e&&e.concurrentRequestLimit),this.Ca=new yr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zr(e){var t,n;Br(e),3==e.G&&(t=e.V++,g(n=Un(e.F),"SID",e.J),g(n,"RID",t),g(n,"TYPE","terminate"),Kr(e,n),(t=new bn(e,e.h,t,void 0)).K=2,t.v=Kn(Un(n)),n=!1,!(n=v.navigator&&v.navigator.sendBeacon?v.navigator.sendBeacon(t.v.toString(),""):n)&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=ii(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nn(t)),ni(e)}function Ur(e){e.g&&(Xr(e),e.g.cancel(),e.g=null)}function Br(e){Ur(e),e.u&&(v.clearTimeout(e.u),e.u=null),Zr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&v.clearTimeout(e.m),e.m=null)}function qr(e,t){e.l.push(new lr(e.Za++,t)),3==e.G&&Hr(e)}function Hr(e){cr(e.i)||e.m||(e.m=!0,Bt(e.Ha,e),e.C=0)}function Wr(e,t){var n=t?t.m:e.V++;const r=Un(e.F);g(r,"SID",e.J),g(r,"RID",n),g(r,"AID",e.U),Kr(e,r),e.o&&e.s&&Or(r,e.o,e.s),n=new bn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fr(e.i,n),En(n,r,t)}function Kr(e,n){e.j&&Mn({},function(e,t){g(n,t,e)})}function Gr(e,t,i){i=Math.min(e.l.length,i);var a=e.j?Ve(e.j.Oa,e.j,e):null;e:{var s=e.l;let r=-1;for(;;){const o=["count="+i];-1==r?0<i?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let n=!0;for(let e=0;e<i;e++){let t=s[e].h;const l=s[e].g;if((t-=r)<0)r=Math.max(0,s[e].h-100),n=!1;else try{!function(e,r){const i="req"+t+"_"||"";try{Mn(e,function(e,t){let n=e;Me(e)&&(n=Ft(e)),r.push(i+t+"="+encodeURIComponent(n))})}catch(e){throw r.push(i+"type="+encodeURIComponent("_badmap")),e}}(l,o)}catch(e){a&&a(l)}}if(n){a=o.join("&");break e}}}return e=e.l.splice(0,i),t.D=e,a}function Yr(e){e.g||e.u||(e.Y=1,Bt(e.Ga,e),e.A=0)}function $r(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=hn(Ve(e.Ga,e),ei(e,e.A)),e.A++,1)}function Xr(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Qr(e){e.g=new bn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Un(e.oa),n=(g(t,"RID","rpc"),g(t,"SID",e.J),g(t,"CI",e.N?"0":"1"),g(t,"AID",e.U),Kr(e,t),g(t,"TYPE","xmlhttp"),e.o&&e.s&&Or(t,e.o,e.s),e.K&&e.g.setTimeout(e.K),e.g);e=e.la,n.K=1,n.v=Kn(Un(t)),n.s=null,n.U=!0,Tn(n,e)}function Zr(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function Jr(e,t){var n,r,i,a=null;if(e.g==t){Zr(e),Xr(e),e.g=null;var s=2}else{if(!dr(e.i,t))return;a=t.D,pr(e.i,t),s=1}if(e.I=t.N,0!=e.G)if(t.i)1==s?(a=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,Rt(s=an(),new cn(s,a)),Hr(e)):Yr(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=s||(i=t,hr((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=hn(Ve(r.Ha,r,i),ei(r,r.C)),r.C++,0))))&&(2!=s||!$r(e)))switch(a&&0<a.length&&(t=e.i,t.i=t.i.concat(a)),n){case 1:ti(e,5);break;case 4:ti(e,10);break;case 3:ti(e,6);break;default:ti(e,2)}}function ei(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ti(e,t){if(e.h.info("Error code "+t),2==t){var n=null,r=(e.j&&(n=null),Ve(e.jb,e));n||(n=new zn("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Bn(n,"https"),Kn(n));{n=n.toString();const i=new en;if(v.Image){const a=new Image;a.onload=Fe(vr,i,a,"TestLoadImage: loaded",!0,r),a.onerror=Fe(vr,i,a,"TestLoadImage: error",!1,r),a.onabort=Fe(vr,i,a,"TestLoadImage: abort",!1,r),a.ontimeout=Fe(vr,i,a,"TestLoadImage: timeout",!1,r),v.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=n}else r(!1)}}else un(2);e.G=0,e.j&&e.j.va(t),ni(e),Br(e)}function ni(e){e.G=0,e.I=-1,e.j&&(0==mr(e.i).length&&0==e.l.length||(e.i.i.length=0,We(e.l),e.l.length=0),e.j.ua())}function ri(e,t,n){let r=(i=n)instanceof zn?Un(i):new zn(i,void 0);var i,a,s,o,l;if(""!=r.i)t&&qn(r,t+"."+r.i),Hn(r,r.m);else{const u=v.location;r=(i=u.protocol,a=t?t+"."+u.hostname:u.hostname,s=+u.port,o=n,l=new zn(null,void 0),i&&Bn(l,i),a&&qn(l,a),s&&Hn(l,s),o&&(l.l=o),l)}return e.aa&&Ze(e.aa,function(e,t){g(r,t,e)}),t=e.D,n=e.sa,t&&n&&g(r,t,n),g(r,"VER",e.ma),Kr(e,r),r}function ii(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new r(new br({ib:!0})):new r(e.qa)).L=e.H,t}function ai(){}function si(){if(at&&!(10<=Number(pt)))throw Error("Environmental error: no available transport.")}function oi(e,t){Mt.call(this),this.g=new Fr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ke(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ke(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ci(this)}function li(e){gn.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ui(){yn.call(this),this.status=1}function ci(e){this.g=e}(i=r.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||xn).g(),this.C=this.u?pn(this.u):pn(xn),this.g.onreadystatechange=Ve(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void jr(this,e)}e=n||"";const i=new Rn(this.headers);r&&Mn(r,function(e,t){i.set(t,e)}),r=function(t){e:{var n=Nr;const r=t.length,i="string"==typeof t?t.split(""):t;for(let e=0;e<r;e++)if(e in i&&n.call(void 0,i[e],e,t)){n=e;break e}n=-1}return n<0?null:"string"==typeof t?t.charAt(n):t[n]}(i.T()),n=v.FormData&&e instanceof v.FormData,0<=Be(Ir,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dr(this),0<this.B&&((this.K=(o=this.g,at&&(a=function(){let t=0;const n=Ye(String(rt)).split("."),r=Ye("9").split("."),i=Math.max(n.length,r.length);for(let e=0;0==t&&e<i;e++)for(var a=n[e]||"",s=r[e]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=Xe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Xe(0==a[2].length,0==s[2].length)||Xe(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},s=ft,Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=a())&&"number"==typeof o.timeout&&void 0!==o.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.pa,this)):this.A=Yt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){jr(this,e)}var a,s,o},i.pa=function(){this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rt(this,"complete"),Rt(this,"abort"),Lr(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lr(this,!0)),r.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Pr(this):this.cb())},i.cb=function(){Pr(this)},i.ba=function(){try{return 2<Mr(this)?this.g.status:-1}catch(e){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},i.Qa=function(e){var t;if(this.g)return t=this.g.responseText,e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Er(t)},i.Da=function(){return this.m},i.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(i=Fr.prototype).ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},i.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const a=new bn(this,this.h,t,void 0);let e=this.s;if(this.P&&(e?tt(e=Je(e),this.P):e=this.P),null===this.o&&(a.H=e),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var i=this.l[r];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(n+=i)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=Gr(this,a,n),g(r=Un(this.F),"RID",t),g(r,"CVER",22),this.D&&g(r,"X-HTTP-Session-Id",this.D),Kr(this,r),this.o&&e&&Or(r,this.o,e),fr(this.i,a),this.Ra&&g(r,"TYPE","init"),this.ja?(g(r,"$req",n),g(r,"SID","null"),a.$=!0,En(a,r,null)):En(a,r,n),this.G=2}}else 3==this.G&&(t?Wr(this,t):0==this.l.length||cr(this.i)||Wr(this))},i.Ga=function(){var e;this.u=null,Qr(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=hn(Ve(this.bb,this),e))},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),Ur(this),Qr(this))},i.ab=function(){null!=this.v&&(this.v=null,Ur(this),$r(this),un(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))},(i=ai.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},si.prototype.g=function(e,t){return new oi(e,t)},ze(oi,Mt),oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Bt(Ve(e.hb,e,t))),un(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ri(e,null,e.W),Hr(e)},oi.prototype.close=function(){zr(this.g)},oi.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,qr(this.g,t)):this.v?((t={}).__data__=Ft(e),qr(this.g,t)):qr(this.g,e)},oi.prototype.M=function(){this.g.j=null,delete this.j,zr(this.g),delete this.g,oi.Z.M.call(this)},ze(li,gn),ze(ui,yn),ze(ci,ai),ci.prototype.xa=function(){Rt(this.g,"a")},ci.prototype.wa=function(e){Rt(this.g,new li(e))},ci.prototype.va=function(e){Rt(this.g,new ui)},ci.prototype.ua=function(){Rt(this.g,"b")},si.prototype.createWebChannel=si.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,t.NO_ERROR=0,t.TIMEOUT=8,t.HTTP_ERROR=6,dn.COMPLETE="complete",(mn.EventType=n).OPEN="a",n.CLOSE="b",n.ERROR="c",n.MESSAGE="d",Mt.prototype.listen=Mt.prototype.N,r.prototype.listenOnce=r.prototype.O,r.prototype.getLastError=r.prototype.La,r.prototype.getLastErrorCode=r.prototype.Da,r.prototype.getStatus=r.prototype.ba,r.prototype.getResponseJson=r.prototype.Qa,r.prototype.getResponseText=r.prototype.ga,r.prototype.send=r.prototype.ea;var f,hi,di,fi,pi=e.createWebChannelTransport=function(){return new si},mi=e.getStatEventTarget=an,gi=e.ErrorCode=t,yi=e.EventType=dn,vi=e.Event=nn,bi=e.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wi=e.FetchXmlHttpFactory=br,xi=e.WebChannel=mn,Ci=e.XhrIo=r;const ki="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Ei="9.6.10";const Ti=new ce("@firebase/firestore");function _i(){return Ti.logLevel}function p(e,...t){if(Ti.logLevel<=h.DEBUG){const n=t.map(ji);Ti.debug(`Firestore (${Ei}): `+e,...n)}}function Ii(e,...t){if(Ti.logLevel<=h.ERROR){const n=t.map(ji);Ti.error(`Firestore (${Ei}): `+e,...n)}}function Ni(e,...t){if(Ti.logLevel<=h.WARN){const n=t.map(ji);Ti.warn(`Firestore (${Ei}): `+e,...n)}}function ji(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function _(e="Unexpected state"){const t=`FIRESTORE (${Ei}) INTERNAL ASSERTION FAILED: `+e;throw Ii(t),new Error(t)}function I(e){e||_()}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends H{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: `+this.message}}class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class Li{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class Di{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=e=>this.i!==r?(r=this.i,n(e)):Promise.resolve();let a=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ai,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const e=a;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ai)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(I("string"==typeof e.accessToken),new Pi(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return I(null===e||"string"==typeof e),new Si(e)}}class Mi{constructor(e,t,n){this.type="FirstParty",this.user=Si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ri{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Mi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&0<e.length&&this.headers.set("x-firebase-appcheck",this.value)}}class Vi{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+e.error.message);const t=e.token!==this.p;return this.p=e.token,p("FirebaseAppCheckTokenProvider",`Received ${t?"new":"existing"} token.`),t?n(e.token):Promise.resolve()},i=(this.o=e=>{t.enqueueRetryable(()=>r(e))},e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)});this.g.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?i(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(I("string"==typeof e.token),this.p=e.token,new Oi(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}Fi.A=-1;class zi{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=function(){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let e=0;e<40;e++)t[e]=Math.floor(256*Math.random());return t}();for(let e=0;e<i.length;++e)r.length<20&&i[e]<n&&(r+=t.charAt(i[e]%t.length))}return r}}function k(e,t){return e<t?-1:t<e?1:0}function Ui(e,n,r){return e.length===n.length&&e.every((e,t)=>r(e,n[t]))}function Bi(e){return e+"\0"}class qi{constructor(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qi.fromMillis(Date.now())}static fromDate(e){return qi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?k(this.nanoseconds,e.nanoseconds):k(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class P{constructor(e){this.timestamp=e}static fromTimestamp(e){return new P(e)}static min(){return new P(new qi(0,0))}static max(){return new P(new qi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Hi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ki(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Gi{constructor(e,t,n){void 0===t?t=0:t>e.length&&_(),void 0===n?n=e.length-t:n>e.length-t&&_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(n){for(let e=this.offset,t=this.limit();e<t;e++)n(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let e=0;e<r;e++){const r=t.get(e),i=n.get(e);if(r<i)return-1;if(r>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class u extends Gi{construct(e,t,n){return new u(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(0<=n.indexOf("//"))throw new A(N.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>0<e.length))}return new u(t)}static emptyPath(){return new u([])}}const Yi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Gi{construct(e,t,n){return new $i(e,t,n)}static isValidIdentifier(e){return Yi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e=$i.isValidIdentifier(e)?e:"`"+e+"`")).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new A(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new A(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new A(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?a=!a:"."!==t||a?n+=t:i(),r++}if(i(),a)throw new A(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(t)}static emptyPath(){return new $i([])}}class Xi{constructor(e){(this.fields=e).sort($i.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ui(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qi(t)}static fromUint8Array(e){const t=function(t){let n="";for(let e=0;e<t.length;++e)n+=String.fromCharCode(t[e]);return n}(e);return new Qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){{var t=this.binaryString;const n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return k(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(I(!!e),"string"!=typeof e)return{seconds:S(e.seconds),nanos:S(e.nanos)};{let t=0;const n=Zi.exec(e);if(I(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}}function S(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ea(e){return"string"==typeof e?Qi.fromBase64String(e):Qi.fromUint8Array(e)}function ta(e){return"server_timestamp"===(null==(e=((null==(e=null==e?void 0:e.mapValue)?void 0:e.fields)||{}).__type__)?void 0:e.stringValue)}function na(e){const t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new qi(t.seconds,t.nanos)}class ra{constructor(e,t,n,r,i,a,s,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=o}}class ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}function aa(e){return null==e}function sa(e){return 0===e&&1/e==-1/0}class m{constructor(e){this.path=e}static fromPath(e){return new m(u.fromString(e))}static fromName(e){return new m(u.fromString(e).popFirst(5))}static empty(){return new m(u.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===u.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return u.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new m(new u(e.slice()))}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},la={nullValue:"NULL_VALUE"};function ua(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ta(e)?4:Ca(e)?9:10:_()}function ca(e,t){if(e===t)return!0;const n=ua(e);if(n!==ua(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return na(e).isEqual(na(t));case 3:{var r=t;if("string"==typeof e.timestampValue&&"string"==typeof r.timestampValue&&e.timestampValue.length===r.timestampValue.length)return e.timestampValue===r.timestampValue;const s=Ji(e.timestampValue),o=Ji(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}case 5:return e.stringValue===t.stringValue;case 6:return r=t,ea(e.bytesValue).isEqual(ea(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return r=t,S((a=e).geoPointValue.latitude)===S(r.geoPointValue.latitude)&&S(a.geoPointValue.longitude)===S(r.geoPointValue.longitude);case 2:a=e,r=t;if("integerValue"in a&&"integerValue"in r)return S(a.integerValue)===S(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const l=S(a.doubleValue),u=S(r.doubleValue);return l===u?sa(l)===sa(u):isNaN(l)&&isNaN(u)}return!1;case 9:return Ui(e.arrayValue.values||[],t.arrayValue.values||[],ca);case 10:{var i=e;const c=i.mapValue.fields||{},h=t.mapValue.fields||{};if(Hi(c)!==Hi(h))return!1;for(const i in c)if(c.hasOwnProperty(i)&&(void 0===h[i]||!ca(c[i],h[i])))return!1;return!0}default:return _()}var a}function ha(e,t){return void 0!==(e.values||[]).find(e=>ca(e,t))}function da(e,t){if(e===t)return 0;const n=ua(e),r=ua(t);if(n!==r)return k(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return k(e.booleanValue,t.booleanValue);case 2:{var i=t;const u=S(e.integerValue||e.doubleValue),c=S(i.integerValue||i.doubleValue);return u<c?-1:c<u?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}case 3:return fa(e.timestampValue,t.timestampValue);case 4:return fa(na(e),na(t));case 5:return k(e.stringValue,t.stringValue);case 6:{var i=e.bytesValue,a=t.bytesValue;const h=ea(i),d=ea(a);return h.compareTo(d)}case 7:{var i=e.referenceValue,s=t.referenceValue;const f=i.split("/"),p=s.split("/");for(let e=0;e<f.length&&e<p.length;e++){const s=k(f[e],p[e]);if(0!==s)return s}return k(f.length,p.length)}case 8:{a=e.geoPointValue,i=t.geoPointValue;const m=k(S(a.latitude),S(i.latitude));return 0!==m?m:k(S(a.longitude),S(i.longitude))}case 9:{var s=e.arrayValue,o=t.arrayValue;const g=s.values||[],y=o.values||[];for(let e=0;e<g.length&&e<y.length;++e){const o=da(g[e],y[e]);if(o)return o}return k(g.length,y.length)}case 10:{var a=e.mapValue,l=t.mapValue;const v=a.fields||{},b=Object.keys(v),w=l.fields||{},x=Object.keys(w);b.sort(),x.sort();for(let e=0;e<b.length&&e<x.length;++e){const l=k(b[e],x[e]);if(0!==l)return l;const C=da(v[b[e]],w[x[e]]);if(0!==C)return C}return k(b.length,x.length)}default:throw _()}}function fa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return k(e,t);const n=Ji(e),r=Ji(t),i=k(n.seconds,r.seconds);return 0!==i?i:k(n.nanos,r.nanos)}function pa(e){return function n(r){if("nullValue"in r)return"null";if("booleanValue"in r)return""+r.booleanValue;if("integerValue"in r)return""+r.integerValue;if("doubleValue"in r)return""+r.doubleValue;if("timestampValue"in r){const t=Ji(r.timestampValue);return`time(${t.seconds},${t.nanos})`}if("stringValue"in r)return r.stringValue;if("bytesValue"in r)return ea(r.bytesValue).toBase64();if("referenceValue"in r)return e=r.referenceValue,m.fromName(e).toString();if("geoPointValue"in r)return`geo(${(e=r.geoPointValue).latitude},${e.longitude})`;if("arrayValue"in r){let e="[",t=!0;for(const a of r.arrayValue.values||[])t?t=!1:e+=",",e+=n(a);return e+"]"}if("mapValue"in r){var i=r.mapValue;const s=Object.keys(i.fields||{}).sort();let e="{",t=!0;for(const o of s)t?t=!1:e+=",",e+=o+":"+n(i.fields[o]);return e+"}"}return _();var e}(e)}function ma(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/`+t.path.canonicalString()}}function ga(e){return e&&"integerValue"in e}function ya(e){return!!e&&"arrayValue"in e}function va(e){return e&&"nullValue"in e}function ba(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wa(e){return e&&"mapValue"in e}function xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const n={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(e,t)=>n.mapValue.fields[e]=xa(t)),n}if(t.arrayValue){const r={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)r.arrayValue.values[e]=xa(t.arrayValue.values[e]);return r}return Object.assign({},t)}function Ca(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ka(e,t){return void 0!==e&&(void 0===t||0<da(e,t))?e:t}function Sa(e,t){return void 0!==e&&(void 0===t||da(e,t)<0)?e:t}class Ea{constructor(e){this.value=e}static empty(){return new Ea({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let e=0;e<n.length-1;++e)if(!wa(t=(t.mapValue.fields||{})[n.get(e)]))return null;return(t=(t.mapValue.fields||{})[n.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(t)}setAll(e){let n=$i.emptyPath(),r={},i=[];e.forEach((e,t)=>{if(!n.isImmediateParentOf(t)){const e=this.getFieldsMap(n);this.applyChanges(e,r,i),r={},i=[],n=t.popLast()}e?r[t.lastSegment()]=xa(e):i.push(t.lastSegment())});const t=this.getFieldsMap(n);this.applyChanges(t,r,i)}delete(e){const t=this.field(e.popLast());wa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let t=0;t<n.length;++t){let e=r.mapValue.fields[n.get(t)];wa(e)&&e.mapValue.fields||(e={mapValue:{fields:{}}},r.mapValue.fields[n.get(t)]=e),r=e}return r.mapValue.fields}applyChanges(n,e,t){Wi(e,(e,t)=>n[e]=t);for(const e of t)delete n[e]}clone(){return new Ea(xa(this.value))}}class L{constructor(e,t,n,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new L(e,0,P.min(),P.min(),Ea.empty(),0)}static newFoundDocument(e,t,n){return new L(e,1,t,P.min(),n,0)}static newNoDocument(e,t){return new L(e,2,t,P.min(),Ea.empty(),0)}static newUnknownDocument(e,t){return new L(e,3,t,P.min(),Ea.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof L&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new L(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function _a(e){return e.fields.find(e=>2===e.kind)}function Ia(e){return e.fields.filter(e=>2!==e.kind)}Ta.UNKNOWN_ID=-1;class Na{constructor(e,t){this.fieldPath=e,this.kind=t}}class ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ja(0,Aa.min())}}class Aa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Aa(P.min(),m.empty(),-1)}static max(){return new Aa(P.max(),m.empty(),-1)}}class Pa{constructor(e,t=null,n=[],r=[],i=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.P=null}}function La(e,t=null,n=[],r=[],i=null,a=null,s=null){return new Pa(e,t,n,r,i,a,s)}function Da(e){const t=e;if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e=(e=(e+="|f:")+t.filters.map(e=>{return(e=e).field.canonicalString()+e.op.toString()+pa(e.value)}).join(",")+"|ob:")+t.orderBy.map(e=>{return e.field.canonicalString()+e.dir}).join(","),aa(t.limit)||(e=(e+="|l:")+t.limit),t.startAt&&(e=(e=(e+="|lb:")+(t.startAt.inclusive?"b:":"a:"))+t.startAt.position.map(e=>pa(e)).join(",")),t.endAt&&(e=(e=(e+="|ub:")+(t.endAt.inclusive?"a:":"b:"))+t.endAt.position.map(e=>pa(e)).join(",")),t.P=e}return t.P}function Ma(t,n){if(t.limit!==n.limit)return!1;if(t.orderBy.length!==n.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(r=t.orderBy[e],i=n.orderBy[e],r.dir!==i.dir||!r.field.isEqual(i.field))return!1;var r,i,a,s;if(t.filters.length!==n.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(a=t.filters[e],s=n.filters[e],a.op!==s.op||!a.field.isEqual(s.field)||!ca(a.value,s.value))return!1;return t.collectionGroup===n.collectionGroup&&!!t.path.isEqual(n.path)&&!!Xa(t.startAt,n.startAt)&&Xa(t.endAt,n.endAt)}function Ra(e){return m.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Oa(e,t){return e.filters.filter(e=>e instanceof Va&&e.field.isEqual(t))}class Va extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Fa(e,t,n):"array-contains"===t?new qa(e,n):"in"===t?new Ha(e,n):"not-in"===t?new Wa(e,n):"array-contains-any"===t?new Ka(e,n):new Va(e,t,n)}static V(e,t,n){return new("in"===t?za:Ua)(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(da(t,this.value)):null!==t&&ua(this.value)===ua(t)&&this.v(da(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return _()}}S(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)}}class Fa extends Va{constructor(e,t,n){super(e,t,n),this.key=m.fromName(n.referenceValue)}matches(e){const t=m.comparator(e.key,this.key);return this.v(t)}}class za extends Va{constructor(e,t){super(e,"in",t),this.keys=Ba(0,t)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ua extends Va{constructor(e,t){super(e,"not-in",t),this.keys=Ba(0,t)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Ba(e,t){return((null==(t=t.arrayValue)?void 0:t.values)||[]).map(e=>m.fromName(e.referenceValue))}class qa extends Va{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ya(t)&&ha(t.arrayValue,this.value)}}class Ha extends Va{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ha(this.value.arrayValue,t)}}class Wa extends Va{constructor(e,t){super(e,"not-in",t)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ha(this.value.arrayValue,t)}}class Ka extends Va{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ya(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ha(this.value.arrayValue,e))}}class Ga{constructor(e,t){this.position=e,this.inclusive=t}}class Ya{constructor(e,t="asc"){this.field=e,this.dir=t}}function $a(t,n,r){let i=0;for(let e=0;e<t.position.length;e++){const a=n[e],s=t.position[e];if(i=a.field.isKeyField()?m.comparator(m.fromName(s.referenceValue),r.key):da(s,r.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Xa(t,n){if(null===t)return null===n;if(null===n)return!1;if(t.inclusive!==n.inclusive||t.position.length!==n.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!ca(t.position[e],n.position[e]))return!1;return!0}class Qa{constructor(e,t=null,n=[],r=[],i=null,a="F",s=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function Za(e){return new Qa(e)}function Ja(e){return!aa(e.limit)&&"F"===e.limitType}function es(e){return!aa(e.limit)&&"L"===e.limitType}function ts(t){const n=t;if(null===n.D){n.D=[];const t=function(){for(const e of n.filters)if(e.S())return e.field;return null}(),r=0<(e=n).explicitOrderBy.length?e.explicitOrderBy[0].field:null;if(null!==t&&null===r)t.isKeyField()||n.D.push(new Ya(t)),n.D.push(new Ya($i.keyField(),"asc"));else{let e=!1;for(const i of n.explicitOrderBy)n.D.push(i),i.field.isKeyField()&&(e=!0);if(!e){const t=0<n.explicitOrderBy.length?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.D.push(new Ya($i.keyField(),t))}}}var e;return n.D}function ns(e){const t=e;if(!t.C)if("F"===t.limitType)t.C=La(t.path,t.collectionGroup,ts(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of ts(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Ya(i.field,t))}const n=t.endAt?new Ga(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Ga(t.startAt.position,!t.startAt.inclusive):null;t.C=La(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function rs(e,t){return Ma(ns(e),ns(t))&&e.limitType===t.limitType}function is(e){return Da(ns(e))+"|lt:"+e.limitType}function as(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(t+=`, filters: [${e.filters.map(e=>{return`${(e=e).field.canonicalString()} ${e.op} `+pa(e.value)}).join(", ")}]`),aa(e.limit)||(t+=", limit: "+e.limit),0<e.orderBy.length&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${e.field.canonicalString()} (${e.dir})`}).join(", ")}]`),e.startAt&&(t=(t=(t+=", startAt: ")+(e.startAt.inclusive?"b:":"a:"))+e.startAt.position.map(e=>pa(e)).join(",")),`Target(${t=e.endAt?(t=(t+=", endAt: ")+(e.endAt.inclusive?"a:":"b:"))+e.endAt.position.map(e=>pa(e)).join(","):t})`}(ns(e))}; limitType=${e.limitType})`}function ss(n,e){return e.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):m.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(n,e)&&function(e){for(const t of n.explicitOrderBy)if(!t.field.isKeyField()&&null===e.data.field(t.field))return;return 1}(e)&&function(e){for(const t of n.filters)if(!t.matches(e))return;return 1}(e)&&(i=e,(!(r=n).startAt||function(e){const t=$a(e,ts(r),i);return e.inclusive?t<=0:t<0}(r.startAt))&&(!r.endAt||function(e){const t=$a(e,ts(r),i);return e.inclusive?0<=t:0<t}(r.endAt)));var r,i}function os(i){return(e,t)=>{let n=!1;for(const r of ts(i)){const i=function(e,i,t){const n=e.field.isKeyField()?m.comparator(i.key,t.key):function(e,t){const n=i.data.field(e),r=t.data.field(e);return null!==n&&null!==r?da(n,r):_()}(e.field,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return _()}}(r,e,t);if(0!==i)return i;n=n||r.field.isKeyField()}return 0}}function ls(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(t)?"-0":t}}function us(e){return{integerValue:""+e}}class cs{constructor(){this._=void 0}}function hs(e,t){return e instanceof ys?ga(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}class ds extends cs{}class fs extends cs{constructor(e){super(),this.elements=e}}function ps(e,t){const n=bs(t);for(const t of e.elements)n.some(e=>ca(e,t))||n.push(t);return{arrayValue:{values:n}}}class ms extends cs{constructor(e){super(),this.elements=e}}function gs(e,t){let n=bs(t);for(const t of e.elements)n=n.filter(e=>!ca(e,t));return{arrayValue:{values:n}}}class ys extends cs{constructor(e,t){super(),this.M=e,this.k=t}}function vs(e){return S(e.integerValue||e.doubleValue)}function bs(e){return ya(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ws{constructor(e,t){this.field=e,this.transform=t}}class xs{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ks(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ss{}function Es(e,t,n){if(e instanceof Is){var r=e,i=t,a=n;if(ks(r.precondition,i)){const s=r.value.clone(),o=Ps(r.fieldTransforms,a,i);s.setAll(o),i.convertToFoundDocument(_s(i),s).setHasLocalMutations()}}else if(e instanceof Ns){r=e,a=t,i=n;if(ks(r.precondition,a)){const l=Ps(r.fieldTransforms,i,a),u=a.data;u.setAll(js(r)),u.setAll(l),a.convertToFoundDocument(_s(a),u).setHasLocalMutations()}}else ks(e.precondition,n=t)&&n.convertToNoDocument(P.min())}function Ts(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Ui(n,r,(e,t)=>{return e.field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof fs&&t instanceof fs||e instanceof ms&&t instanceof ms?Ui(e.elements,t.elements,ca):e instanceof ys&&t instanceof ys?ca(e.k,t.k):e instanceof ds&&t instanceof ds)}))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}function _s(e){return e.isFoundDocument()?e.version:P.min()}class Is extends Ss{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ns extends Ss{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function js(n){const r=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const t=n.data.field(e);r.set(e,t)}}),r}function As(t,n,r){const i=new Map;I(t.length===r.length);for(let e=0;e<r.length;e++){const l=t[e],u=l.transform,c=n.data.field(l.field);i.set(l.field,(a=u,s=c,o=r[e],a instanceof fs?ps(a,s):a instanceof ms?gs(a,s):o))}var a,s,o;return i}function Ps(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,function(e,t,n){if(e instanceof ds){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return t&&(r.fields.__previous_value__=t),{mapValue:r}}if(e instanceof fs)return ps(e,t);if(e instanceof ms)return gs(e,t);{n=e;const i=hs(n,t),a=vs(i)+vs(n.k);return ga(i)&&ga(n.k)?us(a):ls(n.M,a)}}(e,a,t))}return r}class Ls extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ds extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ms{constructor(e){this.count=e}}function Rs(e){if(void 0===e)return Ii("GRPC error has no .code"),N.UNKNOWN;switch(e){case f.OK:return N.OK;case f.CANCELLED:return N.CANCELLED;case f.UNKNOWN:return N.UNKNOWN;case f.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case f.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case f.INTERNAL:return N.INTERNAL;case f.UNAVAILABLE:return N.UNAVAILABLE;case f.UNAUTHENTICATED:return N.UNAUTHENTICATED;case f.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case f.NOT_FOUND:return N.NOT_FOUND;case f.ALREADY_EXISTS:return N.ALREADY_EXISTS;case f.PERMISSION_DENIED:return N.PERMISSION_DENIED;case f.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case f.ABORTED:return N.ABORTED;case f.OUT_OF_RANGE:return N.OUT_OF_RANGE;case f.UNIMPLEMENTED:return N.UNIMPLEMENTED;case f.DATA_LOSS:return N.DATA_LOSS;default:return _()}}f={OK:0,0:"OK",CANCELLED:1,1:"CANCELLED",UNKNOWN:2,2:"UNKNOWN",INVALID_ARGUMENT:3,3:"INVALID_ARGUMENT",DEADLINE_EXCEEDED:4,4:"DEADLINE_EXCEEDED",NOT_FOUND:5,5:"NOT_FOUND",ALREADY_EXISTS:6,6:"ALREADY_EXISTS",PERMISSION_DENIED:7,7:"PERMISSION_DENIED",UNAUTHENTICATED:16,16:"UNAUTHENTICATED",RESOURCE_EXHAUSTED:8,8:"RESOURCE_EXHAUSTED",FAILED_PRECONDITION:9,9:"FAILED_PRECONDITION",ABORTED:10,10:"ABORTED",OUT_OF_RANGE:11,11:"OUT_OF_RANGE",UNIMPLEMENTED:12,12:"UNIMPLEMENTED",INTERNAL:13,13:"INTERNAL",UNAVAILABLE:14,14:"UNAVAILABLE",DATA_LOSS:15,15:"DATA_LOSS"};class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(t,n){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return this.inner[e]=[[t,n]],void this.innerSize++;for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return void(r[e]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return!1;for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return 1===r.length?delete this.inner[n]:r.splice(e,1),this.innerSize--,!0;return!1}forEach(r){Wi(this.inner,(e,t)=>{for(const[e,n]of t)r(e,n)})}isEmpty(){return Ki(this.inner)}size(){return this.innerSize}}class Vs{constructor(e,t){this.comparator=e,this.root=t||zs.EMPTY}insert(e,t){return new Vs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zs.BLACK,null,null))}remove(e){return new Vs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(n){this.inorderTraversal((e,t)=>(n(e,t),!1))}toString(){const n=[];return this.inorderTraversal((e,t)=>(n.push(e+":"+t),!1)),`{${n.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}}class Fs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return 0<this.nodeStack.length}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zs{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:zs.RED,this.left=null!=r?r:zs.EMPTY,this.right=null!=i?i:zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new zs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return zs.EMPTY;let e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return zs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e=(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e}moveRedLeft(){let e=this.colorFlip();return e=e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e}moveRedRight(){let e=this.colorFlip();return e=e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e}rotateLeft(){const e=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _();if(this.right.isRed())throw _();const e=this.left.check();if(e!==this.right.check())throw _();return e+(this.isRed()?0:1)}}zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new class{constructor(){this.size=0}get key(){throw _()}get value(){throw _()}get color(){throw _()}get left(){throw _()}get right(){throw _()}copy(e,t,n,r,i){return this}insert(e,t,n){return new zs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class d{constructor(e){this.comparator=e,this.data=new Vs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(n){this.data.inorderTraversal((e,t)=>(n(e),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Us(this.data.getIterator())}getIteratorFrom(e){return new Us(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof d))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(e){const t=new d(this.comparator);return t.data=e,t}}class Us{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bs(e){return e.hasNext()?e.getNext():void 0}const qs=new Vs(m.comparator),Hs=new Vs(m.comparator);function Ws(){return new Os(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ks=new Vs(m.comparator),Gs=new d(m.comparator);function y(...e){let t=Gs;for(const n of e)t=t.add(n);return t}const Ys=new d(k);class $s{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Xs.createSynthesizedTargetChangeForCurrentChange(e,t)),new $s(P.min(),n,Ys,qs,y())}}class Xs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Xs(Qi.EMPTY_BYTE_STRING,t,y(),y(),y())}}class Qs{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class Zs{constructor(e,t){this.targetId=e,this.$=t}}class Js{constructor(e,t,n=Qi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class eo{constructor(){this.B=0,this.L=ro(),this.U=Qi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){0<e.approximateByteSize()&&(this.G=!0,this.U=e)}H(){let n=y(),r=y(),i=y();return this.L.forEach((e,t)=>{switch(t){case 0:n=n.add(e);break;case 2:r=r.add(e);break;case 1:i=i.add(e);break;default:_()}}),new Xs(this.U,this.q,n,r,i)}J(){this.G=!1,this.L=ro()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){--this.B}et(){this.G=!0,this.q=!0}}class to{constructor(e){this.nt=e,this.st=new Map,this.it=qs,this.rt=no(),this.ot=new d(k)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(n){this.forEachTarget(n,e=>{const t=this.lt(e);switch(n.state){case 0:this.ft(e)&&t.W(n.resumeToken);break;case 1:t.tt(),t.K||t.J(),t.W(n.resumeToken);break;case 2:t.tt(),t.K||this.removeTarget(e);break;case 3:this.ft(e)&&(t.et(),t.W(n.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),t.W(n.resumeToken));break;default:_()}})}forEachTarget(e,n){0<e.targetIds.length?e.targetIds.forEach(n):this.st.forEach((e,t)=>{this.ft(t)&&n(t)})}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(Ra(e))if(0===n){const n=new m(e.path);this.ct(t,n,L.newNoDocument(n,P.min()))}else I(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(r){const i=new Map;this.st.forEach((e,t)=>{const n=this.wt(t);if(n){if(e.current&&Ra(n.target)){const i=new m(n.target.path);null!==this.it.get(i)||this.It(t,i)||this.ct(t,i,L.newNoDocument(i,r))}e.j&&(i.set(t,e.H()),e.J())}});let a=y();this.rt.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(n=!1)}),n&&(a=a.add(e))}),this.it.forEach((e,t)=>t.setReadTime(r));const e=new $s(r,i,this.ot,this.it,a);return this.it=qs,this.rt=no(),this.ot=new d(k),e}at(e,t){if(this.ft(e)){const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}ct(e,t,n){if(this.ft(e)){const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new eo,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new d(k),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(t){this.st.set(t,new eo),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function no(){return new Vs(m.comparator)}function ro(){return new Vs(m.comparator)}const io={asc:"ASCENDING",desc:"DESCENDING"},ao={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class so{constructor(e,t){this.databaseId=e,this.N=t}}function oo(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lo(e,t){return e.N?t.toBase64():t.toUint8Array()}function uo(t){return I(!!t),P.fromTimestamp(function(){const e=Ji(t);return new qi(e.seconds,e.nanos)}())}function co(e,t){return e=e,new u(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function ho(e){const t=u.fromString(e);return I(_o(t)),t}function fo(e,t){return co(e.databaseId,t.path)}function po(e,t){const n=ho(t);if(n.get(1)!==e.databaseId.projectId)throw new A(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new A(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new m(vo(n))}function mo(e,t){return co(e.databaseId,t)}function go(e){const t=ho(e);return 4===t.length?u.emptyPath():vo(t)}function yo(e){return new u(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vo(e){return I(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function bo(e,t,n){return{name:fo(e,t),fields:n.value.mapValue.fields}}function wo(e,t){let n;if(t instanceof Is)n={update:bo(e,t.key,t.value)};else if(t instanceof Ls)n={delete:fo(e,t.key)};else if(t instanceof Ns)n={update:bo(e,t.key,t.data),updateMask:function(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof Ds))return _();n={verify:fo(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map(e=>{{const t=e.transform;if(t instanceof ds)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof fs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof ms)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof ys)return{fieldPath:e.field.canonicalString(),increment:t.k};throw _()}})),t.precondition.isNone||(n.currentDocument=void 0!==(t=t.precondition).updateTime?{updateTime:oo(e,t.updateTime.toTimestamp())}:void 0!==t.exists?{exists:t.exists}:_()),n}function xo(i,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Cs.updateTime(uo(r.updateTime)):void 0!==r.exists?Cs.exists(r.exists):Cs.none():Cs.none(),n=t.updateTransforms?t.updateTransforms.map(t=>{{var n=i;let e=null;if("setToServerValue"in t)I("REQUEST_TIME"===t.setToServerValue),e=new ds;else if("appendMissingElements"in t){const n=t.appendMissingElements.values||[];e=new fs(n)}else if("removeAllFromArray"in t){const n=t.removeAllFromArray.values||[];e=new ms(n)}else"increment"in t?e=new ys(n,t.increment):_();const r=$i.fromServerFormat(t.fieldPath);return new ws(r,e)}}):[];var r;if(t.update){t.update.name;const a=po(i,t.update.name),s=new Ea({mapValue:{fields:t.update.fields}});if(t.updateMask){const i=function(){const e=t.updateMask.fieldPaths||[];return new Xi(e.map(e=>$i.fromServerFormat(e)))}();return new Ns(a,s,i,e,n)}return new Is(a,s,e,n)}if(t.delete){const n=po(i,t.delete);return new Ls(n,e)}if(t.verify){const n=po(i,t.verify);return new Ds(n,e)}return _()}function Co(e,t){return{documents:[mo(e,t.path)]}}function ko(e,t){const n={structuredQuery:{}},r=t.path,i=(null!==t.collectionGroup?(n.parent=mo(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mo(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),function(e){if(0!==e.length){const t=e.map(e=>{var t;if("=="===e.op){if(ba(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NAN"}};if(va(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ba(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NAN"}};if(va(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(e.field),op:(t=e.op,ao[t]),value:e.value}}});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters)),a=(i&&(n.structuredQuery.where=i),function(e){if(0!==e.length)return e.map(e=>{return{field:Eo(e.field),direction:(e=e.dir,io[e])}})}(t.orderBy)),s=(a&&(n.structuredQuery.orderBy=a),o=t.limit,e.N||aa(o)?o:{value:o});var o;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(e=t.startAt).inclusive,values:e.position}),t.endAt&&(n.structuredQuery.endAt={before:!(o=t.endAt).inclusive,values:o.position}),n}function So(e){let t=go(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(0<r){I(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[],s=(n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=To(e.unaryFilter.field);return Va.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=To(e.unaryFilter.field);return Va.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=To(e.unaryFilter.field);return Va.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=To(e.unaryFilter.field);return Va.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _()}}(e)]:void 0!==e.fieldFilter?[(n=e,Va.create(To(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>t(e)).reduce((e,t)=>e.concat(t)):_():[];var n}(n.where)),[]),o=(n.orderBy&&(s=n.orderBy.map(e=>{var t=e;return new Ya(To(t.field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}())})),null),l=(n.limit&&(o=function(e){let t;return aa(t="object"==typeof e?e.value:e)?null:t}(n.limit)),null),u=(n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ga(n,t)}(n.startAt)),null);return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Ga(n,t)}(n.endAt)),e=t,c=i,h=s,d=a,f=o,p=l,m=u,new Qa(e,c,h,d,f,"F",p,m);var c,h,d,f,p,m}function Eo(e){return{fieldPath:e.canonicalString()}}function To(e){return $i.fromServerFormat(e.fieldPath)}function _o(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function Io(t){let i="";for(let e=0;e<t.length;e++)0<i.length&&(i=No(i)),i=function(t){let n=i;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}(t.get(e));return No(i)}function No(e){return e+""}function jo(n){const r=n.length;if(I(2<=r),2===r)return I(""===n.charAt(0)&&""===n.charAt(1)),u.emptyPath();r;const i=[];let a="";for(let t=0;t<r;){const r=n.indexOf("",t);switch((r<0||r>s)&&_(),n.charAt(r+1)){case"":const s=n.substring(t,r);let e;0===a.length?e=s:(a+=s,e=a,a=""),i.push(e);break;case"":a=a+n.substring(t,r)+"\0";break;case"":a+=n.substring(t,r+1);break;default:_()}t=r+2}return new u(i)}const Ao=["userId","batchId"];function Po(e,t){return[e,Io(t)]}function Lo(e,t,n){return[e,Io(t),n]}const Do={},Mo=["prefixPath","collectionGroup","readTime","documentId"],Ro=["prefixPath","collectionGroup","documentId"],Oo=["collectionGroup","readTime","prefixPath","documentId"],Vo=["canonicalId","targetId"],Fo=["targetId","path"],zo=["path","targetId"],Uo=["collectionId","parent"],Bo=["indexId","uid"],qo=["uid","sequenceNumber"],Ho=["indexId","uid","arrayValue","directionalValue","documentKey"],Wo=["indexId","uid","documentKey"],Ko=["userId","collectionPath","documentId"],Go=["userId","collectionPath","largestBatchId"],Yo=["userId","collectionGroup","largestBatchId"],$o=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xo=[...$o,"documentOverlays"],Qo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zo=[...Qo,"indexConfiguration","indexState","indexEntries"],Jo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class el{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(r,i){return this.callbackAttached&&_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new b((t,n)=>{this.nextCallback=e=>{this.wrapSuccess(r,e).next(t,n)},this.catchCallback=e=>{this.wrapFailure(i,e).next(t,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(e){return b.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(n){return new b((e,t)=>{e(n)})}static reject(n){return new b((e,t)=>{t(n)})}static waitFor(e){return new b((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=b.resolve(!1);for(const n of e)t=t.next(e=>e?b.resolve(e):n());return t}static forEach(e,n){const r=[];return e.forEach((e,t)=>{r.push(n.call(this,e,t))}),this.waitFor(r)}}class tl{constructor(n,e){this.action=n,this.transaction=e,this.aborted=!1,this.At=new Ai,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new il(n,e.error)):this.At.resolve()},this.transaction.onerror=e=>{const t=ul(e.target.error);this.At.reject(new il(n,t))}}static open(e,t,n,r){try{return new tl(t,e.transaction(r,n))}catch(e){throw new il(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sl(t)}}class nl{constructor(e,t,n){this.name=e,this.version=t,this.Pt=n,12.2===nl.Vt(B())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),ol(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!q())return!1;if(nl.St())return!0;const e=B(),t=nl.Vt(e),n=0<t&&t<10,r=nl.Dt(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null==(e=process.env)?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Nt(a){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const t=e.target.result;n(t)},i.onblocked=()=>{r(new il(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const t=e.target.error;"VersionError"===t.name?r(new A(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===t.name?r(new A(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+t)):r(new il(a,t))},i.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Pt.kt(t,i.transaction,e.oldVersion,this.version).next(()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Mt&&(this.db.onversionchange=e=>this.Mt(e)),this.db}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.Nt(e);const t=tl.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next(e=>(t.bt(),e)).catch(e=>(t.abort(e),b.reject(e))).toPromise();return a.catch(()=>{}),await t.Rt,a}catch(e){const t="FirebaseError"!==e.name&&a<3;if(p("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class rl{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ol(this.Ft.delete())}}class il extends A{constructor(e,t){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: `+t),this.name="IndexedDbTransactionError"}}function al(e){return"IndexedDbTransactionError"===e.name}class sl{constructor(e){this.store=e}put(e,t){return ol(void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))}add(e){return p("SimpleDb","ADD",this.store.name,e,e),ol(this.store.add(e))}get(t){return ol(this.store.get(t)).next(e=>(p("SimpleDb","GET",this.store.name,t,e=void 0===e?null:e),e))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),ol(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),ol(this.store.count())}qt(e,n){const t=this.options(e,n);if(t.index||"function"!=typeof this.store.getAll){const e=this.cursor(t),n=[];return this.Gt(e,(e,t)=>{n.push(t)}).next(()=>n)}{const e=this.store.getAll(t.range);return new b((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new b((t,n)=>{r.onerror=e=>{n(e.target.error)},r.onsuccess=e=>{t(e.target.result)}})}Qt(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t),r=(n.jt=!1,this.cursor(n));return this.Gt(r,(e,t,n)=>n.delete())}Wt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Gt(r,t)}zt(i){const e=this.cursor({});return new b((n,r)=>{e.onerror=e=>{const t=ul(e.target.error);r(t)},e.onsuccess=e=>{const t=e.target.result;t?i(t.primaryKey,t.value).next(e=>{e?t.continue():n()}):n()}})}Gt(e,a){const s=[];return new b((i,t)=>{e.onerror=e=>{t(e.target.error)},e.onsuccess=e=>{const t=e.target.result;if(t){const n=new rl(t),r=a(t.primaryKey,t.value,n);if(r instanceof b){const e=r.catch(e=>(n.done(),b.reject(e)));s.push(e)}n.isDone?i():null===n.Lt?t.continue():t.continue(n.Lt)}else i()}}).next(()=>b.waitFor(s))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ol(e){return new b((n,r)=>{e.onsuccess=e=>{const t=e.target.result;n(t)},e.onerror=e=>{const t=ul(e.target.error);r(t)}})}let ll=!1;function ul(e){const t=nl.Vt(B());if(12.2<=t&&t<13){const t="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(t)){const e=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ll||(ll=!0,setTimeout(()=>{throw e},0)),e}}return e}class cl extends el{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function hl(e,t){const n=e;return nl.xt(n.Ht,t)}class dl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const c=this.mutations[e];if(c.key.isEqual(t.key)){var r=l=o=a=void 0,i=c,a=t,s=n[e];if(i instanceof Is){var o=i,l=a,u=s;const h=o.value.clone(),d=As(o.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}else if(i instanceof Ns){var o=i,r=a,l=s;if(ks(o.precondition,r)){const f=As(o.fieldTransforms,r,l.transformResults),p=r.data;p.setAll(js(o)),p.setAll(f),r.convertToFoundDocument(l.version,p).setHasCommittedMutations()}else r.convertToUnknownDocument(l.version)}else a.convertToNoDocument(s.version).setHasCommittedMutations()}}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Es(t,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Es(n,e,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(e=>{const t=r.get(e.key),n=t;this.applyToLocalView(n),t.isValidDocument()||n.convertToNoDocument(P.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),y())}isEqual(e){return this.batchId===e.batchId&&Ui(this.mutations,e.mutations,(e,t)=>Ts(e,t))&&Ui(this.baseMutations,e.baseMutations,(e,t)=>Ts(e,t))}}class fl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){I(e.mutations.length===n.length);let r=Ks;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new fl(e,t,n,r)}}class pl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ml{constructor(e,t,n,r,i=P.min(),a=P.min(),s=Qi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gl{constructor(e){this.Jt=e}}function yl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:fo(e=e.Jt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:oo(e,i.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bl(t.version)};else{if(!t.isUnknownDocument())return _();r.unknownDocument={path:n.path.toArray(),version:bl(t.version)}}var i;return r}function vl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wl(e){const t=new qi(e.seconds,e.nanoseconds);return P.fromTimestamp(t)}function xl(t,n){const r=(n.baseMutations||[]).map(e=>xo(t.Jt,e));for(let e=0;e<n.mutations.length-1;++e){const r=n.mutations[e];if(e+1<n.mutations.length&&void 0!==n.mutations[e+1].transform){const i=n.mutations[e+1];r.updateTransforms=i.transform.fieldTransforms,n.mutations.splice(e+1,1),++e}}const i=n.mutations.map(e=>xo(t.Jt,e)),e=qi.fromMillis(n.localWriteTimeMs);return new dl(n.batchId,e,r,i)}function Cl(e){const t=wl(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?wl(e.lastLimboFreeSnapshotVersion):P.min();let r;var i;return r=void 0!==e.query.documents?(I(1===(i=e.query).documents.length),ns(Za(go(i.documents[0])))):ns(So(e.query)),new ml(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Qi.fromBase64String(e.resumeToken))}function kl(e,t){const n=bl(t.snapshotVersion),r=bl(t.lastLimboFreeSnapshotVersion);let i;i=(Ra(t.target)?Co:ko)(e.Jt,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Da(t.target),readTime:n,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Sl(e){const t=So({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?(n=(e=t).limit,new Qa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),n,"L",e.startAt,e.endAt)):t;var n}function El(e,t){return new pl(t.largestBatchId,xo(e.Jt,t.overlayMutation))}function Tl(e,t){const n=t.path.lastSegment();return[e,Io(t.path.popLast()),n]}class _l{getBundleMetadata(e,t){return Il(e).get(t).next(e=>{if(e)return{id:(e=e).bundleId,createTime:wl(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return Il(e).put({bundleId:(e=t).id,createTime:bl(uo(e.createTime)),version:e.version})}getNamedQuery(e,t){return Nl(e).get(t).next(e=>{if(e)return{name:(e=e).name,query:Sl(e.bundledQuery),readTime:wl(e.readTime)}})}saveNamedQuery(e,t){return Nl(e).put({name:(e=t).name,readTime:bl(uo(e.readTime)),bundledQuery:e.bundledQuery})}}function Il(e){return hl(e,"bundles")}function Nl(e){return hl(e,"namedQueries")}class jl{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){const n=t.uid||"";return new jl(e,n)}getOverlay(e,t){return Al(e).get(Tl(this.userId,t)).next(e=>e?El(this.M,e):null)}saveOverlays(r,i,e){const a=[];return e.forEach((e,t)=>{const n=new pl(i,t);a.push(this.Xt(r,n))}),b.waitFor(a)}removeOverlaysForBatchId(n,e,r){const t=new Set,i=(e.forEach(e=>t.add(Io(e.getCollectionPath()))),[]);return t.forEach(e=>{const t=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,r+1],!1,!0);i.push(Al(n).Qt("collectionPathOverlayIndex",t))}),b.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ws(),i=Io(t),a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Al(e).qt("collectionPathOverlayIndex",a).next(e=>{for(const t of e){const e=El(this.M,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,i){const a=Ws();let s;const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Al(e).Wt({index:"collectionGroupOverlayIndex",range:r},(e,t,n)=>{const r=El(this.M,t);a.size()<i||r.largestBatchId===s?(a.set(r.getKey(),r),s=r.largestBatchId):n.done()}).next(()=>a)}Xt(e,t){return Al(e).put(function(e,t,n){const[,r,i]=Tl(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:i,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wo(e.Jt,n.mutation)}}(this.M,this.userId,t))}}function Al(e){return hl(e,"documentOverlays")}class Pl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(S(e.integerValue));else if("doubleValue"in e){const n=S(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),sa(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(""+(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ea(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Ca(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const e of Object.keys(n))this.re(e,t),this.te(n[e],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const e of n)this.te(e,t)}ae(e,t){this.ne(t,37),m.fromName(e).path.forEach(e=>{this.ne(t,60),this.le(e,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Ll(e){const t=64-function(t){let n=0;for(let e=0;e<8;++e){const r=function(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}(255&t[e]);if(n+=r,8!==r)break}return n}(e);return Math.ceil(t/8)}Pl.fe=new Pl;class Dl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this._e(n.value),n=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.ge(n.value),n=t.next();this.ye()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this._e(e);else if(e<2048)this._e(960|e>>>6),this._e(128|63&e);else if(t<"\ud800"||"\udbff"<t)this._e(480|e>>>12),this._e(128|63&e>>>6),this._e(128|63&e);else{const e=t.codePointAt(0);this._e(240|e>>>18),this._e(128|63&e>>>12),this._e(128|63&e>>>6),this._e(128|63&e)}}this.we()}Ie(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.ge(e);else if(e<2048)this.ge(960|e>>>6),this.ge(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.ge(480|e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e);else{const e=t.codePointAt(0);this.ge(240|e>>>18),this.ge(128|63&e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e)}}this.ye()}Te(e){const t=this.Ee(e),n=Ll(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Re(e){const t=this.Ee(e),n=Ll(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}_e(e){const t=255&e;0==t?(this.Pe(0),this.Pe(255)):255==t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0==t?(this.ve(0),this.ve(255)):255==t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(!(t<=this.buffer.length)){let e=2*this.buffer.length;e<t&&(e=t);const n=new Uint8Array(e);n.set(this.buffer),this.buffer=n}}}class Ml{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Rl{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ol{constructor(){this.De=new Dl,this.Ce=new Ml(this.De),this.xe=new Rl(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Vl{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,n)}}function Fl(e,t){let n=e.indexId-t.indexId;return 0!==n||0!==(n=zl(e.arrayValue,t.arrayValue))||0!==(n=zl(e.directionalValue,t.directionalValue))?n:m.comparator(e.documentKey,t.documentKey)}function zl(t,n){for(let e=0;e<t.length&&e<n.length;++e){const r=t[e]-n[e];if(0!=r)return r}return t.length-n.length}class Ul{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const e=t;e.S()?this.Fe=e:this.Oe.push(e)}}$e(e){const t=_a(e);if(void 0!==t&&!this.Be(t))return!1;const n=Ia(e);let r=0,i=0;for(;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){const e=n[r];if(!this.Le(this.Fe,e)||!this.Ue(this.Me[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],e))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind==n}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Bl{constructor(){this.qe=new ql}addToCollectionParentIndex(e,t){return this.qe.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getFieldIndex(e,t){return b.resolve(null)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}updateCollectionGroup(e,t,n){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class ql{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new d(u.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new d(u.comparator)).toArray()}}const Hl=new Uint8Array(0);class Wl{constructor(e){this.user=e,this.Ge=new ql,this.Ke=new Os(e=>Da(e),(e,t)=>Ma(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(this.Ge.has(t))return b.resolve();{const n=t.lastSegment(),r=t.popLast(),i=(e.addOnCommittedListener(()=>{this.Ge.add(t)}),{collectionId:n,parent:Io(r)});return Kl(e).put(i)}}getCollectionParents(e,n){const r=[],t=IDBKeyRange.bound([n,""],[Bi(n),""],!1,!0);return Kl(e).qt(t).next(e=>{for(const t of e){if(t.collectionId!==n)break;r.push(jo(t.parent))}return r})}addFieldIndex(e,t){const n=Yl(e),r={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=Yl(e),r=$l(e),i=Gl(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,d){const f=Gl(e);let n=!0;const r=new Map;return b.forEach(this.Qe(d),t=>this.getFieldIndex(e,t).next(e=>{n=n&&!!e,r.set(t,e)})).next(()=>{if(n){let h=y();return b.forEach(r,(e,t)=>{var n;p("IndexedDbIndexManager",`Using index ${n=e,`id=${n.indexId}|cg=${n.collectionGroup}|f=`+n.fields.map(e=>e.fieldPath+":"+e.kind).join(",")} to execute `+Da(d));const r=function(e,t){const n=_a(t);if(void 0===n)return null;for(const t of Oa(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(t,e),i=function(e,t){const n=new Map;for(const r of Ia(t))for(const t of Oa(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(t,e),a=function(t){const i=[];let a=!0;for(const o of Ia(e)){let n,r=!0;for(const i of Oa(t,o.fieldPath)){let e,t=!0;switch(i.op){case"<":case"<=":e="nullValue"in(s=i.value)?la:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ma(ia.empty(),m.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:_();break;case"==":case"in":case">=":e=i.value;break;case">":e=i.value,t=!1;break;case"!=":case"not-in":e=la}ka(n,e)===e&&(n=e,r=t)}if(null!==t.startAt)for(let e=0;e<t.orderBy.length;++e)if(t.orderBy[e].field.isEqual(o.fieldPath)){const a=t.startAt.position[e];ka(n,a)===a&&(n=a,r=t.startAt.inclusive);break}if(void 0===n)return null;i.push(n),a=a&&r}var s;return new Ga(i,a)}(t),s=function(t){const i=[];let a=!0;for(const o of Ia(e)){let n,r=!0;for(const i of Oa(t,o.fieldPath)){let e,t=!0;switch(i.op){case">=":case">":e="nullValue"in(s=i.value)?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ma(ia.empty(),m.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?oa:_(),t=!1;break;case"==":case"in":case"<=":e=i.value;break;case"<":e=i.value,t=!1;break;case"!=":case"not-in":e=oa}Sa(n,e)===e&&(n=e,r=t)}if(null!==t.endAt)for(let e=0;e<t.orderBy.length;++e)if(t.orderBy[e].field.isEqual(o.fieldPath)){const a=t.endAt.position[e];Sa(n,a)===a&&(n=a,r=t.endAt.inclusive);break}if(void 0===n)return null;i.push(n),a=a&&r}var s;return new Ga(i,a)}(t),o=this.je(e,t,a),l=this.je(e,t,s),u=this.We(e,t,i),c=this.ze(e.indexId,r,o,!!a&&a.inclusive,l,!!s&&s.inclusive,u);return b.forEach(c,e=>f.Kt(e,d.limit).next(e=>{e.forEach(e=>{h=h.add(new m(jo(e.documentKey)))})}))}).next(()=>h)}return b.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(this.Ke.set(e,t=[e]),t)}ze(t,n,r,i,a,s,o){const l=(null!=n?n.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),u=l/(null!=n?n.length:1),c=[];for(let e=0;e<l;++e){const l=n?this.He(n[e/u]):Hl,h=r?this.Je(t,l,r[e%u],i):this.Ye(t),d=a?this.Xe(t,l,a[e%u],s):this.Ye(t+1);c.push(...this.createRange(h,d,o.map(e=>this.Je(t,l,e,!0))))}return c}Je(e,t,n,r){const i=new Vl(e,m.empty(),t,n);return r?i:i.ke()}Xe(e,t,n,r){const i=new Vl(e,m.empty(),t,n);return r?i.ke():i}Ye(e){return new Vl(e,m.empty(),Hl,Hl)}getFieldIndex(e,t){const n=new Ul(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{const t=e.filter(e=>n.$e(e));return t.sort((e,t)=>t.fields.length-e.fields.length),0<t.length?t[0]:null})}Ze(e,t){const n=new Ol;for(const r of Ia(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ne(r.kind);Pl.fe.Zt(e,i)}return n.Se()}He(e){const t=new Ol;return Pl.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,n){if(null===n)return[];let r=[],i=(r.push(new Ol),0);for(const a of Ia(e)){const e=n[i++];for(const n of r)if(this.tn(t,a.fieldPath)&&ya(e))r=this.en(r,a,e);else{const t=n.Ne(a.kind);Pl.fe.Zt(e,t)}}return this.nn(r)}je(e,t,n){return null==n?null:this.We(e,t,n.position)}nn(t){const n=[];for(let e=0;e<t.length;++e)n[e]=t[e].Se();return n}en(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new Ol;r.seed(n.Se()),Pl.fe.Zt(e,r.Ne(t.kind)),i.push(r)}return i}tn(e,t){return!!e.filters.find(e=>e instanceof Va&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Yl(e),r=$l(e);return(t?n.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.qt()).next(e=>{const n=[];return b.forEach(e,t=>r.get([t.indexId,this.uid]).next(e=>{n.push(function(e,t){const n=t?new ja(t.sequenceNumber,new Aa(wl(t.readTime),new m(jo(t.documentKey)),t.largestBatchId)):ja.empty(),r=e.fields.map(([e,t])=>new Na($i.fromServerFormat(e),t));return new Ta(e.indexId,e.collectionGroup,r,n)}(t,e))})).next(()=>n)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!=n?n:k(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=Yl(e),a=$l(e);return this.sn(e).next(r=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(e=>b.forEach(e,e=>a.put(function(e,t,n){return{indexId:e,uid:t.uid||"",sequenceNumber:r,readTime:bl(n.readTime),documentKey:Io(n.documentKey.path),largestBatchId:n.largestBatchId}}(e.indexId,this.user,n)))))}updateIndexEntries(i,e){const n=new Map;return b.forEach(e,(t,r)=>{const e=n.get(t.collectionGroup);return(e?b.resolve(e):this.getFieldIndexes(i,t.collectionGroup)).next(e=>(n.set(t.collectionGroup,e),b.forEach(e,n=>this.rn(i,t,n).next(e=>{const t=this.on(r,n);return e.isEqual(t)?b.resolve():this.un(i,r,e,t)}))))})}an(e,t,n){return Gl(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Io(t.key.path)})}cn(e,t,n){return Gl(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Io(t.key.path)])}rn(e,n,r){const t=Gl(e);let i=new d(Fl);return t.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Io(n.path)])},(e,t)=>{i=i.add(new Vl(r.indexId,n,t.arrayValue,t.directionalValue))}).next(()=>i)}on(e,t){let n=new d(Fl);const r=this.Ze(t,e);if(null==r)return n;const i=_a(t);if(null!=i){const a=e.data.field(i.fieldPath);if(ya(a))for(const i of a.arrayValue.values||[])n=n.add(new Vl(t.indexId,e.key,this.He(i),r))}else n=n.add(new Vl(t.indexId,e.key,Hl,r));return n}un(t,i,e,a){p("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const s=[];{var o=Fl,l=e=>{s.push(this.an(t,i,e))},u=e=>{s.push(this.cn(t,i,e))};const c=e.getIterator(),h=a.getIterator();let n=Bs(c),r=Bs(h);for(;n||r;){let e=!1,t=!1;if(n&&r){const l=o(n,r);l<0?t=!0:0<l&&(e=!0)}else null!=n?t=!0:e=!0;e?(l(r),r=Bs(h)):t?(u(n),n=Bs(c)):(n=Bs(c),r=Bs(h))}}return b.waitFor(s)}sn(e){let r=1;return $l(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,t,n)=>{n.done(),r=t.sequenceNumber+1}).next(()=>r)}createRange(e,t,n){n=n.sort((e,t)=>Fl(e,t)).filter((e,t,n)=>!t||0!==Fl(e,n[t-1]));const r=[];r.push(e);for(const i of n){const n=Fl(i,e),a=Fl(i,t);if(0===n)r[0]=e.ke();else if(0<n&&a<0)r.push(i),r.push(i.ke());else if(0<a)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2)i.push(IDBKeyRange.bound([r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,""],[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,""]));return i}}function Kl(e){return hl(e,"collectionParents")}function Gl(e){return hl(e,"indexEntries")}function Yl(e){return hl(e,"indexConfiguration")}function $l(e){return hl(e,"indexState")}const Xl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ql{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ql(e,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zl(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.Wt({range:s},(e,t,n)=>(o++,n.delete())),u=(a.push(l.next(()=>{I(1===o)})),[]);for(const e of n.mutations){const r=Lo(t,e.key.path,n.batchId);a.push(i.delete(r)),u.push(e.key)}return b.waitFor(a).next(()=>u)}function Jl(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _();t=e.noDocument}return JSON.stringify(t).length}Ql.DEFAULT_COLLECTION_PERCENTILE=10,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ql.DEFAULT=new Ql(41943040,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ql.DISABLED=new Ql(-1,0,0);class eu{constructor(e,t,n,r){this.userId=e,this.M=t,this.indexManager=n,this.referenceDelegate=r,this.hn={}}static Yt(e,t,n,r){I(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new eu(i,t,n,r)}checkEmpty(e){let r=!0;const t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).Wt({index:"userMutationsIndex",range:t},(e,t,n)=>{r=!1,n.done()}).next(()=>r)}addMutationBatch(a,s,o,l){const u=ru(a),c=nu(a);return c.add({}).next(e=>{I("number"==typeof e);const t=new dl(e,s,o,l),n=function(t,e,n){const r=n.baseMutations.map(e=>wo(t.Jt,e)),i=n.mutations.map(e=>wo(t.Jt,e));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.M,this.userId,t),r=[];let i=new d((e,t)=>k(e.canonicalString(),t.canonicalString()));for(const a of l){const s=Lo(this.userId,a.key.path,e);i=i.add(a.key.path.popLast()),r.push(c.put(n)),r.push(u.put(s,Do))}return i.forEach(e=>{r.push(this.indexManager.addToCollectionParentIndex(a,e))}),a.addOnCommittedListener(()=>{this.hn[e]=t.keys()}),b.waitFor(r).next(()=>t)})}lookupMutationBatch(e,t){return nu(e).get(t).next(e=>e?(I(e.userId===this.userId),xl(this.M,e)):null)}ln(e,n){return this.hn[n]?b.resolve(this.hn[n]):this.lookupMutationBatch(e,n).next(e=>{if(e){const t=e.keys();return this.hn[n]=t}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return nu(e).Wt({index:"userMutationsIndex",range:n},(e,t,n)=>{t.userId===this.userId&&(I(t.batchId>=r),i=xl(this.M,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return nu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).qt("userMutationsIndex",t).next(e=>e.map(e=>xl(this.M,e)))}getAllMutationBatchesAffectingDocumentKey(o,l){const e=Po(this.userId,l.path),t=IDBKeyRange.lowerBound(e),u=[];return ru(o).Wt({range:t},(e,t,n)=>{const[r,i,a]=e,s=jo(i);if(r===this.userId&&l.path.isEqual(s))return nu(o).get(a).next(e=>{if(!e)throw _();I(e.userId===this.userId),u.push(xl(this.M,e))});n.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(r,e){let l=new d(k);const i=[];return e.forEach(o=>{const e=Po(this.userId,o.path),t=IDBKeyRange.lowerBound(e),n=ru(r).Wt({range:t},(e,t,n)=>{const[r,i,a]=e,s=jo(i);r===this.userId&&o.path.isEqual(s)?l=l.add(a):n.done()});i.push(n)}),b.waitFor(i).next(()=>this.fn(r,l))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,n=Po(this.userId,o),r=IDBKeyRange.lowerBound(n);let u=new d(k);return ru(e).Wt({range:r},(e,t,n)=>{const[r,i,a]=e,s=jo(i);r===this.userId&&o.isPrefixOf(s)?s.length===l&&(u=u.add(a)):n.done()}).next(()=>this.fn(e,u))}fn(t,e){const n=[],r=[];return e.forEach(e=>{r.push(nu(t).get(e).next(e=>{if(null===e)throw _();I(e.userId===this.userId),n.push(xl(this.M,e))}))}),b.waitFor(r).next(()=>n)}removeMutationBatch(t,n){return Zl(t.Ht,this.userId,n).next(e=>(t.addOnCommittedListener(()=>{this.dn(n.batchId)}),b.forEach(e,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}dn(e){delete this.hn[e]}performConsistencyCheck(n){return this.checkEmpty(n).next(e=>{if(!e)return b.resolve();const t=IDBKeyRange.lowerBound([this.userId]),r=[];return ru(n).Wt({range:t},(e,t,n)=>{if(e[0]===this.userId){const t=jo(e[1]);r.push(t)}else n.done()}).next(()=>{I(0===r.length)})})}containsKey(e,t){return tu(e,this.userId,t)}_n(e){return iu(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tu(e,a,t){const n=Po(a,t.path),s=n[1],r=IDBKeyRange.lowerBound(n);let o=!1;return ru(e).Wt({range:r,jt:!0},(e,t,n)=>{const[r,i]=e;r===a&&i===s&&(o=!0),n.done()}).next(()=>o)}function nu(e){return hl(e,"mutations")}function ru(e){return hl(e,"documentMutations")}function iu(e){return hl(e,"mutationQueues")}class au{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new au(0)}static gn(){return new au(-1)}}class su{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(n){return this.yn(n).next(e=>{const t=new au(e.highestTargetId);return e.highestTargetId=t.next(),this.pn(n,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(e=>P.fromTimestamp(new qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.yn(t).next(e=>(e.highestListenSequenceNumber=n,r&&(e.lastRemoteSnapshotVersion=r.toTimestamp()),n>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n),this.pn(t,e)))}addTargetData(t,n){return this.In(t,n).next(()=>this.yn(t).next(e=>(e.targetCount+=1,this.Tn(n,e),this.pn(t,e))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ou(t).delete(e.targetId)).next(()=>this.yn(t)).next(e=>(I(0<e.targetCount),--e.targetCount,this.pn(t,e)))}removeTargets(r,i,a){let s=0;const o=[];return ou(r).Wt((e,t)=>{const n=Cl(t);n.sequenceNumber<=i&&null===a.get(n.targetId)&&(s++,o.push(this.removeTargetData(r,n)))}).next(()=>b.waitFor(o)).next(()=>s)}forEachTarget(e,r){return ou(e).Wt((e,t)=>{const n=Cl(t);r(n)})}yn(e){return lu(e).get("targetGlobalKey").next(e=>(I(null!==e),e))}pn(e,t){return lu(e).put("targetGlobalKey",t)}In(e,t){return ou(e).put(kl(this.M,t))}Tn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.yn(e).next(e=>e.targetCount)}getTargetData(e,i){const t=Da(i),n=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]);let a=null;return ou(e).Wt({range:n,index:"queryTargetsIndex"},(e,t,n)=>{const r=Cl(t);Ma(i,r.target)&&(a=r,n.done())}).next(()=>a)}addMatchingKeys(n,e,r){const i=[],a=uu(n);return e.forEach(e=>{const t=Io(e.path);i.push(a.put({targetId:r,path:t})),i.push(this.referenceDelegate.addReference(n,r,e))}),b.waitFor(i)}removeMatchingKeys(n,e,r){const i=uu(n);return b.forEach(e,e=>{const t=Io(e.path);return b.waitFor([i.delete([r,t]),this.referenceDelegate.removeReference(n,r,e)])})}removeMatchingKeysForTargetId(e,t){const n=uu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=uu(e);let a=y();return r.Wt({range:n,jt:!0},(e,t,n)=>{const r=jo(e[1]),i=new m(r);a=a.add(i)}).next(()=>a)}containsKey(e,t){const n=Io(t.path),r=IDBKeyRange.bound([n],[Bi(n)],!1,!0);let i=0;return uu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([e],t,n)=>{0!==e&&(i++,n.done())}).next(()=>0<i)}Et(e,t){return ou(e).get(t).next(e=>e?Cl(e):null)}}function ou(e){return hl(e,"targets")}function lu(e){return hl(e,"targetGlobal")}function uu(e){return hl(e,"targetDocuments")}async function cu(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==Jo)throw e;p("LocalStore","Unexpectedly lost primary lease")}function hu([e,t],[n,r]){const i=k(e,n);return 0===i?k(t,r):i}class du{constructor(e){this.En=e,this.buffer=new d(hu),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();hu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fu{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){const t=this.Pn?3e5:6e4;p("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vn=null,this.Pn=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){al(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await cu(e)}await this.vn(e)})}}class pu{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return b.resolve(Fi.A);const n=new du(t);return this.Sn.forEachTarget(e,e=>n.bn(e.sequenceNumber)).next(()=>this.Sn.Cn(e,e=>n.bn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Sn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(t,n){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(Xl)):this.getCacheSize(t).next(e=>e<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${e} is lower than threshold `+this.params.cacheSizeCollectionThreshold),Xl):this.xn(t,n))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(t,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(i=e>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from `+e),this.params.maximumSequenceNumbersToCollect):e,s=Date.now(),this.nthSequenceNumber(t,i))).next(e=>(r=e,o=Date.now(),this.removeTargets(t,r,n))).next(e=>(a=e,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(e=>(u=Date.now(),_i()<=h.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+"ms\n"+`	Removed ${a} targets in `+(l-o)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:e})))}}class mu{constructor(e,t){this.db=e,this.garbageCollector=(e=t,new pu(this,e))}Dn(e){const n=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(t=>n.next(e=>t+e))}Nn(e){let t=0;return this.Cn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,n){return this.kn(e,(e,t)=>n(t))}addReference(e,t,n){return gu(e,n)}removeReference(e,t,n){return gu(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gu(e,t)}Mn(e,n){{var r=e,i=n;let t=!1;return iu(r).zt(e=>tu(r,e,i).next(e=>(e&&(t=!0),b.resolve(!e)))).next(()=>t)}}removeOrphanedDocuments(n,r){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let s=0;return this.kn(n,(t,e)=>{if(e<=r){const r=this.Mn(n,t).next(e=>{if(!e)return s++,i.getEntry(n,t).next(()=>(i.removeEntry(t,P.min()),uu(n).delete([0,Io(t.path)])))});a.push(r)}}).next(()=>b.waitFor(a)).next(()=>i.apply(n)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gu(e,t)}kn(e,r){const t=uu(e);let i,a=Fi.A;return t.Wt({index:"documentTargetsIndex"},([e],{path:t,sequenceNumber:n})=>{0===e?(a!==Fi.A&&r(new m(jo(i)),a),a=n,i=t):a=Fi.A}).next(()=>{a!==Fi.A&&r(new m(jo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gu(e,t){return uu(e).put((e=e.currentSequenceNumber,{targetId:0,path:Io(t.path),sequenceNumber:e}))}class yu{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,L.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?b.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vu{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return xu(e).put(n)}removeEntry(e,n,t){return xu(e).delete(function(e){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],vl(e),t[t.length-1]]}(t))}updateMetadata(t,n){return this.getMetadata(t).next(e=>(e.byteSize+=n,this.On(t,e)))}getEntry(e,n){let r=L.newInvalidDocument(n);return xu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(n))},(e,t)=>{r=this.Fn(n,t)}).next(()=>r)}$n(e,n){let r={size:0,document:L.newInvalidDocument(n)};return xu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(n))},(e,t)=>{r={document:this.Fn(n,t),size:Jl(t)}}).next(()=>r)}getEntries(e,t){let r=qs;return this.Bn(e,t,(e,t)=>{const n=this.Fn(e,t);r=r.insert(e,n)}).next(()=>r)}Ln(e,t){let r=qs,i=new Vs(m.comparator);return this.Bn(e,t,(e,t)=>{const n=this.Fn(e,t);r=r.insert(e,n),i=i.insert(e,Jl(t))}).next(()=>({documents:r,Un:i}))}Bn(e,t,i){if(t.isEmpty())return b.resolve();let n=new d(Su);t.forEach(e=>n=n.add(e));const r=IDBKeyRange.bound(Cu(n.first()),Cu(n.last())),a=n.getIterator();let s=a.getNext();return xu(e).Wt({index:"documentKeyIndex",range:r},(e,t,n)=>{const r=m.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Su(s,r)<0;)i(s,null),s=a.getNext();s&&s.isEqual(r)&&(i(s,t),s=a.hasNext()?a.getNext():null),s?n.Ut(Cu(s)):n.done()}).next(()=>{for(;s;)i(s,null),s=a.hasNext()?a.getNext():null})}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),vl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(e).qt(IDBKeyRange.bound(r,i,!0)).next(e=>{let t=qs;for(const n of e){const e=this.Fn(m.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,i){let a=qs;const r=ku(t,n),s=ku(t,Aa.max());return xu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(r,s,!0)},(e,t,n)=>{const r=this.Fn(m.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(r.key,r)).size===i&&n.done()}).next(()=>a)}newChangeBuffer(e){return new bu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return wu(e).get("remoteDocumentGlobalKey").next(e=>(I(!!e),e))}On(e,t){return wu(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=function(e,t,n){const r=po(e,t.name),i=uo(t.updateTime),a=new Ea({mapValue:{fields:t.fields}}),s=L.newFoundDocument(r,i,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=m.fromSegments(t.noDocument.path),r=wl(t.noDocument.readTime);n=L.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _();{const e=m.fromSegments(t.unknownDocument.path),i=wl(t.unknownDocument.version);n=L.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new qi(e[0],e[1]);return P.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!e.isNoDocument()||!e.version.isEqual(P.min()))return e}return L.newInvalidDocument(e)}}class bu extends yu{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Os(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(a){const s=[];let o=0,l=new d((e,t)=>k(e.canonicalString(),t.canonicalString()));return this.changes.forEach((e,t)=>{const n=this.Gn.get(e);if(s.push(this.qn.removeEntry(a,e,n.readTime)),t.isValidDocument()){const r=yl(this.qn.M,t),i=(l=l.add(e.path.popLast()),Jl(r));o+=i-n.size,s.push(this.qn.addEntry(a,e,r))}else if(o-=n.size,this.trackRemovals){const o=yl(this.qn.M,t.convertToNoDocument(P.min()));s.push(this.qn.addEntry(a,e,o))}}),l.forEach(e=>{s.push(this.qn.indexManager.addToCollectionParentIndex(a,e))}),s.push(this.qn.updateMetadata(a,o)),b.waitFor(s)}getFromCache(e,t){return this.qn.$n(e,t).next(e=>(this.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:n,Un:e})=>(e.forEach((e,t)=>{this.Gn.set(e,{size:t,readTime:n.get(e).readTime})}),n))}}function wu(e){return hl(e,"remoteDocumentGlobal")}function xu(e){return hl(e,"remoteDocumentsV14")}function Cu(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ku(e,t){const n=t.documentKey.path.toArray();return[e,vl(t.readTime),n.slice(0,n.length-2),0<n.length?n[n.length-1]:""]}function Su(e,t){const n=e.path.length-t.path.length;return 0!=n?n:m.comparator(e,t)}class Eu{constructor(e){this.M=e}kt(t,e,n,r){const a=new tl("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore("owner"),(e=t).createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ao,{unique:!0}),e.createObjectStore("documentMutations"),Tu(t),t.createObjectStore("remoteDocuments"));let i=b.resolve();return n<3&&3<=r&&(0!==n&&((e=t).deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal"),Tu(t)),i=i.next(()=>{{const e=a.store("targetGlobal"),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:P.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",t)}})),n<4&&4<=r&&(i=(i=0!==n?i.next(()=>{var r=t,i=a;return i.store("mutations").qt().next(e=>{r.deleteObjectStore("mutations"),r.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ao,{unique:!0});const t=i.store("mutations"),n=e.map(e=>t.put(e));return b.waitFor(n)})}):i).next(()=>{t.createObjectStore("clientMetadata",{keyPath:"clientId"})})),n<5&&5<=r&&(i=i.next(()=>this.Kn(a))),n<6&&6<=r&&(i=i.next(()=>(t.createObjectStore("remoteDocumentGlobal"),this.Qn(a)))),n<7&&7<=r&&(i=i.next(()=>this.jn(a))),n<8&&8<=r&&(i=i.next(()=>this.Wn(t,a))),n<9&&9<=r&&(i=i.next(()=>{var e;(e=t).objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),n<10&&10<=r&&(i=i.next(()=>this.zn(a))),n<11&&11<=r&&(i=i.next(()=>{t.createObjectStore("bundles",{keyPath:"bundleId"}),t.createObjectStore("namedQueries",{keyPath:"name"})})),n<12&&12<=r&&(i=i.next(()=>{{const e=t.createObjectStore("documentOverlays",{keyPath:Ko});return e.createIndex("collectionPathOverlayIndex",Go,{unique:!1}),void e.createIndex("collectionGroupOverlayIndex",Yo,{unique:!1})}})),n<13&&13<=r&&(i=i.next(()=>{{const e=t.createObjectStore("remoteDocumentsV14",{keyPath:Mo});return e.createIndex("documentKeyIndex",Ro),void e.createIndex("collectionGroupIndex",Oo)}}).next(()=>this.Hn(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i=n<14&&14<=r?i.next(()=>{var e;(e=t).createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Bo}).createIndex("sequenceNumberIndex",qo,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ho}).createIndex("documentKeyIndex",Wo,{unique:!1})}):i}Qn(t){let n=0;return t.store("remoteDocuments").Wt((e,t)=>{n+=Jl(t)}).next(()=>{const e={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",e)})}Kn(r){const e=r.store("mutationQueues"),t=r.store("mutations");return e.qt().next(e=>b.forEach(e,n=>{const e=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return t.qt("userMutationsIndex",e).next(e=>b.forEach(e,e=>{I(e.userId===n.userId);const t=xl(this.M,e);return Zl(r,n.userId,t).next(()=>{})}))}))}jn(e){const s=e.store("targetDocuments"),t=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return t.Wt((e,t)=>{const n=new u(e),r=[0,Io(n)];a.push(s.get(r).next(e=>e?b.resolve():(e=>s.put({targetId:0,path:Io(e),sequenceNumber:i.highestListenSequenceNumber}))(n)))}).next(()=>b.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Uo});const n=t.store("collectionParents"),r=new ql,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Io(r)})}};return t.store("remoteDocuments").Wt({jt:!0},(e,t)=>{const n=new u(e);return i(n.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([,e],t)=>{const n=jo(e);return i(n.popLast())}))}zn(e){const i=e.store("targets");return i.Wt((e,t)=>{const n=Cl(t),r=kl(this.M,n);return i.put(r)})}Hn(e,s){const t=s.store("remoteDocuments"),o=[];return t.Wt((e,t)=>{const n=s.store("remoteDocumentsV14"),r=((i=t).document?new m(u.fromString(i.document.name).popFirst(5)):i.noDocument?m.fromSegments(i.noDocument.path):i.unknownDocument?m.fromSegments(i.unknownDocument.path):_()).path.toArray();var i;const a={prefixPath:r.slice(0,r.length-2),collectionGroup:r[r.length-2],documentId:r[r.length-1],readTime:t.readTime||[0,0],unknownDocument:t.unknownDocument,noDocument:t.noDocument,document:t.document,hasCommittedMutations:!!t.hasCommittedMutations};o.push(n.put(a))}).next(()=>b.waitFor(o))}}function Tu(e){e.createObjectStore("targetDocuments",{keyPath:Fo}).createIndex("documentTargetsIndex",zo,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vo,{unique:!0}),e.createObjectStore("targetGlobal")}const _u="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Iu{constructor(e,t,n,r,i,a,s,o,l,u,c=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Jn=i,this.window=a,this.document=s,this.Yn=l,this.Xn=u,this.Zn=c,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=e=>Promise.resolve(),!Iu.vt())throw new A(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mu(this,r),this.cs=t+"main",this.M=new gl(o),this.hs=new nl(this.cs,this.Zn,new Eu(this.M)),this.ls=new su(this.referenceDelegate,this.M),this.fs=(e=this.M,new vu(e)),this.ds=new _l,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===u&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(this.isPrimary||this.allowTabSynchronization)return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e));throw new A(N.FAILED_PRECONDITION,_u)}).then(e=>{this.ts=new Fi(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(t){return this.us=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(async e=>{null===e.newVersion&&await t()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(async()=>{this.started&&await this.ws()}))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ju(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(e=>{if(al(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(this.allowTabSynchronization)return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1;throw e}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Nu(e).get("owner").next(e=>b.resolve(this.bs(e)))}Ps(e){return ju(e).delete(this.clientId)}async Vs(){if(this.isPrimary&&!this.vs(this.os,18e5)){this.os=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const r=hl(e,"clientMetadata");return r.qt().next(e=>{const t=this.Ss(e,18e5),n=e.filter(e=>-1===t.indexOf(e));return b.forEach(n,e=>r.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this._s)for(const t of e)this._s.removeItem(this.Ds(t.clientId))}}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(t){return this.Xn?b.resolve(!0):Nu(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(e.allowTabSynchronization)return!1;throw new A(N.FAILED_PRECONDITION,_u)}}return!(!this.networkEnabled||!this.inForeground)||ju(t).qt().next(e=>void 0===this.Ss(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),await this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new cl(e,Fi.A);return this.As(t).next(()=>this.Ps(t))}),this.hs.close(),this.Ms()}Ss(e,t){return e.filter(e=>this.vs(e.updateTimeMs,t)&&!this.Cs(e.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>ju(e).qt().next(e=>this.Ss(e,18e5).map(e=>e.clientId)))}get started(){return this.es}getMutationQueue(e,t){return eu.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Wl(e)}getDocumentOverlayCache(e){return jl.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(t,n,r){p("IndexedDbPersistence","Starting transaction:",t);const e="readonly"===n?"readonly":"readwrite",i=14===(a=this.Zn)?Zo:13===a?Qo:12===a?Xo:11===a?$o:void _();var a;let s;return this.hs.runTransaction(t,e,i,e=>(s=new cl(e,this.ts?this.ts.next():Fi.A),"readwrite-primary"===n?this.Ts(s).next(e=>!!e||this.Es(s)).next(e=>{if(e)return r(s);throw Ii(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new A(N.FAILED_PRECONDITION,Jo)}).next(e=>this.Rs(s).next(()=>e)):this.Fs(s).next(()=>r(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Fs(e){return Nu(e).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new A(N.FAILED_PRECONDITION,_u)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nu(e).put("owner",t)}static vt(){return nl.vt()}As(e){const t=Nu(e);return t.get("owner").next(e=>this.bs(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):b.resolve())}vs(e,t){const n=Date.now();return!(e<n-t||n<e&&(Ii(`Detected an update time that is in the future: ${e} > `+n),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null==(e=this.window)?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),!function(){try{return"[object process]"===Object.prototype.toString.call(W9.g.process)}catch(e){return}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const n=null!==(null==(t=this._s)?void 0:t.getItem(this.Ds(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ii("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_`+e}}function Nu(e){return hl(e,"owner")}function ju(e){return hl(e,"clientMetadata")}function Au(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Pu{constructor(e,t,n){this.fs=e,this.$s=t,this.indexManager=n}Bs(t,n){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,n).next(e=>this.Ls(t,n,e))}Ls(e,t,n){return this.fs.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Us(e,n){e.forEach((e,t)=>{for(const e of n)e.applyToLocalView(t)})}qs(t,e){return this.fs.getEntries(t,e).next(e=>this.Gs(t,e).next(()=>e))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Us(t,e))}Ks(e,t,n){return r=t,m.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):null!==t.collectionGroup?this.js(e,t,n):this.Ws(e,t,n);var r}Qs(e,t){return this.Bs(e,new m(t)).next(e=>{let t=Hs;return t=e.isFoundDocument()?t.insert(e.key,e):t})}js(r,i,a){const s=i.collectionGroup;let o=Hs;return this.indexManager.getCollectionParents(r,s).next(e=>b.forEach(e,e=>{n=i,e=e.child(s);const t=new Qa(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt);var n;return this.Ws(r,t,a).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}Ws(t,n,e){let i;return this.fs.getAllFromCollection(t,n.path,e).next(e=>(i=e,this.$s.getAllMutationBatchesAffectingQuery(t,n))).next(t=>{for(const n of t)for(const t of n.mutations){const r=t.key;let e=i.get(r);null==e&&(e=L.newInvalidDocument(r),i=i.insert(r,e)),Es(t,e,n.localWriteTime),e.isFoundDocument()||(i=i.remove(r))}}).next(()=>(i.forEach((e,t)=>{ss(n,t)||(i=i.remove(e))}),i))}}class Lu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.zs=n,this.Hs=r}static Js(e,t){let n=y(),r=y();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Lu(e,t.fromCache,n,r)}}class Du{Ys(e){this.Xs=e}Ks(t,r,i,a){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())||i.isEqual(P.min())?this.Zs(t,r):this.Xs.qs(t,a).next(e=>{const n=this.ti(r,e);return(Ja(r)||es(r))&&this.ei(r.limitType,n,a,i)?this.Zs(t,r):(_i()<=h.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(r)),this.Xs.Ks(t,r,function(e){const t=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=P.fromTimestamp(1e9===n?new qi(t+1,0):new qi(t,n));return new Aa(r,m.empty(),-1)}(i)).next(t=>(n.forEach(e=>{t=t.insert(e.key,e)}),t)))})}ti(n,e){let r=new d(os(n));return e.forEach((e,t)=>{ss(n,t)&&(r=r.add(t))}),r}ei(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||0<i.version.compareTo(r))}Zs(e,t){return _i()<=h.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",as(t)),this.Xs.Ks(e,t,Aa.min())}}class Mu{constructor(e,t,n,r){this.persistence=e,this.ni=t,this.M=r,this.si=new Vs(k),this.ii=new Os(e=>Da(e),Ma),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(n)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Pu(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function Ru(e,t,n,r){return new Mu(e,t,n,r)}async function Ou(e,t){const s=e;return s.persistence.runTransaction("Handle user change","readonly",i=>{let a;return s.$s.getAllMutationBatches(i).next(e=>(a=e,s.ui(t),s.$s.getAllMutationBatches(i))).next(e=>{const t=[],n=[];let r=y();for(const i of a){t.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}for(const i of e){n.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}return s.ai.qs(i,r).next(e=>({ci:e,removedBatchIds:t,addedBatchIds:n}))})})}function Vu(e){const t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}async function Fu(e,t,n){const r=e,i=r.si.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!al(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: `+e)}r.si=r.si.remove(t),r.ii.delete(i.target)}function zu(e,a,n){const s=e;let r=P.min(),o=y();return s.persistence.runTransaction("Execute query","readonly",t=>function(e,t,n){const r=e,i=r.ii.get(n);return void 0!==i?b.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(s,t,ns(a)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,s.ls.getMatchingKeysForTargetId(t,e.targetId).next(e=>{o=e})}).next(()=>s.ni.Ks(t,a,n?r:P.min(),n?o:y())).next(e=>{{var t=s,r=(r=a).collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2)),i=e;let n=P.min();i.forEach((e,t)=>{0<t.readTime.compareTo(n)&&(n=t.readTime)}),t.ri.set(r,n)}var r;return{documents:e,hi:o}}))}class Uu{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return b.resolve(this._i.get(t))}saveBundleMetadata(e,t){return this._i.set(t.id,{id:t.id,version:t.version,createTime:uo(t.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(t=t).name,query:Sl(t.bundledQuery),readTime:uo(t.readTime)}),b.resolve()}}class Bu{constructor(){this.overlays=new Vs(m.comparator),this.mi=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}saveOverlays(n,r,e){return e.forEach((e,t)=>{this.Xt(n,r,t)}),b.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.mi.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.mi.delete(n)),b.resolve()}getOverlaysForCollection(e,t,n){const r=Ws(),i=t.length+1,a=new m(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return b.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Vs((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const t=a.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Ws(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=Ws(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return b.resolve(s)}Xt(t,n,r){if(null!==r){const i=this.overlays.get(r.key);if(null!==i){const t=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(r.key,new pl(n,r));let e=this.mi.get(n);void 0===e&&(e=y(),this.mi.set(n,e)),this.mi.set(n,e.add(r.key))}}}class qu{constructor(){this.gi=new d(Hu.yi),this.pi=new d(Hu.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const n=new Hu(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}Ti(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Ei(new Hu(e,t))}Ai(e,t){e.forEach(e=>this.removeReference(e,t))}Ri(e){const t=new m(new u([])),n=new Hu(t,e),r=new Hu(t,e+1),i=[];return this.pi.forEachInRange([n,r],e=>{this.Ei(e),i.push(e.key)}),i}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new m(new u([])),n=new Hu(t,e),r=new Hu(t,e+1);let i=y();return this.pi.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Hu(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hu{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return m.comparator(e.key,t.key)||k(e.Vi,t.Vi)}static Ii(e,t){return k(e.Vi,t.Vi)||m.comparator(e.key,t.key)}}class Wu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new d(Hu.yi)}checkEmpty(e){return b.resolve(0===this.$s.length)}addMutationBatch(e,t,n,r){const i=this.vi,a=(this.vi++,0<this.$s.length&&this.$s[this.$s.length-1],new dl(i,t,n,r));this.$s.push(a);for(const t of r)this.Si=this.Si.add(new Hu(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return b.resolve(a)}lookupMutationBatch(e,t){return b.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Ci(n),i=r<0?0:r;return b.resolve(this.$s.length>i?this.$s[i]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return b.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hu(t,0),r=new Hu(t,Number.POSITIVE_INFINITY),i=[];return this.Si.forEachInRange([n,r],e=>{const t=this.Di(e.Vi);i.push(t)}),b.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new d(k);return t.forEach(e=>{const t=new Hu(e,0),n=new Hu(e,Number.POSITIVE_INFINITY);this.Si.forEachInRange([t,n],e=>{r=r.add(e.Vi)})}),b.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;m.isDocumentKey(i)||(i=i.child(""));const a=new Hu(new m(i),0);let s=new d(k);return this.Si.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Vi)),!0)},a),b.resolve(this.xi(s))}xi(e){const n=[];return e.forEach(e=>{const t=this.Di(e);null!==t&&n.push(t)}),n}removeMutationBatch(n,r){I(0===this.Ni(r.batchId,"removed")),this.$s.shift();let i=this.Si;return b.forEach(r.mutations,e=>{const t=new Hu(e.key,r.batchId);return i=i.delete(t),this.referenceDelegate.markPotentiallyOrphaned(n,e.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const n=new Hu(t,0),r=this.Si.firstAfterOrEqual(n);return b.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.$s.length,b.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class Ku{constructor(e){this.ki=e,this.docs=new Vs(m.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return b.resolve(n?n.document.mutableCopy():L.newInvalidDocument(t))}getEntries(e,t){let n=qs;return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():L.newInvalidDocument(e))}),b.resolve(n)}getAllFromCollection(e,t,n){let r=qs;const i=new m(t.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:e,value:{document:i}}=a.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=m.comparator(e.documentKey,t.documentKey))?n:k(e.largestBatchId,t.largestBatchId)}((s=i,new Aa(s.readTime,s.key,-1)),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}var s;return b.resolve(r)}getAllFromCollectionGroup(e,t,n,r){_()}Mi(e,t){return b.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Gu(this)}getSize(e){return b.resolve(this.size)}}class Gu extends yu{constructor(e){super(),this.qn=e}applyChanges(n){const r=[];return this.changes.forEach((e,t)=>{t.isValidDocument()?r.push(this.qn.addEntry(n,t)):this.qn.removeEntry(e)}),b.waitFor(r)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Yu{constructor(e){this.persistence=e,this.Oi=new Os(e=>Da(e),Ma),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.Fi=0,this.$i=new qu,this.targetCount=0,this.Bi=au.mn()}forEachTarget(e,n){return this.Oi.forEach((e,t)=>n(t)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),b.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new au(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.In(t),b.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),--this.targetCount,b.resolve()}removeTargets(n,r,i){let a=0;const s=[];return this.Oi.forEach((e,t)=>{t.sequenceNumber<=r&&null===i.get(t.targetId)&&(this.Oi.delete(e),s.push(this.removeMatchingKeysForTargetId(n,t.targetId)),a++)}),b.waitFor(s).next(()=>a)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const n=this.Oi.get(t)||null;return b.resolve(n)}addMatchingKeys(e,t,n){return this.$i.Ti(t,n),b.resolve()}removeMatchingKeys(t,e,n){this.$i.Ai(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),b.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),b.resolve()}getMatchingKeysForTargetId(e,t){const n=this.$i.Pi(t);return b.resolve(n)}containsKey(e,t){return b.resolve(this.$i.containsKey(t))}}class $u{constructor(e,t){this.Li={},this.overlays={},this.ts=new Fi(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Yu(this),this.indexManager=new Bl,this.fs=(e=e=>this.referenceDelegate.Ui(e),new Ku(e)),this.M=new gl(t),this.ds=new Uu(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Li[e.toKey()];return n||(n=new Wu(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new Xu(this.ts.next());return this.referenceDelegate.qi(),n(r).next(e=>this.referenceDelegate.Gi(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ki(t,n){return b.or(Object.values(this.Li).map(e=>()=>e.containsKey(t,n)))}}class Xu extends el{constructor(e){super(),this.currentSequenceNumber=e}}class Qu{constructor(e){this.persistence=e,this.Qi=new qu,this.ji=null}static Wi(e){return new Qu(e)}get zi(){if(this.ji)return this.ji;throw _()}addReference(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),b.resolve()}removeReference(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(e=>this.zi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.zi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.zi,e=>{const t=m.fromPath(e);return this.Hi(n,t).next(e=>{e||r.removeEntry(t,P.min())})}).next(()=>(this.ji=null,r.apply(n)))}updateLimboDocument(e,t){return this.Hi(e,t).next(e=>{e?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return b.or([()=>b.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}class Zu{constructor(){this.activeTargetIds=Ys}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ju{constructor(){this.Fr=new Zu,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Zu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ec{Br(e){}shutdown(){}}class tc{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rc{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ic extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.so=t+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,n,r,i){const a=this.oo(t,e),s=(p("RestConnection","Sending: ",a,n),{});return this.uo(s,r,i),this.ao(t,a,s,n).then(e=>(p("RestConnection","Received: ",e),e),e=>{throw Ni("RestConnection",t+" failed with error: ",e,"url: ",a,"request:",n),e})}co(e,t,n,r,i){return this.ro(e,t,n,r,i)}uo(n,e,t){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ei,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,t)=>n[t]=e),t&&t.headers.forEach((e,t)=>n[t]=e)}oo(e,t){const n=nc[e];return this.so+`/v1/${t}:`+n}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(s,t,n,o){return new Promise((r,i)=>{const a=new Ci,e=(a.listenOnce(yi.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case gi.NO_ERROR:const e=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),r(e);break;case gi.TIMEOUT:p("Connection",'RPC "'+s+'" timed out'),i(new A(N.DEADLINE_EXCEEDED,"Request time out"));break;case gi.HTTP_ERROR:const t=a.getStatus();if(p("Connection",'RPC "'+s+'" failed with status:',t,"response text:",a.getResponseText()),0<t){const s=a.getResponseJson().error;if(s&&s.status&&s.message){const n=function(){const e=s.status.toLowerCase().replace(/_/g,"-");return 0<=Object.values(N).indexOf(e)?e:N.UNKNOWN}();i(new A(n,s.message))}else i(new A(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new A(N.UNAVAILABLE,"Connection failed."));break;default:_()}}finally{p("Connection",'RPC "'+s+'" completed.')}}),JSON.stringify(o));a.send(t,"POST",e,n,15)})}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pi(),a=mi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/`+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=(this.useFetchStreams&&(s.xmlHttpFactory=new wi({})),this.uo(s.initMessageHeaders,t,n),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=B().indexOf("Electron/")||function(){const e=B();return 0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")}()||0<=B().indexOf("MSAppHost/")||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||(s.httpHeadersOverwriteParam="$httpHeaders"),r.join("")),l=(p("Connection","Creating WebChannel: "+o,s),i.createWebChannel(o,s));let u=!1,c=!1;const h=new rc({jr:e=>{c?p("Connection","Not sending because WebChannel is closed:",e):(u||(p("Connection","Opening WebChannel transport."),l.open(),u=!0),p("Connection","WebChannel sending:",e),l.send(e))},Wr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,xi.EventType.OPEN,()=>{c||p("Connection","WebChannel transport opened.")}),d(l,xi.EventType.CLOSE,()=>{c||(c=!0,p("Connection","WebChannel transport closed"),h.eo())}),d(l,xi.EventType.ERROR,e=>{c||(c=!0,Ni("Connection","WebChannel transport errored:",e),h.eo(new A(N.UNAVAILABLE,"The operation could not be completed")))}),d(l,xi.EventType.MESSAGE,n=>{if(!c){const e=n.data[0],t=(I(!!e),e),r=t.error||(null==(n=t[0])?void 0:n.error);if(r){p("Connection","WebChannel received error:",r);const n=r.status;let e=function(e){const t=f[e];if(void 0!==t)return Rs(t)}(n),t=r.message;void 0===e&&(e=N.INTERNAL,t="Unknown error status: "+n+" with message "+r.message),c=!0,h.eo(new A(e,t)),l.close()}else p("Connection","WebChannel received:",e),h.no(e)}}),d(a,vi.STAT_EVENT,e=>{e.stat===bi.PROXY?p("Connection","Detected buffering proxy"):e.stat===bi.NOPROXY&&p("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function ac(){return"undefined"!=typeof document?document:null}function sc(e){return new so(e,!0)}class oc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Jn=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);0<r&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class lc{constructor(e,t,n,r,i,a,s,o){this.Jn=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new oc(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}async close(e,t){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==e?this.So.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):t&&t.code===N.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(t)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,t])=>{this.Po===n&&this.Uo(e,t)},t=>{e(()=>{const e=new A(N.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)})})}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{n(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(e=>{n(()=>this.qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uc extends lc{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.M=i}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:_(),a=t.targetChange.targetIds||[],s=(r=t.targetChange.resumeToken,e.N?(I(void 0===r||"string"==typeof r),Qi.fromBase64String(r||"")):(I(void 0===r||r instanceof Uint8Array),Qi.fromUint8Array(r||new Uint8Array))),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?N.UNKNOWN:Rs(e.code);return new A(t,e.message||"")}(o);n=new Js(i,a,s,l||null)}else if("documentChange"in t){t.documentChange;const u=t.documentChange,c=(u.document,u.document.name,u.document.updateTime,po(e,u.document.name)),h=uo(u.document.updateTime),d=new Ea({mapValue:{fields:u.document.fields}}),f=L.newFoundDocument(c,h,d),p=u.targetIds||[],m=u.removedTargetIds||[];n=new Qs(p,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const g=t.documentDelete,y=(g.document,po(e,g.document)),v=g.readTime?uo(g.readTime):P.min(),b=L.newNoDocument(y,v),w=g.removedTargetIds||[];n=new Qs([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;const x=t.documentRemove,C=(x.document,po(e,x.document)),k=x.removedTargetIds||[];n=new Qs([],k,C,null)}else{if(!("filter"in t))return _();{t.filter;const e=t.filter,S=(e.targetId,e.count||0),E=new Ms(S),T=e.targetId;n=new Zs(T,E)}}var r;return n}(this.M,e),n=function(e){if(!("targetChange"in e))return P.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length||!t.readTime?P.min():uo(t.readTime)}(e);return this.listener.Ko(t,n)}Qo(e){const t={},n=(t.database=yo(this.M),t.addTarget=function(e,t){let n;const r=t.target;return(n=Ra(r)?{documents:Co(e,r)}:{query:ko(e,r)}).targetId=t.targetId,0<t.resumeToken.approximateByteSize()?n.resumeToken=lo(e,t.resumeToken):0<t.snapshotVersion.compareTo(P.min())&&(n.readTime=oo(e,t.snapshotVersion.toTimestamp())),n}(this.M,e),function(e){const t=function(){switch(e.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _()}}();return null==t?null:{"goog-listen-tags":t}}((this.M,e)));n&&(t.labels=n),this.Oo(t)}jo(e){const t={};t.database=yo(this.M),t.removeTarget=e,this.Oo(t)}}class cc extends lc{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.M=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(I(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset(),t=e.writeResults,r=e.commitTime;const n=t&&0<t.length?(I(void 0!==r),t.map(t=>{{var n=r;let e=t.updateTime?uo(t.updateTime):uo(n);return e.isEqual(P.min())&&(e=uo(n)),new xs(e,t.transformResults||[])}})):[],i=uo(e.commitTime);return this.listener.Jo(i,n)}var t,r;return I(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=yo(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>wo(this.M,e))};this.Oo(t)}}class hc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")}ro(n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,t])=>this.bo.ro(n,r,i,e,t)).catch(e=>{throw"FirebaseError"===e.name?(e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new A(N.UNKNOWN,e.toString())})}co(n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,t])=>this.bo.co(n,r,i,e,t)).catch(e=>{throw"FirebaseError"===e.name?(e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new A(N.UNKNOWN,e.toString())})}terminate(){this.Zo=!0}}class dc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,1<=this.eu&&(this.au(),this.ou("Connection failed 1 times. Most recent error: "+e.toString()),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ii(t),this.su=!1):p("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class fc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(e=>{n.enqueueAndForget(async()=>{if(Cc(this)){p("RemoteStore","Restarting streams for network reachability change.");this.lu.add(4),await mc(this),this._u.set("Unknown"),this.lu.delete(4),await pc(this)}})}),this._u=new dc(n,r)}}async function pc(e){if(Cc(e))for(const t of e.fu)await t(!0)}async function mc(e){for(const t of e.fu)await t(!1)}function gc(e,t){const n=e;n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),xc(n)?wc(n):jc(n).Co()&&vc(n,t))}function yc(e,t){const n=e,r=jc(n);n.hu.delete(t),r.Co()&&bc(n,t),0===n.hu.size&&(r.Co()?r.ko():Cc(n)&&n._u.set("Unknown"))}function vc(e,t){e.wu.Z(t.targetId),jc(e).Qo(t)}function bc(e,t){e.wu.Z(t),jc(e).jo(t)}function wc(t){t.wu=new to({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.hu.get(e)||null}),jc(t).start(),t._u.iu()}function xc(e){return Cc(e)&&!jc(e).Do()&&0<e.hu.size}function Cc(e){return 0===e.lu.size}function kc(e){e.wu=void 0}async function Sc(e,t,n){if(!al(t))throw t;e.lu.add(1),await mc(e),e._u.set("Offline"),n=n||(()=>Vu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await pc(e)})}function Ec(t,n){return n().catch(e=>Sc(t,e,n))}async function Tc(e){const t=e,n=Ac(t);let r=0<t.cu.length?t.cu[t.cu.length-1].batchId:-1;for(;Cc(s=t)&&s.cu.length<10;)try{const e=await function(e,t){const n=e;return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)))}(t.localStore,r);if(null===e){0===t.cu.length&&n.ko();break}r=e.batchId;{var i=void 0,i=t,a=e;i.cu.push(a);const o=Ac(i);o.Co()&&o.zo&&o.Ho(a.mutations)}}catch(e){await Sc(t,e)}var s;_c(t)&&Ic(t)}function _c(e){return Cc(e)&&!Ac(e).Do()&&0<e.cu.length}function Ic(e){Ac(e).start()}async function Nc(e,t){const n=e,r=(n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials"),Cc(n));n.lu.add(3),await mc(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await pc(n)}function jc(t){return t.mu||(t.mu=function(e,t,n){const r=e;return r.tu(),new uc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(t.datastore,t.asyncQueue,{zr:async function(n){n.hu.forEach((e,t)=>{vc(n,e)})}.bind(null,t),Jr:async function(e,t){kc(e),xc(e)?(e._u.uu(t),wc(e)):e._u.set("Unknown")}.bind(null,t),Ko:async function(e,t,n){if(e._u.set("Online"),t instanceof Js&&2===t.state&&t.cause)try{{var r=e;const s=t.cause;for(const o of t.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Sc(e,n)}else if(t instanceof Qs?e.wu.ut(t):t instanceof Zs?e.wu._t(t):e.wu.ht(t),!n.isEqual(P.min()))try{const t=await Vu(e.localStore);if(0<=n.compareTo(t)){var i=e,a=n;const l=i.wu.yt(a);l.targetChanges.forEach((e,t)=>{if(0<e.resumeToken.approximateByteSize()){const n=i.hu.get(t);n&&i.hu.set(t,n.withResumeToken(e.resumeToken,a))}}),l.targetMismatches.forEach(e=>{const t=i.hu.get(e);if(t){i.hu.set(e,t.withResumeToken(Qi.EMPTY_BYTE_STRING,t.snapshotVersion)),bc(i,e);const n=new ml(t.target,e,1,t.sequenceNumber);vc(i,n)}}),await i.remoteSyncer.applyRemoteEvent(l)}}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Sc(e,t)}}.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),xc(t)?wc(t):t._u.set("Unknown")):(await t.mu.stop(),kc(t))})),t.mu}function Ac(t){return t.gu||(t.gu=function(e,t,n){const r=e;return r.tu(),new cc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(t.datastore,t.asyncQueue,{zr:async function(e){Ac(e).Xo()}.bind(null,t),Jr:async function(e,t){if(t&&Ac(e).zo){var n,r=e,i=t;if(function(){switch(n){default:return _(),0;case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return 1}}(n=i.code)&&n!==N.ABORTED){const n=r.cu.shift();Ac(r).No(),await Ec(r,()=>r.remoteSyncer.rejectFailedWrite(n.batchId,i)),await Tc(r)}await 0}_c(e)&&Ic(e)}.bind(null,t),Yo:async function(e){const t=Ac(e);for(const n of e.cu)t.Ho(n.mutations)}.bind(null,t),Jo:async function(e,t,n){const r=e.cu.shift(),i=fl.from(r,t,n);await Ec(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Tc(e)}.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Tc(t)):(await t.gu.stop(),0<t.cu.length&&(p("RemoteStore",`Stopping write stream with ${t.cu.length} pending writes`),t.cu=[]))})),t.gu}class Pc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Pc(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lc(e,t){if(Ii("AsyncQueue",t+": "+e),al(e))return new A(N.UNAVAILABLE,t+": "+e);throw e}class Dc{constructor(n){this.comparator=n?(e,t)=>n(e,t)||m.comparator(e.key,t.key):(e,t)=>m.comparator(e.key,t.key),this.keyedMap=Hs,this.sortedSet=new Vs(this.comparator)}static emptySet(e){return new Dc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((e,t)=>(n(e),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(e,t){const n=new Dc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Mc{constructor(){this.yu=new Vs(m.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);!n||0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):_()}pu(){const n=[];return this.yu.inorderTraversal((e,t)=>{n.push(t)}),n}}class Rc{constructor(e,t,n,r,i,a,s,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Rc(e,t,Dc.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Oc{constructor(){this.Iu=void 0,this.listeners=[]}}class Vc{constructor(){this.queries=new Os(e=>is(e),rs),this.onlineState="Unknown",this.Tu=new Set}}function Fc(e){e.Tu.forEach(e=>{e.next()})}class zc{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.Du&&n||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){if(0<e.docChanges.length)return!0;const t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Su(e){e=Rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Uc{constructor(e){this.key=e}}class Bc{constructor(e){this.key=e}}class qc{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=y(),this.mutatedKeys=y(),this.Lu=os(e),this.Uu=new Dc(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new Mc,l=(t||this).Uu;let u=(t||this).mutatedKeys,c=l,h=!1;const d=Ja(this.query)&&l.size===this.query.limit?l.last():null,f=es(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((e,t)=>{const n=l.get(e),r=ss(this.query,t)?t:null,i=!!n&&this.mutatedKeys.has(n.key),a=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let s=!1;n&&r?n.data.isEqual(r.data)?i!==a&&(o.track({type:3,doc:r}),s=!0):this.Qu(n,r)||(o.track({type:2,doc:r}),s=!0,(d&&0<this.Lu(r,d)||f&&this.Lu(r,f)<0)&&(h=!0)):!n&&r?(o.track({type:0,doc:r}),s=!0):n&&!r&&(o.track({type:1,doc:n}),s=!0,(d||f)&&(h=!0)),s&&(u=r?(c=c.add(r),a?u.add(e):u.delete(e)):(c=c.delete(e),u.delete(e)))}),Ja(this.query)||es(this.query))for(;c.size>this.query.limit;){const e=Ja(this.query)?c.last():c.first();c=c.delete(e.key),u=u.delete(e.key),o.track({type:1,doc:e})}return{Uu:c,Ku:o,ei:h,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu,i=(this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys,e.Ku.pu()),a=(i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _()}};return n(e)-n(t)}(e.type,t.type)||this.Lu(e.doc,t.doc)),this.ju(n),t?this.Wu():[]),s=0===this.Bu.size&&this.current?1:0,o=s!==this.$u;return this.$u=s,0!==i.length||o?{snapshot:new Rc(this.query,e.Uu,r,i,e.mutatedKeys,0==s,o,!1),zu:a}:{zu:a}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Mc,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=e.current)}Wu(){if(!this.current)return[];const t=this.Bu,n=(this.Bu=y(),this.Uu.forEach(e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))}),[]);return t.forEach(e=>{this.Bu.has(e)||n.push(new Bc(e))}),this.Bu.forEach(e=>{t.has(e)||n.push(new Uc(e))}),n}Ju(e){this.Fu=e.hi,this.Bu=y();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Rc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Hc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Wc{constructor(e){this.key=e,this.Xu=!1}}class Kc{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Zu={},this.ta=new Os(e=>is(e),rs),this.ea=new Map,this.na=new Set,this.sa=new Vs(m.comparator),this.ia=new Map,this.ra=new qu,this.oa={},this.ua=new Map,this.aa=au.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}async function Gc(e,t){const r=e;try{const e=await function(e,u){const c=e,h=u.snapshotVersion;let d=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const e=c.oi.newChangeBuffer({trackRemovals:!0}),l=(d=c.si,[]);u.targetChanges.forEach((t,n)=>{const r=d.get(n);if(r){l.push(c.ls.removeMatchingKeys(o,t.removedDocuments,n).next(()=>c.ls.addMatchingKeys(o,t.addedDocuments,n)));let e=r.withSequenceNumber(o.currentSequenceNumber);var i,a,s;u.targetMismatches.has(n)?e=e.withResumeToken(Qi.EMPTY_BYTE_STRING,P.min()).withLastLimboFreeSnapshotVersion(P.min()):0<t.resumeToken.approximateByteSize()&&(e=e.withResumeToken(t.resumeToken,h)),d=d.insert(n,e),i=r,a=e,s=t,0!==i.resumeToken.approximateByteSize()&&!(3e8<=a.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()||0<s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size)||l.push(c.ls.updateTargetData(o,e))}});let t=qs;if(u.documentUpdates.forEach(e=>{u.resolvedLimboDocuments.has(e)&&l.push(c.persistence.referenceDelegate.updateLimboDocument(o,e))}),l.push(function(e,a,t){let n=y();return t.forEach(e=>n=n.add(e)),a.getEntries(e,n).next(r=>{let i=qs;return t.forEach((e,t)=>{const n=r.get(e);t.isNoDocument()&&t.version.isEqual(P.min())?(a.removeEntry(e,t.readTime),i=i.insert(e,t)):!n.isValidDocument()||0<t.version.compareTo(n.version)||0===t.version.compareTo(n.version)&&n.hasPendingWrites?(a.addEntry(t),i=i.insert(e,t)):p("LocalStore","Ignoring outdated watch update for ",e,". Current version:",n.version," Watch version:",t.version)}),i})}(o,e,u.documentUpdates).next(e=>{t=e})),!h.isEqual(P.min())){const u=c.ls.getLastRemoteSnapshotVersion(o).next(e=>c.ls.setTargetsMetadata(o,o.currentSequenceNumber,h));l.push(u)}return b.waitFor(l).next(()=>e.apply(o)).next(()=>c.ai.Gs(o,t)).next(()=>t)}).then(e=>(c.si=d,e))}(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.ia.get(t);n&&(I(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?n.Xu=!0:0<e.modifiedDocuments.size?I(n.Xu):0<e.removedDocuments.size&&(I(n.Xu),n.Xu=!1))}),await th(r,e,t)}catch(e){await cu(e)}}function Yc(r,i,e){const t=r;if(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e){const r=[];t.ta.forEach((e,t)=>{const n=t.view.Eu(i);n.snapshot&&r.push(n.snapshot)});{var e=t.eventManager,a=i;const s=e;s.onlineState=a;let n=!1;s.queries.forEach((e,t)=>{for(const e of t.listeners)e.Eu(a)&&(n=!0)}),n&&Fc(s)}r.length&&t.Zu.Ko(r),t.onlineState=i,t.isPrimaryClient&&t.sharedClientState.setOnlineState(i)}}function $c(e,t){(e.ua.get(t)||[]).forEach(e=>{e.resolve()}),e.ua.delete(t)}function Xc(e,t,n){const r=e;let i=r.oa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function Qc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ea.get(e))t.ta.delete(r),n&&t.Zu.la(r,n);t.ea.delete(e),t.isPrimaryClient&&t.ra.Ri(e).forEach(e=>{t.ra.containsKey(e)||Zc(t,e)})}function Zc(e,t){e.na.delete(t.path.canonicalString());const n=e.sa.get(t);null!==n&&(yc(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),eh(e))}function Jc(e,t,n){for(const i of n)if(i instanceof Uc){e.ra.addReference(i.key,t);{var r=void 0,r=e;const a=i.key,s=a.path.canonicalString();r.sa.get(a)||r.na.has(s)||(p("SyncEngine","New document in limbo: "+a),r.na.add(s),eh(r))}}else i instanceof Bc?(p("SyncEngine","Document no longer in limbo: "+i.key),e.ra.removeReference(i.key,t),e.ra.containsKey(i.key)||Zc(e,i.key)):_()}function eh(e){for(;0<e.na.size&&e.sa.size<e.maxConcurrentLimboResolutions;){const t=e.na.values().next().value,n=(e.na.delete(t),new m(u.fromString(t))),r=e.aa.next();e.ia.set(r,new Wc(n)),e.sa=e.sa.insert(n,r),gc(e.remoteStore,new ml(ns(Za(n.path)),r,2,Fi.A))}}async function th(e,t,r){const i=e,a=[],s=[],o=[];if(!i.ta.isEmpty()){i.ta.forEach((e,n)=>{o.push(i.ha(n,t,r).then(e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(n.targetId,e.fromCache?"not-current":"current"),a.push(e);const t=Lu.Js(n.targetId,e);s.push(t)}}))}),await Promise.all(o),i.Zu.Ko(a);{var n=i.localStore,l=s;const u=n;try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>b.forEach(l,t=>b.forEach(t.zs,e=>u.persistence.referenceDelegate.addReference(n,t.targetId,e)).next(()=>b.forEach(t.Hs,e=>u.persistence.referenceDelegate.removeReference(n,t.targetId,e)))))}catch(n){if(!al(n))throw n;p("LocalStore","Failed to update sequence numbers: "+n)}for(const n of l){const l=n.targetId;if(!n.fromCache){const n=u.si.get(l),c=n.snapshotVersion,h=n.withLastLimboFreeSnapshotVersion(c);u.si=u.si.insert(l,h)}}}}}function nh(e){const t=e;return t.remoteStore.remoteSyncer.applySuccessfulWrite=async function(e,t){const n=e,r=t.batch.batchId;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const t=r.batch.keys(),n=i.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,r,i){const a=r.batch,n=a.keys();let s=b.resolve();return n.forEach(n=>{s=s.next(()=>i.getEntry(t,n)).next(e=>{const t=r.docVersions.get(n);I(null!==t),e.version.compareTo(t)<0&&(a.applyToRemoteDocument(e,r),e.isValidDocument()&&(e.setReadTime(r.commitVersion),i.addEntry(e)))})}),s.next(()=>e.$s.removeMutationBatch(t,a))}(i,e,r,n).next(()=>n.apply(e)).next(()=>i.$s.performConsistencyCheck(e)).next(()=>i.ai.qs(e,t))})}(n.localStore,t);Xc(n,r,null),$c(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await th(n,e)}catch(e){await cu(e)}}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=async function(e,t,n){const r=e;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let n;return i.$s.lookupMutationBatch(t,r).next(e=>(I(null!==e),n=e.keys(),i.$s.removeMutationBatch(t,e))).next(()=>i.$s.performConsistencyCheck(t)).next(()=>i.ai.qs(t,n))})}(r.localStore,t);Xc(r,t,n),$c(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await th(r,e)}catch(n){await cu(n)}}.bind(null,t),t}class rh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=sc(e.databaseInfo.databaseId),this.sharedClientState=this.da(e),this.persistence=this._a(e),await this.persistence.start(),this.gcScheduler=this.wa(e),this.localStore=this.ma(e)}wa(e){return null}ma(e){return Ru(this.persistence,new Du,e.initialUser,this.M)}_a(e){return new $u(Qu.Wi,this.M)}da(e){return new Ju}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ih extends rh{constructor(e,t,n){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ga.initialize(this,e),await nh(this.ga.syncEngine),await Tc(this.ga.remoteStore),await this.persistence.Is(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}ma(e){return Ru(this.persistence,new Du,e.initialUser,this.M)}wa(e){const t=this.persistence.referenceDelegate.garbageCollector;return new fu(t,e.asyncQueue)}_a(e){const t=Au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ql.withCacheSize(this.cacheSizeBytes):Ql.DEFAULT;return new Iu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,ac(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Ju}}(class extends null{});class ah{async initialize(e,t){if(!this.localStore){this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Yc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=async function(e,t){const n=e;if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Ou(n.localStore,t);n.currentUser=t,(r=n).ua.forEach(e=>{e.forEach(e=>{e.reject(new A(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await th(n,e.ci)}var r}.bind(null,this.syncEngine);{const n=this.remoteStore;this.syncEngine.isPrimaryClient?(n.lu.delete(2),await pc(n)):(n.lu.add(2),await mc(n),n._u.set("Unknown"))}}}createEventManager(e){return new Vc}createDatastore(e){const t=sc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ic(r));var r=e.authCredentials,e=e.appCheckCredentials,i=n,a=t;return new hc(r,e,i,a)}createRemoteStore(e){return t=this.localStore,n=this.datastore,e=e.asyncQueue,r=e=>Yc(this.syncEngine,e,0),i=new(tc.vt()?tc:ec),new fc(t,n,e,r,i);var t,n,r,i}createSyncEngine(e,t){{var n=this.localStore,r=this.remoteStore,i=this.eventManager,a=this.sharedClientState,s=e.initialUser,e=e.maxConcurrentLimboResolutions;const o=new Kc(n,r,i,a,s,e);return t&&(o.ca=!0),o}}terminate(){return async function(e){const t=e;p("RemoteStore","RemoteStore shutting down."),t.lu.add(5),await mc(t),t.du.shutdown(),t._u.set("Unknown")}(this.remoteStore)}}class sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oh{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Si.UNAUTHENTICATED,this.clientId=zi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(e){const t=Lc(e,"Failed to shutdown persistence");n.reject(t)}}),n.promise}}async function lh(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ou(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function uh(e,n){e.asyncQueue.verifyOperationInProgress(),(i=e).offlineComponents||(p("FirestoreClient","Using default OfflineComponentProvider"),await lh(i,new rh));const t=await i.offlineComponents,r=(p("FirestoreClient","Initializing OnlineComponentProvider"),await e.getConfiguration());var i;await n.initialize(t,r),e.setCredentialChangeListener(e=>Nc(n.remoteStore,e)),e.setAppCheckTokenChangeListener((e,t)=>Nc(n.remoteStore,t)),e.onlineComponents=n}async function ch(e){return e.onlineComponents||(p("FirestoreClient","Using default OnlineComponentProvider"),await uh(e,new ah)),e.onlineComponents}async function hh(e){const t=await ch(e),n=t.eventManager;return n.onListen=async function(t,e){const n=function(){const e=t;return e.remoteStore.remoteSyncer.applyRemoteEvent=Gc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){const n=e,r=n.ia.get(t);if(r&&r.Xu)return y().add(r.key);{let e=y();const r=n.ea.get(t);if(!r)return e;for(const t of r){const r=n.ta.get(t);e=e.unionWith(r.view.qu)}return e}}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=async function(e,t,n){const r=e,i=(r.sharedClientState.updateQueryState(t,"rejected",n),r.ia.get(t)),a=i&&i.key;if(a){let e=new Vs(m.comparator);e=e.insert(a,L.newNoDocument(a,P.min()));const n=y().add(a),i=new $s(P.min(),new Map,new d(k),e,n);await Gc(r,i),r.sa=r.sa.remove(a),r.ia.delete(t),eh(r)}else await Fu(r.localStore,t,!1).then(()=>Qc(r,t,n)).catch(cu)}.bind(null,e),e.Zu.Ko=function(e,t){const n=e;let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Au(e)&&(r=!0);i.Iu=e}}r&&Fc(n)}.bind(null,e.eventManager),e.Zu.la=function(e,t,n){const r=e,i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}();let r,i;const a=n.ta.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const t=await function(e,r){const i=e;return i.persistence.runTransaction("Allocate target","readwrite",t=>{let n;return i.ls.getTargetData(t,r).next(e=>e?(n=e,b.resolve(n)):i.ls.allocateTargetId(t).next(e=>(n=new ml(r,e,0,t.currentSequenceNumber),i.ls.addTargetData(t,n).next(()=>n))))}).then(e=>{const t=i.si.get(e.targetId);return(null===t||0<e.snapshotVersion.compareTo(t.snapshotVersion))&&(i.si=i.si.insert(e.targetId,e),i.ii.set(r,e.targetId)),e})}(n.localStore,ns(e)),a=(n.isPrimaryClient&&gc(n.remoteStore,t),n.sharedClientState.addLocalQueryTarget(t.targetId));r=t.targetId,i=await async function(n,e,t,r){n.ha=(e,s,t)=>async function(e,t,n){let r=t.view.Gu(s);r.ei&&(r=await zu(e.localStore,t.query,!1).then(({documents:e})=>t.view.Gu(e,r)));const i=n&&n.targetChanges.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,i);return Jc(e,t.targetId,a.zu),a.snapshot}(n,e,t);const i=await zu(n.localStore,e,!0),a=new qc(e,i.hi),s=a.Gu(i.documents),o=Xs.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=a.applyChanges(s,n.isPrimaryClient,o),u=(Jc(n,t,l.zu),new Hc(e,t,a));return n.ta.set(e,u),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),l.snapshot}(n,e,r,"current"===a)}return i}.bind(null,t.syncEngine),n.onUnlisten=async function(e,t){const n=e,r=n.ta.get(t),i=n.ea.get(r.targetId);if(1<i.length)return n.ea.set(r.targetId,i.filter(e=>!rs(e,t))),void n.ta.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yc(n.remoteStore,r.targetId),Qc(n,r.targetId)}).catch(cu)):(Qc(n,r.targetId),await Fu(n.localStore,r.targetId,!0))}.bind(null,t.syncEngine),n}const dh=new Map;function fh(e,t,n){if(!n)throw new A(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ph(e){if(!m.isDocumentKey(e))throw new A(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mh(e){if(m.isDocumentKey(e))throw new A(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function gh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":_();if(e instanceof Array)return"an array";{const t=e.constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}function yh(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new A(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(e);throw new A(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: `+n)}}class vh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new A(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null==(t=e.ssl)||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams;var t=e.experimentalForceLongPolling,e=e.experimentalAutoDetectLongPolling;if(!0===t&&!0===e)throw new A(N.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1,e instanceof ia?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))return new ia(e.options.projectId);throw new A(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}(e))}get app(){if(this._app)return this._app;throw new A(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available")}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Li;switch(e.type){case"gapi":const t=e.client;return I(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ri(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new A(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){{const e=dh.get(this);e&&(p("ComponentProvider","Removing Datastore"),dh.delete(this),e.terminate())}return Promise.resolve()}}class wh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wh(this.firestore,e,this._key)}}class xh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class Ch extends xh{constructor(e,t,n){super(e,t,Za(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wh(this.firestore,null,new m(e))}withConverter(e){return new Ch(this.firestore,e,this._path)}}function kh(e,t,...n){if(e=$(e),fh("collection","path",t),e instanceof bh){const r=u.fromString(t,...n);return mh(r),new Ch(e,null,r)}{if(!(e instanceof wh||e instanceof Ch))throw new A(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(u.fromString(t,...n));return mh(i),new Ch(e.firestore,null,i)}}function Sh(e,t,...n){if(e=$(e),fh("doc","path",t=1===arguments.length?zi.R():t),e instanceof bh){const r=u.fromString(t,...n);return ph(r),new wh(e,null,new m(r))}{if(!(e instanceof wh||e instanceof Ch))throw new A(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(u.fromString(t,...n));return ph(i),new wh(e.firestore,e instanceof Ch?e.converter:null,new m(i))}}class Eh{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new oc(this,"async_queue_retry"),this.Ua=()=>{const e=ac();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=ac();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=ac();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Ai;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}async Ka(){if(0!==this.ka.length){try{await this.ka[0](),this.ka.shift(),this.So.reset()}catch(e){if(!al(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}0<this.ka.length&&this.So.Io(()=>this.Ka())}}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(e=>{this.Fa=e,this.$a=!1;const t=function(e){let t=e.message||"";return t=e.stack?e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack:t}(e);throw Ii("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.$a=!1,e))));return this.Na=t}enqueueAfterDelay(e,t,n){this.qa(),-1<this.La.indexOf(e)&&(t=0);const r=Pc.createAndSchedule(this,e,t,n,e=>this.Qa(e));return this.Oa.push(r),r}qa(){this.Fa&&_()}verifyOperationInProgress(){}async ja(){let e;for(;await(e=this.Na),e!==this.Na;);}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function Th(e){var t=e;if("object"==typeof t&&null!==t){const n=t;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return 1}}class _h extends bh{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Eh,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Nh(this),this._firestoreClient.terminate()}}function Ih(e){return e._firestoreClient||Nh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Nh(e){var t,n,r,i;const a=e._freezeSettings(),s=(t=e._databaseId,n=(null==(n=e._app)?void 0:n.options.appId)||"",r=e._persistenceKey,i=a,new ra(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams));e._firestoreClient=new oh(e._authCredentials,e._appCheckCredentials,e._queue,s)}function jh(e){if(e._initialized&&!e._terminated)throw new A(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ai;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!nl.vt())return Promise.resolve();const t=e+"main";await nl.delete(t)}(Au(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function Ah(e){return t=e.app,pe,be(t,"firestore").clearInstance("[DEFAULT]"),e._delete();var t}class Ph{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new A(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lh(Qi.fromBase64String(e))}catch(e){throw new A(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Lh(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dh{constructor(e){this._methodName=e}}class Mh{constructor(e,t){if(!isFinite(e)||e<-90||90<e)throw new A(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new A(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return k(this._lat,e._lat)||k(this._long,e._long)}}const Rh=/^__.*__$/;class Oh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Is(e,this.data,t,this.fieldTransforms)}}class Vh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fh(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw _()}}class zh{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ja(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}nc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return td(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Fh(this.Ya)&&Rh.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Uh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||sc(e)}uc(e,t,n,r=!1){return new zh({Ya:e,methodName:t,oc:n,path:$i.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bh(e){const t=e._freezeSettings(),n=sc(e._databaseId);return new Uh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qh(e,t,n,r,i,a={}){const s=e.uc(a.merge||a.mergeFields?2:0,t,n,i),o=(Qh("Data must be an object, but it was:",s,r),$h(r,s));let l,u;if(a.merge)l=new Xi(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Zh(t,r,n);if(!s.contains(i))throw new A(N.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);nd(e,i)||e.push(i)}l=new Xi(e),u=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=s.fieldTransforms;return new Oh(new Ea(o),l,u)}class Hh extends Dh{_toFieldTransform(e){if(2!==e.Ya)throw 1===e.Ya?e.ic(this._methodName+"() can only appear at the top level of your update data"):e.ic(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function Wh(e,t,n){return new zh({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}(class extends null{});class Kh extends Dh{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Wh(this,e,!0),n=this.ac.map(e=>Yh(e,t)),r=new fs(n);return new ws(e.path,r)}isEqual(e){return this===e}}class Gh extends Dh{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Wh(this,e,!0),n=this.ac.map(e=>Yh(e,t)),r=new ms(n);return new ws(e.path,r)}isEqual(e){return this===e}}function Yh(e,n){if(Xh(e=$(e)))return Qh("Unsupported field value:",n,e),$h(e,n);if(e instanceof Dh){{var t=e,r=n;if(!Fh(r.Ya))throw r.ic(t._methodName+"() can only be used with update() and set()");if(!r.path)throw r.ic(t._methodName+"() is not currently supported inside arrays");const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}return null}if(void 0===e&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),e instanceof Array){if(n.settings.tc&&4!==n.Ya)throw n.ic("Nested arrays are not supported");{var i=n;const o=[];let t=0;for(const l of e){let e=Yh(l,i.sc(t));null==e&&(e={nullValue:"NULL_VALUE"}),o.push(e),t++}return{arrayValue:{values:o}}}}var a,t=n;if(null===(r=$(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return n=t.M,"number"==typeof(a=e=r)&&Number.isInteger(a)&&!sa(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER?us(e):ls(n,e);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=qi.fromDate(r);return{timestampValue:oo(t.M,u)}}if(r instanceof qi){const c=new qi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oo(t.M,c)}}if(r instanceof Mh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lh)return{bytesValue:lo(t.M,r._byteString)};if(r instanceof wh){const h=t.databaseId,d=r.firestore._databaseId;if(d.isEqual(h))return{referenceValue:co(r.firestore._databaseId||t.databaseId,r._key.path)};throw t.ic(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/`+h.database)}throw t.ic("Unsupported field value: "+gh(r))}function $h(e,r){const i={};return Ki(e)?r.path&&0<r.path.length&&r.fieldMask.push(r.path):Wi(e,(e,t)=>{const n=Yh(t,r.Za(e));null!=n&&(i[e]=n)}),{mapValue:{fields:i}}}function Xh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qi||e instanceof Mh||e instanceof Lh||e instanceof wh||e instanceof Dh)}function Qh(e,t,n){if(!Xh(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=gh(n);throw"an object"===i?t.ic(e+" a custom object"):t.ic(e+" "+i)}var r}function Zh(e,t,n){if((t=$(t))instanceof Ph)return t._internalPath;if("string"==typeof t)return ed(e,t);throw td("Field path arguments must be of type string or ",e,!1,void 0,n)}(class extends null{});const Jh=new RegExp("[~\\*/\\[\\]]");function ed(t,n,r){if(0<=n.search(Jh))throw td(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ph(...n.split("."))._internalPath}catch(e){throw td(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function td(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`,l=(n&&(o+=" (via `toFirestore()`)"),o+=". ","");return(a||s)&&(l+=" (found",a&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new A(N.INVALID_ARGUMENT,o+e+l)}function nd(e,t){return e.some(e=>e.isEqual(t))}class rd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new id(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ad("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class id extends rd{data(){return super.data()}}function ad(e,t){return"string"==typeof t?ed(e,t):(t instanceof Ph?t:t._delegate)._internalPath}class sd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends rd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ad("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ld extends od{data(e={}){return super.data(e)}}class ud{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,n){this._snapshot.docs.forEach(e=>{t.call(n,new ld(this._firestore,this._userDataWriter,e.key,e,new sd(this._snapshot.mutatedKeys.has(e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new A(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,t){if(a._snapshot.oldDocs.isEmpty()){let t=0;return a._snapshot.docChanges.map(e=>({type:"added",doc:new ld(a._firestore,a._userDataWriter,e.doc.key,e.doc,new sd(a._snapshot.mutatedKeys.has(e.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:t++}))}{let i=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(e=>t||3!==e.type).map(e=>{const t=new ld(a._firestore,a._userDataWriter,e.doc.key,e.doc,new sd(a._snapshot.mutatedKeys.has(e.doc.key),a._snapshot.fromCache),a.query.converter);let n=-1,r=-1;return 0!==e.type&&(n=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),r=i.indexOf(e.doc.key)),{type:function(){switch(e.type){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _()}}(),doc:t,oldIndex:n,newIndex:r}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}(class extends null{}),class extends null{},class extends null{},class extends null{},class extends null{},class extends null{};class hd extends class{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return S(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _()}}convertObject(e,n){const r={};return Wi(e.fields,(e,t)=>{r[e]=this.convertValue(t,n)}),r}convertGeoPoint(e){return new Mh(S(e.latitude),S(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return ta(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new qi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=u.fromString(e),r=(I(_o(n)),new ia(n.get(1),n.get(3))),i=new m(n.popFirst(5));return r.isEqual(t)||Ii(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wh(this.firestore,null,t)}}function dd(e,t,n){e=yh(e,wh);const r=yh(e.firestore,_h),i=cd(e.converter,t,n);return md(r,[qh(Bh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cs.none())])}function fd(e,t,n,...r){e=yh(e,wh);const i=yh(e.firestore,_h),a=Bh(i);let s;md(i,[(s="string"==typeof(t=$(t))||t instanceof Ph?function(n,r,e,i,t,a){const s=n.uc(1,r,e),o=[Zh(r,i,e)],l=[t];if(a.length%2!=0)throw new A(N.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)o.push(Zh(r,a[e])),l.push(a[e+1]);const u=[],c=Ea.empty();for(let t=o.length-1;0<=t;--t)if(!nd(u,o[t])){const r=o[t];let e=l[t];e=$(e);const i=s.nc(r);if(e instanceof Hh)u.push(r);else{const n=Yh(e,i);null!=n&&(u.push(r),c.set(r,n))}}const h=new Xi(u);return new Vh(c,h,s.fieldTransforms)}(a,"updateDoc",e._key,t,n,r):function(e,i,t){const a=e.uc(1,"updateDoc",i),s=(Qh("Data must be an object, but it was:",a,t),[]),o=Ea.empty(),n=(Wi(t,(e,t)=>{const n=ed("updateDoc",e,i),r=(t=$(t),a.nc(n));if(t instanceof Hh)s.push(n);else{const e=Yh(t,r);null!=e&&(s.push(n),o.set(n,e))}}),new Xi(s));return new Vh(o,n,a.fieldTransforms)}(a,e._key,t)).toMutation(e._key,Cs.exists(!0))])}function pd(t,...n){t=$(t);let e={includeMetadataChanges:!1},r=0;"object"!=typeof n[r]||Th(n[r])||(e=n[r],r++);const i={includeMetadataChanges:e.includeMetadataChanges};if(Th(n[r])){const t=n[r];n[r]=null==(h=t.next)?void 0:h.bind(t),n[r+1]=null==(c=t.error)?void 0:c.bind(t),n[r+2]=null==(h=t.complete)?void 0:h.bind(t)}let a,s,o;if(t instanceof wh)s=yh(t.firestore,_h),o=Za(t._key.path),a={next:e=>{n[r]&&n[r](function(e,t,n){const r=n.docs.get(t._key),i=new hd(e);return new od(e,i,t._key,r,new sd(n.hasPendingWrites,n.fromCache),t.converter)}(s,t,e))},error:n[r+1],complete:n[r+2]};else{const h=yh(t,xh),c=(s=yh(h.firestore,_h),o=h._query,new hd(s));a={next:e=>{n[r]&&n[r](new ud(s,c,h,e))},error:n[r+1],complete:n[r+2]};var l=t._query;if(es(l)&&0===l.explicitOrderBy.length)throw new A(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}{var u=Ih(s),c=o,h=i,l=a;const d=new sh(l),f=new zc(c,d,h);return u.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=e,r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Oc),i)try{a.Iu=await n.onListen(r)}catch(e){const n=Lc(e,`Initialization of query '${as(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Eu(n.onlineState),a.Iu&&t.Au(a.Iu)&&Fc(n)}(await hh(u),f)),()=>{d.pa(),u.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=e,r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);0<=e&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await hh(u),f))}}}function md(e,t){{var n=Ih(e),r=t;const i=new Ai;return n.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const r=nh(t);try{const t=await function(e,r){const i=e,a=qi.now(),t=r.reduce((e,t)=>e.add(t.key),y());let s;return i.persistence.runTransaction("Locally write mutations","readwrite",n=>i.ai.qs(n,t).next(e=>{s=e;const t=[];for(const n of r){const r=function(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=hs(r.transform,e||null);null!=i&&(n=null==n?Ea.empty():n).set(r.field,i)}return n||null}(n,s.get(n.key));null!=r&&t.push(new Ns(n.key,r,function r(e){const i=[];return Wi(e.fields,(e,t)=>{const n=new $i([e]);if(wa(t)){const e=r(t.mapValue).fields;if(0===e.length)i.push(n);else for(const t of e)i.push(n.child(t))}else i.push(n)}),new Xi(i)}(r.value.mapValue),Cs.exists(!0)))}return i.$s.addMutationBatch(n,a,t,r)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId);{var i=r,a=t.batchId,s=n;let e=i.oa[i.currentUser.toKey()];e=(e=e||new Vs(k)).insert(a,s),i.oa[i.currentUser.toKey()]=e}await th(r,t.changes),await Tc(r.remoteStore)}catch(t){const e=Lc(t,"Failed to persist write");n.reject(e)}}(await function(){return ch(n).then(e=>e.syncEngine)}(),r,i)),i.promise}}(class extends null{}),Ei="9.6.10",ve(new te("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new _h(n,new Di(e.getProvider("auth-internal")),new Vi(e.getProvider("app-check-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),ke(ki,"3.4.7",void 0),ke(ki,"3.4.7","esm2017");const gd="firebasestorage.googleapis.com",yd="storageBucket";class w extends H{constructor(e,t){super(vd(e),`Firebase Storage: ${t} (${vd(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,w.prototype)}_codeEquals(e){return vd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage}}function vd(e){return"storage/"+e}function bd(){return new w("unknown","An unknown error occurred, please check the error payload for server response.")}function wd(){return new w("canceled","User canceled the upload/download.")}function xd(){return new w("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cd(e){return new w("invalid-argument",e)}function kd(){return new w("app-deleted","The Firebase app was deleted.")}function Sd(e,t){return new w("invalid-format","String does not match format '"+e+"': "+t)}function Ed(e){throw new w("internal-error","Internal error: "+e)}class Td{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Td.makeFromUrl(t,e)}catch(e){return new Td(t,"")}if(""===n.path)return n;throw e=t,new w("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=e.replace(/[.]/g,"\\."),o=new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),l=e===gd?"(?:storage.googleapis.com|storage.cloud.google.com)":e,u=new RegExp(`^https?://${l}/${r}/([^?#]*)`,"i"),c=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:o,indices:{bucket:1,path:3},postModify:a},{regex:u,indices:{bucket:1,path:2},postModify:a}];for(let e=0;e<c.length;e++){const h=c[e],d=h.regex.exec(t);if(d){const f=d[h.indices.bucket];let e=d[h.indices.path];e=e||"",n=new Td(f,e),h.postModify(n);break}}if(null==n)throw e=t,new w("invalid-url","Invalid URL '"+e+"'.");return n}}class _d{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=0){}}function Id(e){return"string"==typeof e||e instanceof String}function Nd(e){return jd()&&e instanceof Blob}function jd(){return"undefined"!=typeof Blob}function Ad(e,t,n,r){if(r<t)throw Cd(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n<r)throw Cd(`Invalid value for '${e}'. Expected ${n} or less.`)}function Pd(e,t,n){let r=null==n?"https://"+t:t;return n+`://${r}/v0`+e}function Ld(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1)}hi=0,di=1,fi=2;class Dd{constructor(e,t,n,r,i,a,s,o,l,u,c){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const a=this.callback_(i,i.getResponse());void 0!==a?n(a):n()}catch(e){r(e)}else if(null!==i){const s=bd();s.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,s)):r(s)}else if(t.canceled){const o=(this.appDelete_?kd:wd)();r(o)}else{const l=new w("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");r(l)}};this.canceled_?e(0,new Md(!1,null,!0)):this.backoffId_=function(t,n,e){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let u=!1;function c(...e){u||(u=!0,n.apply(null,e))}function h(e){i=setTimeout(()=>{i=null,t(f,l())},e)}function d(){a&&clearTimeout(a)}function f(e,...t){if(u)d();else{if(e)return d(),void c.call(null,e,...t);const n=l()||s;if(n)return d(),void c.call(null,e,...t);r<64&&(r*=2),h(1===o?(o=2,0):1e3*(r+Math.random()))}}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),a=setTimeout(()=>{m(s=!0)},e),m}((i,e)=>{if(e)i(!1,new Md(!1,null,!0));else{const a=this.connectionFactory_(),s=(this.pendingConnection_=a,e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)});null!==this.progressCallback_&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const e=a.getErrorCode()===hi,t=a.getStatus();if(!e||this.isRetryStatusCode_(t)){const n=a.getErrorCode()===fi;i(!1,new Md(!1,null,n))}else{const r=-1!==this.successCodes_.indexOf(t);i(!0,new Md(r,a))}})}},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=500<=e&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class Md{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}const Rd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Od{constructor(e,t){this.data=e,this.contentType=t||null}}function Vd(n){const r=[];for(let t=0;t<n.length;t++){let e=n.charCodeAt(t);if(e<=127)r.push(e);else if(e<=2047)r.push(192|e>>6,128|63&e);else if(55296==(64512&e)){const i=t<n.length-1&&56320==(64512&n.charCodeAt(t+1));if(i){const a=e,s=n.charCodeAt(++t);e=65536|(1023&a)<<10|1023&s,r.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e)}else r.push(239,191,189)}else 56320==(64512&e)?r.push(239,191,189):r.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(r)}function Fd(t,e){switch(t){case Rd.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a){const s=i?"-":"_";throw Sd(t,"Invalid character '"+s+"' found: is it base64url encoded?")}break}case Rd.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l){const u=o?"+":"/";throw Sd(t,"Invalid character '"+u+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(e)}catch(e){throw Sd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class zd{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sd(Rd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;return n&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Ud{constructor(e,t){let n=0,r="";Nd(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Nd(this.data_)){const a=this.data_,s=(r=e,i=t,(n=a).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new Ud(s)}{const o=new Uint8Array(this.data_.buffer,e,t-e);return new Ud(o,!0)}var n,r,i}static getBlob(...e){if(jd()){const t=e.map(e=>e instanceof Ud?e.data_:e);return new Ud(function(...t){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(jd())return new Blob(t);throw new w("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,t))}{const r=e.map(e=>Id(e)?function(e,t){switch(e){case Rd.RAW:return new Od(Vd(t));case Rd.BASE64:case Rd.BASE64URL:return new Od(Fd(e,t));case Rd.DATA_URL:return new Od(function(t){const n=new zd(t);if(n.base64)return Fd(Rd.BASE64,n.rest);{t=n.rest;let e;try{e=decodeURIComponent(t)}catch(e){throw Sd(Rd.DATA_URL,"Malformed data URL.")}return Vd(e)}}(t),function(e){const t=new zd(e);return t.contentType}(t))}throw bd()}(Rd.RAW,e).data:e.data_);let t=0;r.forEach(e=>{t+=e.byteLength});const i=new Uint8Array(t);let n=0;return r.forEach(t=>{for(let e=0;e<t.length;e++)i[n++]=t[e]}),new Ud(i,!0)}}uploadData(){return this.data_}}function Bd(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(e=t)||Array.isArray(e)?null:t}function qd(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Hd(e,t){return t}class Wd{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Hd}}let Kd=null;function Gd(){if(Kd)return Kd;const e=[],t=(e.push(new Wd("bucket")),e.push(new Wd("generation")),e.push(new Wd("metageneration")),e.push(new Wd("name","fullPath",!0)),new Wd("name")),n=(t.xform=function(e,t){return!Id(t=t)||t.length<2?t:qd(t)},e.push(t),new Wd("size"));return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Wd("timeCreated")),e.push(new Wd("updated")),e.push(new Wd("md5Hash",null,!0)),e.push(new Wd("cacheControl",null,!0)),e.push(new Wd("contentDisposition",null,!0)),e.push(new Wd("contentEncoding",null,!0)),e.push(new Wd("contentLanguage",null,!0)),e.push(new Wd("contentType",null,!0)),e.push(new Wd("metadata","customMetadata",!0)),Kd=e}function Yd(e,t,n){const r=Bd(t);if(null===r)return null;const i=r;{var t=e,a=i,s=n;const u={type:"file"},c=s.length;for(let e=0;e<c;e++){const h=s[e];u[h.local]=h.xform(u,a[h.server])}return o=u,l=t,Object.defineProperty(o,"ref",{get:function(){const e=o.bucket,t=o.fullPath,n=new Td(e,t);return l._makeStorageReference(n)}}),u}var o,l}function $d(t,n){const r={},i=n.length;for(let e=0;e<i;e++){const a=n[e];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class Xd{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qd(e){if(!e)throw bd()}function Zd(r,i){return function(e,t){const n=Yd(r,t,i);return Qd(null!==n),n}}function Jd(i){return function(e,t){let n;var r;return(n=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new w("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new w("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=i.bucket,new w("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=i.path,new w("unauthorized","User does not have permission to access '"+r+"'.")):t).serverResponse=t.serverResponse,n}}function ef(r){const i=Jd(r);return function(e,t){let n=i(e,t);return(n=404===e.getStatus()?(e=r.path,new w("object-not-found","Object '"+e+"' does not exist.")):n).serverResponse=t.serverResponse,n}}function tf(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=t&&t.type()||"application/octet-stream"),r}function nf(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},o=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}(),l=(s["Content-Type"]="multipart/related; boundary="+o,tf(t,r,i)),u=$d(l,n),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",h="\r\n--"+o+"--",d=Ud.getBlob(c,r,h);if(null===d)throw xd();const f={name:l.fullPath},p=Pd(a,e.host,e._protocol),m=e.maxUploadRetryTime,g=new Xd(p,"POST",Zd(e,n),m);return g.urlParams=f,g.headers=s,g.body=d.uploadData(),g.errorHandler=Jd(t),g}class rf{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function af(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Qd(!1)}const r=t||["active"];return Qd(!!n&&-1!==r.indexOf(n)),n}const sf={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function of(e){switch(e){case"running":case"pausing":case"canceling":return sf.RUNNING;case"paused":return sf.PAUSED;case"success":return sf.SUCCESS;case"canceled":return sf.CANCELED;default:return sf.ERROR}}class lf{constructor(e,t,n){const r="function"==typeof e||null!=t||null!=n;if(r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}function uf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class cf extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hi,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=di,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Ed("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(this.sent_)return this.errorCode_;throw Ed("cannot .getErrorCode() before sending")}getStatus(){if(!this.sent_)throw Ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(this.sent_)return this.xhr_.response;throw Ed("cannot .getResponse() before sending")}getErrorText(){if(this.sent_)return this.xhr_.statusText;throw Ed("cannot .getErrorText() before sending")}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function hf(){return new cf}(class extends null{}),class extends null{};class df{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Gd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(e){return 262144<e.size()}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,t])=>{switch(this._state){case"running":n(e,t);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s=tf(t,r,i),o={name:s.fullPath},l=Pd(a,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=$d(s,n),h=e.maxUploadRetryTime,d=new Xd(l,"POST",function(e){af(e);let t;try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Qd(!1)}return Qd(Id(t)),t},h);return d.urlParams=o,d.headers=u,d.body=c,d.errorHandler=Jd(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,hf,e,t);(this._request=r).getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((e,t)=>{const n=function(e,t,n,i){const r=e.maxUploadRetryTime,a=new Xd(n,"POST",function(e){const t=af(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Qd(!1)}n||Qd(!1);const r=Number(n);return Qd(!isNaN(r)),new rf(r,i.size(),"final"===t)},r);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Jd(t),a}(this._ref.storage,this._ref._location,i,this._blob),r=this._ref.storage._makeRequest(n,hf,e,t);(this._request=r).getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,a=new rf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((e,t)=>{let n;try{n=function(e,s,t,o,n,l,r,i){const u=new rf(0,0);if(r?(u.current=r.current,u.total=r.total):(u.current=0,u.total=o.size()),o.size()!==u.total)throw new w("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const a=u.total-u.current;let c=a;0<n&&(c=Math.min(c,n));const h=u.current,d=h+c,f=c===a?"upload, finalize":"upload",p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":""+u.current},m=o.slice(h,d);if(null===m)throw xd();const g=s.maxUploadRetryTime,y=new Xd(t,"POST",function(e,t){const n=af(e,["active","final"]),r=u.current+c,i=o.size();let a;return a="final"===n?Zd(s,l)(e,t):null,new rf(r,i,"final"===n,a)},g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=i||null,y.errorHandler=Jd(e),y}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,a,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const r=this._ref.storage._makeRequest(n,hf,e,t);(this._request=r).getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){const e=262144*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=function(e,t,n){const r=t.fullServerUrl(),i=Pd(r,e.host,e._protocol),a=e.maxOperationRetryTime,s=new Xd(i,"GET",Zd(e,n),a);return s.errorHandler=ef(t),s}(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,hf,e,t);(this._request=r).getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=nf(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,hf,e,t);(this._request=r).getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wd(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=of(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new lf(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();const e=this._observers.slice();e.forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(of(this._state)){case sf.SUCCESS:uf(this._resolve.bind(null,this.snapshot))();break;case sf.CANCELED:case sf.ERROR:const t=this._reject;uf(t.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){const t=of(this._state);switch(t){case sf.RUNNING:case sf.PAUSED:e.next&&uf(e.next.bind(e,this.snapshot))();break;case sf.SUCCESS:e.complete&&uf(e.complete.bind(e))();break;case sf.CANCELED:case sf.ERROR:default:e.error&&uf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ff{constructor(e,t){this._service=e,t instanceof Td?this._location=t:this._location=Td.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ff(e,t)}get root(){const e=new Td(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qd(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");if(-1===t)return"";const n=e.slice(0,t);return n}(this._location.path);if(null===e)return null;const t=new Td(this._location.bucket,e);return new ff(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw e=e,new w("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function pf(e,t){const n=null==t?void 0:t[yd];return null==n?null:Td.makeFromBucketSpec(n,e)}class mf{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=gd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Td.makeFromBucketSpec(r,this._host):pf(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Td.makeFromBucketSpec(this._url,e):this._bucket=pf(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ad("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ad("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();return t.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ff(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new _d(kd());{const i=function(e,t,n,r,i,a){const s=Ld(e.urlParams),o=e.url+s,l=Object.assign({},e.headers);var u=l;return t&&(u["X-Firebase-GMPID"]=t),u=l,null!==n&&0<n.length&&(u.Authorization="Firebase "+n),l["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager"),t=l,null!==r&&(t["X-Firebase-AppCheck"]=r),new Dd(o,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const gf="@firebase/storage";function yf(e){{(e=e=$(e))._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=t.fullServerUrl(),i=Pd(r,e.host,e._protocol),a=e.maxOperationRetryTime,s=new Xd(i,"GET",(h=e,d=n,function(e,t){const n=Yd(h,t,d);Qd(null!==n);{var s=n,o=h.host,l=h._protocol;const r=Bd(t);if(null===r)return null;if(!Id(r.downloadTokens))return null;const i=r.downloadTokens;if(0===i.length)return null;const u=encodeURIComponent,a=i.split(","),c=a.map(e=>{const t=s.bucket,n=s.fullPath,r="/b/"+u(t)+"/o/"+u(n),i=Pd(r,o,l),a=Ld({alt:"media",token:e});return i+a});return c[0]}}),a);var h,d;return s.errorHandler=ef(t),s}(e.storage,e._location,Gd());return e.storage.makeRequestWithTokens(t,hf).then(e=>{if(null===e)throw new w("no-download-url","The given file does not have any download URLs.");return e})}}function vf(e,t){var n,r,e=e=$(e);if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof mf)return n=e,r=t,new ff(n,r);throw Cd("To use ref(service, url), the first argument must be a Storage instance.")}return function e(t,n){if(t instanceof mf){const i=t;if(null==i._bucket)throw new w("no-default-bucket","No default bucket found. Did you set the '"+yd+"' property when initializing the app?");const a=new ff(i,i._bucket);return null!=n?e(a,n):a}if(void 0===n)return t;{var r=n;const s=function(e){const t=r.split("/").filter(e=>0<e.length).join("/");return 0===e.length?t:e+"/"+t}(t._location.path),o=new Td(t._location.bucket,s);return new ff(t.storage,o)}}(e,t)}function bf(e=Ce(),t){const n=be(e=$(e),"storage"),r=n.getImmediate({identifier:t});return r}ve(new te("storage",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new mf(n,r,i,t,"9.6.10")},"PUBLIC").setMultipleInstances(!0)),ke(gf,"0.9.4",""),ke(gf,"0.9.4","esm2017"),function(e,t={}){if("object"!=typeof t){const r=t;t={name:r}}const n=Object.assign({name:pe,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw we.create("bad-app-name",{appName:String(r)});const i=ge.get(r);if(i){if(G(e,i.options)&&G(n,i.config))return;throw we.create("duplicate-app",{appName:r})}const a=new ie(r);for(const o of ye.values())a.addComponent(o);const s=new xe(e,n,a);ge.set(r,s)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1",projectId:"rebot-f643e",storageBucket:"gs://rebot-f643e.appspot.com"});const wf=be(Ce(),"firestore").getImmediate();{var i=wf,n={forceOwnership:!0},t=i=yh(i,_h);if(t._initialized||t._terminated)throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");const U9=Ih(i),B9=i._freezeSettings(),q9=new ah;{var xf=U9,Cf=q9,kf=new ih(q9,B9.cacheSizeBytes,null==n?void 0:n.forceOwnership);const H9=new Ai;xf.asyncQueue.enqueue(async()=>{try{await lh(xf,kf),await uh(xf,Cf),H9.resolve()}catch(e){if(!("FirebaseError"===(t=e).name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),H9.reject(e)}var t}).then(()=>H9.promise)}}const Sf=(0,j.createContext)(null),Ef=(0,j.createContext)(null),Tf=(0,j.createContext)(null),_f=(0,j.createContext)(null);dn=W9(745);const If=(t,n)=>{(0,j.useEffect)(()=>{t();const e=setInterval(t,n);return()=>clearInterval(e)},[])},Nf=(n,r)=>{const[e,t]=(0,j.useState)(()=>{{var e=r;const t=localStorage.getItem(n);return t?JSON.parse(t):e}});return(0,j.useEffect)(()=>{localStorage.setItem(n,JSON.stringify(e))},[e]),[e,t]},jf=e=>{const[t,n]=(0,j.useState)(null);return(0,j.useEffect)(()=>pd(e,e=>{n(e.data())}),[e]),t};function Af(e={}){try{fetch("https://world1dan.pythonanywhere.com/report",{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify(e)})}catch(e){console.log("ANALYTICS_ERROR: ",e.message)}}var x=W9(5893);const Pf=e=>(0,x.jsx)("div",{className:"Loading",style:e.styles,children:(0,x.jsx)("div",{className:"loader"})});var Lf=function(e,t){return(Lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Df(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Lf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var z=function(){return(z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Mf(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function U(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}function Rf(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Of(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}}Object.create,Object.create;var Vf={measureLayout:Of(["layout","layoutId","drag"]),animation:Of(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Of(["exit"]),drag:Of(["drag","dragControls"]),focus:Of(["whileFocus"]),hover:Of(["whileHover","onHoverStart","onHoverEnd"]),tap:Of(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Of(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Of(["whileInView","onViewportEnter","onViewportLeave"])},Ff=(0,j.createContext)({strict:!1}),zf=Object.keys(Vf),Uf=zf.length,Bf=(0,j.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),qf=(0,j.createContext)({}),Hf=(0,j.createContext)(null),Wf="undefined"!=typeof window,Kf=Wf?j.useLayoutEffect:j.useEffect,Gf={current:null},Yf=!1;function $f(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Xf(e){return Array.isArray(e)}function Qf(e){return"string"==typeof e||Xf(e)}function Zf(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof(t="string"==typeof(t="function"==typeof t?t(null!=n?n:e.custom,r,i):t)?null==(a=e.variants)?void 0:a[t]:t)?t(null!=n?n:e.custom,r,i):t}function Jf(e,t,n){var r,i,a=e.getProps();return Zf(a,t,null!=n?n:a.custom,(i={},e.forEachValue(function(e,t){return i[t]=e.get()}),i),(r={},e.forEachValue(function(e,t){return r[t]=e.getVelocity()}),r))}function ep(e){var t;return"function"==typeof(null==(t=e.animate)?void 0:t.start)||Qf(e.initial)||Qf(e.animate)||Qf(e.whileHover)||Qf(e.whileDrag)||Qf(e.whileTap)||Qf(e.whileFocus)||Qf(e.exit)}function tp(e){return Boolean(ep(e)||e.variants)}function np(e){return Array.isArray(e)?e.join(" "):e}function rp(e){var t=(0,j.useRef)(null);return null===t.current&&(t.current=e()),t.current}const ip=1/60*1e3,ap="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),sp="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(ap()),ip),op=40;let lp=!0,up=!1,cp=!1;const hp={delta:0,timestamp:0},dp=["read","update","preRender","render","postRender"],fp=dp.reduce((e,t)=>(e[t]=function(){let a=[],s=[],o=0,l=!1,e=!1;const u=new WeakSet,r={schedule:(e,t=!1,n=!1)=>{const r=n&&l,i=r?a:s;return t&&u.add(e),-1===i.indexOf(e)&&(i.push(e),r&&l&&(o=a.length)),e},cancel:e=>{const t=s.indexOf(e);-1!==t&&s.splice(t,1),u.delete(e)},process:t=>{if(l)e=!0;else{if(l=!0,[a,s]=[s,a],s.length=0,o=a.length)for(let e=0;e<o;e++){const n=a[e];n(t),u.has(n)&&(r.schedule(n),up=!0)}l=!1,e&&(e=!1,r.process(t))}}};return r}(),e),{}),pp=dp.reduce((e,t)=>{const r=fp[t];return e[t]=(e,t=!1,n=!1)=>(up||bp(),r.schedule(e,t,n)),e},{}),mp=dp.reduce((e,t)=>(e[t]=fp[t].cancel,e),{}),gp=dp.reduce((e,t)=>(e[t]=()=>fp[t].process(hp),e),{}),yp=e=>fp[e].process(hp),vp=e=>{up=!1,hp.delta=lp?ip:Math.max(Math.min(e-hp.timestamp,op),1),hp.timestamp=e,cp=!0,dp.forEach(yp),cp=!1,up&&(lp=!1,sp(vp))},bp=()=>{up=!0,lp=!0,cp||sp(vp)},wp=pp,C=(e,t,n)=>-n*e+n*t+e;function xp(e,t){return t?e*(1e3/t):0}function Cp(e,t){-1===e.indexOf(t)&&e.push(t)}function kp(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1)}Ep.prototype.add=function(e){var t=this;return Cp(this.subscriptions,e),function(){return kp(t.subscriptions,e)}},Ep.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},Ep.prototype.getSize=function(){return this.subscriptions.length},Ep.prototype.clear=function(){this.subscriptions.length=0};var Sp=Ep;function Ep(){this.subscriptions=[]}_p.prototype.onChange=function(e){return this.updateSubscribers.add(e)},_p.prototype.clearListeners=function(){this.updateSubscribers.clear()},_p.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},_p.prototype.attach=function(e){this.passiveEffect=e},_p.prototype.set=function(e,t){(t=void 0===t||t)&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},_p.prototype.get=function(){return this.current},_p.prototype.getPrevious=function(){return this.prev},_p.prototype.getVelocity=function(){return this.canTrackVelocity?xp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},_p.prototype.start=function(t){var n=this;return this.stop(),new Promise(function(e){n.hasAnimated=!0,n.stopAnimation=t(e)}).then(function(){return n.clearAnimation()})},_p.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},_p.prototype.isAnimating=function(){return!!this.stopAnimation},_p.prototype.clearAnimation=function(){this.stopAnimation=null},_p.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()};var Tp=_p;function _p(e){var r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Sp,this.velocityUpdateSubscribers=new Sp,this.renderSubscribers=new Sp,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=e;var e=hp,n=e.delta,e=e.timestamp;r.lastUpdated!==e&&(r.timeDelta=n,r.lastUpdated=e,wp.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return wp.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}function Ip(e){return new Tp(e)}var Np=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)},jp=function(){},Ap=function(){};const Pp=(e,t,n)=>Math.min(Math.max(n,e),t),Lp=.001,Dp=.01,Mp=10,Rp=.05,Op=1,Vp=12;function Fp(e,t){return e*Math.sqrt(1-t*t)}const zp=["duration","bounce"],Up=["stiffness","damping","mass"];function Bp(t,e){return e.some(e=>void 0!==t[e])}function qp(e){var{from:t=0,to:l=1,restSpeed:a=2,restDelta:u}=e,e=Mf(e,["from","to","restSpeed","restDelta"]);const s={done:!1,value:t};let{stiffness:c,damping:h,mass:d,velocity:f,duration:o,isResolvedFromDuration:p}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Bp(e,Up)&&Bp(e,zp)){const n=function({duration:l=800,bounce:e=.25,velocity:u=0,mass:t=1}){let c,n,h=(jp(l<=1e3*Mp,"Spring duration must be 10 seconds or less"),1-e);h=Pp(Rp,Op,h),l=Pp(Dp,Mp,l/1e3),n=h<1?(c=e=>{const t=e*h,n=t*l,r=t-u,i=Fp(e,h),a=Math.exp(-n);return Lp-r/i*a},e=>{const t=e*h,n=t*l,r=n*u+u,i=Math.pow(h,2)*Math.pow(e,2)*l,a=Math.exp(-n),s=Fp(Math.pow(e,2),h),o=0<-c(e)+Lp?-1:1;return(r-i)*a*o/s}):(c=e=>{const t=Math.exp(-e*l),n=(e-u)*l+1;return-Lp+t*n},e=>{const t=Math.exp(-e*l),n=l*l*(u-e);return t*n});const i=5/l,r=function(t,n){let r=i;for(let e=1;e<Vp;e++)r-=t(r)/n(r);return r}(c,n);if(l*=1e3,isNaN(r))return{stiffness:100,damping:10,duration:l};{const a=Math.pow(r,2)*t;return{stiffness:a,damping:2*h*Math.sqrt(t*a),duration:l}}}(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(e),m=Hp,g=Hp;function n(){const r=f?-f/1e3:0,i=l-t,a=h/(2*Math.sqrt(c*d)),s=Math.sqrt(c/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(l-t)/100,.4)),a<1){const n=Fp(s,a);m=e=>{const t=Math.exp(-a*s*e);return l-t*((r+a*s*i)/n*Math.sin(n*e)+i*Math.cos(n*e))},g=e=>{const t=Math.exp(-a*s*e);return a*s*t*(Math.sin(n*e)*(r+a*s*i)/n+i*Math.cos(n*e))-t*(Math.cos(n*e)*(r+a*s*i)-n*i*Math.sin(n*e))}}else if(1===a)m=e=>l-Math.exp(-s*e)*(i+(r+s*i)*e);else{const o=s*Math.sqrt(a*a-1);m=e=>{const t=Math.exp(-a*s*e),n=Math.min(o*e,300);return l-t*((r+a*s*i)*Math.sinh(n)+o*i*Math.cosh(n))/o}}}return n(),{next:e=>{const t=m(e);if(p)s.done=e>=o;else{const n=1e3*g(e),r=Math.abs(n)<=a,i=Math.abs(l-t)<=u;s.done=r&&i}return s.value=s.done?l:t,s},flipTarget:()=>{f=-f,[t,l]=[l,t],n()}}}qp.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const Hp=e=>0,Wp=(e,t,n)=>{const r=t-e;return 0==r?1:(n-e)/r},Kp=(t,n)=>e=>Math.max(Math.min(e,n),t),Gp=e=>e%1?Number(e.toFixed(5)):e,Yp=/(-)?([\d]*\.?[\d])+/g,$p=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Xp=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Qp(e){return"string"==typeof e}const Zp={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Jp=Object.assign(Object.assign({},Zp),{transform:Kp(0,1)}),em=Object.assign(Object.assign({},Zp),{default:1}),tm=(t,n)=>e=>Boolean(Qp(e)&&Xp.test(e)&&e.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(e,n)),nm=(a,s,o)=>e=>{if(!Qp(e))return e;const[t,n,r,i]=e.match(Yp);return{[a]:parseFloat(t),[s]:parseFloat(n),[o]:parseFloat(r),alpha:void 0!==i?parseFloat(i):1}},rm=Kp(0,255),im=Object.assign(Object.assign({},Zp),{transform:e=>Math.round(rm(e))}),am={test:tm("rgb","red"),parse:nm("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+im.transform(e)+", "+im.transform(t)+", "+im.transform(n)+", "+Gp(Jp.transform(r))+")"},sm={test:tm("#"),parse:function(e){let t="",n="",r="",i="";return 5<e.length?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:am.transform},om=t=>({test:e=>Qp(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>""+e+t}),lm=om("deg"),um=om("%"),D=om("px"),cm=om("vh"),hm=om("vw"),dm=Object.assign(Object.assign({},um),{parse:e=>um.parse(e)/100,transform:e=>um.transform(100*e)}),fm={test:tm("hsl","hue"),parse:nm("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+um.transform(Gp(t))+", "+um.transform(Gp(n))+", "+Gp(Jp.transform(r))+")"};function pm(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mm({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,s=0;if(t/=100){const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=pm(l,o,e+1/3),a=pm(l,o,e),s=pm(l,o,e-1/3)}else i=a=s=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}const gm=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},ym=[sm,am,fm],vm=t=>ym.find(e=>e.test(t)),bm=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,wm=(e,t)=>{let n=vm(e),r=vm(t),i=(Ap(!!n,bm(e)),Ap(!!r,bm(t)),n.parse(e)),a=r.parse(t);n===fm&&(i=mm(i),n=am),r===fm&&(a=mm(a),r=am);const s=Object.assign({},i);return e=>{for(const t in s)"alpha"!==t&&(s[t]=gm(i[t],a[t],e));return s.alpha=C(i.alpha,a.alpha,e),n.transform(s)}},xm={test:e=>am.test(e)||sm.test(e)||fm.test(e),parse:e=>(am.test(e)?am:fm.test(e)?fm:sm).parse(e),transform:e=>Qp(e)?e:(e.hasOwnProperty("red")?am:fm).transform(e)},Cm="${c}",km="${n}";function Sm(e){const t=[];let n=0;const r=(e="number"==typeof e?""+e:e).match($p),i=(r&&(n=r.length,e=e.replace($p,Cm),t.push(...r.map(xm.parse))),e.match(Yp));return i&&(e=e.replace(Yp,km),t.push(...i.map(Zp.parse))),{values:t,numColors:n,tokenised:e}}function Em(e){return Sm(e).values}function Tm(e){const{values:t,numColors:r,tokenised:i}=Sm(e),a=t.length;return t=>{let n=i;for(let e=0;e<a;e++)n=n.replace(e<r?Cm:km,e<r?xm.transform(t[e]):Gp(t[e]));return n}}const _m=e=>"number"==typeof e?0:e,Im={test:function(e){var t;return isNaN(e)&&Qp(e)&&0<(null!=(t=null==(t=e.match(Yp))?void 0:t.length)?t:0)+(null!=(e=null==(t=e.match($p))?void 0:t.length)?e:0)},parse:Em,createTransformer:Tm,getAnimatableNone:function(e){const t=Em(e),n=Tm(e);return n(t.map(_m))}},Nm=e=>"number"==typeof e,jm=(t,n)=>e=>n(t(e)),Am=(...e)=>e.reduce(jm);function Pm(t,n){return Nm(t)?e=>C(t,n,e):(xm.test(t)?wm:Rm)(t,n)}const Lm=(e,n)=>{const r=[...e],i=r.length,a=e.map((e,t)=>Pm(e,n[t]));return t=>{for(let e=0;e<i;e++)r[e]=a[e](t);return r}},Dm=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Pm(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function Mm(e){const t=Im.parse(e),n=t.length;let r=0,i=0,a=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}const Rm=(t,n)=>{const e=Im.createTransformer(n),r=Mm(t),i=Mm(n),a=r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers;return a?Am(Lm(r.parsed,i.parsed),e):(jp(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),e=>""+(0<e?n:t))},Om=(t,n)=>e=>C(t,n,e);function Vm(t,e,{clamp:n=!0,ease:r,mixer:l}={}){const i=t.length,a=(Ap(i===e.length,"Both input and output ranges must be the same length"),Ap(!r||!Array.isArray(r)||r.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse()),function(n,r){const i=[],a=l||("number"==typeof(e=n[0])?Om:"string"==typeof e?xm.test(e)?wm:Rm:Array.isArray(e)?Lm:"object"==typeof e?Dm:void 0);var e;const s=n.length-1;for(let t=0;t<s;t++){let e=a(n[t],n[t+1]);if(r){const o=Array.isArray(r)?r[t]:r;e=Am(o,e)}i.push(e)}return i}(e,r)),s=2===i?([[o,u],[c]]=[t,a],e=>c(Wp(o,u,e))):function(i,a){const s=i.length,o=s-1;return t=>{let n=0,e=!1;if(t<=i[0]?e=!0:t>=i[o]&&(n=o-1,e=!0),!e){let e=1;for(;e<s&&!(i[e]>t||e===o);e++);n=e-1}const r=Wp(i[n],i[n+1],t);return a[n](r)}}(t,a);var o,u,c;return n?e=>s(Pp(t[0],t[i-1],e)):s}const Fm=t=>e=>1-t(1-e),zm=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Um=t=>e=>e*e*((t+1)*e-t),Bm=e=>e,qm=e=>Math.pow(e,2),Hm=Fm(qm),Wm=zm(qm),Km=e=>1-Math.sin(Math.acos(e)),Gm=Fm(Km),Ym=zm(Gm),$m=Um(1.525),Xm=Fm($m),Qm=zm($m),Zm=(()=>{const t=Um(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),Jm=e=>{if(1===e||0===e)return e;const t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},e1=Fm(Jm);function t1({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const a={done:!1,value:e},s=Array.isArray(t)?t:[e,t],o=(e=r&&r.length===s.length?r:function(e){const n=e.length;return e.map((e,t)=>0!==t?t/(n-1):0)}(s),l=i,e.map(e=>e*l));var l;function u(){return Vm(o,s,{ease:Array.isArray(n)?n:(e=s,t=n,e.map(()=>t||Wm).splice(0,e.length-1))});var e,t}let c=u();return{next:e=>(a.value=c(e),a.done=i<=e,a),flipTarget:()=>{s.reverse(),c=u()}}}const n1={keyframes:t1,spring:qp,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const s={done:!1,value:t};let o=n*e;const l=t+o,u=void 0===a?l:a(l);return u!==l&&(o=u-t),{next:e=>{const t=-o*Math.exp(-e/r);return s.done=!(i<t||t<-i),s.value=s.done?u:u+t,s},flipTarget:()=>{}}}};function r1(e,t,n=0){return e-t-n}const i1=t=>{const e=({delta:e})=>t(e);return{start:()=>wp.update(e,!0),stop:()=>mp.update(e)}};function a1(e){var t,n,{from:r,autoplay:i=!0,driver:a=i1,elapsed:s=0,repeat:o=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:h,onComplete:d,onRepeat:f,onUpdate:p}=e,e=Mf(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let m=e.to,g,y=0,v=e.duration,b,w=!1,x=!0,C;const k=function(e){if(Array.isArray(e.to))return t1;if(n1[e.type])return n1[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")||!(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))?t1:qp}(e),S=(null!=(n=(t=k).needsInterpolation)&&n.call(t,r,m)&&(C=Vm([0,100],[r,m],{clamp:!1}),r=0,m=100),k(Object.assign(Object.assign({},e),{from:r,to:m})));return i&&(null!=c&&c(),(g=a(function(e){if(x||(e=-e),s+=e,!w){const i=S.next(Math.max(0,s));b=i.value,C&&(b=C(b)),w=x?i.done:s<=0}var t,n,r;null!=p&&p(b),w&&(0===y&&(null!==v&&void 0!==v?v:v=s),y<o?(e=s,t=v,n=u,(x?t+n<=e:e<=-n)&&(y++,"reverse"===l?(x=y%2==0,[t,e,n=0,r=!0]=[s,v,u,x],s=r?r1(e+-t,e,n):e-(t-e)+n):(s=r1(s,v,u),"mirror"===l&&S.flipTarget()),w=!1,f&&f())):(g.stop(),d&&d()))})).start()),{stop:()=>{null!=h&&h(),g.stop()}}}const s1=(e,t)=>1-3*t+3*e,o1=(e,t)=>3*t-6*e,l1=e=>3*e,u1=(e,t,n)=>((s1(t,n)*e+o1(t,n))*e+l1(t))*e,c1=(e,t,n)=>3*s1(t,n)*e*e+2*o1(t,n)*e+l1(t);function h1(e){var t;if(Array.isArray(e)){Ap(4===e.length,"Cubic bezier arrays must contain four numerical values.");{var y=(t=U(e,4))[0],n=t[1],v=t[2],r=t[3];if(y===n&&v===r)return Bm;const b=new Float32Array(11);for(let e=0;e<11;++e)b[e]=u1(.1*e,y,v);return e=>0===e||1===e?e:u1(function(r){let i=0,e=1;for(;10!==e&&b[e]<=r;++e)i+=.1;--e;const t=(r-b[e])/(b[e+1]-b[e]),n=i+.1*t,a=c1(n,y,v);if(.001<=a){var s=r,o=n,l=y,u=v;for(let e=0;e<8;++e){const m=c1(o,l,u);if(0===m)return o;const g=u1(o,l,u)-s;o-=g/m}return o}if(0===a)return n;{var c=r,h=i,d=i+.1,f=y,p=v;let e,t,n=0;for(;t=h+(d-h)/2,0<(e=u1(t,f,p)-c)?d=t:h=t,1e-7<Math.abs(e)&&++n<10;);return t}}(e),n,r)}}return"string"==typeof e?(Ap(void 0!==y1[e],"Invalid easing type '".concat(e,"'")),y1[e]):e}function d1(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}}function f1(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}}function p1(){return{type:"keyframes",ease:"linear",duration:.3}}function m1(e){return{type:"keyframes",duration:.8,values:e}}function g1(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!Im.test(t)||t.startsWith("url(")))}var y1={linear:Bm,easeIn:qm,easeInOut:Wm,easeOut:Hm,circIn:Km,circInOut:Ym,circOut:Gm,backIn:$m,backInOut:Qm,backOut:Xm,anticipate:Zm,bounceIn:e1,bounceInOut:e=>e<.5?.5*(1-Jm(1-2*e)):.5*Jm(2*e-1)+.5,bounceOut:Jm},v1=function(e){return Array.isArray(e)},b1={x:d1,y:d1,z:d1,rotate:d1,rotateX:d1,rotateY:d1,rotateZ:d1,scaleX:f1,scaleY:f1,scale:f1,opacity:p1,backgroundColor:p1,color:p1,default:f1};const w1=new Set(["brightness","contrast","saturate","opacity"]);function x1(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Yp)||[];if(!r)return e;const i=n.replace(r,"");let a=w1.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const C1=/([a-z-]*)\(.*?\)/g,k1=Object.assign(Object.assign({},Im),{getAnimatableNone:e=>{const t=e.match(C1);return t?t.map(x1).join(" "):e}});var e=z(z({},Zp),{transform:Math.round}),S1={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:lm,rotateX:lm,rotateY:lm,rotateZ:lm,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:lm,skewX:lm,skewY:lm,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:Jp,originX:dm,originY:dm,originZ:D,zIndex:e,fillOpacity:Jp,strokeOpacity:Jp,numOctaves:e},E1=z(z({},S1),{color:xm,backgroundColor:xm,outlineColor:xm,fill:xm,stroke:xm,borderColor:xm,borderTopColor:xm,borderRightColor:xm,borderBottomColor:xm,borderLeftColor:xm,filter:k1,WebkitFilter:k1}),T1=function(e){return E1[e]};function _1(e,t){var n,e=T1(e);return null==(n=(e=e!==k1?Im:e).getAnimatableNone)?void 0:n.call(e,t)}var I1={current:!1},N1=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},j1=function(e){return v1(e)?e[e.length-1]||0:e},A1=!1;function P1(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function L1(e){return"number"==typeof e?0:_1("",e)}function D1(e,t){return e[t]||e.default||e}function M1(s,o,l,u){return void 0===u&&(u={}),I1.current&&(u={type:!1}),o.start(function(e){function t(){return r=i()}T=o,_=l,I=e,N=D1(u,E=s),j=null!=(e=N.from)?e:T.get(),e=g1(E,_),"none"===j&&e&&"string"==typeof _?j=_1(E,_):P1(j)&&"string"==typeof _?j=L1(_):!Array.isArray(_)&&P1(_)&&"string"==typeof j&&(_=L1(j)),a=g1(E,j),jp(a===e,"You are trying to animate ".concat(E,' from "').concat(j,'" to "').concat(_,'". ').concat(j," is not an animatable value - to enable this animation set ").concat(j," to a value animatable to ").concat(_," via the `style` property."));var n,r,E,T,_,I,N,j,i=a&&e&&!1!==N.type?function(){var e,t,n,r={from:j,to:_,velocity:T.getVelocity(),onComplete:I,onUpdate:function(e){return T.set(e)}};if("inertia"!==N.type&&"decay"!==N.type)return a1(z(z({},(f=N,i=r,l=E,Array.isArray(i.to)&&null==f.duration&&(f.duration=.8),n=i,Array.isArray(n.to)&&null===n.to[0]&&(n.to=Rf([],U(n.to),!1),n.to[0]=n.from),(n=f).when,n.delay,n.delayChildren,n.staggerChildren,n.staggerDirection,n.repeat,n.repeatType,n.repeatDelay,n.from,n=Mf(n,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]),Object.keys(n).length||(f=z(z({},f),(n=l,l=i.to,n=v1(l)?m1:b1[n]||b1.default,z({to:l},n(l))))),z(z({},i),(l=(n=f).ease,i=n.times,f=n.yoyo,e=n.flip,u=n.loop,n=Mf(n,["ease","times","yoyo","flip","loop"]),t=z({},n),i&&(t.offset=i),n.duration&&(t.duration=1e3*n.duration),n.repeatDelay&&(t.repeatDelay=1e3*n.repeatDelay),l&&(t.ease=(i=l,Array.isArray(i)&&"number"!=typeof i[0]?l.map(h1):h1(l))),"tween"===n.type&&(t.type="keyframes"),(f||u||e)&&(jp(!A1,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),A1=!0,f?t.repeatType="reverse":u?t.repeatType="loop":e&&(t.repeatType="mirror"),t.repeat=u||f||e||n.repeat),"spring"!==n.type&&(t.type="keyframes"),t)))),{onUpdate:function(e){var t;r.onUpdate(e),null!=(t=N.onUpdate)&&t.call(N,e)},onComplete:function(){var e;r.onComplete(),null!=(e=N.onComplete)&&e.call(N)}}));{var[{from:i=0,velocity:a=0,min:s,max:o,power:l=.8,timeConstant:u=750,bounceStiffness:c=500,bounceDamping:h=10,restDelta:d=1,modifyTarget:f,driver:p,onUpdate:m,onComplete:g,onStop:y}]=[z(z({},r),N)];let e;function v(e){return void 0!==s&&e<s||void 0!==o&&o<e}function b(e){return void 0!==s&&(void 0===o||Math.abs(s-e)<Math.abs(o-e))?s:o}function w(n){null!==e&&void 0!==e&&e.stop(),e=a1(Object.assign(Object.assign({},n),{driver:p,onUpdate:e=>{var t;null!=m&&m(e),null!=(t=n.onUpdate)&&t.call(n,e)},onComplete:g,onStop:y}))}function x(e){w(Object.assign({type:"spring",stiffness:c,damping:h,restDelta:d},e))}if(v(i))x({from:i,velocity:a,to:b(i)});else{let e=l*a+i;const C=b(e=void 0!==f?f(e):e),k=C===s?-1:1;let t,n;const S=e=>{t=n,n=e,a=xp(e-t,hp.delta),(1==k&&e>C||-1==k&&e<C)&&x({from:e,to:C,velocity:a})};w({type:"decay",from:i,velocity:a,timeConstant:u,power:l,restDelta:d,modifyTarget:f,onUpdate:v(e)?S:void 0})}return{stop:()=>null===e||void 0===e?void 0:e.stop()}}}:function(){var e,t=j1(_);return T.set(t),I(),null!=(e=null==N?void 0:N.onUpdate)&&e.call(N,t),null!=(e=null==N?void 0:N.onComplete)&&e.call(N),{stop:function(){}}},a=null!=(e=null!=(e=(D1(a=u,s)||{}).delay)?e:a.delay)?e:0;return a?n=window.setTimeout(t,1e3*a):t(),function(){clearTimeout(n),null!=r&&r.stop()}})}function R1(e){return"string"==typeof e?parseFloat(e):e}function O1(e){return"number"==typeof e||D.test(e)}var V1=["TopLeft","TopRight","BottomLeft","BottomRight"],F1=V1.length;function z1(e,t){return null!=(t=e[t])?t:e.borderRadius}var U1=q1(0,.5,Gm),B1=q1(.5,.95,Bm);function q1(t,n,r){return function(e){return e<t?0:n<e?1:r(Wp(t,n,e))}}function H1(e,t){e.min=t.min,e.max=t.max}function W1(e,t){H1(e.x,t.x),H1(e.y,t.y)}function K1(e){return void 0===e||1===e}function G1(e){var t=e.scale,n=e.scaleX,e=e.scaleY;return!K1(t)||!K1(n)||!K1(e)}function Y1(e){return G1(e)||$1(e.x)||$1(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function $1(e){return e&&"0%"!==e}function X1(e,t,n){return n+t*(e-n)}function Q1(e,t,n,r,i){return void 0!==i&&(e=X1(e,i,r)),X1(e,n,r)+t}function Z1(e,t,n,r,i){e.min=Q1(e.min,t=void 0===t?0:t,n=void 0===n?1:n,r,i),e.max=Q1(e.max,t,n,r,i)}function J1(e,t){var n=t.x,t=t.y;Z1(e.x,n.translate,n.scale,n.originPoint),Z1(e.y,t.translate,t.scale,t.originPoint)}function e0(e,t){e.min=e.min+t,e.max=e.max+t}function t0(e,t,n){var n=U(n,3),r=n[0],i=n[1],n=n[2],n=void 0!==t[n]?t[n]:.5,n=C(e.min,e.max,n);Z1(e,t[r],t[i],n,t.scale)}var n0=["x","scaleX","originX"],r0=["y","scaleY","originY"];function i0(e,t){t0(e.x,t,n0),t0(e.y,t,r0)}const a0=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),s0=e=>a0(e)&&e.hasOwnProperty("z"),o0=(e,t)=>Math.abs(e-t);function l0(e,t){if(Nm(e)&&Nm(t))return o0(e,t);if(a0(e)&&a0(t)){const n=o0(e.x,t.x),r=o0(e.y,t.y),i=s0(e)&&s0(t)?o0(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function u0(e){return e.max-e.min}function c0(e,t,n){return void 0===n&&(n=.01),l0(e,t=void 0===t?0:t)<n}function h0(e,t,n,r){e.origin=r=void 0===r?.5:r,e.originPoint=C(t.min,t.max,e.origin),e.scale=u0(n)/u0(t),(c0(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=C(n.min,n.max,e.origin)-e.originPoint,(c0(e.translate)||isNaN(e.translate))&&(e.translate=0)}function d0(e,t,n,r){h0(e.x,t.x,n.x,null==r?void 0:r.originX),h0(e.y,t.y,n.y,null==r?void 0:r.originY)}function f0(e,t,n){e.min=n.min+t.min,e.max=e.min+u0(t)}function p0(e,t,n){e.min=t.min-n.min,e.max=e.min+u0(t)}function m0(e,t,n){p0(e.x,t.x,n.x),p0(e.y,t.y,n.y)}function g0(e,t,n,r,i){return e=X1(e-=t,1/n,r),void 0!==i?X1(e,1/i,r):e}function y0(e,t,n,r,i){var n=U(n,3),a=n[0],s=n[1],n=n[2],a=t[a],s=t[s],n=t[n],t=t.scale;void 0===a&&(a=0),void 0===s&&(s=1),void 0===n&&(n=.5),void 0===(r=r)&&(r=e),void 0===(i=i)&&(i=e),um.test(a)&&(a=parseFloat(a),a=C(i.min,i.max,a/100)-i.min),"number"==typeof a&&(i=C(r.min,r.max,n),e===r&&(i-=a),e.min=g0(e.min,a,s,i,t),e.max=g0(e.max,a,s,i,t))}var v0=["x","scaleX","originX"],b0=["y","scaleY","originY"];function w0(e,t,n,r){y0(e.x,t,v0,null==n?void 0:n.x,null==r?void 0:r.x),y0(e.y,t,b0,null==n?void 0:n.y,null==r?void 0:r.y)}var x0=function(){return{translate:0,scale:1,origin:0,originPoint:0}},C0=function(){return{x:x0(),y:x0()}},k0=function(){return{min:0,max:0}},S0=function(){return{x:k0(),y:k0()}};function E0(e){return 0===e.translate&&1===e.scale}function T0(e){return E0(e.x)&&E0(e.y)}function _0(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}N0.prototype.add=function(e){Cp(this.members,e),e.scheduleRender()},N0.prototype.remove=function(e){kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead&&(e=this.members[this.members.length-1])&&this.promote(e)},N0.prototype.relegate=function(t){var e,n=this.members.findIndex(function(e){return t===e});if(0===n)return!1;for(var r=n;0<=r;r--){var i=this.members[r];if(!1!==i.isPresent){e=i;break}}return!!e&&(this.promote(e),!0)},N0.prototype.promote=function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,(this.lead=e).show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues,e.snapshot.isShared=!0),null!=(t=e.root)&&t.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))},N0.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,n,r;null!=(t=(r=e.options).onExitComplete)&&t.call(r),null!=(r=null==(t=e.resumingFrom)?void 0:(n=t.options).onExitComplete)&&r.call(n)})},N0.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},N0.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)};var I0=N0;function N0(){this.members=[]}var j0={},A0="translate3d(0px, 0px, 0) scale(1, 1)";function P0(e,t,n){var r,i=e.x.translate/t.x,t=e.y.translate/t.y,i="translate3d(".concat(i,"px, ").concat(t,"px, 0) ");return n&&(t=n.rotate,r=n.rotateX,n=n.rotateY,t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),n&&(i+="rotateY(".concat(n,"deg) "))),(i+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))===A0?"none":i}function L0(e){return[e("x"),e("y")]}var D0=["","X","Y","Z"],M0=["transformPerspective","x","y","z"];function R0(e,t){return M0.indexOf(e)-M0.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(t){return D0.forEach(function(e){return M0.push(t+e)})});var O0=new Set(M0);function V0(e){return O0.has(e)}var F0=new Set(["originX","originY","originZ"]);function z0(e){return F0.has(e)}function U0(e,t){return e.depth-t.depth}q0.prototype.add=function(e){Cp(this.children,e),this.isDirty=!0},q0.prototype.remove=function(e){kp(this.children,e),this.isDirty=!0},q0.prototype.forEach=function(e){this.isDirty&&this.children.sort(U0),this.isDirty=!1,this.children.forEach(e)};var B0=q0;function q0(){this.children=[],this.isDirty=!1}function H0(e){e=Np(e)?e.get():e;return N1(e)?e.toValue():e}var W0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K0(e){var o=e.attachResizeListener,a=e.defaultParent,t=e.measureScroll,i=e.resetTransform;return n.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Sp),this.eventHandlers.get(e).add(t)},n.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=this.eventHandlers.get(e);null!=e&&e.notify.apply(e,Rf([],U(t),!1))},n.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},n.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},n.prototype.mount=function(e,t){var n,r,i,l,a,s,u=this;void 0===t&&(t=!1),this.instance||(this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e,r=(n=this.options).layoutId,i=n.layout,(l=n.visualElement)&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null!=(n=this.parent)&&n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),t&&(i||r)&&(this.isLayoutDirty=!0),o&&(s=function(){return u.root.updateBlockedByResize=!1},o(e,function(){u.root.updateBlockedByResize=!0,clearTimeout(a),a=window.setTimeout(s,250),W0.hasAnimatedSinceResize&&(W0.hasAnimatedSinceResize=!1,u.nodes.forEach(Z0))})),r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&l&&(r||i)&&this.addEventListener("didUpdate",function(e){var t=e.delta,n=e.hasLayoutChanged,r=e.hasRelativeTargetChanged,e=e.layout;if(u.isTreeAnimationBlocked())return u.target=void 0,void(u.relativeTarget=void 0);var i,a=null!=(a=null!=(a=u.options.transition)?a:l.getDefaultTransition())?a:sg,s=l.getProps().onLayoutAnimationComplete,o=!u.targetLayout||!_0(u.targetLayout,e)||r,r=!n&&r;null!=(i=u.resumeFrom)&&i.instance||r||n&&(o||!u.currentAnimation)?(u.resumeFrom&&(u.resumingFrom=u.resumeFrom,u.resumingFrom.resumingFrom=void 0),u.setAnimationOrigin(t,r),i=z(z({},D1(a,"layout")),{onComplete:s}),l.shouldReduceMotion&&(i.delay=0,i.type=!1),u.startAnimation(i)):(n||0!==u.animationProgress||u.finishAnimation(),u.isLead()&&null!=(t=(o=u.options).onExitComplete)&&t.call(o)),u.targetLayout=e}))},n.prototype.unmount=function(){var e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null!=(e=this.getStack())&&e.remove(this),null!=(e=this.parent)&&e.children.delete(this),this.instance=void 0,mp.preRender(this.updateProjection)},n.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},n.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},n.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},n.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null==(e=this.parent)?void 0:e.isTreeAnimationBlocked())||!1},n.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null!=(e=this.nodes)&&e.forEach(tg))},n.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null!=(r=(i=this.options).onExitComplete)&&r.call(i);else if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll()}var r=this.options,i=r.layoutId,r=r.layout;void 0===i&&!r||(r=null==(i=this.options.visualElement)?void 0:i.getProps().transformTemplate,this.prevTransformTemplateValue=null==r?void 0:r(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate"))}},n.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(X0);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(og),this.potentialNodes.clear()),this.nodes.forEach(Q0),this.nodes.forEach(G0),this.nodes.forEach(Y0),this.clearAllSnapshots(),gp.update(),gp.preRender(),gp.render())},n.prototype.clearAllSnapshots=function(){this.nodes.forEach($0),this.sharedNodes.forEach(ng)},n.prototype.scheduleUpdateProjection=function(){wp.preRender(this.updateProjection,!1,!0)},n.prototype.scheduleCheckAfterUnmount=function(){var e=this;wp.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},n.prototype.updateSnapshot=function(){var e,t;!this.snapshot&&this.instance&&(e=this.measure(),ug(t=this.removeTransform(this.removeElementScroll(e))),this.snapshot={measured:e,layout:t,latestValues:{}})},n.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++)this.path[e].updateScroll();var t=this.measure(),n=(ug(t),this.layout);this.layout={measured:t,actual:this.removeElementScroll(t)},this.layoutCorrected=S0(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null!=(t=this.options.visualElement)&&t.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}},n.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=t(this.instance))},n.prototype.resetTransform=function(){var e,t,n,r;i&&(e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!T0(this.projectionDelta),r=(n=null==(n=null==(n=this.options.visualElement)?void 0:n.getProps().transformTemplate)?void 0:n(this.latestValues,""))!==this.prevTransformTemplateValue,e&&(t||Y1(this.latestValues)||r)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender()))},n.prototype.measure=function(){var e=this.options.visualElement;if(!e)return S0();var e=e.measureViewportBox(),t=this.root.scroll;return t&&(e0(e.x,t.x),e0(e.y,t.y)),e},n.prototype.removeElementScroll=function(e){var t=S0();W1(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&(e0(t.x,i.x),e0(t.y,i.y))}return t},n.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=S0();W1(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&i0(n,{x:-i.scroll.x,y:-i.scroll.y}),Y1(i.latestValues)&&i0(n,i.latestValues)}return Y1(this.latestValues)&&i0(n,this.latestValues),n},n.prototype.removeTransform=function(e){var t=S0();W1(t,e);for(var n=0;n<this.path.length;n++){var r,i=this.path[n];i.instance&&Y1(i.latestValues)&&(G1(i.latestValues)&&i.updateSnapshot(),W1(r=S0(),i.measure()),w0(t,i.latestValues,null==(i=i.snapshot)?void 0:i.layout,r))}return Y1(this.latestValues)&&w0(t,this.latestValues),t},n.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},n.prototype.setOptions=function(e){this.options=z(z(z({},this.options),e),{crossfade:null==(e=e.crossfade)||e})},n.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},n.prototype.resolveTargetDelta=function(){var e,t=this.options,n=t.layout,t=t.layoutId;this.layout&&(n||t)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=S0(),this.relativeTargetOrigin=S0(),m0(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),W1(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=S0(),this.targetWithTransforms=S0()),this.relativeTarget&&this.relativeTargetOrigin&&null!=(n=this.relativeParent)&&n.target?(t=this.target,n=this.relativeTarget,e=this.relativeParent.target,f0(t.x,n.x,e.x),f0(t.y,n.y,e.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):W1(this.target,this.layout.actual),J1(this.target,this.targetDelta)):W1(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=S0(),this.relativeTargetOrigin=S0(),m0(this.relativeTargetOrigin,this.target,this.relativeParent.target),W1(this.relativeTarget,this.relativeTargetOrigin)))))},n.prototype.getClosestProjectingParent=function(){if(this.parent&&!Y1(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},n.prototype.calcProjection=function(){var e=this.options,t=e.layout,e=e.layoutId;if(this.isTreeAnimating=Boolean((null==(n=this.parent)?void 0:n.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(t||e)){var n=this.getLead(),r=(W1(this.layoutCorrected,this.layout.actual),this.layoutCorrected),i=this.treeScale,a=this.path,s=Boolean(this.resumingFrom)||this!==n;void 0===s&&(s=!1);var o,l,u,c=a.length;if(c){i.x=i.y=1;for(var h=0;h<c;h++)u=(l=a[h]).projectionDelta,"contents"!==(null==(o=null==(o=l.instance)?void 0:o.style)?void 0:o.display)&&(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&i0(r,{x:-l.scroll.x,y:-l.scroll.y}),u&&(i.x*=u.x.scale,i.y*=u.y.scale,J1(r,u)),s&&Y1(l.latestValues)&&i0(r,l.latestValues))}var d,t=n.target;t&&(this.projectionDelta||(this.projectionDelta=C0(),this.projectionDeltaWithTransform=C0()),e=this.treeScale.x,n=this.treeScale.y,d=this.projectionTransform,d0(this.projectionDelta,this.layoutCorrected,t,this.latestValues),this.projectionTransform=P0(this.projectionDelta,this.treeScale),this.projectionTransform===d&&this.treeScale.x===e&&this.treeScale.y===n||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",t)))}},n.prototype.hide=function(){this.isVisible=!1},n.prototype.show=function(){this.isVisible=!0},n.prototype.scheduleRender=function(e){var t,n;void 0===e&&(e=!0),null!=(n=(t=this.options).scheduleRender)&&n.call(t),e&&null!=(n=this.getStack())&&n.scheduleRender(),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},n.prototype.setAnimationOrigin=function(f,e){var p=this,t=(void 0===e&&(e=!1),this.snapshot),m=(null==t?void 0:t.latestValues)||{},g=z({},this.latestValues),y=C0(),v=(this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e,S0()),b=null==t?void 0:t.isShared,w=((null==(e=this.getStack())?void 0:e.members.length)||0)<=1,x=Boolean(b&&!w&&!0===this.options.crossfade&&!this.path.some(ag));this.animationProgress=0,this.mixTargetDelta=function(e){e/=1e3;if(rg(y.x,f.x,e),rg(y.y,f.y,e),p.setTargetDelta(y),p.relativeTarget&&p.relativeTargetOrigin&&p.layout&&null!=(l=p.relativeParent)&&l.layout&&(m0(v,p.layout.actual,p.relativeParent.layout.actual),l=p.relativeTarget,r=p.relativeTargetOrigin,ig(l.x,r.x,(t=v).x,n=e),ig(l.y,r.y,t.y,n)),b){var t,n,r,i=p.animationValues=g,a=m,s=p.latestValues,o=e,l=w;x?(i.opacity=C(0,null!=(r=s.opacity)?r:1,U1(o)),i.opacityExit=C(null!=(t=a.opacity)?t:1,0,B1(o))):l&&(i.opacity=C(null!=(n=a.opacity)?n:1,null!=(r=s.opacity)?r:1,o));for(var u=0;u<F1;u++){var c="border".concat(V1[u],"Radius"),h=z1(a,c),d=z1(s,c);void 0===h&&void 0===d||(d=d||0,0===(h=h||0)||0===d||O1(h)===O1(d)?(i[c]=Math.max(C(R1(h),R1(d),o),0),(um.test(d)||um.test(h))&&(i[c]+="%")):i[c]=d)}(a.rotate||s.rotate)&&(i.rotate=C(a.rotate||0,s.rotate||0,o))}p.root.scheduleUpdateProjection(),p.scheduleRender(),p.animationProgress=e},this.mixTargetDelta(0)},n.prototype.startAnimation=function(n){var e,r=this;null!=(e=this.currentAnimation)&&e.stop(),this.resumingFrom&&null!=(e=this.resumingFrom.currentAnimation)&&e.stop(),this.pendingAnimation&&(mp.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wp.update(function(){var e,t;W0.hasAnimatedSinceResize=!0,r.currentAnimation=(void 0===(e=z(z({},n),{onUpdate:function(e){var t;r.mixTargetDelta(e),null!=(t=n.onUpdate)&&t.call(n,e)},onComplete:function(){var e;null!=(e=n.onComplete)&&e.call(n),r.completeAnimation()}}))&&(e={}),M1("",t=Np(0)?0:Ip(0),1e3,e),{stop:function(){return t.stop()},isAnimating:function(){return t.isAnimating()}}),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0})},n.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null!=(e=this.getStack())&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},n.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null!=(e=this.mixTargetDelta)&&e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},n.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,e=e.latestValues;t&&n&&r&&(W1(t,n),i0(t,e),d0(this.projectionDeltaWithTransform,this.layoutCorrected,t,e))},n.prototype.registerSharedNode=function(e,t){var n;this.sharedNodes.has(e)||this.sharedNodes.set(e,new I0),this.sharedNodes.get(e).add(t),t.promote({transition:null==(e=t.options.initialPromotionConfig)?void 0:e.transition,preserveFollowOpacity:null==(n=null==(e=t.options.initialPromotionConfig)?void 0:e.shouldPreserveFollowOpacity)?void 0:n.call(e,t)})},n.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},n.prototype.getLead=function(){var e;return this.options.layoutId&&(null==(e=this.getStack())?void 0:e.lead)||this},n.prototype.getPrevLead=function(){var e;return this.options.layoutId&&null!=(e=this.getStack())?e.prevLead:void 0},n.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},n.prototype.promote=function(e){var e=void 0===e?{}:e,t=e.needsReset,n=e.transition,e=e.preserveFollowOpacity,r=this.getStack();r&&r.promote(this,e),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})},n.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},n.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<D0.length;r++){var i="rotate"+D0[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null!=e&&e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},n.prototype.getProjectionStyles=function(e){void 0===e&&(e={});var t={};if(!this.instance||this.isSVG)return t;if(!this.isVisible)return{visibility:"hidden"};t.visibility="";var n=null==(n=this.options.visualElement)?void 0:n.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=H0(e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;var r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return o={},this.options.layoutId&&(o.opacity=null!=(s=this.latestValues.opacity)?s:1,o.pointerEvents=H0(e.pointerEvents)||""),this.hasProjected&&!Y1(this.latestValues)&&(o.transform=n?n({},""):"none",this.hasProjected=!1),o;var i,a=r.animationValues||r.latestValues,s=(this.applyTransformsToTarget(),t.transform=P0(this.projectionDeltaWithTransform,this.treeScale,a),n&&(t.transform=n(a,t.transform)),this.projectionDelta),o=s.x,n=s.y;for(i in t.transformOrigin="".concat(100*o.origin,"% ").concat(100*n.origin,"% 0"),r.animationValues?t.opacity=r===this?null!=(o=null!=(s=a.opacity)?s:this.latestValues.opacity)?o:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:t.opacity=r===this?null!=(n=a.opacity)?n:"":null!=(s=a.opacityExit)?s:0,j0)if(void 0!==a[i]){var l=j0[i],u=l.correct,c=l.applyTo,h=u(a[i],r);if(c)for(var d=c.length,f=0;f<d;f++)t[c[f]]=h;else t[i]=h}return this.options.layoutId&&(t.pointerEvents=r===this?H0(e.pointerEvents)||"":"none"),t},n.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},n.prototype.resetTree=function(){this.root.nodes.forEach(function(e){return null==(e=e.currentAnimation)?void 0:e.stop()}),this.root.nodes.forEach(X0),this.root.sharedNodes.clear()},n;function n(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=null==a?void 0:a()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(J0),r.nodes.forEach(eg)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?Rf(Rf([],U(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new B0)}}function G0(e){e.updateLayout()}function Y0(e){var r,t,n,i,a,s,o,l,u=null!=(i=null==(i=e.resumeFrom)?void 0:i.snapshot)?i:e.snapshot;e.isLead()&&e.layout&&u&&e.hasListeners("didUpdate")?(i=e.layout,r=i.actual,i=i.measured,"size"===e.options.animationType?L0(function(e){var t=(u.isShared?u.measured:u.layout)[e],n=u0(t);t.min=r[e].min,t.max=t.min+n}):"position"===e.options.animationType&&L0(function(e){var t=(u.isShared?u.measured:u.layout)[e],e=u0(r[e]);t.max=t.min+e}),d0(t=C0(),r,u.layout),n=C0(),u.isShared?d0(n,e.applyTransform(i,!0),u.measured):d0(n,r,u.layout),i=!T0(t),a=!1,e.resumeFrom||(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom&&(l=(s=e.relativeParent).snapshot,s=s.layout,l&&s&&(m0(o=S0(),u.layout,l.layout),m0(l=S0(),r,s.actual),_0(o,l)||(a=!0)))),e.notifyListeners("didUpdate",{layout:r,snapshot:u,delta:n,layoutDelta:t,hasLayoutChanged:i,hasRelativeTargetChanged:a})):e.isLead()&&null!=(o=(s=e.options).onExitComplete)&&o.call(s),e.options.transition=void 0}function $0(e){e.clearSnapshot()}function X0(e){e.clearMeasurements()}function Q0(e){var t=e.options.visualElement;null!=t&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Z0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function J0(e){e.resolveTargetDelta()}function eg(e){e.calcProjection()}function tg(e){e.resetRotation()}function ng(e){e.removeLeadSnapshot()}function rg(e,t,n){e.translate=C(t.translate,0,n),e.scale=C(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ig(e,t,n,r){e.min=C(t.min,n.min,r),e.max=C(t.max,n.max,r)}function ag(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var sg={duration:.45,ease:[.4,0,.1,1]};function og(e,t){for(var n=e.root,r=e.path.length-1;0<=r;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}t=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));t&&e.mount(t,!0)}function lg(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ug(e){lg(e.x),lg(e.y)}var cg=1,hg=(0,j.createContext)({}),dg=(0,j.createContext)({});Df(mg,fg=j.Component),mg.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},mg.prototype.componentDidUpdate=function(){},mg.prototype.updateProps=function(){var e=this.props,t=e.visualElement,e=e.props;t&&t.setProps(e)},mg.prototype.render=function(){return this.props.children};var fg,pg=mg;function mg(){return null!==fg&&fg.apply(this,arguments)||this}function gg(e){var t=e.preloadedFeatures,S=e.createVisualElement,E=e.projectionNodeConstructor,T=e.useRender,_=e.useVisualState,I=e.Component;if(t){var n,r=t;for(n in r)null!==r[n]&&("projectionNodeConstructor"===n?Vf.projectionNodeConstructor=r[n]:Vf[n].Component=r[n])}return(0,j.forwardRef)(function(e,t){var n,r,i,a,s,o,l,u,c,h,d,f,p,m,g,y,v,b=e.layoutId,w=(w=null==(w=(0,j.useContext)(hg))?void 0:w.id)&&void 0!==b?w+"-"+b:b,b=(e=z(z({},e),{layoutId:w}),(0,j.useContext)(Bf)),w=null,x=(C=e,k=(0,j.useContext)(qf),l=ep(C)?(l=C.initial,x=C.animate,{initial:!1===l||Qf(l)?l:void 0,animate:Qf(x)?x:void 0}):!1!==C.inherit?k:{},s=l.initial,o=l.animate,(0,j.useMemo)(function(){return{initial:s,animate:o}},[np(s),np(o)])),C=b.isStatic?void 0:rp(function(){if(W0.hasEverUpdated)return cg++}),k=_(e,b.isStatic);return!b.isStatic&&Wf&&(x.visualElement=(l=I,u=k,c=z(z({},b),e),h=S,f=(0,j.useContext)(Ff),p=(0,j.useContext)(qf).visualElement,m=(0,j.useContext)(Hf),Yf||(Yf=!0,"undefined"!=typeof window&&(window.matchMedia?((d=window.matchMedia("(prefers-reduced-motion)")).addListener(y=function(){return Gf.current=d.matches}),y()):Gf.current=!1)),y=U((0,j.useState)(Gf.current),1)[0],g="never"!==(g=(0,j.useContext)(Bf).reducedMotion)&&("always"===g||y),y=(0,j.useRef)(void 0),h=h||f.renderer,!y.current&&h&&(y.current=h(l,{visualState:u,parent:p,props:c,presenceId:null==m?void 0:m.id,blockInitialAnimation:!1===(null==m?void 0:m.initial),shouldReduceMotion:g})),v=y.current,Kf(function(){null!=v&&v.syncRender()}),(0,j.useEffect)(function(){var e;null!=(e=null==v?void 0:v.animationState)&&e.animateChanges()}),Kf(function(){return function(){return null==v?void 0:v.notifyUnmount()}},[]),v),f=C,h=e,n=x.visualElement,u=E||Vf.projectionNodeConstructor,p=h.layoutId,c=h.layout,m=h.drag,g=h.dragConstraints,y=h.layoutScroll,h=(0,j.useContext)(dg),!u||!n||null!=n&&n.projection||(n.projection=new u(f,n.getLatestValues(),null==(u=n.parent)?void 0:u.projection),n.projection.setOptions({layoutId:p,layout:c,alwaysMeasureLayout:Boolean(m)||g&&$f(g),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof c?c:"both",initialPromotionConfig:h,layoutScroll:y})),w=function(e,t){var n=[];if((0,j.useContext)(Ff),!t)return null;for(var r=0;r<Uf;r++){var i=zf[r],a=Vf[i],s=a.isEnabled,a=a.Component;s(e)&&a&&n.push(j.createElement(a,z({key:i},e,{visualElement:t})))}return n}(e,x.visualElement)),j.createElement(pg,{visualElement:x.visualElement,props:z(z({},b),e)},w,j.createElement(qf.Provider,{value:x},T(I,e,C,(r=k,i=x.visualElement,a=t,(0,j.useCallback)(function(e){var t;e&&null!=(t=r.mount)&&t.call(r,e),i&&(e?i.mount(e):i.unmount()),a&&("function"==typeof a?a(e):$f(a)&&(a.current=e))},[i])),k,b.isStatic,x.visualElement)))})}function yg(n){function r(e,t){return gg(n(e,t=void 0===t?{}:t))}if("undefined"==typeof Proxy)return r;var i=new Map;return new Proxy(r,{get:function(e,t){return i.has(t)||i.set(t,r(t)),i.get(t)}})}var vg=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function bg(e){return"string"==typeof e&&!e.includes("-")&&(-1<vg.indexOf(e)||/[A-Z]/.test(e))}function wg(e,t){var n=t.layout,t=t.layoutId;return V0(e)||z0(e)||(n||void 0!==t)&&(j0[e]||"opacity"===e)}var xg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Cg(e){return e.startsWith("--")}var kg=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function Sg(h,e,d,t){var n,r,i,a=h.style,s=h.vars,o=h.transform,l=h.transformKeys,u=h.transformOrigin,c=!1,f=!1,p=!(l.length=0);for(n in e){var m,g,y=e[n];Cg(n)?s[n]=y:(m=S1[n],g=kg(y,m),V0(n)?(c=!0,o[n]=g,l.push(n),p&&y!==(null!=(y=m.default)?y:0)&&(p=!1)):z0(n)?(u[n]=g,f=!0):a[n]=g)}c?a.transform=function(e,t){for(var n=h.transform,r=h.transformKeys,i=d.enableHardwareAcceleration,i=void 0===i||i,a=d.allowTransformNone,a=void 0===a||a,s="",o=(r.sort(R0),!1),l=r.length,u=0;u<l;u++){var c=r[u];s+="".concat(xg[c]||c,"(").concat(n[c],") "),"z"===c&&(o=!0)}return!o&&i?s+="translateZ(0)":s=s.trim(),t?s=t(n,e?"":s):a&&e&&(s="none"),s}(p,t):t?a.transform=t({},""):!e.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=(t=u.originX,r=void 0===(r=u.originY)?"50%":r,i=void 0===(i=u.originZ)?0:i,"".concat(void 0===t?"50%":t," ").concat(r," ").concat(i)))}function Eg(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}function Tg(e,t,n){for(var r in t)Np(t[r])||wg(r,n)||(e[r]=t[r])}var _g=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Ig(e){return _g.has(e)}var Ng,jg=function(e){return!Ig(e)};try{(Ng=require("@emotion/is-prop-valid").default)&&(jg=function(e){return e.startsWith("on")?!Ig(e):Ng(e)})}catch(e){}function Ag(e,t,n){return"string"==typeof e?e:D.transform(t+n*e)}var Pg={offset:"strokeDashoffset",array:"strokeDasharray"};function Lg(e,t,n,r){var i=t.attrX,a=t.attrY,s=t.originX,o=t.originY,l=t.pathLength,u=t.pathSpacing,u=void 0===u?1:u,c=t.pathOffset,c=void 0===c?0:c,t=(Sg(e,Mf(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={},e.attrs),n=e.style,r=e.dimensions;t.transform&&(r&&(n.transform=t.transform),delete t.transform),r&&(void 0!==s||void 0!==o||n.transform)&&(n.transformOrigin=(e=void 0!==o?o:.5,o=Ag(void 0!==s?s:.5,(n=r).x,n.width),s=Ag(e,n.y,n.height),"".concat(o," ").concat(s))),void 0!==i&&(t.x=i),void 0!==a&&(t.y=a),void 0!==l&&(r=l,void 0===(e=u)&&(e=1),void 0===(n=c)&&(n=0),(o=t).pathLength=1,o[(s=Pg).offset]=D.transform(-n),i=D.transform(r),a=D.transform(e),o[s.array]="".concat(i," ").concat(a))}function Dg(){return z(z({},Eg()),{attrs:{}})}function Mg(s){return void 0===s&&(s=!1),function(e,t,n,r,i,a){i=i.latestValues,i=(bg(e)?function(t,n){var e,r=(0,j.useMemo)(function(){var e=Dg();return Lg(e,n,{enableHardwareAcceleration:!1},t.transformTemplate),z(z({},e.attrs),{style:z({},e.style)})},[n]);return t.style&&(Tg(e={},t.style,t),r.style=z(z({},e),r.style)),r}:function(e,t,n){var r,i,a,s,o,l={},n=(t=t,n=n,Tg(o={},(r=e).style||{},r),Object.assign(o,(a=n,s=r.transformTemplate,(0,j.useMemo)(function(){var e=Eg(),t=(Sg(e,i,{enableHardwareAcceleration:!a},s),e.vars),e=e.style;return z(z({},t),e)},[i=t]))),r.transformValues?r.transformValues(o):o);return Boolean(e.drag)&&!1!==e.dragListener&&(l.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),l.style=n,l})(t,i,a),a=function(e,t,n){var r,i={};for(r in e)(jg(r)||!0===n&&Ig(r)||!t&&!Ig(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,s),t=z(z(z({},a),i),{ref:r});return n&&(t["data-projection-id"]=n),(0,j.createElement)(e,t)}}function Rg(e){return e.replace(Og,Vg).toLowerCase()}var Og=/([a-z])([A-Z])/g,Vg="$1-$2";function Fg(e,t,n,r){var i,a=t.style,s=t.vars;for(i in Object.assign(e.style,a,r&&r.getProjectionStyles(n)),s)e.style.setProperty(i,s[i])}var zg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Ug(e,t){for(var n in Fg(e,t),t.attrs)e.setAttribute(zg.has(n)?n:Rg(n),t.attrs[n])}function Bg(e){var t,n=e.style,r={};for(t in n)(Np(n[t])||wg(t,e))&&(r[t]=n[t]);return r}function qg(e){var t,n=Bg(e);for(t in e)Np(e[t])&&(n["x"===t||"y"===t?"attr"+t.toUpperCase():t]=e[t]);return n}function Hg(e){return"object"==typeof e&&"function"==typeof e.start}function Wg(e,t,n,h){var r=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:function(a,e,t){var n,s={},r=!1===(null==h?void 0:h.initial),i=t(a);for(n in i)s[n]=H0(i[n]);var t=a.initial,o=a.animate,l=ep(a),u=tp(a),c=(e&&u&&!l&&!1!==a.inherit&&(null==t&&(t=e.initial),null==o&&(o=e.animate)),r||!1===t),u=c?o:t;return u&&"boolean"!=typeof u&&!Hg(u)&&(Array.isArray(u)?u:[u]).forEach(function(e){e=Zf(a,e);if(e){var t,n=e.transitionEnd,r=(e.transition,Mf(e,["transitionEnd","transition"]));for(t in r){var i=r[t];null!==(i=Array.isArray(i)?i[c?i.length-1:0]:i)&&(s[t]=i)}for(t in n)s[t]=n[t]}}),s}(t,n,r),renderState:i()};return a&&(s.mount=function(e){return a(t,e,s)}),s}function Kg(i){return function(e,t){var n=(0,j.useContext)(qf),r=(0,j.useContext)(Hf);return t?Wg(i,e,n,r):rp(function(){return Wg(i,e,n,r)})}}var Gg={useVisualState:Kg({scrapeMotionValuesFromProps:qg,createRenderState:Dg,onMount:function(e,t,n){var r=n.renderState,n=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}Lg(r,n,{enableHardwareAcceleration:!1},e.transformTemplate),Ug(t,r)}})},Yg={useVisualState:Kg({scrapeMotionValuesFromProps:Bg,createRenderState:Eg})};function $g(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Xg(t,n,r,i){(0,j.useEffect)(function(){var e=t.current;if(r&&e)return $g(e,n,r,i)},[t,n,r,i])}function Qg(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?"mouse"===e.pointerType:e instanceof MouseEvent}function Zg(e){return e.touches}var Jg="animate",ey="whileHover",ty="whileTap",ny="whileDrag",ry="whileFocus",iy="whileInView",ay="exit",sy={pageX:0,pageY:0};function oy(e,t){return void 0===t&&(t="page"),{point:Zg(e)?(n=t,{x:(r=e.touches[0]||e.changedTouches[0]||sy)[(n=void 0===n?"page":n)+"X"],y:r[n+"Y"]}):{x:e[(r=void 0===(r=t)?"page":r)+"X"],y:e[r+"Y"]}};var n,r}function ly(t,e){function n(e){return t(e,oy(e))}var r;return(e=void 0!==e&&e)?(r=n,function(e){e instanceof MouseEvent&&0!==e.button||r(e)}):n}var uy={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},cy={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function hy(e){return Wf&&null===window.onpointerdown?e:Wf&&null===window.ontouchstart?cy[e]:Wf&&null===window.onmousedown?uy[e]:e}function dy(e,t,n,r){return $g(e,hy(t),ly(n,"pointerdown"===t),r)}function fy(e,t,n,r){Xg(e,hy(t),n&&ly(n,"pointerdown"===t),r)}function py(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var my=py("dragHorizontal"),gy=py("dragVertical");function yy(e){var t,n,r=!1;return"y"===e?r=gy():"x"===e?r=my():(t=my(),n=gy(),t&&n?r=function(){t(),n()}:(t&&t(),n&&n())),r}function vy(){var e=yy(!0);if(!e)return 1;e()}function by(r,i,a){return function(e,t){var n;Qg(e)&&!vy()&&(null!=(n=r.animationState)&&n.setActive(ey,i),null!=a&&a(e,t))}}var wy=function(e,t){return!!t&&(e===t||wy(e,t.parentElement))};function xy(e){(0,j.useEffect)(function(){return function(){return e()}},[])}function Cy(e){e.forEach(ky)}function ky(e){var t;null!=(t=Sy.get(e.target))&&t(e)}var Sy=new WeakMap,Ey=new WeakMap,Ty={some:0,all:1};function _y(t){return function(e){return t(e),null}}function Iy(){return rp(jy)}var t={inView:_y(function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,e=e.viewport,e=void 0===e?{}:e,a=(0,j.useRef)({hasEnteredView:!1,isInView:!1}),n=Boolean(n||r||i);e.once&&a.current.hasEnteredView&&(n=!1),("undefined"==typeof IntersectionObserver?function(e,t,n,r){var r=r.fallback,i=void 0===r||r;(0,j.useEffect)(function(){e&&i&&requestAnimationFrame(function(){t.hasEnteredView=!0;var e=n.getProps().onViewportEnter;null!=e&&e(null),null!=(e=n.animationState)&&e.setActive(iy,!0)})},[e])}:function(o,l,u,e){var c=e.root,h=e.margin,t=e.amount,d=void 0===t?"some":t,f=e.once;(0,j.useEffect)(function(){var e,t,n,r,i,a,s;if(o)return r={root:null==c?void 0:c.current,rootMargin:h,threshold:"number"==typeof d?d:Ty[d]},e=u.getInstance(),t=function(e){var t,n=e.isIntersecting;l.isInView!==n&&(l.isInView=n,f&&!n&&l.hasEnteredView||(n&&(l.hasEnteredView=!0),null!=(t=u.animationState)&&t.setActive(iy,n),t=u.getProps(),null!=(n=n?t.onViewportEnter:t.onViewportLeave)&&n(e)))},n=r.root,r=Mf(r,["root"]),i=n||document,Ey.has(i)||Ey.set(i,{}),(i=Ey.get(i))[a=JSON.stringify(r)]||(i[a]=new IntersectionObserver(Cy,z({root:n},r))),s=i[a],Sy.set(e,t),s.observe(e),function(){Sy.delete(e),s.unobserve(e)}},[o,c,h,d])})(n,a.current,t,e)}),tap:_y(function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,t=e.whileTap,a=e.visualElement,e=n||r||i||t,s=(0,j.useRef)(!1),o=(0,j.useRef)(null);function l(){var e;null!=(e=o.current)&&e.call(o),o.current=null}function u(){var e;return l(),s.current=!1,null!=(e=a.animationState)&&e.setActive(ty,!1),!vy()}function c(e,t){u()&&(wy(a.getInstance(),e.target)?null!=n&&n(e,t):null!=i&&i(e,t))}function h(e,t){u()&&null!=i&&i(e,t)}fy(a,"pointerdown",e?function(e,t){var n;l(),s.current||(s.current=!0,o.current=Am(dy(window,"pointerup",c),dy(window,"pointercancel",h)),null!=(n=a.animationState)&&n.setActive(ty,!0),null!=r&&r(e,t))}:void 0),xy(l)}),focus:_y(function(e){var t=e.whileFocus,n=e.visualElement;Xg(n,"focus",t?function(){var e;null!=(e=n.animationState)&&e.setActive(ry,!0)}:void 0),Xg(n,"blur",t?function(){var e;null!=(e=n.animationState)&&e.setActive(ry,!1)}:void 0)}),hover:_y(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,e=e.visualElement;fy(e,"pointerenter",t||r?by(e,!0,t):void 0),fy(e,"pointerleave",n||r?by(e,!1,n):void 0)})},Ny=0,jy=function(){return Ny++};function Ay(){var e=(0,j.useContext)(Hf);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=Iy();return(0,j.useEffect)(function(){return r(i)},[]),!t&&n?[!1,function(){return null==n?void 0:n(i)}]:[!0]}function Py(e,t){if(Array.isArray(t)){var n=t.length;if(n===e.length){for(var r=0;r<n;r++)if(t[r]!==e[r])return;return 1}}}function Ly(e){return My.find(Dy(e))}function Dy(t){return function(e){return e.test(t)}}var My=[Zp,D,um,lm,hm,cm,{test:function(e){return"auto"===e},parse:function(e){return e}}],Ry=Rf(Rf([],U(My),!1),[xm,Im],!1);function Oy(h,d,f){var e,t=Jf(h,d,(f=void 0===f?{}:f).custom),n=(t||{}).transition,p=void 0===n?h.getDefaultTransition()||{}:n,n=(f.transitionOverride&&(p=f.transitionOverride),t?function(){return Vy(h,t,f)}:function(){return Promise.resolve()}),r=null!=(r=h.variantChildren)&&r.size?function(e){var t=p.delayChildren,n=p.staggerChildren,r=p.staggerDirection,i=d,a=(void 0===t?0:t)+(e=void 0===e?0:e),s=n,t=r,o=f,l=(void 0===a&&(a=0),void 0===s&&(s=0),[]),u=(h.variantChildren.size-1)*s,c=1===(t=void 0===t?1:t)?function(e){return(e=void 0===e?0:e)*s}:function(e){return u-(e=void 0===e?0:e)*s};return Array.from(h.variantChildren).sort(Fy).forEach(function(e,t){l.push(Oy(e,i,z(z({},o),{delay:a+c(t)})).then(function(){return e.notifyAnimationComplete(i)}))}),Promise.all(l)}:function(){return Promise.resolve()},i=p.when;return i?(e=(i=U("beforeChildren"===i?[n,r]:[r,n],2))[0],i=i[1],e().then(i)):Promise.all([n(),r(f.delay)])}function Vy(l,e,t){var n,r,t=void 0===t?{}:t,i=t.delay,a=void 0===i?0:i,i=t.transitionOverride,t=t.type,e=l.makeTargetAnimatable(e),s=e.transition,o=void 0===s?l.getDefaultTransition():s,u=e.transitionEnd,c=Mf(e,["transition","transitionEnd"]),h=(i&&(o=i),[]),d=t&&(null==(s=l.animationState)?void 0:s.getState()[t]);for(n in c){var f,p,m=l.getValue(n),g=c[n];!m||void 0===g||d&&(p=n,f=r=void 0,r=d.protectedKeys,f=d.needsAnimating,r=r.hasOwnProperty(p)&&!0!==f[p],f[p]=!1,r)||(f=z({delay:a},o),p=M1(n,m,g,f=l.shouldReduceMotion&&V0(n)?z(z({},f),{type:!1,delay:0}):f),h.push(p))}return Promise.all(h).then(function(){if(u){var e,t,n=l,r=Jf(n,u),r=r?n.makeTargetAnimatable(r,!1):{},i=r.transitionEnd,i=void 0===i?{}:i,a=(r.transition,Mf(r,["transitionEnd","transition"]));for(e in a=z(z({},a),i)){var s=e,o=j1(a[e]);(t=n).hasValue(s)?t.getValue(s).set(o):t.addValue(s,Ip(o))}}})}function Fy(e,t){return e.sortNodePosition(t)}var i=[Jg,iy,ry,ey,ty,ny,ay],zy=Rf([],U(i),!1).reverse(),Uy=i.length;function By(e){return{isActive:e=void 0!==e&&e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var n={animation:_y(function(e){var T,a,r,_,i,I,t=e.visualElement,n=e.animate;function N(e,t){var n,t=Jf(T,t);return t&&(t.transition,n=t.transitionEnd,t=Mf(t,["transition","transitionEnd"]),e=z(z(z({},e),t),n)),e}function s(y,v){for(var b,n,w=T.getProps(),x=T.getVariantContext(!0)||{},C=[],k=new Set,S={},E=1/0,e=0;e<Uy;e++)!function(e){var t=zy[e],n=_[t],r=null!=(b=w[t])?b:x[t],i=Qf(r),a=t===v?n.isActive:null,s=(!1===a&&(E=e),r===x[t]&&r!==w[t]&&i);if(s&&I&&T.manuallyAnimateOnMount&&(s=!1),n.protectedKeys=z({},S),(n.isActive||null!==a)&&(r||n.prevProp)&&!Hg(r)&&"boolean"!=typeof r){var o,l=n.prevProp,u="string"==typeof(h=r)?h!==l:!!Xf(h)&&!Py(h,l),c=u||t===v&&n.isActive&&!s&&i||E<e&&i,h=Array.isArray(r)?r:[r],d=h.reduce(N,{}),l=(!1===a&&(d={}),n.prevResolvedValues),f=void 0===l?{}:l;for(o in z(z({},f),d)){var p=d[o],m=f[o];S.hasOwnProperty(o)||(p!==m?v1(p)&&v1(m)?!Py(p,m)||u?g(o):n.protectedKeys[o]=!0:void 0!==p?g(o):k.add(o):void 0!==p&&k.has(o)?g(o):n.protectedKeys[o]=!0)}n.prevProp=r,n.prevResolvedValues=d,n.isActive&&(S=z(z({},S),d)),(c=(!I||!T.blockInitialAnimation)&&c)&&!s&&C.push.apply(C,Rf([],U(h.map(function(e){return{animation:e,options:z({type:t},y)}})),!1))}function g(e){c=!0,k.delete(e),n.needsAnimating[e]=!0}}(e);i=z({},S),k.size&&(n={},k.forEach(function(e){var t=T.getBaseTarget(e);void 0!==t&&(n[e]=t)}),C.push({animation:n}));var t=Boolean(C.length);return I&&!1===w.initial&&!T.manuallyAnimateOnMount&&(t=!1),I=!1,t?r(C):Promise.resolve()}t.animationState||(t.animationState=(a=T=t,r=function(e){return Promise.all(e.map(function(e){var t,n,r=e.animation,e=e.options,i=r;return void 0===(n=e)&&(n={}),(t=a).notifyAnimationStart(i),(Array.isArray(i)?(r=i.map(function(e){return Oy(t,e,n)}),Promise.all(r)):"string"==typeof i?Oy(t,i,n):(e="function"==typeof i?Jf(t,i,n.custom):i,Vy(t,e,n))).then(function(){return t.notifyAnimationComplete(i)})}))},(e={})[Jg]=By(!0),e[iy]=By(),e[ey]=By(),e[ty]=By(),e[ny]=By(),e[ry]=By(),e[ay]=By(),_=e,i={},I=!0,{isAnimated:function(e){return void 0!==i[e]},animateChanges:s,setActive:function(t,n,e){if(_[t].isActive===n)return Promise.resolve();null!=(i=T.variantChildren)&&i.forEach(function(e){return null==(e=e.animationState)?void 0:e.setActive(t,n)}),_[t].isActive=n;var r,i=s(e,t);for(r in _)_[r].protectedKeys={};return i},setAnimateFunction:function(e){r=e(T)},getState:function(){return _}})),Hg(n)&&(0,j.useEffect)(function(){return n.subscribe(t)},[n])}),exit:_y(function(e){var t=e.custom,n=e.visualElement,e=U(Ay(),2),r=e[0],i=e[1],a=(0,j.useContext)(Hf);(0,j.useEffect)(function(){n.isPresent=r;var e=null==(e=n.animationState)?void 0:e.setActive(ay,!r,{custom:null!=(e=null==a?void 0:a.custom)?e:t});r||null==e||e.then(i)},[r])})},qy=(Hy.prototype.updateHandlers=function(e){this.handlers=e},Hy.prototype.end=function(){this.removeListeners&&this.removeListeners(),mp.update(this.updatePoint)},Hy);function Hy(e,t,n){var r,i,a=this,n=(void 0===n?{}:n).transformPagePoint;this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){var e,t,n,r;a.lastMoveEvent&&a.lastMoveEventInfo&&(e=Gy(a.lastMoveEventInfo,a.history),t=null!==a.startEvent,r=3<=l0(e.offset,{x:0,y:0}),(t||r)&&(r=e.point,n=hp.timestamp,a.history.push(z(z({},r),{timestamp:n})),n=(r=a.handlers).onStart,r=r.onMove,t||(n&&n(a.lastMoveEvent,e),a.startEvent=a.lastMoveEvent),r&&r(a.lastMoveEvent,e)))},this.handlePointerMove=function(e,t){a.lastMoveEvent=e,a.lastMoveEventInfo=Wy(t,a.transformPagePoint),Qg(e)&&0===e.buttons?a.handlePointerUp(e,t):wp.update(a.updatePoint,!0)},this.handlePointerUp=function(e,t){a.end();var n=a.handlers,r=n.onEnd,n=n.onSessionEnd,t=Gy(Wy(t,a.transformPagePoint),a.history);a.startEvent&&r&&r(e,t),n&&n(e,t)},Zg(e)&&1<e.touches.length||(this.handlers=t,this.transformPagePoint=n,i=(n=Wy(oy(e),this.transformPagePoint)).point,r=hp.timestamp,this.history=[z(z({},i),{timestamp:r})],(i=t.onSessionStart)&&i(e,Gy(n,this.history)),this.removeListeners=Am(dy(window,"pointermove",this.handlePointerMove),dy(window,"pointerup",this.handlePointerUp),dy(window,"pointercancel",this.handlePointerUp)))}function Wy(e,t){return t?{point:t(e.point)}:e}function Ky(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gy(e,t){e=e.point;return{point:e,delta:Ky(e,Yy(t)),offset:Ky(e,t[0]),velocity:function(e){if(e.length<2)return{x:0,y:0};for(var t=e.length-1,n=null,r=Yy(e);0<=t&&(n=e[t],!(100<r.timestamp-n.timestamp));)t--;if(!n)return{x:0,y:0};var i=(r.timestamp-n.timestamp)/1e3;if(0==i)return{x:0,y:0};i={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}(t)}}function Yy(e){return e[e.length-1]}function $y(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Xy(e,t){var n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=(t=U([r,n],2))[0],r=t[1]),{min:n,max:r}}function Qy(e,t,n){return{min:Zy(e,t),max:Zy(e,n)}}function Zy(e,t){return"number"==typeof e?e:null!=(e=e[t])?e:0}function Jy(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function ev(e,t){return Jy(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),t=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:t.y,right:t.x}}(e.getBoundingClientRect(),t))}var tv=new WeakMap,nv=(rv.prototype.start=function(e,t){var l=this,t=(void 0===t?{}:t).snapToCursor,n=void 0!==t&&t;!1!==this.visualElement.isPresent&&(this.panSession=new qy(e,{onSessionStart:function(e){l.stopAnimation(),n&&l.snapToCursor(oy(e,"page").point)},onStart:function(e,t){var n=l.getProps(),r=n.drag,i=n.dragPropagation,n=n.onDragStart;r&&!i&&(l.openGlobalLock&&l.openGlobalLock(),l.openGlobalLock=yy(r),!l.openGlobalLock)||(l.isDragging=!0,l.currentDirection=null,l.resolveConstraints(),l.visualElement.projection&&(l.visualElement.projection.isAnimationBlocked=!0,l.visualElement.projection.target=void 0),L0(function(e){var t,n=l.getAxisMotionValue(e).get()||0;um.test(n)&&(t=null==(t=null==(t=l.visualElement.projection)?void 0:t.layout)?void 0:t.actual[e])&&(n=u0(t)*(parseFloat(n)/100)),l.originPoint[e]=n}),null!=n&&n(e,t),null!=(i=l.visualElement.animationState)&&i.setActive(ny,!0))},onMove:function(e,t){var n,r,i=l.getProps(),a=i.dragPropagation,s=i.dragDirectionLock,o=i.onDirectionLock,i=i.onDrag;if(a||l.openGlobalLock){a=t.offset;if(s&&null===l.currentDirection)return l.currentDirection=(s=a,void 0===n&&(n=10),r=null,Math.abs(s.y)>n?r="y":Math.abs(s.x)>n&&(r="x"),r),void(null!==l.currentDirection&&null!=o&&o(l.currentDirection));l.updateAxis("x",t.point,a),l.updateAxis("y",t.point,a),l.visualElement.syncRender(),null!=i&&i(e,t)}},onSessionEnd:function(e,t){return l.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},rv.prototype.stop=function(e,t){var n=this.isDragging;this.cancel(),n&&(n=t.velocity,this.startAnimation(n),null!=(n=this.getProps().onDragEnd)&&n(e,t))},rv.prototype.cancel=function(){var e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null!=(e=this.panSession)&&e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null!=(e=this.visualElement.animationState)&&e.setActive(ny,!1)},rv.prototype.updateAxis=function(e,t,n){var r,i,a,s=this.getProps().drag;n&&iv(e,s,this.currentDirection)&&(s=this.getAxisMotionValue(e),n=this.originPoint[e]+n[e],this.constraints&&this.constraints[e]&&(r=n,a=this.constraints[e],e=this.elastic[e],i=a.min,a=a.max,void 0!==i&&r<i?r=e?C(i,r,e.min):Math.max(r,i):void 0!==a&&a<r&&(r=e?C(a,r,e.max):Math.min(r,a)),n=r),s.set(n))},rv.prototype.resolveConstraints=function(){var e,t,n,r,i=this,a=this.getProps(),s=a.dragConstraints,a=a.dragElastic,o=(this.visualElement.projection||{}).layout,l=this.constraints;s&&$f(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!s||!o)&&(e=o.actual,t=s.top,r=s.left,n=s.bottom,s=s.right,{x:$y(e.x,r,s),y:$y(e.y,t,n)}),this.elastic=(!1===(r=void 0===(r=a)?.35:r)?r=0:!0===r&&(r=.35),{x:Qy(r,"left","right"),y:Qy(r,"top","bottom")}),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&L0(function(e){var t,n;i.getAxisMotionValue(e)&&(i.constraints[e]=(t=o.actual[e],n={},void 0!==(e=i.constraints[e]).min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n))})},rv.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,e=e.onMeasureDragConstraints;if(!t||!$f(t))return!1;var t=t.current,n=(Ap(null!==t,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.visualElement.projection);if(!n||!n.layout)return!1;r=n.root,t=ev(t,this.visualElement.getTransformPagePoint()),(r=r.scroll)&&(e0(t.x,r.x),e0(t.y,r.y));var r,t={x:Xy((r=n.layout.actual).x,(n=t).x),y:Xy(r.y,n.y)};return e&&(e=e((r=t.x,{top:(n=t.y).min,right:r.max,bottom:n.max,left:r.min})),this.hasMutatedConstraints=!!e,e&&(t=Jy(e))),t},rv.prototype.startAnimation=function(n){var r=this,e=this.getProps(),i=e.drag,a=e.dragMomentum,s=e.dragElastic,o=e.dragTransition,l=e.dragSnapToOrigin,e=e.onDragTransitionEnd,u=this.constraints||{},t=L0(function(e){var t;if(iv(e,i,r.currentDirection))return t=null!=(t=null===u?void 0:u[e])?t:{},l&&(t={min:0,max:0}),t=z(z({type:"inertia",velocity:a?n[e]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},o),t),r.startAxisValueAnimation(e,t)});return Promise.all(t).then(e)},rv.prototype.startAxisValueAnimation=function(e,t){return M1(e,this.getAxisMotionValue(e),0,t)},rv.prototype.stopAnimation=function(){var t=this;L0(function(e){return t.getAxisMotionValue(e).stop()})},rv.prototype.getAxisMotionValue=function(e){var t="_drag"+e.toUpperCase();return this.visualElement.getProps()[t]||this.visualElement.getValue(e,null!=(t=null==(t=this.visualElement.getProps().initial)?void 0:t[e])?t:0)},rv.prototype.snapToCursor=function(i){var a=this;L0(function(e){var t,n,r;iv(e,a.getProps().drag,a.currentDirection)&&(r=a.visualElement.projection,t=a.getAxisMotionValue(e),r&&r.layout&&(n=(r=r.layout.actual[e]).min,r=r.max,t.set(i[e]-C(n,r,.5))))})},rv.prototype.scalePositionWithinConstraints=function(){var a,s=this,e=this.getProps(),i=e.drag,e=e.dragConstraints,t=this.visualElement.projection;$f(e)&&t&&this.constraints&&(this.stopAnimation(),a={x:0,y:0},L0(function(e){var t,n,r,i=s.getAxisMotionValue(e);i&&(i=i.get(),a[e]=(e=s.constraints[e],t=.5,(n=u0(i={min:i,max:i}))<(r=u0(e))?t=Wp(e.min,e.max-n,i.min):r<n&&(t=Wp(i.min,i.max-r,e.min)),Pp(0,1,t)))}),e=this.visualElement.getProps().transformTemplate,this.visualElement.getInstance().style.transform=e?e({},""):"none",null!=(e=t.root)&&e.updateScroll(),t.updateLayout(),this.resolveConstraints(),L0(function(e){var t,n,r;iv(e,i,null)&&(t=s.getAxisMotionValue(e),n=(r=s.constraints[e]).min,r=r.max,t.set(C(n,r,a[e])))}))},rv.prototype.addListeners=function(){var e,r=this;function t(){$f(r.getProps().dragConstraints)&&(r.constraints=r.resolveRefConstraints())}tv.set(this.visualElement,this);var n=dy(this.visualElement.getInstance(),"pointerdown",function(e){var t=r.getProps(),n=t.drag,t=t.dragListener;n&&(void 0===t||t)&&r.start(e)}),i=this.visualElement.projection,a=i.addEventListener("measure",t),s=(i&&!i.layout&&(null!=(e=i.root)&&e.updateScroll(),i.updateLayout()),t(),$g(window,"resize",function(){r.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",function(e){var n=e.delta,e=e.hasLayoutChanged;r.isDragging&&e&&(L0(function(e){var t=r.getAxisMotionValue(e);t&&(r.originPoint[e]+=n[e].translate,t.set(t.get()+n[e].translate))}),r.visualElement.syncRender())}),function(){s(),n(),a()}},rv.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,t=void 0!==t&&t,n=e.dragDirectionLock,n=void 0!==n&&n,r=e.dragPropagation,r=void 0!==r&&r,i=e.dragConstraints,i=void 0!==i&&i,a=e.dragElastic,a=void 0===a?.35:a,s=e.dragMomentum,s=void 0===s||s;return z(z({},e),{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s})},rv);function rv(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=S0(),this.visualElement=e}function iv(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var e={pan:_y(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,e=e.visualElement,a=t||n||r||i,s=(0,j.useRef)(null),o=(0,j.useContext)(Bf).transformPagePoint,l={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,r&&r(e,t)}};(0,j.useEffect)(function(){null!==s.current&&s.current.updateHandlers(l)}),fy(e,"pointerdown",a&&function(e){s.current=new qy(e,l,{transformPagePoint:o})}),xy(function(){return s.current&&s.current.end()})}),drag:_y(function(e){var t=e.dragControls,n=e.visualElement,r=rp(function(){return new nv(n)});(0,j.useEffect)(function(){return t&&t.subscribe(r)},[r,t]),(0,j.useEffect)(function(){return r.addListeners()},[r])})},av=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function sv(e){var t=e.treeType,j=void 0===t?"":t,A=e.build,P=e.getBaseTarget,L=e.makeTargetAnimatable,D=e.measureViewportBox,M=e.render,R=e.readValueFromInstance,O=e.removeValueFromRenderState,V=e.sortNodePosition,F=e.scrapeMotionValuesFromProps;return function(e,n){var r,t,a,s,i,o=e.parent,l=e.props,u=e.presenceId,c=e.blockInitialAnimation,h=e.visualState,e=e.shouldReduceMotion,d=(void 0===n&&(n={}),!1),f=h.latestValues,p=h.renderState,m=(t=av.map(function(){return new Sp}),a={},s={clearAllListeners:function(){return t.forEach(function(e){return e.clear()})},updatePropListeners:function(i){av.forEach(function(e){var t,n="on"+e,r=i[n];null!=(t=a[e])&&t.call(a),r&&(a[e]=s[n](r))})}},t.forEach(function(n,e){s["on"+av[e]]=function(e){return n.add(e)},s["notify"+av[e]]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.notify.apply(n,Rf([],U(e),!1))}}),s),g=new Map,y=new Map,v={},b=z({},f);function w(){r&&d&&(x(),M(r,p,l.style,N.projection))}function x(){A(N,p,f,n,l)}function C(){m.notifyUpdate(f)}function k(t,e){var n=e.onChange(function(e){f[t]=e,l.onUpdate&&wp.update(C,!1,!0)}),r=e.onRenderRequest(N.scheduleRender);y.set(t,function(){n(),r()})}var S,E=F(l);for(S in E){var T=E[S];void 0!==f[S]&&Np(T)&&T.set(f[S],!1)}var _=ep(l),I=tp(l),N=z(z({treeType:j,current:null,depth:o?o.depth+1:0,parent:o,children:new Set,presenceId:u,shouldReduceMotion:e,variantChildren:I?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==o?void 0:o.isMounted()),blockInitialAnimation:c,isMounted:function(){return Boolean(r)},mount:function(e){d=!0,r=N.current=e,N.projection&&N.projection.mount(e),I&&o&&!_&&(i=null==o?void 0:o.addVariantChild(N)),g.forEach(function(e,t){return k(t,e)}),null!=o&&o.children.add(N),N.setProps(l)},unmount:function(){var e;null!=(e=N.projection)&&e.unmount(),mp.update(C),mp.render(w),y.forEach(function(e){return e()}),null!=i&&i(),null!=o&&o.children.delete(N),m.clearAllListeners(),r=void 0,d=!1},addVariantChild:function(e){var t,n=N.getClosestVariantNode();if(n)return null!=(t=n.variantChildren)&&t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return V&&j===e.treeType?V(N.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return I?N:null==o?void 0:o.getClosestVariantNode()},getLayoutId:function(){return l.layoutId},getInstance:function(){return r},getStaticValue:function(e){return f[e]},setStaticValue:function(e,t){return f[e]=t},getLatestValues:function(){return f},setVisibility:function(e){N.isVisible!==e&&(N.isVisible=e,N.scheduleRender())},makeTargetAnimatable:function(e,t){return L(N,e,l,t=void 0===t||t)},measureViewportBox:function(){return D(r,l)},addValue:function(e,t){N.hasValue(e)&&N.removeValue(e),g.set(e,t),f[e]=t.get(),k(e,t)},removeValue:function(e){var t;g.delete(e),null!=(t=y.get(e))&&t(),y.delete(e),delete f[e],O(e,p)},hasValue:function(e){return g.has(e)},getValue:function(e,t){var n=g.get(e);return void 0===n&&void 0!==t&&(n=Ip(t),N.addValue(e,n)),n},forEachValue:function(e){return g.forEach(e)},readValue:function(e){var t;return null!=(t=f[e])?t:R(r,e,n)},setBaseTarget:function(e,t){b[e]=t},getBaseTarget:function(e){if(P){var t=P(l,e);if(void 0!==t&&!Np(t))return t}return b[e]}},m),{build:function(){return x(),p},scheduleRender:function(){wp.render(w,!1,!0)},syncRender:w,setProps:function(e){(e.transformTemplate||l.transformTemplate)&&N.scheduleRender(),l=e,m.updatePropListeners(e),v=function(e,t,n){for(var r in t){var i=t[r],a=n[r];Np(i)?e.addValue(r,i):Np(a)?e.addValue(r,Ip(i)):a!==i&&(e.hasValue(r)?(a=e.getValue(r)).hasAnimated||a.set(i):e.addValue(r,Ip(null!=(a=e.getStaticValue(r))?a:i)))}for(r in n)void 0===t[r]&&e.removeValue(r);return t}(N,F(l),v)},getProps:function(){return l},getVariant:function(e){var t;return null==(t=l.variants)?void 0:t[e]},getDefaultTransition:function(){return l.transition},getTransformPagePoint:function(){return l.transformPagePoint},getVariantContext:function(e){if(e=void 0!==e&&e)return null==o?void 0:o.getVariantContext();if(!_)return e=(null==o?void 0:o.getVariantContext())||{},void 0!==l.initial&&(e.initial=l.initial),e;for(var t={},n=0;n<lv;n++){var r=ov[n],i=l[r];!Qf(i)&&!1!==i||(t[r]=i)}return t}});return N}}var ov=Rf(["initial"],U(i),!1),lv=ov.length;function uv(e){return"string"==typeof e&&e.startsWith("var(--")}var cv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,hv=4;function dv(t,e,n){Ap((n=void 0===n?1:n)<=hv,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));var r=U(function(){var e=cv.exec(t);if(!e)return[,];e=U(e,3);return[e[1],e[2]]}(),2),i=r[0],r=r[1];if(i)return(i=window.getComputedStyle(e).getPropertyValue(i))?i.trim():uv(r)?dv(r,e,n+1):r}function fv(e){return vv.has(e)}function pv(e,t){e.set(t,!1),e.set(t)}function mv(e){return e===Zp||e===D}function gv(e,t){return parseFloat(e.split(", ")[t])}function yv(r,i){return function(e,t){t=t.transform;if("none"===t||!t)return 0;var n=t.match(/^matrix3d\((.+)\)$/);return n?gv(n[1],i):(n=t.match(/^matrix\((.+)\)$/))?gv(n[1],r):0}}var vv=new Set(["width","height","top","left","right","bottom","x","y"]),bv=new Set(["x","y","z"]),wv=M0.filter(function(e){return!bv.has(e)}),xv={width:function(e,t){var e=e.x,n=t.paddingLeft,t=t.paddingRight,t=void 0===t?"0":t;return e.max-e.min-parseFloat(void 0===n?"0":n)-parseFloat(t)},height:function(e,t){var e=e.y,n=t.paddingTop,t=t.paddingBottom,t=void 0===t?"0":t;return e.max-e.min-parseFloat(void 0===n?"0":n)-parseFloat(t)},top:function(e,t){t=t.top;return parseFloat(t)},left:function(e,t){t=t.left;return parseFloat(t)},bottom:function(e,t){e=e.y,t=t.top;return parseFloat(t)+(e.max-e.min)},right:function(e,t){e=e.x,t=t.left;return parseFloat(t)+(e.max-e.min)},x:yv(4,13),y:yv(5,14)};function Cv(e,t){return bg(e)?Sv(t,{enableHardwareAcceleration:!1}):kv(t,{enableHardwareAcceleration:!0})}var i={treeType:"dom",readValueFromInstance:function(e,t){var n;return V0(t)?(n=T1(t))&&n.default||0:(n=window.getComputedStyle(e),(Cg(t)?n.getPropertyValue(t):n[t])||0)},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){return null==(e=e.style)?void 0:e[t]},measureViewportBox:function(e,t){return ev(e,t.transformPagePoint)},resetTransform:function(e,t,n){n=n.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,t=t.style;delete n[e],delete t[e]},makeTargetAnimatable:function(e,t,n,r){var o,h,d,f,p,i,a,s,l,u,c,m,g,y,n=n.transformValues,v=(void 0===r&&(r=!0),t.transition),b=t.transitionEnd,w=Mf(t,["transition","transitionEnd"]),t=function(e,t){var n,r,i={};for(r in w)i[r]=null!=(n=function(){if(e)return(e[r]||e.default||e).from}())?n:null==(n=t.getValue(r))?void 0:n.get();return i}(v||{},e);if(n&&(b=b&&n(b),w=w&&n(w),t=t&&n(t)),r){var x=e,C=w,k=t,S=Object.keys(C).filter(function(e){return!x.hasValue(e)}),E=S.length;if(E)for(var T,_=0;_<E;_++){var I=S[_],N=C[I],j=null;null!=(j=null===(j=Array.isArray(N)?N[0]:j)?null!=(T=null!=(T=k[I])?T:x.readValue(I))?T:C[I]:j)&&("string"==typeof j&&(/^\-?\d*\.?\d+$/.test(j)||/^0[^.\s]+$/.test(j))?j=parseFloat(j):(T=j,!Ry.find(Dy(T))&&Im.test(N)&&(j=_1(I,N))),x.addValue(I,Ip(j)),null==k[I]&&(k[I]=j),x.setBaseTarget(I,j))}o=w,n=t,e=function(e,t){var n,r=Mf(o,[]),i=e.getInstance();if(!(i instanceof Element))return{target:r,transitionEnd:t};for(n in t=t&&z({},t),e.forEachValue(function(e){var t=e.get();uv(t)&&(t=dv(t,i))&&e.set(t)}),r){var a,s=r[n];uv(s)&&(a=dv(s,i))&&(r[n]=a,t&&null==t[n]&&(t[n]=s))}return{target:r,transitionEnd:t}}(r=e,t=b),o=e.target,r=r,n=n,e=t=e.transitionEnd,t=o,b=(n=Object.keys(t).some(fv)?(h=r,void 0===(f=n)&&(f={}),void 0===(p=e)&&(p={}),d=z({},d=t),p=z({},p),r=Object.keys(d).filter(fv),g=!(m=[]),y=[],r.forEach(function(e){var t=h.getValue(e);if(h.hasValue(e)){var n,r,i,a=f[e],s=Ly(a),o=d[e];if(v1(o))for(var l=o.length,u=null===o[0]?1:0,s=Ly(a=o[u]),c=u;c<l;c++)n?Ap(Ly(o[c])===n,"All keyframes must be of the same type"):(n=Ly(o[c]),Ap(n===s||mv(s)&&mv(n),"Keyframes must be of the same dimension as the current value"));else n=Ly(o);s!==n&&(mv(s)&&mv(n)?("string"==typeof(u=t.get())&&t.set(parseFloat(u)),"string"==typeof o?d[e]=parseFloat(o):Array.isArray(o)&&n===D&&(d[e]=o.map(parseFloat))):null!=s&&s.transform&&null!=n&&n.transform&&(0===a||0===o)?0===a?t.set(n.transform(a)):d[e]=s.transform(o):(g||(r=h,i=[],wv.forEach(function(e){var t=r.getValue(e);void 0!==t&&(i.push([e,t.get()]),t.set(e.startsWith("scale")?1:0))}),i.length&&r.syncRender(),m=i,g=!0),y.push(e),p[e]=(void 0!==p[e]?p:d)[e],pv(t,o)))}}),y.length?(i=d,n=y,s=(a=h).measureViewportBox(),r=a.getInstance(),r=(l=getComputedStyle(r)).display,u={},"none"===r&&a.setStaticValue("display",i.display||"block"),n.forEach(function(e){u[e]=xv[e](s,l)}),a.syncRender(),c=a.measureViewportBox(),n.forEach(function(e){pv(a.getValue(e),u[e]),i[e]=xv[e](c,l)}),r=i,m.length&&m.forEach(function(e){var e=U(e,2),t=e[0],e=e[1];h.getValue(t).set(e)}),h.syncRender(),{target:r,transitionEnd:p}):{target:d,transitionEnd:p}):{target:t,transitionEnd:e}).transitionEnd,w=n.target}return z({transition:v,transitionEnd:b},w)},scrapeMotionValuesFromProps:Bg,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Sg(t,n,r,i.transformTemplate)},render:Fg},kv=sv(i),Sv=sv(z(z({},i),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return V0(t)?(null==(n=T1(t))?void 0:n.default)||0:(t=zg.has(t)?t:Rg(t),e.getAttribute(t))},scrapeMotionValuesFromProps:qg,build:function(e,t,n,r,i){Lg(t,n,r,i.transformTemplate)},render:Ug}));function Ev(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Tv,i={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!D.test(e))return e;e=parseFloat(e)}var n=Ev(e,t.target.x),e=Ev(e,t.target.y);return"".concat(n,"% ").concat(e,"%")}},_v={correct:function(e,t){var n=t.treeScale,t=t.projectionDelta,r=e,i=e.includes("var("),a=[],s=(i&&(e=e.replace(cv,function(e){return a.push(e),"_$css"})),Im.parse(e));if(5<s.length)return r;var o,r=Im.createTransformer(e),e="number"!=typeof s[0]?1:0,l=t.x.scale*n.x,t=t.y.scale*n.y,n=(s[0+e]/=l,s[1+e]/=t,C(l,t,.5)),l=("number"==typeof s[2+e]&&(s[2+e]/=n),"number"==typeof s[3+e]&&(s[3+e]/=n),r(s));return i&&(o=0,l=l.replace("_$css",function(){var e=a[o];return o++,e})),l}},Iv=(Df(Nv,Tv=j.Component),Nv.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.visualElement,r=t.layoutGroup,i=t.switchLayoutGroup,t=t.layoutId,n=n.projection;Object.assign(j0,jv),n&&(null!=r&&r.group&&r.group.add(n),null!=i&&i.register&&t&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",function(){e.safeToRemove()}),n.setOptions(z(z({},n.options),{onExitComplete:function(){return e.safeToRemove()}}))),W0.hasEverUpdated=!0},Nv.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,n=n.isPresent,s=i.projection;return s&&(s.isPresent=n,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?s.promote():s.relegate()||wp.postRender(function(){var e;null!=(e=s.getStack())&&e.members.length||t.safeToRemove()}))),null},Nv.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},Nv.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,e=e.switchLayoutGroup,t=t.projection;t&&(t.scheduleCheckAfterUnmount(),null!=n&&n.group&&n.group.remove(t),null!=e&&e.deregister&&e.deregister(t))},Nv.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null!=e&&e()},Nv.prototype.render=function(){return null},Nv);function Nv(){return null!==Tv&&Tv.apply(this,arguments)||this}var jv={borderRadius:z(z({},i),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:i,borderTopRightRadius:i,borderBottomLeftRadius:i,borderBottomRightRadius:i,boxShadow:_v},i={measureLayout:function(e){var t=U(Ay(),2),n=t[0],t=t[1],r=(0,j.useContext)(hg);return j.createElement(Iv,z({},e,{layoutGroup:r,switchLayoutGroup:(0,j.useContext)(dg),isPresent:n,safeToRemove:t}))}},Av=K0({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Pv={current:void 0},Lv=K0({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){var e;return Pv.current||((e=new Av(0,{})).mount(window),e.setOptions({layoutScroll:!0}),Pv.current=e),Pv.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"}}),Dv=z(z(z(z({},n),t),e),i),E=yg(function(e,t){return n=Dv,r=Cv,i=Lv,t=void 0!==(t=t.forwardMotionProps)&&t,a=bg(e=e)?Gg:Yg,z(z({},a),{preloadedFeatures:n,useRender:Mg(t),createVisualElement:r,projectionNodeConstructor:i,Component:e});var n,r,i,a});const Mv=({handleClick:e,active:t,icon:n,title:r})=>(0,x.jsxs)(E.button,{onClick:e,whileTap:{scale:.92},className:"btet5v4"+(t?" active":""),children:[n,(0,x.jsx)("span",{className:"caption",children:r})]});function Rv(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function T(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Rv(Object(i),!0).forEach(function(e){var t=r,n=i[e=e];e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Rv(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||zv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fv(e){return function(e){if(Array.isArray(e))return Uv(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||zv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zv(e,t){if(e){if("string"==typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uv(e,t):void 0}}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bv(){}W9(9632);_v={},n={},t=null,e={mark:Bv,measure:Bv};try{"undefined"!=typeof window&&(_v=window),"undefined"!=typeof document&&(n=document),"undefined"!=typeof MutationObserver&&(t=MutationObserver),"undefined"!=typeof performance&&(e=performance)}catch(e){}var i=(_v.navigator||{}).userAgent,i=void 0===i?"":i,qv=_v,M=n,Hv=t,_v=e,Wv=(qv.document,!!M.documentElement&&!!M.head&&"function"==typeof M.addEventListener&&"function"==typeof M.createElement),Kv=~i.indexOf("MSIE")||~i.indexOf("Trident/"),n="___FONT_AWESOME___",Gv="svg-inline--fa",Yv="data-fa-i2svg",$v="data-fa-pseudo-element",Xv="data-fa-pseudo-element-pending",Qv="data-prefix",Zv="data-icon",Jv="fontawesome-i2svg",e2="async",t2=["HTML","HEAD","STYLE","SCRIPT"],n2=function(){try{return!0}catch(e){return!1}}(),r2={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},i2={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},a2={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},s2={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},o2=/fa[srltdbk\-\ ]/,l2="fa-layers-text",u2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,c2={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},t=[1,2,3,4,5,6,7,8,9,10],e=t.concat([11,12,13,14,15,16,17,18,19,20]),h2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],d2={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},f2=[].concat(Fv(Object.keys(i2)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",d2.GROUP,d2.SWAP_OPACITY,d2.PRIMARY,d2.SECONDARY]).concat(t.map(function(e){return"".concat(e,"x")})).concat(e.map(function(e){return"w-".concat(e)})),p2=qv.FontAwesomeConfig||{},m2=(M&&"function"==typeof M.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var e=Vv(e,2),t=e[0],e=e[1],t=""===(t=function(e){var t=M.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t))||"false"!==t&&("true"===t||t);null!=t&&(p2[e]=t)}),T(T({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Gv,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),p2)),R=(m2.autoReplaceSvg||(m2.observeMutations=!1),{}),g2=(Object.keys(m2).forEach(function(t){Object.defineProperty(R,t,{enumerable:!0,set:function(e){m2[t]=e,g2.forEach(function(e){return e(R)})},get:function(){return m2[t]}})}),qv.FontAwesomeConfig=R,[]),y2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},v2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function b2(){for(var e=12,t="";0<e--;)t+=v2[62*Math.random()|0];return t}function w2(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function x2(e){return e.classList?w2(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function C2(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k2(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function S2(e){return e.size!==y2.size||e.x!==y2.x||e.y!==y2.y||e.rotate!==y2.rotate||e.flipX||e.flipY}function E2(){var e,t,n=Gv,r=R.familyPrefix,i=R.replacementClass,a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';return"fa"===r&&i===n||(e=new RegExp("\\.".concat("fa","\\-"),"g"),t=new RegExp("\\--".concat("fa","\\-"),"g"),n=new RegExp("\\.".concat(n),"g"),a=a.replace(e,".".concat(r,"-")).replace(t,"--".concat(r,"-")).replace(n,".".concat(i))),a}var T2=!1;function _2(){if(R.autoAddCss&&!T2){var e=E2();if(e&&Wv){for(var t=M.createElement("style"),n=(t.setAttribute("type","text/css"),t.innerHTML=e,M.head.childNodes),r=null,i=n.length-1;-1<i;i--){var a=n[i],s=(a.tagName||"").toUpperCase();-1<["STYLE","LINK"].indexOf(s)&&(r=a)}M.head.insertBefore(t,r)}T2=!0}}var i={mixout:function(){return{dom:{css:E2,insertCss:_2}}},hooks:function(){return{beforeDOMElementCreation:function(){_2()},beforeI2svg:function(){_2()}}}},t=qv||{},I2=(t[n]||(t[n]={}),t[n].styles||(t[n].styles={}),t[n].hooks||(t[n].hooks={}),t[n].shims||(t[n].shims=[]),t[n]),N2=[],j2=!1;function A2(e){var n,t=e.tag,r=e.attributes,r=void 0===r?{}:r,i=e.children,i=void 0===i?[]:i;return"string"==typeof e?C2(e):"<".concat(t," ").concat((n=r,Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(C2(n[t]),'" ')},"").trim()),">").concat(i.map(A2).join(""),"</").concat(t,">")}function P2(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function L2(e,t,n,r){for(var i,a,s=Object.keys(e),o=s.length,l=void 0!==r?D2(t,r):t,u=void 0===n?(i=1,e[s[0]]):(i=0,n);i<o;i++)u=l(u,e[a=s[i]],a,e);return u}Wv&&!(j2=(M.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(M.readyState))&&M.addEventListener("DOMContentLoaded",function e(){M.removeEventListener("DOMContentLoaded",e),j2=1,N2.map(function(e){return e()})});var D2=function(i,a){return function(e,t,n,r){return i.call(a,e,t,n,r)}};function M2(e){e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i,a=e.charCodeAt(n++);55296<=a&&a<=56319&&n<r?56320==(64512&(i=e.charCodeAt(n++)))?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--):t.push(a)}return t}(e);return 1===e.length?e[0].toString(16):null}function R2(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return n.icon?e[n.iconName]=n.icon:e[t]=n,e},{})}function O2(e,t,n){var n=(2<arguments.length&&void 0!==n?n:{}).skipHooks,n=void 0!==n&&n,r=R2(t);"function"!=typeof I2.hooks.addPack||n?I2.styles[e]=T(T({},I2.styles[e]||{}),r):I2.hooks.addPack(e,R2(t)),"fas"===e&&O2("fa",t)}var V2=I2.styles,F2=I2.shims,z2=Object.values(a2),U2=null,B2={},q2={},H2={},W2={},K2={},G2=Object.keys(r2);function Y2(){function e(r){return L2(V2,function(e,t,n){return e[n]=L2(t,r,{}),e},{})}B2=e(function(t,e,n){return e[3]&&(t[e[3]]=n),e[2]&&e[2].filter(function(e){return"number"==typeof e}).forEach(function(e){t[e.toString(16)]=n}),t}),q2=e(function(t,e,n){return t[n]=n,e[2]&&e[2].filter(function(e){return"string"==typeof e}).forEach(function(e){t[e]=n}),t}),K2=e(function(t,e,n){e=e[2];return t[n]=n,e.forEach(function(e){t[e]=n}),t});var i="far"in V2||R.autoFetchSvg,t=L2(F2,function(e,t){var n=t[0],r=t[1],t=t[2];return"far"!==r||i||(r="fas"),"string"==typeof n&&(e.names[n]={prefix:r,iconName:t}),"number"==typeof n&&(e.unicodes[n.toString(16)]={prefix:r,iconName:t}),e},{names:{},unicodes:{}});H2=t.names,W2=t.unicodes,U2=J2(R.styleDefault)}function $2(e,t){return(B2[e]||{})[t]}function X2(e,t){return(K2[e]||{})[t]}function Q2(e){return H2[e]||{prefix:null,iconName:null}}function Z2(){return{prefix:null,iconName:null,rest:[]}}function J2(e){var t=i2[e]||i2[r2[e]],e=e in I2.styles?e:null;return t||e||null}function eb(e,t){var t=(1<arguments.length&&void 0!==t?t:{}).skipLookups,a=void 0!==t&&t,s=null,t=e.reduce(function(e,t){var n=R.familyPrefix,r=t.split("-"),i=r[0],r=r.slice(1).join("-"),i=i!==n||""===r||~f2.indexOf(r)?null:r;return V2[t]?(t=z2.includes(t)?s2[t]:t,s=t,e.prefix=t):-1<G2.indexOf(t)?(s=t,e.prefix=J2(t)):i?e.iconName=i:t!==R.replacementClass&&e.rest.push(t),!a&&e.prefix&&e.iconName&&(n="fa"===s?Q2(e.iconName):{},r=X2(e.prefix,e.iconName),n.prefix&&(s=null),e.iconName=n.iconName||r||e.iconName,e.prefix=n.prefix||e.prefix,"far"!==e.prefix||V2.far||!V2.fas||R.autoFetchSvg||(e.prefix="fas")),e},Z2());return"fa"!==t.prefix&&"fa"!==s||(t.prefix=U2||"fas"),t}g2.push(function(e){U2=J2(e.styleDefault)}),Y2();var e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.definitions={}}for(var t=e,n=t.prototype,r=[{key:"add",value:function(){for(var n=this,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){n.definitions[e]=T(T({},n.definitions[e]||{}),i[e]),O2(e,i[e]);var t=a2[e];t&&O2(t,i[e]),Y2()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(i,e){var a=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(a).map(function(e){var e=a[e],t=e.prefix,n=e.iconName,r=e.icon,e=r[2];i[t]||(i[t]={}),0<e.length&&e.forEach(function(e){"string"==typeof e&&(i[t][e]=r)}),i[t][n]=r}),i}}],i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}return Object.defineProperty(t,"prototype",{writable:!1}),e}(),t=[],tb={},nb={},rb=Object.keys(nb);function ib(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(tb[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(r))}),t}function ab(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(tb[e]||[]).forEach(function(e){e.apply(null,n)})}function sb(e){var t=Array.prototype.slice.call(arguments,1);return nb[e]?nb[e].apply(null,t):void 0}function ob(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,e=e.prefix||U2;if(t)return t=X2(e,t)||t,P2(lb.definitions,e,t)||P2(I2.styles,e,t)}var lb=new e,ub={noAuto:function(){R.autoReplaceSvg=!1,R.observeMutations=!1,ab("noAuto")},config:R,dom:{i2svg:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Wv?(ab("beforeI2svg",e),sb("pseudoElements2svg",e),sb("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===R.autoReplaceSvg&&(R.autoReplaceSvg=!0),R.observeMutations=!0,e=function(){cb({autoReplaceSvgRoot:n}),ab("watch",t)},Wv&&(j2?setTimeout(e,0):N2.push(e))}},parse:{icon:function(e){return null===e?null:"object"===Ov(e)&&e.prefix&&e.iconName?{prefix:e.prefix,iconName:X2(e.prefix,e.iconName)||e.iconName}:Array.isArray(e)&&2===e.length?(t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],{prefix:n=J2(e[0]),iconName:X2(n,t)||t}):"string"==typeof e&&(-1<e.indexOf("".concat(R.familyPrefix,"-"))||e.match(o2))?{prefix:(n=eb(e.split(" "),{skipLookups:!0})).prefix||U2,iconName:X2(n.prefix,n.iconName)||n.iconName}:"string"==typeof e?{prefix:U2,iconName:X2(U2,e)||e}:void 0;var t,n}},library:lb,findIconDefinition:ob,toHtml:A2},cb=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,e=void 0===e?M:e;(0<Object.keys(I2.styles).length||R.autoFetchSvg)&&Wv&&R.autoReplaceSvg&&ub.dom.i2svg({node:e})};function hb(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(A2)}}),Object.defineProperty(t,"node",{get:function(){var e;if(Wv)return(e=M.createElement("div")).innerHTML=t.html,e.children}}),t}function db(e){var t=e.icons,n=t.main,t=t.mask,r=e.prefix,i=e.iconName,a=e.transform,s=e.symbol,o=e.title,l=e.maskId,u=e.titleId,c=e.extra,e=e.watchable,e=void 0!==e&&e,h=t.found?t:n,d=h.width,h=h.height,f="fak"===r,p=[R.replacementClass,i?"".concat(R.familyPrefix,"-").concat(i):""].filter(function(e){return-1===c.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(c.classes).join(" "),p={children:[],attributes:T(T({},c.attributes),{},{"data-prefix":r,"data-icon":i,class:p,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(h)})},f=f&&!~c.classes.indexOf("fa-fw")?{width:"".concat(d/h*16*.0625,"em")}:{},d=(e&&(p.attributes[Yv]=""),o&&(p.children.push({tag:"title",attributes:{id:p.attributes["aria-labelledby"]||"title-".concat(u||b2())},children:[o]}),delete p.attributes.title),T(T({},p),{},{prefix:r,iconName:i,main:n,mask:t,maskId:l,transform:a,symbol:s,styles:T(T({},f),c.styles)})),h=t.found&&n.found?sb("generateAbstractMask",d)||{children:[],attributes:{}}:sb("generateAbstractIcon",d)||{children:[],attributes:{}},e=h.children,u=h.attributes;return d.children=e,d.attributes=u,s?(o=d.prefix,p=d.iconName,r=d.children,i=d.attributes,a=!0===(l=d.symbol)?"".concat(o,"-").concat(R.familyPrefix,"-").concat(p):l,[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:T(T({},i),{},{id:a}),children:r}]}]):(f=d.children,t=d.main,n=d.mask,h=d.attributes,e=d.styles,S2(u=d.transform)&&t.found&&!n.found&&(s=t.width/t.height/2,h.style=k2(T(T({},e),{},{"transform-origin":"".concat(s+u.x/16,"em ").concat(.5+u.y/16,"em")}))),[{tag:"svg",attributes:h,children:f}])}function fb(e){var t,n=e.content,r=e.width,i=e.height,a=e.transform,s=e.title,o=e.extra,e=e.watchable,e=void 0!==e&&e,l=T(T(T({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")}),e=(e&&(l[Yv]=""),T({},o.styles)),r=(S2(a)&&(e.transform=(a=(o={transform:a,startCentered:!0,width:r,height:i}).transform,r=o.width,i=void 0===(i=o.height)?16:i,t="",(t+=(o=void 0!==(o=o.startCentered)&&o)&&Kv?"translate(".concat(a.x/16-(void 0===r?16:r)/2,"em, ").concat(a.y/16-i/2,"em) "):o?"translate(calc(-50% + ".concat(a.x/16,"em), calc(-50% + ").concat(a.y/16,"em)) "):"translate(".concat(a.x/16,"em, ").concat(a.y/16,"em) "))+"scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") ")+"rotate(".concat(a.rotate,"deg) ")),e["-webkit-transform"]=e.transform),k2(e)),i=(0<r.length&&(l.style=r),[]);return i.push({tag:"span",attributes:l,children:[n]}),s&&i.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),i}var pb=I2.styles;function mb(e){var t=e[0],n=e[1],e=Vv(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(e)?{tag:"g",attributes:{class:"".concat(R.familyPrefix,"-").concat(d2.GROUP)},children:[{tag:"path",attributes:{class:"".concat(R.familyPrefix,"-").concat(d2.SECONDARY),fill:"currentColor",d:e[0]}},{tag:"path",attributes:{class:"".concat(R.familyPrefix,"-").concat(d2.PRIMARY),fill:"currentColor",d:e[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:e}}}}var gb={found:!1,width:512,height:512};function yb(i,a){var s=a;return"fa"===a&&null!==R.styleDefault&&(a=U2),new Promise(function(e,t){var n,r;if(sb("missingIconAbstract"),"fa"===s&&(n=Q2(i)||{},i=n.iconName||i,a=n.prefix||a),i&&a&&pb[a]&&pb[a][i])return e(mb(pb[a][i]));n=i,r=a,n2||R.showMissingIcons||!n||console.error('Icon with name "'.concat(n,'" and prefix "').concat(r,'" is missing.')),e(T(T({},gb),{},{icon:R.showMissingIcons&&i&&sb("missingIconAbstract")||{}}))})}function vb(){}function bb(e){wb.mark("".concat(xb," ").concat(e," ends")),wb.measure("".concat(xb," ").concat(e),"".concat(xb," ").concat(e," begins"),"".concat(xb," ").concat(e," ends"))}var wb=R.measurePerformance&&_v&&_v.mark&&_v.measure?_v:{mark:vb,measure:vb},xb='FA "6.1.1"',Cb={begin:function(e){return wb.mark("".concat(xb," ").concat(e," begins")),function(){return bb(e)}},end:bb},kb=function(){};function Sb(e){return"string"==typeof(e.getAttribute?e.getAttribute(Yv):null)}function Eb(e){return M.createElementNS("http://www.w3.org/2000/svg",e)}function Tb(e){return M.createElement(e)}var _b={replace:function(e){var t=e[0];t.parentNode&&(e[1].forEach(function(e){t.parentNode.insertBefore(function t(n,e){var e=(1<arguments.length&&void 0!==e?e:{}).ceFn,r=void 0===e?"svg"===n.tag?Eb:Tb:e;if("string"==typeof n)return M.createTextNode(n);var i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(e){i.setAttribute(e,n.attributes[e])}),(n.children||[]).forEach(function(e){i.appendChild(t(e,{ceFn:r}))}),i}(e),t)}),null===t.getAttribute(Yv)&&R.keepOriginalSource?(e=M.createComment((e=" ".concat(t.outerHTML," "),"".concat(e,"Font Awesome fontawesome.com "))),t.parentNode.replaceChild(e,t)):t.remove())},nest:function(e){var t=e[0],n=e[1];if(~x2(t).indexOf(R.replacementClass))return _b.replace(e);var r=new RegExp("".concat(R.familyPrefix,"-.*")),e=(delete n[0].attributes.id,n[0].attributes.class&&(e=n[0].attributes.class.split(" ").reduce(function(e,t){return(t===R.replacementClass||t.match(r)?e.toSvg:e.toNode).push(t),e},{toNode:[],toSvg:[]}),n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))),n.map(A2).join("\n"));t.setAttribute(Yv,""),t.innerHTML=e}};function Ib(n,e){var r="function"==typeof e?e:kb;0===n.length?r():(R.mutateApproach===e2&&qv.requestAnimationFrame||function(e){e()})(function(){var e=!0!==R.autoReplaceSvg&&_b[R.autoReplaceSvg]||_b.replace,t=Cb.begin("mutate");n.map(e),t(),r()})}var Nb=!1;function jb(){Nb=!0}function Ab(){Nb=!1}var Pb=null;function Lb(e){var i,a,s,t;Hv&&R.observeMutations&&(t=e.treeCallback,i=void 0===t?kb:t,t=e.nodeCallback,a=void 0===t?kb:t,t=e.pseudoElementsCallback,s=void 0===t?kb:t,e=void 0===(t=e.observeMutationsRoot)?M:t,Pb=new Hv(function(e){var r;Nb||(r=U2,w2(e).forEach(function(e){var t,n;"childList"===e.type&&0<e.addedNodes.length&&!Sb(e.addedNodes[0])&&(R.searchPseudoElements&&s(e.target),i(e.target)),"attributes"===e.type&&e.target.parentNode&&R.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&Sb(e.target)&&~h2.indexOf(e.attributeName)&&("class"===e.attributeName&&(t=(n=e.target).getAttribute?n.getAttribute(Qv):null,n=n.getAttribute?n.getAttribute(Zv):null,t&&n)?(n=(t=eb(x2(e.target))).prefix,t=t.iconName,e.target.setAttribute(Qv,n||r),t&&e.target.setAttribute(Zv,t)):(n=e.target)&&n.classList&&n.classList.contains&&n.classList.contains(R.replacementClass)&&a(e.target))}))}),Wv&&Pb.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0}))}function Db(e,t){var t=1<arguments.length&&void 0!==t?t:{styleParser:!0},n=(r=(a=e).getAttribute("data-prefix"),i=a.getAttribute("data-icon"),n=void 0!==a.innerText?a.innerText.trim():"",(o=eb(x2(a))).prefix||(o.prefix=U2),r&&i&&(o.prefix=r,o.iconName=i),o.iconName&&o.prefix||o.prefix&&0<n.length&&(o.iconName=(r=o.prefix,i=a.innerText,(q2[r]||{})[i]||$2(o.prefix,M2(a.innerText)))),o),r=n.iconName,i=n.prefix,a=n.rest,s=(n=w2((o=e).attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),s=o.getAttribute("title"),o=o.getAttribute("data-fa-title-id"),R.autoA11y&&(s?n["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(o||b2()):(n["aria-hidden"]="true",n.focusable="false")),n),o=ib("parseNodeAttributes",{},e),t=t.styleParser?(n=[],n=(t=e.getAttribute("style"))?t.split(";").reduce(function(e,t){var t=t.split(":"),n=t[0],t=t.slice(1);return n&&0<t.length&&(e[n]=t.join(":").trim()),e},{}):n):[];return T({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:y2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:t,attributes:s}},o)}var Mb=I2.styles;function Rb(e){var t="nest"===R.autoReplaceSvg?Db(e,{styleParser:!1}):Db(e);return~t.extra.classes.indexOf(l2)?sb("generateLayersText",e,t):sb("generateSvgReplacementMutation",e,t)}function Ob(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!Wv)return Promise.resolve();function i(e){t.add("".concat(Jv,"-").concat(e))}function a(e){t.remove("".concat(Jv,"-").concat(e))}var t=M.documentElement.classList,n=R.autoFetchSvg?Object.keys(r2):Object.keys(Mb),n=[".".concat(l2,":not([").concat(Yv,"])")].concat(n.map(function(e){return".".concat(e,":not([").concat(Yv,"])")})).join(", ");if(0===n.length)return Promise.resolve();var s=[];try{s=w2(e.querySelectorAll(n))}catch(e){}if(!(0<s.length))return Promise.resolve();i("pending"),a("complete");var o=Cb.begin("onTree"),l=s.reduce(function(e,t){try{var n=Rb(t);n&&e.push(n)}catch(e){n2||"MissingIcon"===e.name&&console.error(e)}return e},[]);return new Promise(function(t,n){Promise.all(l).then(function(e){Ib(e,function(){i("active"),i("complete"),a("pending"),"function"==typeof r&&r(),o(),t()})}).catch(function(e){o(),n(e)})})}function Vb(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Rb(e).then(function(e){e&&Ib([e],t)})}function Fb(e){var t,n,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=i.transform,s=void 0===a?y2:a,a=i.symbol,o=void 0!==a&&a,a=i.mask,l=void 0===a?null:a,a=i.maskId,u=void 0===a?null:a,a=i.title,c=void 0===a?null:a,a=i.titleId,h=void 0===a?null:a,a=i.classes,d=void 0===a?[]:a,a=i.attributes,f=void 0===a?{}:a,a=i.styles,p=void 0===a?{}:a;if(e)return t=e.prefix,n=e.iconName,r=e.icon,hb(T({type:"icon"},e),function(){return ab("beforeDOMElementCreation",{iconDefinition:e,params:i}),R.autoA11y&&(c?f["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(h||b2()):(f["aria-hidden"]="true",f.focusable="false")),db({icons:{main:mb(r),mask:l?mb(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:t,iconName:n,transform:T(T({},y2),s),symbol:o,title:c,maskId:u,titleId:h,extra:{attributes:f,styles:p,classes:d}})})}var n={mixout:function(){return{icon:(r=Fb,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(e||{}).icon?e:ob(e||{}),n=(n=t.mask)&&((n||{}).icon?n:ob(n||{}));return r(e,T(T({},t),{},{mask:n}))})};var r},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Ob,e.nodeCallback=Vb,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,e=e.callback;return Ob(void 0===t?M:t,void 0===e?function(){}:e)},e.generateSvgReplacementMutation=function(r,e){var i=e.iconName,a=e.title,s=e.titleId,o=e.prefix,l=e.transform,u=e.symbol,t=e.mask,c=e.maskId,h=e.extra;return new Promise(function(n,e){Promise.all([yb(i,o),t.iconName?yb(t.iconName,t.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(e){var e=Vv(e,2),t=e[0],e=e[1];n([r,db({icons:{main:t,mask:e},prefix:o,iconName:i,transform:l,symbol:u,maskId:c,title:a,titleId:s,extra:h,watchable:!0})])}).catch(e)})},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,e=k2(e.styles);return 0<e.length&&(r.style=e),S2(a)&&(t=sb("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},e={mixout:function(){return{layer:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.classes,r=void 0===t?[]:t;return hb({type:"layer"},function(){ab("beforeDOMElementCreation",{assembler:e,params:n});var t=[];return e(function(e){Array.isArray(e)?e.map(function(e){t=t.concat(e.abstract)}):t=t.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(R.familyPrefix,"-layers")].concat(Fv(r)).join(" ")},children:t}]})}}}},_v={mixout:function(){return{counter:function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.title,s=void 0===e?null:e,e=a.classes,o=void 0===e?[]:e,e=a.attributes,l=void 0===e?{}:e,e=a.styles,u=void 0===e?{}:e;return hb({type:"counter",content:i},function(){return ab("beforeDOMElementCreation",{content:i,params:a}),e=(r={content:i.toString(),title:s,extra:{attributes:l,styles:u,classes:["".concat(R.familyPrefix,"-layers-counter")].concat(Fv(o))}}).content,t=r.title,n=T(T(T({},(r=r.extra).attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),0<(r=k2(r.styles)).length&&(n.style=r),(r=[]).push({tag:"span",attributes:n,children:[e]}),t&&r.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),r;var e,t,n,r})}}}},zb={mixout:function(){return{text:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?y2:n,n=t.title,i=void 0===n?null:n,n=t.classes,a=void 0===n?[]:n,n=t.attributes,s=void 0===n?{}:n,n=t.styles,o=void 0===n?{}:n;return hb({type:"text",content:e},function(){return ab("beforeDOMElementCreation",{content:e,params:t}),fb({content:e,transform:T(T({},y2),r),title:i,extra:{attributes:s,styles:o,classes:["".concat(R.familyPrefix,"-layers-text")].concat(Fv(a))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n,r,i=t.title,a=t.transform,t=t.extra,s=null,o=null;return Kv&&(n=parseInt(getComputedStyle(e).fontSize,10),s=(r=e.getBoundingClientRect()).width/n,o=r.height/n),R.autoA11y&&!i&&(t.attributes["aria-hidden"]="true"),Promise.resolve([e,fb({content:e.innerHTML,width:s,height:o,transform:a,title:i,extra:t,watchable:!0})])}}},Ub=new RegExp('"',"ug"),Bb=[1105920,1112319];function qb(d,f){var p="".concat(Xv).concat(f.replace(":","-"));return new Promise(function(n,e){return null!==d.getAttribute(p)?n():(t=w2(d.children).filter(function(e){return e.getAttribute($v)===f})[0],o=(l=qv.getComputedStyle(d,f)).getPropertyValue("font-family").match(u2),u=l.getPropertyValue("font-weight"),c=l.getPropertyValue("content"),t&&!o?(d.removeChild(t),n()):void(o&&"none"!==c&&""!==c?(c=l.getPropertyValue("content"),r=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?i2[o[2].toLowerCase()]:c2[u],c=(u=l=c.replace(Ub,"")).length,u=55296<=(h=u.charCodeAt(0))&&h<=56319&&1<c&&56320<=(c=u.charCodeAt(1))&&c<=57343?1024*(h-55296)+c-56320+65536:h,c=Bb[0]<=u&&u<=Bb[1],l=(u={value:M2((h=2===l.length&&l[0]===l[1])?l[0]:l),isSecondary:c||h}).value,c=u.isSecondary,h=o[0].startsWith("FontAwesome"),u=$2(r,l),i=u,h&&(o=W2[l],h=$2("fas",l),(l=o||(h?{prefix:"fas",iconName:h}:null)||{prefix:null,iconName:null}).iconName&&l.prefix&&(u=l.iconName,r=l.prefix)),!u||c||t&&t.getAttribute(Qv)===r&&t.getAttribute(Zv)===i?n():(d.setAttribute(p,i),t&&d.removeChild(t),(s=(a={iconName:null,title:null,titleId:null,prefix:null,transform:y2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}).extra).attributes[$v]=f,yb(u,r).then(function(e){var e=db(T(T({},a),{},{icons:{main:e,mask:Z2()},prefix:r,iconName:i,extra:s,watchable:!0})),t=M.createElement("svg");"::before"===f?d.insertBefore(t,d.firstChild):d.appendChild(t),t.outerHTML=e.map(A2).join("\n"),d.removeAttribute(p),n()}).catch(e))):n()));var t,r,i,a,s,o,l,u,c,h})}function Hb(e){return Promise.all([qb(e,"::before"),qb(e,"::after")])}function Wb(e){return!(e.parentNode===document.head||~t2.indexOf(e.tagName.toUpperCase())||e.getAttribute($v)||e.parentNode&&"svg"===e.parentNode.tagName)}function Kb(i){if(Wv)return new Promise(function(e,t){var n=w2(i.querySelectorAll("*")).filter(Wb).map(Hb),r=Cb.begin("searchPseudoElements");jb(),Promise.all(n).then(function(){r(),Ab(),e()}).catch(function(){r(),Ab(),t()})})}function Gb(e){return e.toLowerCase().split(" ").reduce(function(e,t){var t=t.toLowerCase().split("-"),n=t[0],r=t.slice(1).join("-");if(n&&"h"===r)return e.flipX=!0,e;if(n&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(n){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})}var Yb=!1,$b={x:0,y:0,width:"100%",height:"100%"};function Xb(e){return e.attributes&&(e.attributes.fill||!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(e.attributes.fill="black"),e}Qb=ub,t=[i,n,e,_v,zb,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Kb,e}}},provides:function(e){e.pseudoElements2svg=function(e){e=e.node;R.searchPseudoElements&&Kb(void 0===e?M:e)}}},{mixout:function(){return{dom:{unwatch:function(){jb(),Yb=!0}}}},hooks:function(){return{bootstrap:function(){Lb(ib("mutationObserverCallbacks",{}))},noAuto:function(){Pb&&Pb.disconnect()},watch:function(e){e=e.observeMutationsRoot;Yb?Ab():Lb(ib("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},{mixout:function(){return{parse:{transform:Gb}}},hooks:function(){return{parseNodeAttributes:function(e,t){t=t.getAttribute("data-fa-transform");return t&&(e.transform=Gb(t)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,e=e.iconWidth,r={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),n="rotate(".concat(n.rotate," 0 0)"),r={outer:r,inner:{transform:"".concat(i," ").concat(a," ").concat(n)},path:{transform:"translate(".concat(e/2*-1," -256)")}};return{tag:"g",attributes:T({},r.outer),children:[{tag:"g",attributes:T({},r.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:T(T({},t.icon.attributes),r.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),n=n?eb(n.split(" ").map(function(e){return e.trim()})):Z2();return n.prefix||(n.prefix=U2),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.mask,a=e.maskId,e=e.transform,s=r.width,r=r.icon,o=i.width,i=i.icon,e=(o=(e={transform:e,containerWidth:o,iconWidth:s}).transform,s=e.iconWidth,e={transform:"translate(".concat(e.containerWidth/2," 256)")},l="translate(".concat(32*o.x,", ").concat(32*o.y,") "),u="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),o="rotate(".concat(o.rotate," 0 0)"),{outer:e,inner:{transform:"".concat(l," ").concat(u," ").concat(o)},path:{transform:"translate(".concat(s/2*-1," -256)")}}),l={tag:"rect",attributes:T(T({},$b),{},{fill:"white"})},u=r.children?{children:r.children.map(Xb)}:{},o={tag:"g",attributes:T({},e.inner),children:[Xb(T({tag:r.tag,attributes:T(T({},r.attributes),e.path)},u))]},s={tag:"g",attributes:T({},e.outer),children:[o]},r="mask-".concat(a||b2()),u="clip-".concat(a||b2()),e={tag:"mask",attributes:T(T({},$b),{},{id:r,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,s]},o={tag:"defs",children:[{tag:"clipPath",attributes:{id:u},children:"g"===i.tag?i.children:[i]},e]};return t.push(o,{tag:"rect",attributes:T({fill:"currentColor","clip-path":"url(#".concat(u,")"),mask:"url(#".concat(r,")")},$b)}),{children:t,attributes:n}}}},{provides:function(e){var a=!1;qv.matchMedia&&(a=qv.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],t={fill:"currentColor"},n={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},r=(e.push({tag:"path",attributes:T(T({},t),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})}),T(T({},n),{},{attributeName:"opacity"})),i={tag:"circle",attributes:T(T({},t),{},{cx:"256",cy:"364",r:"28"}),children:[]};return a||i.children.push({tag:"animate",attributes:T(T({},n),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:T(T({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:T(T({},t),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:a?[]:[{tag:"animate",attributes:T(T({},r),{},{values:"1;0;0;0;0;1;"})}]}),a||e.push({tag:"path",attributes:T(T({},t),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:T(T({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){t=t.getAttribute("data-fa-symbol");return e.symbol=null!==t&&(""===t||t),e}}}}],tb={},Object.keys(nb).forEach(function(e){-1===rb.indexOf(e)&&delete nb[e]}),t.forEach(function(e){var t,n=e.mixout?e.mixout():{};Object.keys(n).forEach(function(t){"function"==typeof n[t]&&(Qb[t]=n[t]),"object"===Ov(n[t])&&Object.keys(n[t]).forEach(function(e){Qb[t]||(Qb[t]={}),Qb[t][e]=n[t][e]})}),e.hooks&&(t=e.hooks(),Object.keys(t).forEach(function(e){tb[e]||(tb[e]=[]),tb[e].push(t[e])})),e.provides&&e.provides(nb)});var Qb,Zb=ub.parse,Jb=ub.icon,i=W9(5697),n=W9.n(i);function ew(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function tw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ew(Object(n),!0).forEach(function(e){rw(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nw(e){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iw(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function aw(e){return function(e){if(Array.isArray(e))return sw(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return sw(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sw(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ow(e){return(t=+e)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var lw=["style"],uw=!1;try{uw=!0}catch(e){}function cw(e){return e&&"object"===nw(e)&&e.prefix&&e.iconName&&e.icon?e:Zb.icon?Zb.icon(e):null===e?null:e&&"object"===nw(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function hw(e,t){return Array.isArray(t)&&0<t.length||!Array.isArray(t)&&t?rw({},e,t):{}}var dw=["forwardedRef"];function O(e){var t,n,r,i,a,s,o,l,u,c,h,d,f,p,m,g=e.forwardedRef,y=iw(e,dw),e=y.icon,v=y.mask,b=y.symbol,w=y.className,x=y.title,C=y.titleId,k=y.maskId,e=cw(e),S=hw("classes",[].concat(aw((n=(t=y).beat,S=t.fade,E=t.beatFade,T=t.bounce,_=t.shake,I=t.flash,r=t.spin,i=t.spinPulse,a=t.spinReverse,s=t.pulse,o=t.fixedWidth,l=t.inverse,u=t.border,c=t.listItem,h=t.flip,d=t.size,f=t.rotation,p=t.pull,rw(n={"fa-beat":n,"fa-fade":S,"fa-beat-fade":E,"fa-bounce":T,"fa-shake":_,"fa-flash":I,"fa-spin":r,"fa-spin-reverse":a,"fa-spin-pulse":i,"fa-pulse":s,"fa-fw":o,"fa-inverse":l,"fa-border":u,"fa-li":c,"fa-flip-horizontal":"horizontal"===h||"both"===h,"fa-flip-vertical":"vertical"===h||"both"===h},"fa-".concat(d),null!=d),rw(n,"fa-rotate-".concat(f),null!=f&&0!==f),rw(n,"fa-pull-".concat(p),null!=p),rw(n,"fa-swap-opacity",t.swapOpacity),m=n,Object.keys(m).map(function(e){return m[e]?e:null}).filter(function(e){return e}))),aw(w.split(" ")))),E=hw("transform","string"==typeof y.transform?Zb.transform(y.transform):y.transform),T=hw("mask",cw(v)),_=Jb(e,tw(tw(tw(tw({},S),E),T),{},{symbol:b,title:x,titleId:C,maskId:k}));if(!_)return function(){var e;!uw&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",e),null;var I=_.abstract,N={ref:g};return Object.keys(y).forEach(function(e){O.defaultProps.hasOwnProperty(e)||(N[e]=y[e])}),fw(I[0],N)}O.displayName="FontAwesomeIcon",O.propTypes={beat:n().bool,border:n().bool,bounce:n().bool,className:n().string,fade:n().bool,flash:n().bool,mask:n().oneOfType([n().object,n().array,n().string]),maskId:n().string,fixedWidth:n().bool,inverse:n().bool,flip:n().oneOf(["horizontal","vertical","both"]),icon:n().oneOfType([n().object,n().array,n().string]),listItem:n().bool,pull:n().oneOf(["right","left"]),pulse:n().bool,rotation:n().oneOf([0,90,180,270]),shake:n().bool,size:n().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:n().bool,spinPulse:n().bool,spinReverse:n().bool,symbol:n().oneOfType([n().bool,n().string]),title:n().string,titleId:n().string,transform:n().oneOfType([n().string,n().object]),swapOpacity:n().bool},O.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var fw=function t(n,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof r)return r;var i=(r.children||[]).map(function(e){return t(n,e)}),a=Object.keys(r.attributes||{}).reduce(function(e,t){var n=r.attributes[t];switch(t){case"class":e.attrs.className=n,delete r.attributes.class;break;case"style":e.attrs.style=n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),r=ow(t.slice(0,n)),t=t.slice(n+1).trim();return r.startsWith("webkit")?e[(n=r).charAt(0).toUpperCase()+n.slice(1)]=t:e[r]=t,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=n:e.attrs[ow(t)]=n}return e},{attrs:{}}),s=e.style,s=void 0===s?{}:s,e=iw(e,lw);return a.attrs.style=tw(tw({},a.attrs.style),s),n.apply(void 0,[r.tag,tw(tw({},a.attrs),e)].concat(aw(i)))}.bind(null,j.createElement),pw={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64c17.67 0 32-14.33 32-32S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256c0 53.02 42.98 96 96 96h64c17.67 0 32-14.33 32-32S177.7 416 160 416zM502.6 233.4l-128-128c-12.51-12.51-32.76-12.49-45.25 0c-12.5 12.5-12.5 32.75 0 45.25L402.8 224H192C174.3 224 160 238.3 160 256s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128C515.1 266.1 515.1 245.9 502.6 233.4z"]},mw={prefix:"fas",iconName:"arrow-up-from-bracket",icon:[448,512,[],"e09a","M384 352v64c0 17.67-14.33 32-32 32H96c-17.67 0-32-14.33-32-32v-64c0-17.67-14.33-32-32-32s-32 14.33-32 32v64c0 53.02 42.98 96 96 96h256c53.02 0 96-42.98 96-96v-64c0-17.67-14.33-32-32-32S384 334.3 384 352zM201.4 9.375l-128 128c-12.51 12.51-12.49 32.76 0 45.25c12.5 12.5 32.75 12.5 45.25 0L192 109.3V320c0 17.69 14.31 32 32 32s32-14.31 32-32V109.3l73.38 73.38c12.5 12.5 32.75 12.5 45.25 0s12.5-32.75 0-45.25l-128-128C234.1-3.125 213.9-3.125 201.4 9.375z"]},gw={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z"]},yw={prefix:"fas",iconName:"broom",icon:[640,512,[129529],"f51a","M93.13 257.7C71.25 275.1 53 313.5 38.63 355.1L99 333.1c5.75-2.125 10.62 4.749 6.625 9.499L11 454.7C3.75 486.1 0 510.2 0 510.2s206.6 13.62 266.6-34.12c60-47.87 76.63-150.1 76.63-150.1L256.5 216.7C256.5 216.7 153.1 209.1 93.13 257.7zM633.2 12.34c-10.84-13.91-30.91-16.45-44.91-5.624l-225.7 175.6l-34.99-44.06C322.5 131.9 312.5 133.1 309 140.5L283.8 194.1l86.75 109.2l58.75-12.5c8-1.625 11.38-11.12 6.375-17.5l-33.19-41.79l225.2-175.2C641.6 46.38 644.1 26.27 633.2 12.34z"]},vw={prefix:"fas",iconName:"calendar",icon:[448,512,[128198,128197],"f133","M96 32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32zM448 464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192H448V464z"]},bw={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"]},ww={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"]},xw={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"]},Cw={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"]},kw={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z"]},Sw=kw,Ew={prefix:"fas",iconName:"circle-half-stroke",icon:[512,512,[9680,"adjust"],"f042","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 64V448C362 448 448 362 448 256C448 149.1 362 64 256 64z"]},Tw={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},_w={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"]},Iw={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},Nw={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 224C0 188.7 28.65 160 64 160H128V288C128 341 170.1 384 224 384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224zM224 352C188.7 352 160 323.3 160 288V64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224z"]},jw={prefix:"fas",iconName:"crown",icon:[576,512,[128081],"f521","M576 136c0 22.09-17.91 40-40 40c-.248 0-.4551-.1266-.7031-.1305l-50.52 277.9C482 468.9 468.8 480 453.3 480H122.7c-15.46 0-28.72-11.06-31.48-26.27L40.71 175.9C40.46 175.9 40.25 176 39.1 176c-22.09 0-40-17.91-40-40S17.91 96 39.1 96s40 17.91 40 40c0 8.998-3.521 16.89-8.537 23.57l89.63 71.7c15.91 12.73 39.5 7.544 48.61-10.68l57.6-115.2C255.1 98.34 247.1 86.34 247.1 72C247.1 49.91 265.9 32 288 32s39.1 17.91 39.1 40c0 14.34-7.963 26.34-19.3 33.4l57.6 115.2c9.111 18.22 32.71 23.4 48.61 10.68l89.63-71.7C499.5 152.9 496 144.1 496 136C496 113.9 513.9 96 536 96S576 113.9 576 136z"]},Aw={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},Pw={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M528 32H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48H528c26.51 0 48-21.49 48-48v-256C576 53.49 554.5 32 528 32zM223.1 96c17.68 0 32 14.33 32 32S241.7 160 223.1 160c-17.67 0-32-14.33-32-32S206.3 96 223.1 96zM494.1 311.6C491.3 316.8 485.9 320 480 320H192c-6.023 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.332-16.68l70-96C252.1 194.4 256.9 192 262 192c5.111 0 9.916 2.441 12.93 6.574l22.35 30.66l62.74-94.11C362.1 130.7 367.1 128 373.3 128c5.348 0 10.34 2.672 13.31 7.125l106.7 160C496.6 300 496.9 306.3 494.1 311.6zM456 432H120c-39.7 0-72-32.3-72-72v-240C48 106.8 37.25 96 24 96S0 106.8 0 120v240C0 426.2 53.83 480 120 480h336c13.25 0 24-10.75 24-24S469.3 432 456 432z"]},Lw={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.171C247.4-1.718 264.6-1.718 279.5 5.171L498.1 106.2C506.6 110.1 512 118.6 512 127.1C512 137.3 506.6 145.8 498.1 149.8L279.5 250.8C264.6 257.7 247.4 257.7 232.5 250.8L13.93 149.8C5.438 145.8 0 137.3 0 127.1C0 118.6 5.437 110.1 13.93 106.2L232.5 5.171zM498.1 234.2C506.6 238.1 512 246.6 512 255.1C512 265.3 506.6 273.8 498.1 277.8L279.5 378.8C264.6 385.7 247.4 385.7 232.5 378.8L13.93 277.8C5.438 273.8 0 265.3 0 255.1C0 246.6 5.437 238.1 13.93 234.2L67.13 209.6L219.1 279.8C242.5 290.7 269.5 290.7 292.9 279.8L444.9 209.6L498.1 234.2zM292.9 407.8L444.9 337.6L498.1 362.2C506.6 366.1 512 374.6 512 383.1C512 393.3 506.6 401.8 498.1 405.8L279.5 506.8C264.6 513.7 247.4 513.7 232.5 506.8L13.93 405.8C5.438 401.8 0 393.3 0 383.1C0 374.6 5.437 366.1 13.93 362.2L67.13 337.6L219.1 407.8C242.5 418.7 269.5 418.7 292.9 407.8V407.8z"]},Dw={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"]},Mw={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},Rw={prefix:"fas",iconName:"thumbtack",icon:[384,512,[128392,128204,"thumb-tack"],"f08d","M32 32C32 14.33 46.33 0 64 0H320C337.7 0 352 14.33 352 32C352 49.67 337.7 64 320 64H290.5L301.9 212.2C338.6 232.1 367.5 265.4 381.4 306.9L382.4 309.9C385.6 319.6 383.1 330.4 377.1 338.7C371.9 347.1 362.3 352 352 352H32C21.71 352 12.05 347.1 6.04 338.7C.0259 330.4-1.611 319.6 1.642 309.9L2.644 306.9C16.47 265.4 45.42 232.1 82.14 212.2L93.54 64H64C46.33 64 32 49.67 32 32zM224 384V480C224 497.7 209.7 512 192 512C174.3 512 160 497.7 160 480V384H224z"]},Ow={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"]},Vw=Ow,Fw={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M384 320c-17.67 0-32 14.33-32 32v96H64V160h96c17.67 0 32-14.32 32-32s-14.33-32-32-32L64 96c-35.35 0-64 28.65-64 64V448c0 35.34 28.65 64 64 64h288c35.35 0 64-28.66 64-64v-96C416 334.3 401.7 320 384 320zM488 0H352c-12.94 0-24.62 7.797-29.56 19.75c-4.969 11.97-2.219 25.72 6.938 34.88L370.8 96L169.4 297.4c-12.5 12.5-12.5 32.75 0 45.25C175.6 348.9 183.8 352 192 352s16.38-3.125 22.62-9.375L416 141.3l41.38 41.38c9.156 9.141 22.88 11.84 34.88 6.938C504.2 184.6 512 172.9 512 160V24C512 10.74 501.3 0 488 0z"]},zw={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};const Uw=({type:e,title:t})=>{const n=(0,j.useContext)(Ef).setStatusBar,r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{setTimeout(()=>{r.current.animate([{transform:"translateY(0)"},{transform:"translateY(100%)"}],{duration:200,fill:"forwards"}).onfinish=()=>{n(!1)}},2200)},[]),(0,x.jsxs)("div",{className:"se0cvcg",ref:r,children:[(0,x.jsxs)("div",{className:"icon",children:["sucsess"===e&&(0,x.jsx)(O,{icon:Cw,className:"sucsess"}),"error"===e&&(0,x.jsx)(O,{icon:Iw,className:"error"})]}),(0,x.jsx)("div",{className:"title",children:t})]})},Bw=(W9(350),({activeTab:e,setActiveTab:t,statusBar:n})=>(0,x.jsxs)(x.Fragment,{children:[n&&(0,x.jsx)(Uw,{title:n.title,type:n.type}),(0,x.jsxs)("div",{className:"t1b6vpgv",children:[(0,x.jsx)(Mv,{title:"Главная",icon:(0,x.jsx)("svg",{width:"30px",height:"30px",viewBox:"0 0 28 28",children:(0,x.jsx)("path",{d:"M15.1295491,2.69100093 L24.0662484,11.1808652 C24.6624397,11.747247 25,12.53353 25,13.3558635 L25,21.9972407 C25,23.3779526 23.8807119,24.4972407 22.5,24.4972407 L16.5,24.4972407 C15.9477153,24.4972407 15.5,24.0495254 15.5,23.4972407 L15.5,17.9971013 C15.5,17.1686742 14.8284271,16.4971013 14,16.4971013 C13.1715729,16.4971013 12.5,17.1686742 12.5,17.9971013 L12.5,23.4972407 C12.5,24.0495254 12.0522847,24.4972407 11.5,24.4972407 L5.5,24.4972407 C4.11928813,24.4972407 3,23.3779526 3,21.9972407 L3,13.3558635 C3,12.53353 3.33756025,11.747247 3.93375161,11.1808652 L12.8704509,2.69100093 C13.5034346,2.08966636 14.4965654,2.08966636 15.1295491,2.69100093 Z M14,4.37655211 L5.31125054,12.6308641 C5.11252008,12.819658 5,13.0817523 5,13.3558635 L5,21.9972407 C5,22.2733831 5.22385763,22.4972407 5.5,22.4972407 L10.5,22.4972407 L10.5,17.9971013 C10.5,16.0641047 12.0670034,14.4971013 14,14.4971013 C15.9329966,14.4971013 17.5,16.0641047 17.5,17.9971013 L17.5,22.4972407 L22.5,22.4972407 C22.7761424,22.4972407 23,22.2733831 23,21.9972407 L23,13.3558635 C23,13.0817523 22.8874799,12.819658 22.6887495,12.6308641 L14,4.37655211 Z",fill:"currentColor"})}),handleClick:()=>t(1),active:1==e}),(0,x.jsx)(Mv,{title:"Поиск",icon:(0,x.jsx)("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28",children:(0,x.jsx)("path",{d:"M20.5216013,18.9659665 L24.2778174,22.7221826 C24.7073941,23.1517593 24.7073941,23.8482407 24.2778174,24.2778174 C23.8482407,24.7073941 23.1517593,24.7073941 22.7221826,24.2778174 L18.9659665,20.5216013 C17.3277266,21.8227597 15.2546304,22.5999999 13,22.5999999 C7.69806645,22.5999999 3.4000001,18.3019335 3.4000001,13 C3.4000001,7.69806645 7.69806645,3.4000001 13,3.4000001 C18.3019335,3.4000001 22.5999999,7.69806645 22.5999999,13 C22.5999999,15.2546304 21.8227597,17.3277266 20.5216013,18.9659665 Z M13,20.4000001 C17.0869072,20.4000001 20.4000001,17.0869072 20.4000001,13 C20.4000001,8.9130928 17.0869072,5.5999999 13,5.5999999 C8.9130928,5.5999999 5.5999999,8.9130928 5.5999999,13 C5.5999999,17.0869072 8.9130928,20.4000001 13,20.4000001 Z",fill:"currentColor"})}),handleClick:()=>t(2),active:2==e}),(0,x.jsx)(Mv,{title:"Оценки",icon:(0,x.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 28 28",children:[(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4275 6.04347C13.0109 5.09342 14.9891 5.09342 16.5725 6.04346L23.2541 10.0524C23.5849 10.2509 23.5758 10.7333 23.2378 10.9192L16.4098 14.6748C14.9094 15.5001 13.091 15.5001 11.5905 14.6748L4.76228 10.9192C4.42426 10.7333 4.4152 10.2509 4.746 10.0524L11.4275 6.04347ZM17.6015 4.32847L24.2831 8.33741C25.9371 9.32979 25.8918 11.7421 24.2017 12.6717L17.3737 16.4272C15.2731 17.5826 12.7273 17.5826 10.6267 16.4272L3.79844 12.6717C2.10834 11.7421 2.06301 9.3298 3.717 8.3374L10.3985 4.32848C12.6153 2.99842 15.3847 2.99841 17.6015 4.32847Z",fill:"currentColor"}),(0,x.jsx)("path",{d:"M23.4999 10.5001C23.4999 9.94784 23.9476 9.50013 24.4999 9.50013C25.0521 9.50013 25.4999 9.94784 25.4999 10.5001V15.5001C25.4999 16.0524 25.0521 16.5001 24.4999 16.5001C23.9476 16.5001 23.4999 16.0524 23.4999 15.5001V10.5001Z",fill:"currentColor"}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99985 13.0001V18.0001C7.99985 20.7616 10.2384 23.0001 12.9998 23.0001H14.9998C17.7613 23.0001 19.9998 20.7616 19.9998 18.0001V13.0001H21.9998V18.0001C21.9998 21.8661 18.8658 25.0001 14.9998 25.0001H12.9998C9.13386 25.0001 5.99985 21.8661 5.99985 18.0001V13.0001H7.99985Z",fill:"currentColor"})]}),handleClick:()=>t(3),active:3==e}),(0,x.jsx)(Mv,{title:"Неделя",icon:(0,x.jsx)("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28",children:(0,x.jsx)("path",{d:"M19,1 C19.5522847,1 20,1.44771525 20,2 L20.0007134,3.15981736 C20.840564,3.29343733 21.3843149,3.50927527 21.9305371,3.80139811 C22.9083149,4.32431939 23.6756806,5.09168511 24.1986019,6.06946289 C24.6736814,6.9577844 24.9469986,7.83956959 24.9930333,9.99907027 L25,10 L25,17.3083444 L24.9946707,17.9183846 C24.9538793,20.1381287 24.6796895,21.0309816 24.1986019,21.9305371 C23.6756806,22.9083149 22.9083149,23.6756806 21.9305371,24.1986019 C20.9527593,24.7215232 19.9829006,25 17.3083444,25 L10.6916556,25 L10.0816154,24.9946707 C7.8618713,24.9538793 6.96901844,24.6796895 6.06946289,24.1986019 C5.09168511,23.6756806 4.32431939,22.9083149 3.80139811,21.9305371 C3.29939368,20.9918704 3.02266926,20.060502 3.00133451,17.6212182 L3,10.6916556 L3,10 C3.05300141,7.83956959 3.32631857,6.9577844 3.80139811,6.06946289 C4.32431939,5.09168511 5.09168511,4.32431939 6.06946289,3.80139811 C6.61590733,3.50915642 7.15987843,3.29326172 8.00031181,3.15965432 L8,2 C8,1.44771525 8.44771525,1 9,1 C9.55228475,1 10,1.44771525 10,2 L9.99907027,3.00696674 C10.2165376,3.00233094 10.4469622,3 10.6916556,3 L17.3083444,3 C17.5534172,3 17.7841769,3.00233817 18.0019411,3.00698832 L18,2 C18,1.44771525 18.4477153,1 19,1 Z M22.999,12 L5,12 L5.0009221,17.591291 L5.00977072,18.1601475 C5.04864664,19.667315 5.20790244,20.3195792 5.56502451,20.9873394 C5.90154619,21.6165802 6.38341978,22.0984538 7.01266061,22.4349755 C7.75898085,22.8341119 8.48594441,22.9860867 10.408709,22.9990779 L17.591291,22.9990779 L18.1601475,22.9902293 C19.667315,22.9513534 20.3195792,22.7920976 20.9873394,22.4349755 C21.6165802,22.0984538 22.0984538,21.6165802 22.4349755,20.9873394 C22.8341119,20.2410191 22.9860867,19.5140556 22.9990779,17.591291 L22.999,12 Z M19.0460121,17 C19.478797,17 19.8195548,17.0812224 20.10474,17.2337411 C20.3899252,17.3862598 20.6137402,17.6100748 20.7662589,17.89526 C20.9187776,18.1804452 21,18.521203 21,18.9539879 L21,19.0460121 C21,19.478797 20.9187776,19.8195548 20.7662589,20.10474 C20.6137402,20.3899252 20.3899252,20.6137402 20.10474,20.7662589 C19.8195548,20.9187776 19.478797,21 19.0460121,21 L18.9539879,21 C18.521203,21 18.1804452,20.9187776 17.89526,20.7662589 C17.6100748,20.6137402 17.3862598,20.3899252 17.2337411,20.10474 C17.0812224,19.8195548 17,19.478797 17,19.0460121 L17,18.9539879 C17,18.521203 17.0812224,18.1804452 17.2337411,17.89526 C17.3862598,17.6100748 17.6100748,17.3862598 17.89526,17.2337411 C18.1804452,17.0812224 18.521203,17 18.9539879,17 L19.0460121,17 Z M17.591291,5.0009221 L10.408709,5.0009221 L10,5.006 L10,6 C10,6.55228475 9.55228475,7 9,7 C8.44771525,7 8,6.55228475 8,6 L7.99925005,5.19251184 C7.618557,5.28042372 7.31722055,5.40214407 7.01266061,5.56502451 C6.38341978,5.90154619 5.90154619,6.38341978 5.56502451,7.01266061 C5.19560369,7.70341749 5.03791225,8.37759259 5.00617938,9.99864362 L22.993,10 L22.9902293,9.83985252 C22.9513534,8.33268497 22.7920976,7.68042082 22.4349755,7.01266061 C22.0984538,6.38341978 21.6165802,5.90154619 20.9873394,5.56502451 C20.6828516,5.40218264 20.3815857,5.28048136 20.0010204,5.1925743 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 L18.0023619,5.00619909 C17.8716635,5.00363578 17.7348083,5.00189178 17.591291,5.0009221 Z",fill:"currentColor"})}),handleClick:()=>t(5),active:5==e})]})]})),qw=(0,j.memo)(Bw),Hw=(W9(771),()=>{const e=new Date,t=e.getDay(),n=0==t||6==t;return{dayNum:t,isWeekend:n}}),Ww=({children:e,delay:t=300,rowsCount:n=10,rowsHeight:r=50,onlyAndroid:i,twoColumns:a})=>{const[s,o]=(0,j.useState)(window.android||!i);return(0,j.useEffect)(()=>{const e=setTimeout(()=>o(!1),t);return()=>clearTimeout(e)},[]),s?(0,x.jsx)("div",{className:"svjcy8z"+(a?" two-columns":""),children:new Array(n).fill().map((e,t)=>(0,x.jsx)("div",{className:"row",style:{animationDelay:25*t+"ms",height:r}},t))}):e},Kw=(W9(8682),({dayNum:e,isToday:t,isWeekend:n})=>{const r=(0,j.useContext)(Jw).customDayContentGenerator,i=(0,j.useContext)(Xw).month;if(-1==e)return(0,x.jsx)("div",{});if(r){const{content:a,shadowColor:s}=r(i,e);return(0,x.jsxs)("div",{style:{boxShadow:s?"0 0 0 2px "+s:null},className:"szooyf7"+(t?" today":"")+(n?" weekend":"")+" minimized",children:[(0,x.jsx)("div",{className:"minimized-day-caption",children:e}),a&&(0,x.jsxs)("div",{className:"content",children:[" ",a]})]})}return(0,x.jsx)("div",{className:"szooyf7"+(t?" today":"")+(n?" weekend":""),children:e})}),Gw=(W9(8726),({days:e,isCurrentMonth:r})=>(0,x.jsx)("div",{className:"s10yiwxk",children:e.map((e,t)=>{if(r){const n=(new Date).getDate();if(e==n)return(0,x.jsx)(Kw,{dayNum:e,isToday:!0},t)}return(0,x.jsx)(Kw,{dayNum:e,isWeekend:5==t||6==t},t)})})),Yw=(W9(7837),["Пн","Вт","Ср","Чт","Пт","Сб","Вс"]),$w=({date:e})=>{const t=e.toLocaleString("ru",{month:"long"});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:"me2cy72",children:t}),(0,x.jsx)("div",{className:"s1ydejmt",children:Yw.map((e,t)=>(0,x.jsx)("div",{className:"column-caption",children:e},t))})]})},Xw=(W9(9358),(0,j.createContext)(null)),Qw=({year:e,month:t})=>{const n=(0,j.useRef)(null),r=((e,t)=>{const n=[],r=new Date(e,t,0).getDay();let i=[31,28,31,30,31,30,31,31,30,31,30,31][t],a=(1==t&&(e%4==0&&e%100!=0||e%400==0)&&(i+=1),1);for(let t=1;t<7;t++){n[t]=[];for(let e=0;e<7;e++)n[t][e]=-1,(1==t&&e>=r||1<t&&a<=i)&&(n[t][e]=a++)}return n})(e,t),i=new Date,a=((0,j.useLayoutEffect)(()=>{(new Date).getMonth()===t&&requestAnimationFrame(()=>{n.current.scrollIntoView()})},[]),i.getMonth()==t);return i.setMonth(t),(0,x.jsx)(Xw.Provider,{value:{month:t},children:(0,x.jsxs)("div",{className:"s1gu47i9",ref:n,children:[(0,x.jsx)($w,{date:i}),r.map((e,t)=>(0,x.jsx)(Gw,{days:e,isCurrentMonth:a},t))]})})},Zw=(0,j.memo)(Qw),Jw=(W9(3011),(0,j.createContext)(null)),e3=({customDayContentGenerator:e})=>{const t=[],n=new Date;for(let e=0;e<12;e++)n.setMonth(e),t.push((0,x.jsx)(Zw,{year:n.getFullYear(),month:n.getMonth()},e));return(0,x.jsx)(Jw.Provider,{value:{customDayContentGenerator:e},children:(0,x.jsx)(Ww,{delay:500,rowsCount:6,rowsHeight:240,twoColumns:!0,children:(0,x.jsx)("div",{className:"sqk3kkk",children:t})})})},t3=(W9(1927),({children:e,noPadding:t})=>(0,x.jsx)("div",{className:"_VerticalLayout"+(t?" noPadding":""),children:e}));var n3,r3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i3=function(e){return r3.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91};const a3=(e,t)=>{const n={};let r;for(r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n};function s3(){var e=(0,j.useRef)(!1);return Kf(function(){return e.current=!0,function(){e.current=!1}},[]),e}function o3(e){var t=e.children,n=e.initial,r=e.isPresent,a=e.onExitComplete,i=e.custom,e=e.presenceAffectsLayout,s=rp(l3),o=Iy(),e=(0,j.useMemo)(function(){return{id:o,initial:n,isPresent:r,custom:i,onExitComplete:function(e){var t,n;s.set(e,!0);try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.values()),i=r.next();!i.done;i=r.next())if(!i.value)return}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null!=a&&a()},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}},e?void 0:[r]);return(0,j.useMemo)(function(){s.forEach(function(e,t){return s.set(t,!1)})},[r]),j.useEffect(function(){r||s.size||null==a||a()},[r]),j.createElement(Hf.Provider,{value:e},t)}function l3(){return new Map}function u3(e){return e.key||""}var c3=!(n3={});function h3(e){var t,n,r,i,a,s=e.children,o=e.custom,l=e.initial,u=void 0===l||l,c=e.onExitComplete,l=e.exitBeforeEnter,e=e.presenceAffectsLayout,h=void 0===e||e,d=U((t=s3(),e=U((0,j.useState)(0),2),n=e[0],r=e[1],i=(0,j.useCallback)(function(){t.current&&r(n+1)},[n]),[(0,j.useCallback)(function(){return wp.postRender(i)},[i]),n]),1)[0],e=(0,j.useContext)(hg).forceRender,f=(e&&(d=e),s3()),p=(a=[],j.Children.forEach(s,function(e){(0,j.isValidElement)(e)&&a.push(e)}),a),m=p,g=new Set,y=(0,j.useRef)(m),v=(0,j.useRef)(new Map).current,b=(0,j.useRef)(!0);if(Kf(function(){var e,n,r;b.current=!1,e=p,n=v,r=c3?new Set:null,e.forEach(function(e){var t=u3(e);c3&&r&&r.has(t)&&(console.warn('Children of AnimatePresence require unique keys. "'.concat(t,'" is a duplicate.')),r.add(t)),n.set(t,e)}),y.current=m}),xy(function(){b.current=!0,v.clear(),g.clear()}),b.current)return j.createElement(j.Fragment,null,m.map(function(e){return j.createElement(o3,{key:u3(e),isPresent:!0,initial:!!u&&void 0,presenceAffectsLayout:h},e)}));for(var m=Rf([],U(m),!1),w=y.current.map(u3),x=p.map(u3),C=w.length,k=0;k<C;k++){var S=w[k];-1===x.indexOf(S)&&g.add(S)}return l&&g.size&&(m=[]),g.forEach(function(t){var e,n;-1===x.indexOf(t)&&(e=v.get(t))&&(n=w.indexOf(t),m.splice(n,0,j.createElement(o3,{key:u3(e),isPresent:!1,onExitComplete:function(){v.delete(t),g.delete(t);var e=y.current.findIndex(function(e){return e.key===t});y.current.splice(e,1),g.size||(y.current=p,!1!==f.current&&(d(),c&&c()))},custom:o,presenceAffectsLayout:h},e)))}),m=m.map(function(e){var t=e.key;return g.has(t)?e:j.createElement(o3,{key:u3(e),isPresent:!0,presenceAffectsLayout:h},e)}),j.createElement(j.Fragment,null,g.size?m:m.map(function(e){return(0,j.cloneElement)(e)}))}var d3,f3=W9(3935);const p3=({children:e})=>(0,f3.createPortal)(e,document.getElementById("modals-container"));function m3(e){var t,n=rp(function(){return Ip(e)});return(0,j.useContext)(Bf).isStatic&&(t=U((0,j.useState)(e),2)[1],(0,j.useEffect)(function(){return n.onChange(t)},[])),n}function g3(n,r){var e,t,i,a=rp(function(){return[]}),s=n,o=m3((e=function(){a.length=0;for(var e=n.length,t=0;t<e;t++)a[t]=n[t].get();return r(a)})());return l(),t=s,i=function(){return wp.update(l,!1,!0)},(0,j.useEffect)(function(){var e=t.map(function(e){return e.onChange(i)});return function(){return e.forEach(function(e){return e()})}}),o;function l(){return o.set(e())}}const y3=({children:e,onClick:t,y:n})=>{const r=n?(n=n,a=[1,1,0],o="function"==typeof(i=[0,0,200])?i:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!Array.isArray(e[0]),r=n?0:-1,i=e[0+r],a=e[1+r],s=e[2+r],r=e[3+r],s=Vm(a,s,z({mixer:"object"==typeof(a=s[0])&&a.mix?a.mix:void 0},r));return n?s(i):s}(i,a,s),Array.isArray(n)?g3(n,o):g3([n],function(e){e=U(e,1)[0];return o(e)})):null;var i,a,s,o;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(E.div,{className:"shu10g1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,transition:{type:"tween",duration:.3},style:{opacity:r}}),e]})},v3=(W9(8301),e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 28 28",children:(0,x.jsx)("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM10.9941 17.4863C10.5283 17.4863 10.1592 17.1172 10.1592 16.6426C10.1592 16.4316 10.2471 16.2207 10.4141 16.0625L12.8047 13.6631L10.4141 11.2725C10.2471 11.1143 10.1592 10.9033 10.1592 10.6924C10.1592 10.2178 10.5283 9.85742 10.9941 9.85742C11.2402 9.85742 11.4336 9.93652 11.5918 10.0947L13.9912 12.4854L16.3994 10.0859C16.5752 9.91895 16.7598 9.83984 16.9971 9.83984C17.4629 9.83984 17.832 10.209 17.832 10.6748C17.832 10.8945 17.7441 11.0879 17.5771 11.2637L15.1865 13.6631L17.5771 16.0537C17.7354 16.2207 17.8232 16.4229 17.8232 16.6426C17.8232 17.1172 17.4541 17.4863 16.9795 17.4863C16.7422 17.4863 16.54 17.3984 16.373 17.2402L13.9912 14.8584L11.6094 17.2402C11.4512 17.4072 11.2402 17.4863 10.9941 17.4863Z",fill:"currentColor"})})),b3=({onClick:e})=>(0,x.jsx)("button",{className:"s19hk6rz",onClick:e,children:(0,x.jsx)(v3,{width:40,height:40})});function w3(e){e.scrollTop=1,e.addEventListener("scroll",e=>{const t=e.currentTarget;0==t.scrollTop?t.scrollTop=1:t.scrollHeight-t.scrollTop==t.clientHeight&&(t.scrollTop=t.scrollTop-1)},{passive:!0})}W9(2479);const x3=({children:e,disableOverscrollContain:t})=>{const n=(0,j.useRef)(null);return(0,j.useEffect)(()=>{window.ios&&!t&&w3(n.current)},[]),(0,x.jsx)("div",{className:"s1bdhwpm",children:(0,x.jsx)("div",{className:"VScroll",ref:n,children:e})})},C3=(W9(4598),d3=E.div,(y=>{const n=(e,t)=>{const{as:n=d3,class:r}=e,i=a3(e,["as","class"]);let a;if("string"==typeof n&&-1===n.indexOf("-")){a={};for(const l in i)"as"!==l&&(s=l,void 0===n3[s]&&(n3[s]=i3(s)),!n3[s])||(a[l]=i[l])}else a=i;var s;a.ref=t,a.className=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),t=e.filter(e=>"object"!=typeof e),n=Object.values(Object.assign({},...e.filter(e=>"object"==typeof e)));return[...n,...t].join(" ")}(a.className||r,y.class);const o=y.vars;if(o){const u={};for(const d in o){const f=o[d],p=f[0],m=f[1]||"",g="function"==typeof p?p(e):p;u["--"+d]=""+g+m}const c=a.style||{},h=Object.keys(c);0<h.length&&h.forEach(e=>{u[e]=c[e]}),a.style=u}return d3.__linaria&&d3!==n?(a.as=n,j.createElement(d3,a)):j.createElement(n,a)},e=j.forwardRef?j.forwardRef(n):e=>{const t=a3(e,["innerRef"]);return n(t,e.innerRef)};return e.displayName=y.name,e.__linaria={className:y.class,extends:d3},e})({name:"Sheet",class:"spf0iwd",vars:{"spf0iwd-0":[e=>"fullHeightOnMobile"in e.type?0:"62px"],"spf0iwd-1":[e=>e.background??"var(--bg2)"],"spf0iwd-2":[e=>"fullHeightOnMobile"in e.type?0:"var(--lvl4-borders) 2px solid;"],"spf0iwd-3":[e=>"fullHeightOnMobile"in e.type?0:"13px 13px 0 0"],"spf0iwd-4":[e=>"wide"in e.type?"clamp(700px, 94%, 1000px)":"clamp(550px, 70%, 700px)"]}})),k3=({children:e,handleClose:t,type:n={},background:r})=>{const[i,a]=(0,j.useState)(!0),s=(0,j.useRef)(null),{focusTab:o,unfocusTab:l}=(0,j.useContext)(N9),u=()=>a(!1);return(0,j.useEffect)(()=>{i?l(r??"var(--bg2)"):(s.current.animate([{transform:"translateY(100vh)"}],{duration:220,easing:"ease-in",fill:"forwards"}),o())},[i]),(0,x.jsx)(p3,{children:(0,x.jsx)(h3,{onExitComplete:t,children:i&&(0,x.jsx)(y3,{onClick:u,children:(0,x.jsxs)(C3,{ref:s,type:n,background:r,children:[(0,x.jsx)(x3,{children:e}),(0,x.jsx)(b3,{onClick:u})]})})})})},S3=(W9(7826),({text:e})=>(0,x.jsx)("h1",{className:"H1",children:e})),E3={day:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"},T3=()=>(new Date).toLocaleString("ru",E3),_3=()=>{const[e,t]=(0,j.useState)(T3),[n,r]=(0,j.useState)(!1);return If(()=>{t(T3)},1e3),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"time",onClick:()=>r(!0),children:e}),n&&(0,x.jsx)(k3,{handleClose:()=>r(!1),type:{wide:!0},children:(0,x.jsxs)(t3,{children:[(0,x.jsx)(S3,{text:"Календарь"}),(0,x.jsx)(e3,{})]})})]})},I3=({title:e,icon:t,descr:n,checked:r,onChange:i,noPadding:a})=>(0,x.jsxs)("div",{className:"_Switch"+(a?" noPadding":""),children:[(0,x.jsxs)("div",{className:"icon",children:[" ",t]}),(0,x.jsxs)("div",{className:"label-block",children:[(0,x.jsx)("a",{className:"title",children:e}),(0,x.jsx)("a",{className:"descr",children:n})]}),(0,x.jsxs)("label",{className:"ios7-switch",children:[(0,x.jsx)("input",{type:"checkbox",checked:r,onChange:i}),(0,x.jsx)("span",{})]})]}),N3=({items:e,activeItem:n,onChange:r})=>{const i=(0,j.useId)();return(0,x.jsx)(E.div,{className:"segmented-control",layoutScroll:!0,children:e.map(e=>{const t=e.id===n;return(0,x.jsxs)(E.button,{onClick:()=>r(e.id),className:"button",whileTap:{scale:t?.93:1},children:[t&&(0,x.jsx)(E.div,{layoutId:i,layoutDependency:n,className:"active",transition:{type:"spring",duration:.3,bounce:0}}),(0,x.jsx)("div",{className:"label",children:e.title})]},e.id)})})},j3=(0,j.memo)(N3),A3=({icon:e,text:t,onClick:n,iconBgColor:r})=>(0,x.jsxs)("button",{className:"s1qtmy3r",onClick:n,children:[e&&(0,x.jsx)("div",{className:"icon",style:{backgroundColor:r},children:e}),(0,x.jsxs)("div",{className:"text",children:[" ",t]})]}),P3=(W9(3526),({value:e,onChange:t,onSave:n,showSaveButton:r})=>(0,x.jsxs)("div",{className:"sqo21i6",children:[(0,x.jsx)("input",{className:"input",value:e,onChange:t}),r&&(0,x.jsx)(E.button,{className:"save-button",onClick:()=>n(e),whileTap:{scale:.94,filter:"brightness(1.3)"},children:"Сохранить"})]})),L3=(W9(2076),({avatarURL:e,changeAvatar:n})=>{const t=(0,j.useId)();return(0,x.jsxs)("div",{className:"s1lsma5o",children:[(0,x.jsx)("img",{src:e,width:"100%",className:"avatar"}),(0,x.jsx)("label",{className:"edit-avatar",htmlFor:t,children:"Изменить"}),(0,x.jsx)("input",{hidden:!0,onChange:e=>{const t=e.target.files[0];t&&n(t)},id:t,type:"file",accept:"image/x-png,image/gif,image/jpeg"})]})}),D3=(W9(2838),()=>{const{user:e,changeUsername:t,changeAvatar:n,changeSurname:r}=(()=>{const i=(0,j.useContext)(Ef).database.userInfo,a=jf(i),t=e=>{dd(i,{...e},{merge:!0})},e=(0,j.useCallback)(async e=>{if(1e7<e.size)alert("Нельзя загрузить фото больше 10 мегабайт");else{const t=bf(),n=vf(t,"avatars/"+(a.id+Date.now())),r=(await function(t,e){t._throwIfRoot("uploadBytes");const n=nf(t.storage,t._location,Gd(),new Ud(e,!0),{cacheControl:"public,max-age=864000"});return t.storage.makeRequestWithTokens(n,hf).then(e=>({metadata:e,ref:t}))}($(n),e),await yf(n));dd(i,{photo_url:r},{merge:!0})}},[a]);return{user:a,changeUsername:e=>{t({first_name:e})},changeSurname:e=>{t({last_name:e})},changeAvatar:e}})(),[i,a]=(0,j.useState)(""),[s,o]=(0,j.useState)("");return(0,j.useEffect)(()=>{e&&(a(e.first_name),o(e.last_name))},[e]),(0,x.jsxs)("div",{className:"s1j2b8ja",children:[(0,x.jsx)(L3,{avatarURL:e?.photo_url,changeAvatar:n}),(0,x.jsxs)("div",{className:"info",children:[(0,x.jsx)("div",{className:"caption",children:"Имя"}),(0,x.jsx)(P3,{value:i,onChange:e=>a(e.target.value),showSaveButton:e&&i&&i!==e?.first_name,onSave:t}),(0,x.jsx)("div",{className:"caption",children:"Фамилия"}),(0,x.jsx)(P3,{value:s,onChange:e=>o(e.target.value),showSaveButton:e&&s&&s!==e?.last_name,onSave:r})]})]})}),M3=(W9(7669),()=>{const[e,t]=(0,j.useState)(()=>"true"==localStorage.getItem("inversion")??!1),[n,r]=(0,j.useState)(()=>localStorage.getItem("theme")??"auto");return(0,x.jsxs)(t3,{children:[(0,x.jsx)(S3,{text:"Настройки"}),(0,x.jsx)(D3,{}),(0,x.jsx)("div",{className:"tg1z9qs",children:"Тема интерфейса"}),(0,x.jsx)(j3,{activeItem:n,onChange:e=>{r(e),localStorage.setItem("theme",e),s()},items:[{title:"Авто",id:"auto"},{title:"Темная",id:"dark"},{title:"Светлая",id:"light"}]}),(0,x.jsx)(I3,{title:"Затемнять решения",descr:"Светлый текст на темном фоне",icon:(0,x.jsx)(O,{icon:Ew}),onChange:e=>{e=e.target.checked;t(e),e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),localStorage.setItem("inversion",e)},checked:e}),(0,x.jsxs)("div",{className:"b1k10ht9",children:[(0,x.jsx)(A3,{text:"Выйти",onClick:async()=>{localStorage.removeItem("user"),await Ah(wf),await jh(wf),window.location.reload()},icon:(0,x.jsx)(O,{icon:pw,size:"lg"}),iconBgColor:"var(--red)"}),(0,x.jsx)(A3,{text:"Очистить кэш",onClick:async()=>{await Ah(wf),await jh(wf),location.reload()},icon:(0,x.jsx)(O,{icon:yw})})]})]})}),R3=(W9(8520),e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 23 24",fill:"currentColor",children:(0,x.jsx)("path",{d:"M10.4434 23.3524H12.5462C13.406 23.3524 14.0793 22.8137 14.2865 21.985L14.7008 20.1723L14.9701 20.0687L16.555 21.0528C17.2801 21.5085 18.1398 21.3842 18.751 20.7731L20.2012 19.3229C20.8227 18.7014 20.9263 17.852 20.4705 17.1372L19.4864 15.5524L19.59 15.3038L21.4028 14.8791C22.2211 14.6719 22.7597 13.9986 22.7597 13.1388V11.0982C22.7597 10.2385 22.2315 9.56515 21.4028 9.35798L19.6004 8.92292L19.4968 8.6536L20.4809 7.0791C20.9366 6.36436 20.8331 5.51496 20.2115 4.88309L18.7613 3.4329C18.1606 2.82174 17.3008 2.7078 16.5757 3.15322L14.9908 4.12692L14.7008 4.02333L14.2865 2.20023C14.0793 1.37155 13.406 0.843262 12.5462 0.843262H10.4434C9.57332 0.843262 8.90002 1.37155 8.7032 2.20023L8.28886 4.02333L7.99882 4.12692L6.41397 3.15322C5.67851 2.7078 4.82911 2.82174 4.22832 3.4329L2.76776 4.88309C2.15661 5.51496 2.04266 6.36436 2.49844 7.0791L3.4825 8.6536L3.37892 8.92292L1.58689 9.35798C0.758205 9.56515 0.229919 10.2385 0.229919 11.0982V13.1388C0.229919 13.9986 0.768563 14.6719 1.58689 14.8791L3.39963 15.3038L3.49286 15.5524L2.5088 17.1372C2.05302 17.852 2.16697 18.7014 2.77812 19.3229L4.23867 20.7731C4.83947 21.3842 5.69923 21.5085 6.42433 21.0528L8.00918 20.0687L8.28886 20.1723L8.7032 21.985C8.90002 22.8137 9.57332 23.3524 10.4434 23.3524ZM10.7128 21.4464C10.5367 21.4464 10.4434 21.3739 10.4227 21.2185L9.80121 18.6703C9.14862 18.5149 8.51675 18.2456 8.00918 17.9245L5.77174 19.3022C5.63708 19.385 5.51277 19.3747 5.38847 19.2504L4.30083 18.1627C4.17652 18.0488 4.17652 17.9245 4.25939 17.7898L5.63708 15.5524C5.34704 15.0552 5.07772 14.4337 4.92234 13.7811L2.36378 13.1699C2.2084 13.1492 2.12553 13.056 2.12553 12.8799V11.3468C2.12553 11.1604 2.19804 11.0879 2.36378 11.0464L4.91198 10.4456C5.06736 9.7516 5.36775 9.10937 5.62672 8.64324L4.24903 6.42651C4.16616 6.28149 4.16616 6.15719 4.28011 6.03289L5.37811 4.9556C5.50242 4.84166 5.61636 4.82094 5.77174 4.91417L7.98847 6.27114C8.4546 5.9811 9.14862 5.69106 9.81157 5.52532L10.4227 2.97712C10.4434 2.82174 10.5367 2.73887 10.7128 2.73887H12.2769C12.453 2.73887 12.5359 2.81138 12.5669 2.97712L13.1885 5.53568C13.8618 5.70142 14.4729 5.9811 14.9908 6.27114L17.2076 4.91417C17.3629 4.8313 17.4769 4.84166 17.6012 4.96596L18.6992 6.04325C18.8235 6.15719 18.8235 6.28149 18.7303 6.42651L17.3629 8.64324C17.6115 9.10937 17.9223 9.7516 18.0777 10.4456L20.6259 11.0464C20.7916 11.0879 20.8538 11.1604 20.8538 11.3468V12.8799C20.8538 13.056 20.7813 13.1492 20.6259 13.1699L18.0673 13.7811C17.9119 14.4337 17.6323 15.0655 17.3422 15.5524L18.7199 17.7795C18.8028 17.9245 18.8028 18.0384 18.6785 18.1524L17.5908 19.2504C17.4665 19.3747 17.3422 19.385 17.2076 19.3022L14.9805 17.9245C14.4626 18.2456 13.8721 18.5046 13.1885 18.6703L12.5669 21.2185C12.5359 21.3739 12.453 21.4464 12.2769 21.4464H10.7128ZM11.5 16.0289C13.6546 16.0289 15.4259 14.2576 15.4259 12.0926C15.4259 9.94842 13.6546 8.17711 11.5 8.17711C9.33508 8.17711 7.55341 9.94842 7.55341 12.0926C7.55341 14.2576 9.33508 16.0289 11.5 16.0289ZM11.5 14.2369C10.3191 14.2369 9.35579 13.2735 9.35579 12.0926C9.35579 10.9325 10.3295 9.96913 11.5 9.96913C12.6498 9.96913 13.6132 10.9325 13.6132 12.0926C13.6132 13.2631 12.6498 14.2369 11.5 14.2369Z"})})),O3=(e,t,n=document,r)=>{(0,j.useEffect)(()=>(n.addEventListener(e,t,r),()=>{n.removeEventListener(e,t,r)}),[e])},V3=({menuStyles:e,children:t,closeMenu:n,stayActiveOnClick:r})=>{const i=(0,j.useRef)(),a=(0,j.useCallback)(e=>{i.current&&("pointerdown"!==e.type&&"wheel"!==e.type||!e.composedPath().includes(i.current))&&(i.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=n)},[]);return O3("pointerdown",a,window,{once:!0}),O3("wheel",a,window,{once:!0,capture:!0}),(0,x.jsx)("div",{className:"menu-items-wraper",style:e,children:(0,x.jsx)("div",{className:"menu-items",ref:i,style:e,onClick:r?null:a,children:t})})},F3=({children:e,icon:t,stayActiveOnClick:n})=>{const[i,a]=(0,j.useState)(null);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"context-menu-btn"+(i?" active":""),onClick:r=>{if(!i){let e=r.clientX,t=r.clientY,n=null;t+180>window.screen.height&&(t-=100,n="bottom right"),a({transformOrigin:n,top:t,left:e})}},children:t??(0,x.jsx)(O,{icon:Aw,size:"lg"})}),i&&(0,x.jsx)(V3,{menuStyles:i,closeMenu:()=>a(!1),stayActiveOnClick:n,children:e})]})},z3=e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 22 22",fill:"currentColor",children:(0,x.jsx)("path",{d:"M11.0046 0.5C15.5359 0.5 19 4.29407 19 9.08146L18.9954 10.9081C18.9958 11.2154 19.1946 11.5707 19.7335 12.205C19.8012 12.2847 19.8649 12.3585 20.0043 12.5195C21.0744 13.7577 21.5 14.4745 21.5 15.5882C21.5 16.0893 21.443 16.4785 21.2056 16.9456C20.6996 17.9409 19.6182 18.5 18 18.5L15.3989 18.5007C14.731 20.7645 13.2123 22 11 22C8.78768 22 7.26905 20.7645 6.60115 18.5007L4 18.5C2.33483 18.5 1.24203 17.9258 0.757975 16.8962C0.54802 16.4497 0.5 16.0875 0.5 15.5882C0.5 14.475 0.924754 13.7582 1.99283 12.5202C2.13191 12.3592 2.19552 12.2854 2.26308 12.2057C2.80171 11.5706 3 11.2151 3 10.9071V9.07895C3 4.29571 6.47202 0.5 11.0046 0.5ZM13.2794 18.5008H8.7206C9.17139 19.5432 9.89866 20 11 20C12.1013 20 12.8286 19.5432 13.2794 18.5008ZM11.0046 2.5C7.61835 2.5 5 5.36245 5 9.07895V10.9071C5 11.8348 4.6156 12.5239 3.78841 13.4993C3.71509 13.5857 3.64587 13.6661 3.50717 13.8266C2.74712 14.7076 2.5 15.1246 2.5 15.5882C2.5 15.8144 2.51597 15.9348 2.56791 16.0453C2.69184 16.3089 3.05558 16.5 4 16.5H18C18.9142 16.5 19.2863 16.3076 19.4228 16.0392C19.4818 15.923 19.5 15.7989 19.5 15.5882C19.5 15.1251 19.2524 14.7081 18.4911 13.8273C18.3522 13.6668 18.2828 13.5864 18.2094 13.5C17.3806 12.5245 16.9954 11.8353 16.9954 10.9071L17 9.07895C17 5.36008 14.3886 2.5 11.0046 2.5Z"})}),U3=["8.00 - 8.45","8.55 - 9.40","9.55 - 10.40","10.55 - 11.40","11.55 - 12.40","12.50 - 13.35","13.55 - 14.40"],B3=()=>{const e=U3.map((e,t)=>(0,x.jsxs)("div",{className:"s1obvrgu",children:[(0,x.jsx)("div",{className:"index",children:t+1}),(0,x.jsx)("div",{className:"content",children:e})]},t));return(0,x.jsx)("div",{className:"mxo0911",children:(0,x.jsx)(F3,{icon:(0,x.jsx)(z3,{width:22,height:22}),children:e})})},q3=(W9(9883),({onClick:e,title:t,icon:n})=>(0,x.jsxs)("button",{className:"s5ijpz2",onClick:e,children:[n,(0,x.jsx)("span",{children:t})]})),H3=(W9(2410),e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 16 19",fill:"currentColor",children:(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C8.49706 0 8.9 0.402943 8.9 0.9V11.8272L13.4636 7.26361C13.8151 6.91214 14.3849 6.91214 14.7364 7.26361C15.0879 7.61508 15.0879 8.18493 14.7364 8.5364L8.6364 14.6364C8.28492 14.9879 7.71508 14.9879 7.3636 14.6364L1.26361 8.5364C0.912138 8.18493 0.912138 7.61508 1.26361 7.26361C1.61508 6.91214 2.18493 6.91214 2.5364 7.26361L7.1 11.8272V0.9C7.1 0.402943 7.50294 0 8 0ZM0 18C0 17.5029 0.402944 17.1 0.9 17.1H15.1C15.5971 17.1 16 17.5029 16 18C16 18.4971 15.5971 18.9 15.1 18.9H0.9C0.402944 18.9 0 18.4971 0 18Z"})})),W3=()=>(0,x.jsxs)(F3,{icon:(0,x.jsx)("button",{className:"ux30kq0",children:(0,x.jsx)(H3,{width:22,height:22})}),children:[(0,x.jsx)("div",{className:"uw7jz80",children:"Найдено обновление"}),(0,x.jsx)(q3,{title:"Обновить",onClick:()=>document.location.reload()})]}),K3=(W9(5623),()=>{const[e,t]=(0,j.useState)(!1),n=(0,j.useContext)(Ef)?.updateFounded;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"homescreen-header",children:[(0,x.jsx)(B3,{}),(0,x.jsx)(_3,{}),n&&(0,x.jsx)(W3,{}),(0,x.jsx)("button",{onClick:()=>t(!0),children:(0,x.jsx)(R3,{width:38,height:24})})]}),e&&(0,x.jsx)(k3,{handleClose:()=>t(!1),children:(0,x.jsx)(M3,{})})]})}),G3=(0,j.memo)(K3),Y3=[["8.00","8.45"],["8.55","9.40"],["9.55","10.40"],["10.55","11.40"],["11.55","12.40"],["12.50","13.35"],["13.55","14.40"]];function $3(){let t,n,r,i=null;for(let e=0;e<7;e++){const a=Y3[e],s=a[0].split("."),o=a[1].split("."),l=(new Date).setHours(s[0],s[1],0),u=(new Date).setHours(o[0],o[1],0),c=new Date;l<=c&&c<=u?(t=e+1,n=u-c,r="toEnd",i="2700000"):c<=l&&!t&&(t=e+1,n=l-c,r="toStart",i=1==e||5==e?6e5:6==e?12e5:9e5)}return{num:t,type:r,left:n,timeInterval:i}}const X3=({handleClick:e})=>(0,x.jsxs)(E.button,{initial:{scale:.7,opacity:.6},animate:{scale:1,opacity:1},transition:{delay:.3},className:"s1un4p2o",onClick:e,children:[(0,x.jsx)(O,{icon:xw,size:"2x"}),(0,x.jsx)("div",{className:"caption",children:"Закрыть"})]}),Q3=(W9(6972),{hour:"numeric",minute:"numeric",second:"numeric"}),Z3=()=>{const[e,t]=(0,j.useState)("");return If(()=>{const e=(new Date).toLocaleString("ru",Q3);t(e)},1e3),(0,x.jsx)(E.div,{className:"s1s5r3kf",initial:{scale:.7,opacity:.6},animate:{scale:1,opacity:1},transition:{delay:.4},children:e})},J3=(W9(3218),({actualLesson:e,size:t=82,strokeColor:n})=>{const r=100-100/(e.timeInterval/e.left),i=Math.ceil(2*Math.PI*45),a=Math.abs(Math.ceil(i/100*(r-100))),s={duration:1,ease:"easeOut"},o={hidden:{strokeDashoffset:i,transition:s},show:{strokeDashoffset:a,transition:s}};return(0,x.jsxs)("div",{className:"Progress",children:[(0,x.jsx)("div",{className:"countdown",children:function(e){const t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}(e.left)}),(0,x.jsx)("svg",{viewBox:"0 0 100 100",width:t,height:t,children:(0,x.jsx)("circle",{cx:"50",cy:"50",r:45,className:"circle",strokeWidth:7,stroke:"var(--bg2)",strokeOpacity:1,fill:"transparent"})}),(0,x.jsx)("svg",{viewBox:"0 0 100 100",width:t,height:t,style:{position:"absolute",transform:"rotate(-90deg)",overflow:"visible",marginLeft:-t},children:(0,x.jsx)(E.circle,{cx:"50",cy:"50",r:45,strokeWidth:9,stroke:n,fill:"transparent",strokeDashoffset:a,strokeDasharray:i,variants:o,initial:"hidden",animate:"show"})})]})}),e4=({handleClose:i,actualLesson:e,strokeColor:t})=>(0,x.jsx)(p3,{children:(0,x.jsxs)(E.div,{className:"s16qoot0",initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{bounce:0,duration:.35,type:"tween",ease:[.1,.76,.55,.9]},drag:"y",dragConstraints:{bottom:0},dragSnapToOrigin:!0,dragElastic:{top:1,bottom:0},dragMomentum:!1,onDragEnd:(e,{offset:t,velocity:n})=>{t=t.y,n=n.y;const r=Math.abs(t)*n;r<-1e4&&i()},children:[(0,x.jsx)(Z3,{}),(0,x.jsx)(E.div,{className:"progress",initial:{scale:.7,opacity:.6},animate:{scale:1,opacity:1},transition:{delay:.35},children:(0,x.jsx)(J3,{actualLesson:e,strokeColor:t,size:220})}),(0,x.jsx)(X3,{handleClick:i})]})}),t4=(W9(6717),({actualLesson:e,strokeColor:t})=>{const[n,r]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"sloxcoe",onClick:()=>r(!0),children:(0,x.jsx)(J3,{actualLesson:e,strokeColor:t})}),(0,x.jsx)(h3,{children:n&&(0,x.jsx)(e4,{isOpen:n,handleClose:()=>r(!1),actualLesson:e,strokeColor:t})})]})}),n4=(W9(3838),(0,j.createContext)(null)),r4=t=>{const e=[10,9,8,7,6,5,4,3,2,1].map(e=>(0,x.jsx)(E.button,{className:"new-mark-btn",onClick:()=>t.handleMarkInput(e),whileTap:{scale:.9,filter:"brightness(1.7)"},children:e},e));return(0,x.jsxs)("div",{className:"marks-input-container",children:[e,t.onRemove&&(0,x.jsx)(E.button,{onClick:t.onRemove,whileTap:{scale:.9},children:(0,x.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 28 28",fill:"currentColor",children:(0,x.jsx)("path",{d:"M20.4775 21.8809C22.376 21.8809 23.3691 20.9756 23.3691 19.0947V8.31934C23.3691 6.42969 22.376 5.4541 20.4775 5.4541H12.875C11.6797 5.4541 10.8271 5.74414 10.0273 6.61426L5.07031 11.8877C4.42871 12.5908 4.18262 13.1006 4.18262 13.6543C4.18262 14.208 4.42871 14.7266 5.07031 15.4209L10.0361 20.668C10.8359 21.5381 11.6885 21.8721 12.8838 21.8721L20.4775 21.8809ZM12.4092 17.4951C11.9434 17.4951 11.5742 17.126 11.5742 16.6514C11.5742 16.4316 11.6621 16.2295 11.8203 16.0713L14.2197 13.6719L11.8203 11.2812C11.6621 11.123 11.5742 10.9121 11.5742 10.6924C11.5742 10.2266 11.9434 9.86621 12.4092 9.86621C12.6553 9.86621 12.8486 9.94531 13.0068 10.1035L15.3975 12.4941L17.8145 10.0947C17.9814 9.92773 18.1748 9.84863 18.4121 9.84863C18.8779 9.84863 19.2383 10.2178 19.2383 10.6836C19.2383 10.9033 19.1592 11.0967 18.9922 11.2725L16.5928 13.6719L18.9834 16.0625C19.1504 16.2295 19.2383 16.4316 19.2383 16.6514C19.2383 17.126 18.8691 17.4951 18.3945 17.4951C18.1572 17.4951 17.9463 17.4072 17.7881 17.249L15.3975 14.8584L13.0244 17.249C12.8574 17.416 12.6553 17.4951 12.4092 17.4951Z"})})})]})},i4=(0,j.createContext)(null),a4=({onClose:e,children:t,bottomCloseBtn:n})=>{const[r,i]=(0,j.useState)(!0),a=()=>i(!1),s=m3(0);return(0,x.jsx)(p3,{children:(0,x.jsx)(h3,{onExitComplete:e,children:r&&(0,x.jsx)(y3,{onClick:a,y:s,children:(0,x.jsxs)(E.div,{className:"ActionSheet",drag:"y",dragConstraints:{top:0,bottom:0},dragSnapToOrigin:!0,dragElastic:{top:.14,bottom:.6},style:{y:s},exit:{y:"calc(100% + 50px)",transitionEnd:{display:"none"},transition:{type:"tween",duration:.26}},initial:{y:200},animate:{y:0},transition:{type:"tween",ease:[.38,.7,.125,1],duration:.34},onDragEnd:(e,{offset:t,velocity:n})=>{t=t.y,n=n.y;const r=Math.abs(t)*n;1e4<r&&a()},children:[(0,x.jsx)(i4.Provider,{value:{close:a},children:t}),n?(0,x.jsx)("div",{className:"ActionSheetCloseBtn",onClick:a,children:"Закрыть"}):(0,x.jsx)("button",{className:"top-close-btn",onClick:a,children:(0,x.jsx)(v3,{width:36,height:36})})]})})})})},s4=t=>{const n=(0,j.useContext)(i4).close,r=(0,j.useContext)(Ef);return(0,x.jsxs)("div",{className:"MarksKeyboard",children:[(0,x.jsxs)("header",{className:"mark-info",children:[(0,x.jsx)("h5",{className:"title",children:t.title}),(0,x.jsx)("div",{className:"subject",children:t.descr})]}),(0,x.jsx)(r4,{handleMarkInput:e=>{t.onSubmit(e),n(),t.statusBarAlert&&r.setStatusBar({title:t.statusBarAlert,type:"sucsess"})}})]})},o4=r=>{const i=(0,j.useContext)(n4)?.marks,a=(0,j.useContext)(Ef).database;return{updateMark:(t,n)=>{const e=i.map(e=>e.time==t.time?{...e,...n}:e);dd(a.marks,{[r.id]:e},{merge:!0})},addQuarterMark:(e,t)=>{const n={mark:e,time:Date.now()};t&&(n.imp=t),dd(a.marks,{[r.id]:(e=[n],new Kh("arrayUnion",e))},{merge:!0})},removeQuarterMark:e=>{dd(a.marks,{[r.id]:(e=[e],new Gh("arrayRemove",e))},{merge:!0})},changeMarkTarget:e=>{dd(a.marks,{marksTargets:{[r.id]:e}},{merge:!0})},setYearMark:(e,t)=>{dd(a.yearMarks,{[r.id]:{[t]:e}},{merge:!0})},removeYearMark:e=>{dd(a.yearMarks,{[r.id]:{[e]:null}},{merge:!0})}}},l4=(e,n)=>{const t=e.reduce((e,t)=>e+(n?Math.round(t.mark):t.mark),0)/e.length;return isNaN(t)?null:t};var u4=!0,c4="Invariant failed",h4=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function d4(e){return e.scrollHeight-e.clientHeight}f4=function(t){return function(e){t.current.scrollTop=e}},void 0===p4&&(p4=function(e,t){if(e.length!==t.length)return!1;for(var n,r,i=0;i<e.length;i++)if(!((n=e[i])===(r=t[i])||h4(n)&&h4(r)))return!1;return!0}),m4=null,y4.clear=function(){m4=null};var f4,p4,m4,g4=y4;function y4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(m4&&m4.lastThis===this&&p4(e,m4.lastArgs))return m4.lastResult;var n=f4.apply(this,e);return m4={lastResult:n,lastArgs:e,lastThis:this},n}var v4="undefined"!=typeof window?j.useLayoutEffect:j.useEffect;const b4=({isYearMark:t,readOnly:e,mark:n,subject:r,quarter:i})=>{const a=(0,j.useContext)(i4).close,{setYearMark:s,removeQuarterMark:o,removeYearMark:l,updateMark:u}=o4(r),[c,h]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"btns",children:[!t&&!e&&(0,x.jsx)("div",{className:"important-mark-switch",children:(0,x.jsx)(I3,{checked:n.imp,onChange:e=>{u(n,{imp:e.target.checked})},noPadding:!0,title:"Контрольная",descr:"Отметить как оценку по к/р",icon:(0,x.jsx)(O,{icon:kw,size:"lg"})})}),!e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{onClick:()=>h(!0),children:[(0,x.jsx)(O,{icon:Mw,size:"lg"}),"Изменить"]}),(0,x.jsxs)("button",{className:"remove",onClick:()=>{a(),setTimeout(()=>{t?l(i):o(n)},170)},children:[(0,x.jsx)(O,{icon:Vw,size:"lg"}),"Удалить"]})]})]}),c&&(0,x.jsx)(a4,{bottomCloseBtn:!0,onClose:()=>h(!1),children:(0,x.jsx)(s4,{onSubmit:e=>{t?s(e,i):u(n,{mark:e})},title:`Изменить оценку (${n.mark})`+(t?` за ${i} четверть`:""),descr:r.full_title||r.title})})]})},w4=({mark:e,handleClose:t,markStyle:n,quarter:r,isYearMark:i})=>{const{subject:a,readOnly:s}=(0,j.useContext)(n4),o=new Date(e.time).toLocaleString();return(0,x.jsx)(a4,{onClose:t,children:(0,x.jsxs)("div",{className:"s3pyqk0",children:[(0,x.jsx)("div",{className:"modal-title",children:"ОЦЕНКА"}),(0,x.jsxs)("div",{className:"info",children:[(0,x.jsx)("div",{className:"mark-num",style:n,children:e.mark}),(0,x.jsxs)("div",{className:"right-section",children:[(0,x.jsx)("div",{className:"subject",children:a.full_title||a.title}),(0,x.jsxs)("div",{className:"time",children:[(0,x.jsx)(O,{icon:vw}),i?r+" Четверть":o]})]})]}),(0,x.jsx)(b4,{subject:a,isYearMark:i,quarter:r,mark:e,readOnly:s})]})})},x4=(W9(148),({mark:e,customClickHandler:t,animate:n,unclickable:r,quarter:i,isYearMark:a})=>{const[s,o]=(0,j.useState)(!1),l=e.mark,u={},c=(7<=l?(u.color="var(--mark-green)",u.background="var(--mark-green-bg)"):5<=l?(u.color="var(--mark-yellow)",u.background="var(--mark-yellow-bg)"):1<=l&&(u.color="var(--mark-red)",u.background="var(--mark-red-bg)"),e.imp&&(u.border=u.color+" 2px solid"),()=>{t?t():r||o(!0)});return(0,x.jsxs)(x.Fragment,{children:[n?(0,x.jsx)(E.div,{className:"Mark",style:u,initial:{scale:0},animate:{scale:1},exit:{scale:0},onClick:c,children:e.mark}):(0,x.jsx)("div",{className:"Mark",style:u,onClick:c,children:e.mark}),!r&&!t&&s&&(0,x.jsx)(w4,{mark:e,markStyle:u,handleClose:()=>{o(!1)},quarter:i,isYearMark:a})]})}),C4={initial:()=>({opacity:0,y:-60,position:"static"}),animate:e=>({opacity:1,y:0,position:"static",color:["decrease"==e?"#ff3b30":"#34c759",getComputedStyle(document.documentElement).getPropertyValue("--text1").trim()],transition:{color:{delay:.3}}}),exit:{opacity:0,y:30,scale:.4,position:"absolute"}},k4=({averageMark:e})=>{const t=(0,j.useRef)(null),n=t.current>e?"decrease":"increase";return t.current=e,(0,x.jsx)("div",{className:"average-mark-wraper",children:(0,x.jsx)(h3,{initial:!1,children:(0,x.jsx)(E.div,{custom:n,variants:C4,initial:"initial",animate:"animate",className:"average-mark",exit:"exit",children:e},e)})})},S4=({initialMarks:e})=>{const t=(0,j.useRef)(null),n=function(n){var e={},t=e.initialScroll,r=void 0===t?null:t,t=e.inaccuracy,i=void 0===t?0:t,t=e.runScroll,a=void 0===t?g4(n):t,s=(0,j.useRef)(null),o=(0,j.useCallback)(function(){return null!==n.current&&Math.ceil(n.current.scrollTop)>=d4(n.current)-i},[i]),l=((0,j.useEffect)(function(){function t(){s.current=o()}return n.current.addEventListener("scroll",t),function(){var e;return null==(e=n.current)?void 0:e.removeEventListener("scroll",t)}},[]),(0,j.useCallback)(function(e){if(null===n.current){if(u4)throw new Error(c4);throw new Error(c4+": Trying to scroll to the bottom, but no element was found.\n      Did you call this scrollBottom before the component with this hook finished mounting?")}e=Math.min(d4(n.current),e);a(e)},[a])),u=(0,j.useCallback)(function(){l(1/0)},[l]),e=(0,j.useCallback)(function(){return s.current&&u(),s.current},[u]);return v4(function(){null!==r&&l(r),s.current=o()},[]),{scroll:l,stayScrolled:e,scrollBottom:u,isScrolled:o}}(t).stayScrolled,[r,i]=(0,j.useState)([]);(0,j.useLayoutEffect)(()=>{n()},[r.length]);let a=0;const s=e.map(e=>(a+=e.mark,(0,x.jsx)(x4,{mark:e,unclickable:!0},e.time))),o=r.map(e=>(a+=e.mark,(0,x.jsx)(x4,{mark:e,customClickHandler:()=>{var n=e;i(e=>{const t=e.filter(e=>e.time!==n.time);return t})},animate:!0},e.time)));let l=a/(e.length+r.length);return l=!isNaN(l)&&l<=10?Number(l.toFixed(2)):null,(0,x.jsxs)("div",{className:"MarksCalculator",children:[(0,x.jsx)(k4,{averageMark:l}),(0,x.jsxs)("div",{className:"marks-display",children:[(0,x.jsx)("div",{className:"info",children:"Оценки, которые уже есть"}),(0,x.jsx)("div",{className:"marks-container",children:s}),(0,x.jsx)("div",{className:"info",children:"Добавленные оценки"}),(0,x.jsx)("div",{className:"marks-container",ref:t,children:(0,x.jsx)(h3,{children:o})})]}),(0,x.jsx)("div",{className:"marks-input-wrapper",children:(0,x.jsx)(r4,{handleMarkInput:t=>{i(e=>[...e,{mark:parseInt(t),time:Date.now()}])},onRemove:()=>{i(e=>e.slice(0,-1))}})})]})},E4={initial:()=>({opacity:0,y:-60,position:"absolute"}),animate:e=>({opacity:1,y:0,position:"static",color:["decrease"==e?"#ff3b30":"#34c759",getComputedStyle(document.documentElement).getPropertyValue("--text1").trim()],transition:{color:{delay:.8}}}),exit:{opacity:0,y:30,scale:.4,position:"absolute"}},T4=({number:e})=>{const t=(0,j.useRef)(null),n=t.current>e?"decrease":"increase";return t.current=e,(0,x.jsx)(h3,{initial:!1,children:(0,x.jsx)(E.div,{custom:n,variants:E4,initial:"initial",animate:"animate",exit:"exit",children:e},e)})},_4=({marks:e,target:t,openTargetDialog:n,readOnly:r})=>{const[i,a]=(0,j.useState)(!1),s=l4(e),o={},l=(s&&Math.round(s)<parseInt(t)&&(o.border="var(--yellow) 1.5px solid"),s?Number(s.toFixed(2)):null);return(0,x.jsxs)("div",{className:"s3uhfqd",children:[(0,x.jsx)("button",{className:"gpa",onClick:()=>a(!0),style:o,children:l?(0,x.jsx)(T4,{number:l}):(0,x.jsx)(O,{icon:_w,className:"no-gpa"})}),(0,x.jsxs)("button",{className:"gpa-target",onClick:r?null:n,children:["Цель: ",t]}),i&&(0,x.jsx)(k3,{handleClose:()=>a(!1),type:{fullHeightOnMobile:!0},children:(0,x.jsx)(S4,{initialMarks:e})})]})},I4=(W9(7920),({marks:e})=>e.map(e=>(0,x.jsx)(x4,{mark:e},e.time))),N4=(0,j.memo)(I4),j4=e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 19 19",fill:"currentColor",children:(0,x.jsx)("path",{d:"M9.49165 18.4297C14.2259 18.4297 18.1335 14.3164 18.1335 9.3418C18.1335 4.36719 14.2175 0.253906 9.4833 0.253906C4.75742 0.253906 0.858154 4.36719 0.858154 9.3418C0.858154 14.3164 4.76577 18.4297 9.49165 18.4297ZM5.45043 9.35059C5.45043 8.83203 5.80113 8.47168 6.2854 8.47168H8.66503V5.9668C8.66503 5.45703 8.99903 5.09668 9.47495 5.09668C9.96759 5.09668 10.3099 5.45703 10.3099 5.9668V8.47168H12.6979C13.1738 8.47168 13.5245 8.83203 13.5245 9.35059C13.5245 9.8516 13.1738 10.2119 12.6979 10.2119H10.3099V12.7168C10.3099 13.2178 9.96759 13.5869 9.47495 13.5869C8.99903 13.5869 8.66503 13.2178 8.66503 12.7168V10.2119H6.2854C5.80113 10.2119 5.45043 9.8516 5.45043 9.35059Z"})}),A4=({addQuarterMark:e,subject:t,layoutDependency:n})=>{const[r,i]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(E.div,{className:"Mark",onClick:()=>i(!0),layout:"position",layoutDependency:n,children:(0,x.jsx)(j4,{width:18,height:18})}),r&&(0,x.jsx)(a4,{bottomCloseBtn:!0,onClose:()=>i(!1),children:(0,x.jsx)(s4,{onSubmit:e,title:"Нажми на оценку чтобы добавить",descr:t.full_title??t.title})})]})},P4=(0,j.memo)(A4),L4=e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 28 28",children:(0,x.jsx)("path",{d:"M5.05273 19.0156C5.05273 20.8965 6.0459 21.8809 7.94434 21.8809H17.1113C16.7861 21.3535 16.5576 20.7559 16.4521 20.1318H7.93555C7.20605 20.1318 6.80176 19.7539 6.80176 18.9805V10.8945C6.80176 10.1211 7.20605 9.74316 7.93555 9.74316H20.0557C20.7852 9.74316 21.1895 10.1211 21.1895 10.8945V13.25C21.4971 13.1973 21.7871 13.1709 22.0771 13.1709C22.3672 13.1709 22.6572 13.1973 22.9473 13.2412V8.31934C22.9473 6.43848 21.9541 5.4541 20.0469 5.4541H7.94434C6.0459 5.4541 5.05273 6.42969 5.05273 8.31934V19.0156ZM12.3037 12.7754H12.8223C13.1387 12.7754 13.2441 12.6787 13.2441 12.3711V11.8525C13.2441 11.5361 13.1387 11.4395 12.8223 11.4395H12.3037C11.9873 11.4395 11.8818 11.5361 11.8818 11.8525V12.3711C11.8818 12.6787 11.9873 12.7754 12.3037 12.7754ZM15.1777 12.7754H15.6963C16.0039 12.7754 16.1094 12.6787 16.1094 12.3711V11.8525C16.1094 11.5361 16.0039 11.4395 15.6963 11.4395H15.1777C14.8613 11.4395 14.7559 11.5361 14.7559 11.8525V12.3711C14.7559 12.6787 14.8613 12.7754 15.1777 12.7754ZM18.043 12.7754H18.5615C18.8779 12.7754 18.9834 12.6787 18.9834 12.3711V11.8525C18.9834 11.5361 18.8779 11.4395 18.5615 11.4395H18.043C17.7354 11.4395 17.6299 11.5361 17.6299 11.8525V12.3711C17.6299 12.6787 17.7354 12.7754 18.043 12.7754ZM9.43848 15.6055H9.94824C10.2646 15.6055 10.3701 15.5088 10.3701 15.1924V14.6738C10.3701 14.3662 10.2646 14.2695 9.94824 14.2695H9.43848C9.12207 14.2695 9.0166 14.3662 9.0166 14.6738V15.1924C9.0166 15.5088 9.12207 15.6055 9.43848 15.6055ZM12.3037 15.6055H12.8223C13.1387 15.6055 13.2441 15.5088 13.2441 15.1924V14.6738C13.2441 14.3662 13.1387 14.2695 12.8223 14.2695H12.3037C11.9873 14.2695 11.8818 14.3662 11.8818 14.6738V15.1924C11.8818 15.5088 11.9873 15.6055 12.3037 15.6055ZM15.1777 15.6055H15.6963C16.0039 15.6055 16.1094 15.5088 16.1094 15.1924V14.6738C16.1094 14.3662 16.0039 14.2695 15.6963 14.2695H15.1777C14.8613 14.2695 14.7559 14.3662 14.7559 14.6738V15.1924C14.7559 15.5088 14.8613 15.6055 15.1777 15.6055ZM22.0771 23.4805C24.5381 23.4805 26.6123 21.4238 26.6123 18.9453C26.6123 16.4668 24.5645 14.4189 22.0771 14.4189C19.5986 14.4189 17.5508 16.4668 17.5508 18.9453C17.5508 21.4326 19.5986 23.4805 22.0771 23.4805ZM19.9854 19.7012C19.6338 19.7012 19.3613 19.4199 19.3613 19.0771C19.3613 18.7432 19.6426 18.4707 19.9854 18.4707H21.5146V16.4141C21.5146 16.0713 21.7871 15.8076 22.1299 15.8076C22.4727 15.8076 22.7539 16.0713 22.7539 16.4141V19.0771C22.7539 19.4287 22.4814 19.7012 22.1299 19.7012H19.9854ZM9.43848 18.4268H9.94824C10.2646 18.4268 10.3701 18.3301 10.3701 18.0225V17.5039C10.3701 17.1875 10.2646 17.0908 9.94824 17.0908H9.43848C9.12207 17.0908 9.0166 17.1875 9.0166 17.5039V18.0225C9.0166 18.3301 9.12207 18.4268 9.43848 18.4268ZM12.3037 18.4268H12.8223C13.1387 18.4268 13.2441 18.3301 13.2441 18.0225V17.5039C13.2441 17.1875 13.1387 17.0908 12.8223 17.0908H12.3037C11.9873 17.0908 11.8818 17.1875 11.8818 17.5039V18.0225C11.8818 18.3301 11.9873 18.4268 12.3037 18.4268ZM15.1777 18.4268H15.6963C16.0039 18.4268 16.1094 18.3301 16.1094 18.0225V17.5039C16.1094 17.1875 16.0039 17.0908 15.6963 17.0908H15.1777C14.8613 17.0908 14.7559 17.1875 14.7559 17.5039V18.0225C14.7559 18.3301 14.8613 18.4268 15.1777 18.4268Z",fill:"currentColor"})}),D4=({marks:o,subject:l})=>{const u=(0,j.useContext)(Ef).user.group,[e,t]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"b1o5mh0a",onClick:()=>t(!0),children:(0,x.jsx)(L4,{width:24,height:24})}),e&&(0,x.jsx)(k3,{handleClose:()=>t(!1),background:"var(--bg2)",type:{wide:!0},children:(0,x.jsx)(t3,{children:(0,x.jsxs)("div",{className:"srjbuzm",children:[(0,x.jsx)(S3,{text:l.full_title||l.title}),(0,x.jsx)(e3,{customDayContentGenerator:(e,t)=>{if(5<=e&&e<8)return{};const r=new Date(2022,e,t),n=r.getDay(),i=(e=n,t=l,a=u,(t.days.groups&&t.days[a]?t.days[a]:t.days).includes(e));var a;const s=[];return o.forEach(e=>{var t=new Date(e.time),n=r;t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()&&s.push((0,x.jsx)(x4,{mark:e},e.time))}),{content:1<s.length?(0,x.jsx)(F3,{stayActiveOnClick:!0,icon:(0,x.jsx)(O,{icon:Lw}),children:s}):s,shadowColor:i?l.color:null}}})]})})})]})},M4=(W9(790),({subject:e,marks:t,target:n,embedded:r,readOnly:i})=>{const[a,s]=(0,j.useState)(!1),{changeMarkTarget:o,addQuarterMark:l}=o4(e);return(0,x.jsxs)(n4.Provider,{value:{marks:t,subject:e,readOnly:i},children:[(0,x.jsxs)("div",{className:"SubjectMarks"+(r?" embedded":""),children:[!r&&(0,x.jsx)("div",{className:"color-indicator",style:{backgroundColor:e.color,boxShadow:"0px 0px 4px "+e.color}}),(0,x.jsxs)("div",{className:"main-content",children:[!r&&(0,x.jsx)("h5",{className:"subject-title",children:e.full_title||e.title}),(0,x.jsxs)("div",{className:"marks-container",children:[(0,x.jsx)(N4,{marks:t}),!i&&(0,x.jsx)(P4,{subject:e,layoutDependency:t?.length,addQuarterMark:l})]}),(0,x.jsx)(D4,{marks:t,subject:e})]}),(0,x.jsx)(_4,{marks:t,target:n,readOnly:i,openTargetDialog:()=>s(!0)})]}),!i&&a&&(0,x.jsx)(a4,{bottomCloseBtn:!0,onClose:()=>s(!1),children:(0,x.jsx)(s4,{onSubmit:o,title:"Выбери цель для этого предмета",descr:e.full_title??e.title,statusBarAlert:"Цель установлена"})})]})}),R4=(0,j.memo)(M4,(e,t)=>JSON.stringify(e?.marks)==JSON.stringify(t?.marks)&&e?.target==t?.target),O4=({subject:e})=>{const t=(0,j.useContext)(_f);return(0,x.jsxs)("div",{className:"svgbs2j",children:[(0,x.jsx)("h5",{className:"block-title",children:"МОИ ОЦЕНКИ"}),(0,x.jsx)(R4,{marks:t?.[e.id]??[],subject:e,target:t?.marksTargets?.[e.id],embedded:!0})]})},V4=(0,j.memo)(O4),F4=(W9(625),(0,j.forwardRef)(function(e,t){return(0,x.jsxs)(p3,{children:[e.children,(0,x.jsx)("div",{ref:t,onClick:e.onClick,className:e.active?"backdrop":""})]})}));function z4(){return(z4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const U4=j.useLayoutEffect;function B4(e,t){"function"==typeof e?e(t):e.current=t}function q4(t){Object.keys(H4).forEach(function(e){t.style.setProperty(e,H4[e],"important")})}var H4={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},W4=null;function K4(){}var G4=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Y4=!!document.documentElement.currentStyle;const $4=(0,j.forwardRef)(function(e,t){function n(){var e,t,n,r,i,a,s,o=g.current,l=u&&v.current?v.current:function(){var e=window.getComputedStyle(o);if(null===e)return null;var n=e,e=G4.reduce(function(e,t){return e[t]=n[t],e},{}),t=e.boxSizing;return""===t?null:(Y4&&"border-box"===t&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px"),{sizingStyle:e,paddingSize:parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),borderSize:parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth)})}();l&&(l=v.current=l,s=o.value||o.placeholder||"x",void 0===(a=h)&&(a=1),void 0===(e=c)&&(e=1/0),W4||((W4=document.createElement("textarea")).setAttribute("tabindex","-1"),W4.setAttribute("aria-hidden","true"),q4(W4)),null===W4.parentNode&&document.body.appendChild(W4),t=l.paddingSize,n=l.borderSize,i=(r=l.sizingStyle).boxSizing,Object.keys(r).forEach(function(e){W4.style[e]=r[e]}),q4(W4),W4.value=s,s=W4.scrollHeight,s="border-box"===l.sizingStyle.boxSizing?s+l.borderSize:s-l.paddingSize,W4.value="x",a=(l=W4.scrollHeight-t)*a,"border-box"===i&&(a=a+t+n),s=Math.max(a,s),a=l*e,"border-box"===i&&(a=a+t+n),i=(e=[Math.min(a,s),l])[1],y.current!==(t=e[0])&&(y.current=t,o.style.setProperty("height",t+"px","important"),p(t,{rowHeight:i})))}var r,i,a,s,o,l,u=e.cacheMeasurements,c=e.maxRows,h=e.minRows,d=e.onChange,f=void 0===d?K4:d,d=e.onHeightChange,p=void 0===d?K4:d,d=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),m=void 0!==d.value,g=(0,j.useRef)(null),e=(r=g,i=t,a=(0,j.useRef)(),(0,j.useCallback)(function(e){r.current=e,a.current&&B4(a.current,null),(a.current=i)&&B4(i,e)},[i])),y=(0,j.useRef)(0),v=(0,j.useRef)();return(0,j.useLayoutEffect)(n),o=(0,j.useRef)(s=n),U4(function(){o.current=s}),l=o,(0,j.useLayoutEffect)(function(){function e(e){l.current(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),(0,j.createElement)("textarea",z4({},d,{onChange:function(e){m||n(),f(e)},ref:e}))});let X4=null;const Q4=({insertIntoTextarea:r,focusOnTextarea:t})=>{const[e,i]=Nf("shortcuts",["§","Упр","Стр","WB"]),n=e.map((n,e)=>(0,x.jsx)(E.button,{className:"symbol",onClick:t,onPointerDown:()=>X4=Date.now(),onPointerUp:()=>{if(X4){const e=Date.now()-X4;400<=e?(t=n,confirm("Удалить "+t+"?")&&setTimeout(()=>{i(e=>e.filter(e=>e!==t))},30)):r(n)}var t;X4=null},whileTap:{scale:.91,filter:"brightness(1.1)"},children:n},e));return(0,x.jsxs)("div",{className:"s1sqdyct",children:[n,(0,x.jsx)("button",{className:"symbol",onClick:()=>{const t=prompt();t&&i(e=>[...e,t])},children:(0,x.jsx)(j4,{width:20,height:20})})]})},Z4=(0,j.memo)(Q4),J4=(W9(9508),({icon:e,isAlreadyAttached:t,onClick:n})=>(0,x.jsxs)(E.button,{className:"s1v6tkto",onClick:n,whileTap:{scale:.9,filter:"brightness(1.2)"},children:[t?(0,x.jsx)(O,{icon:Mw}):(0,x.jsx)(j4,{width:18,height:18}),e]})),e5=(W9(2609),({setLink:n,currentLink:r})=>(0,x.jsx)(J4,{icon:(0,x.jsx)(O,{icon:Dw,color:"var(--green)"}),onClick:()=>{const e=prompt(r?"Изменить ссылку":"Добавить ссылку",r),t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);null!=e&&(""==e||e.match(t)?n(e):alert("Это не ссылка"))},isAlreadyAttached:1==r})),t5=({addPhotoAttachmentURL:i})=>{const e=(0,j.useId)(),t=(0,j.useRef)(),a=(()=>{const[e,i]=(0,j.useState)(null),[t,a]=(0,j.useState)(null);return{uploadFile:(e,t,n)=>{t=t,n=n,(e=$(e))._throwIfRoot("uploadBytesResumable");const r=new df(e,new Ud(t),n);return a(r),new Promise((t,n)=>{r.on("state_changed",e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);e.state,i({state:e.state,snapshot:e,progress:t})},e=>{switch(a(null),e.code){case"storage/unauthorized":i({error:e,errorDescription:"Ошибка: Недостаточно прав"});break;case"storage/canceled":i({error:e,errorDescription:"Загрузка отменена"});break;case"storage/unknown":i({error:e,errorDescription:"Произошла неизвестная ошибка"})}n(e)},()=>{yf(r.snapshot.ref).then(e=>{a(null),t(e)})})})},uploadTask:t,uploadState:e}})().uploadFile;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J4,{icon:(0,x.jsx)(O,{icon:Pw,color:"var(--red)",size:"lg"}),onClick:()=>{t.current.click()}}),(0,x.jsx)("input",{className:"hidden-input",id:e,ref:t,onChange:async e=>{const t=e.target.files[0],n=bf();if(t){const r=await a(vf(n,"lessons-attachments/"+Date.now()),t,{cacheControl:"public,max-age=864000"});"string"==typeof r&&i(r)}},type:"file",style:{display:"none"},accept:"image/x-png,image/gif,image/jpeg"})]})},n5=(W9(3315),({subject:e,setLink:t,lesson:n,addPhotoAttachmentURL:r})=>(0,x.jsxs)("header",{className:"sfkf68v",children:[(0,x.jsx)("div",{className:"subject",style:{backgroundColor:e.color??"var(--bg4)"},children:e.full_title||e.title}),(0,x.jsx)(e5,{setLink:t,currentLink:n.link}),(0,x.jsx)(t5,{addPhotoAttachmentURL:r})]})),r5=(W9(442),({checked:e,onChange:t})=>(0,x.jsxs)("label",{className:"ios7-switch",children:[(0,x.jsx)("input",{type:"checkbox",checked:e,onChange:t}),(0,x.jsx)("span",{})]})),i5=({danger:e,handleDangerChange:t})=>(0,x.jsxs)("div",{className:"sjgnw6i",children:[(0,x.jsx)("div",{className:"icon",children:(0,x.jsx)(O,{icon:Sw})}),(0,x.jsx)("span",{children:"Отметить, что на этом уроке к/р или самостоялка"}),(0,x.jsx)("div",{className:"checkbox",children:(0,x.jsx)(r5,{checked:e,onChange:t})})]}),a5=(W9(3464),(t,i)=>{const e=(0,j.useContext)(Ef),a=e.database.timetable,n=e.user;return{setHomework:e=>{e!==t.hw&&fd(a,{[i+".hw"]:null==e?t.hw:e,[i+".changedBy"]:n.first_name||n.last_name||n.username||n.id,[i+".last_change"]:Date.now()})},setDanger:e=>{fd(a,{[i+".danger"]:e})},setLink:e=>{fd(a,{[i+".link"]:e})},addPhotoAttachmentURL:e=>{fd(a,{[i+".attachments"]:[e]})},removePhotoAttachment:e=>{const t=bf(),n=vf(t,e);fd(a,{[i+".attachments"]:[]});{e=$(n);e._throwIfRoot("deleteObject");const r=function(e,t){const n=t.fullServerUrl(),r=Pd(n,e.host,e._protocol),i=e.maxOperationRetryTime,a=new Xd(r,"DELETE",function(e,t){},i);return a.successCodes=[200,204],a.errorHandler=ef(t),a}(e.storage,e._location);return void e.storage.makeRequestWithTokens(r,hf)}}}}),s5=({onClick:e,className:t,children:n})=>(0,x.jsx)(E.button,{onClick:e,className:t,whileTap:{scale:.9,filter:"brightness(1.1)"},children:n}),o5=({clear:e,closeModal:t,save:n})=>(0,x.jsxs)("div",{className:"s7mrazo",children:[(0,x.jsx)(s5,{onClick:e,children:"Очистить"}),(0,x.jsx)(s5,{onClick:t,children:"Отмена"}),(0,x.jsx)(s5,{onClick:n,className:"save-btn",children:"Сохранить"})]}),l5=(0,j.memo)(o5),u5=(W9(2899),({handleClose:e,lesson:t,path:n})=>{const r=(0,j.useContext)(Sf),i=r[t.id]??{},a=(0,j.useRef)(null),s=(0,j.useRef)(null),o=(0,j.useRef)(null),[l,u]=(0,j.useState)(t.hw??""),[c,h]=(0,j.useState)(!0),{setHomework:d,setLink:f,setDanger:p,addPhotoAttachmentURL:m}=a5(t,n),g=((0,j.useEffect)(()=>{a.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"}),o.current.setSelectionRange(l.length,l.length)},[]),(0,j.useCallback)(()=>{o.current.focus()},[])),y=()=>{s.current&&a.current&&(s.current.animate([{transform:"translateY(0)"},{transform:"translateY(-100%)"}],{duration:500,fill:"forwards",easing:"cubic-bezier(0.38, 0.7, 0.125, 1)"}).onfinish=e,a.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"forwards"})),h(!1)},v=(0,j.useCallback)(t=>{const[n,r]=[o.current.selectionStart,o.current.selectionEnd];u(e=>e.slice(0,n)+t+e.slice(r)),requestAnimationFrame(()=>{o.current.setSelectionRange(n+t.length,r+t.length)})},[]);return(0,x.jsx)(F4,{active:!0,ref:a,onClick:c?y:null,children:(0,x.jsxs)("div",{className:"s1wvvlaw",ref:s,children:[(0,x.jsx)(n5,{subject:i,setLink:f,lesson:t,addPhotoAttachmentURL:m}),(0,x.jsx)($4,{ref:o,autoFocus:!0,value:l,className:"input-field",onChange:e=>{u(e.target.value)},spellCheck:"false",type:"number",maxRows:3,onFocus:e=>{setTimeout(()=>{e.target.style.caretColor=i.color??"var(--text)"},380)}}),(0,x.jsx)(Z4,{insertIntoTextarea:v,focusOnTextarea:g}),(0,x.jsx)(i5,{danger:t.danger,handleDangerChange:e=>p(e.target.checked)}),(0,x.jsx)(l5,{clear:()=>{u(""),g()},closeModal:y,save:()=>{y(),d(l)}})]})})}),c5=(W9(4412),({URL:e})=>(0,x.jsx)("div",{className:"s140vpxf",children:(0,x.jsxs)(F3,{icon:(0,x.jsx)(O,{icon:Dw}),children:[(0,x.jsx)("div",{className:"link-preview",children:e}),(0,x.jsx)(q3,{title:"Перейти",onClick:()=>{window.open(e,"_blank")},icon:(0,x.jsx)(O,{icon:Fw,size:"lg"})})]})}));W9(7673);var h5=function(e,t){return(h5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},d5=function(){return(d5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f5(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||t)}function p5(e,t,n){n&&"function"==typeof n&&n(e,t)}var m5=function(e,t){return Number(e.toFixed(t))},g5={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},y5=function(e){"number"==typeof e&&cancelAnimationFrame(e)},v5=function(e){e.mounted&&(y5(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function b5(n,r,i,a){var s;n.mounted&&(s=(new Date).getTime(),v5(n),n.animation=function(){if(!n.mounted)return y5(n.animation);var e=(new Date).getTime()-s,t=(0,g5[r])(e/i);i<=e?(a(1),n.animation=null):n.animation&&(a(t),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation))}function w5(e,t,n,r){var i,a,s,o,l,u,c,h=t.scale,d=t.positionX,f=t.positionY,h=!(isNaN(h)||isNaN(d)||isNaN(f));e.mounted&&h&&(i=e.setTransformState,d=e.transformState,a=d.scale,s=d.positionX,o=d.positionY,l=t.scale-a,u=t.positionX-s,c=t.positionY-o,0===n?i(t.scale,t.positionX,t.positionY):b5(e,r,n,function(e){i(a+l*e,s+u*e,o+c*e)}))}var x5=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,e=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var i=n.offsetWidth,n=n.offsetHeight,a=r.offsetWidth*t,r=r.offsetHeight*t,t={wrapperWidth:i,wrapperHeight:n,newContentWidth:a,newDiffWidth:i-a,newContentHeight:r,newDiffHeight:n-r},i=t.wrapperWidth,a=t.newContentWidth,n=t.newDiffWidth,r=t.wrapperHeight,s=t.newContentHeight,t=t.newDiffHeight,e=Boolean(e);return{minPositionX:i-a-(n=a<i?n*(e?1:.5):0),maxPositionX:n,minPositionY:r-s-(t=s<r?t*(e?1:.5):0),maxPositionY:t}},C5=function(e,t){t=x5(e,t);return e.bounds=t};function k5(e,t,n,r,i,a,s){var o=n.minPositionX,l=n.minPositionY,u=n.maxPositionX,n=n.maxPositionY,c=0,h=0;return s&&(c=i,h=a),{x:S5(e,o-c,u+c,r),y:S5(t,l-h,n+h,r)}}function S5(e,t,n,r){return m5(r?e<t?t:n<e?n:e:e,2)}function E5(e,t,n,r,i,a){var e=e.transformState,s=e.scale,o=e.positionX,e=e.positionY,r=r-s;return"number"!=typeof t||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:o,y:e}):k5(o-t*r,e-n*r,i,a,0,0,null)}function T5(e,t,n,r,i){i=t-(i?r:0);return!isNaN(n)&&n<=e?n:!isNaN(t)&&e<=i?i:e}function _5(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,e=e.wrapperComponent,t=t.target,e=null==e?void 0:e.contains(t);return r&&t&&e&&!tx(t,n)}function I5(e){var t=e.isInitialized,n=e.isPanning,e=e.setup.panning.disabled;return t&&n&&!e}var N5=function(e,t){var n=e.transformState,r=n.positionX,n=n.positionY,i=(e.isPanning=!0,t.clientX),t=t.clientY;e.startCoords={x:i-r,y:t-n}},j5=function(e,t){var n,t=t.touches,r=e.transformState,i=r.positionX,r=r.positionY;e.isPanning=!0,1===t.length&&(n=t[0].clientX,t=t[0].clientY,e.startCoords={x:n-i,y:t-r})},A5=function(e,t,n){var r=e.startCoords,i=e.transformState,e=e.setup.panning,a=e.lockAxisX,e=e.lockAxisY,s=i.positionX,i=i.positionY;if(!r)return{x:s,y:i};t-=r.x,n-=r.y;return{x:a?s:t,y:e?i:n}},P5=function(e,t){var n=e.setup,e=e.transformState.scale,n=n.minScale;return 0<t&&n<=e?t:0};function L5(e,t,n,r,i,a,s,o,l,u){if(i){var c;if(s<t&&s<n)return l<(c=s+(e-s)*u)?l:c<s?s:c;if(t<a&&n<a)return(c=a+(e-a)*u)<o?o:a<c?a:c}return r?t:S5(e,a,s,i)}function D5(e,t){var n=e.transformState.scale;v5(e),C5(e,n),(t.touches?j5:N5)(e,t)}function M5(e,t,n){var r,i,a,s,o,l,u,c=e.startCoords,h=e.setup.alignmentAnimation,d=h.sizeX,h=h.sizeY;c&&(t=(c=A5(e,t,n)).x,n=c.y,c=P5(e,d),d=P5(e,h),h={x:t,y:n},s=(r=e).mounted,o=(l=r.setup).disabled,l=l.velocityAnimation,u=r.transformState.scale,(!l.disabled||1<u||!o||s)&&(l=r.lastMousePosition,u=r.velocityTime,o=r.setup,s=r.wrapperComponent,o=o.velocityAnimation.equalToMove,i=Date.now(),l&&u&&s&&(o=o?Math.min(1,s.offsetWidth/window.innerWidth):1,a=(s=h.x-l.x)/o,o=(l=h.y-l.y)/o,u=i-u,s=Math.sqrt(s*s+l*l)/u,r.velocity={velocityX:a,velocityY:o,total:s}),r.lastMousePosition=h,r.velocityTime=i),u=(l=e).setup.limitToBounds,a=l.wrapperComponent,o=l.bounds,h=(s=l.transformState).scale,r=s.positionX,i=s.positionY,a&&t!==r&&n!==i&&o&&(s=(e=k5(t,n,o,u,c,d,a)).x,r=e.y,l.setTransformState(h,s,r)))}function R5(c){var e=c.transformState.scale,t=c.setup,n=t.minScale,t=t.alignmentAnimation,r=t.disabled,i=t.sizeX,a=t.sizeY,s=t.animationTime,t=t.animationType;r||e<n||!i&&!a||(r=function(){var e,t,n,r=c.transformState,i=r.positionX,a=r.positionY,r=r.scale,s=c.setup,o=s.disabled,l=s.limitToBounds,s=s.centerZoomedOut,u=c.wrapperComponent;if(!o&&u&&c.bounds)return t=(o=c.bounds).maxPositionX,e=o.minPositionX,n=o.maxPositionY,o=o.minPositionY,e=t<i||i<e,o=n<a||a<o,n=(t=E5(c,t<i?u.offsetWidth:c.setup.minPositionX||0,n<a?u.offsetHeight:c.setup.minPositionY||0,r,c.bounds,l||s)).x,u=t.y,{scale:r,positionX:e?n:i,positionY:o?u:a}}())&&w5(c,r,s,t)}function O5(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.minScale,o=a.limitToBounds,a=a.zoomAnimation,l=a.disabled,u=a.animationTime,a=a.animationType,l=l||s<=r;(1<=r||o)&&R5(e),!l&&i&&e.mounted&&(r=V5(e,s,t||i.offsetWidth/2,n||i.offsetHeight/2))&&w5(e,r,u,a)}function V5(e,t,n,r){var i=e.setup,a=i.minScale,s=i.maxScale,i=i.limitToBounds,t=T5(m5(t,2),a,s,0,!1),a=E5(e,n,r,t,C5(e,t),i);return{scale:t,positionX:a.x,positionY:a.y}}function F5(e){var t;return{previousScale:null!=(t=e.initialScale)?t:B5.scale,scale:null!=(t=e.initialScale)?t:B5.scale,positionX:null!=(t=e.initialPositionX)?t:B5.positionX,positionY:null!=(t=e.initialPositionY)?t:B5.positionY}}function z5(r){var i=d5({},q5);return Object.keys(r).forEach(function(e){var t,n=void 0!==r[e];void 0!==q5[e]&&n&&(t="[object Array]"===(n=Object.prototype.toString.call(q5[e])),i[e]="[object Object]"===n?d5(d5({},q5[e]),r[e]):t?f5(f5([],q5[e]),r[e]):r[e])}),i}function U5(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,e=e.setup,a=e.maxScale,s=e.minScale,e=e.zoomAnimation.size;if(!i)throw new Error("Wrapper is not mounted");i=r*Math.exp(t*n);return T5(m5(i,3),s,a,e,!1)}var B5={previousScale:1,scale:1,positionX:0,positionY:0},e=d5(d5({},B5),{setComponents:function(){},contextInstance:null}),q5={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}};function H5(e,t,n,r,i){var a=e.wrapperComponent,s=e.transformState,o=s.scale,l=s.positionX,s=s.positionY;a?(l=(a.offsetWidth/2-l)/o,a=(a.offsetHeight/2-s)/o,(s=V5(e,U5(e,t,n),l,a))?w5(e,s,r,i):console.error("Error during zoom event. New transformation state was not calculated.")):console.error("No WrapperComponent found")}function W5(e,t,n){var r,i=e.setup,a=e.wrapperComponent,i=i.limitToBounds,s=F5(e.props),o=e.transformState,l=o.scale,u=o.positionX,o=o.positionY;a&&(r=x5(e,s.scale),r=k5(s.positionX,s.positionY,r,i,0,0,a),i={scale:s.scale,positionX:r.x,positionY:r.y},l===s.scale&&u===s.positionX&&o===s.positionY||w5(e,i,t,n))}function V(e){return{instance:e,state:e.transformState,zoomIn:K5(e),zoomOut:G5(e),setTransform:Y5(e),resetTransform:$5(e),centerView:X5(e),zoomToElement:Q5(e)}}var K5=function(r){return function(e,t,n){H5(r,1,e=void 0===e?.5:e,t=void 0===t?300:t,n=void 0===n?"easeOut":n)}},G5=function(r){return function(e,t,n){H5(r,-1,e=void 0===e?.5:e,t=void 0===t?300:t,n=void 0===n?"easeOut":n)}},Y5=function(c){return function(e,t,n,r,i){void 0===r&&(r=300),void 0===i&&(i="easeOut");var a=c.transformState,s=a.positionX,o=a.positionY,a=a.scale,l=c.wrapperComponent,u=c.contentComponent;!c.setup.disabled&&l&&u&&(l={positionX:isNaN(e)?s:e,positionY:isNaN(t)?o:t,scale:isNaN(n)?a:n},w5(c,l,r,i))}},$5=function(n){return function(e,t){W5(n,e=void 0===e?200:e,t=void 0===t?"easeOut":t)}},X5=function(s){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut");var r=s.transformState,i=s.wrapperComponent,a=s.contentComponent;i&&a&&(e=J5(e||r.scale,i,a),w5(s,e,t,n))}},Q5=function(s){return function(e,t,n,r){void 0===n&&(n=600),void 0===r&&(r="easeOut"),v5(s);var i=s.wrapperComponent,a="string"==typeof e?document.getElementById(e):e;i&&function(){if(a){if(void 0!==(null==a?void 0:a.offsetWidth)&&void 0!==(null==a?void 0:a.offsetHeight))return 1;console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight")}else console.error("Zoom node not found")}()&&a&&i.contains(a)&&(e=function(e,r,t){var n=e.wrapperComponent,i=e.setup,a=i.limitToBounds,s=i.minScale,i=i.maxScale;if(!n)return B5;var o=n.getBoundingClientRect(),l=function(){for(var e=r,t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:t,y:n}}(),u=l.x,l=l.y,c=r.offsetWidth,h=r.offsetHeight,d=n.offsetWidth/c,f=n.offsetHeight/h,t=T5(t||Math.min(d,f),s,i,0,!1),d=(o.width-c*t)/2,f=(o.height-h*t)/2,s=k5((o.left-u)*t+d,(o.top-l)*t+f,x5(e,t),a,0,0,n);return{positionX:s.x,positionY:s.y,scale:t}}(s,a,t),w5(s,e,n,r))}};function Z5(){try{return{get passive(){return!1}}}catch(e){return!1}}function J5(e,t,n){var r=n.offsetWidth*e,n=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-r)/2,positionY:(t.offsetHeight-n)/2}}function ex(e){e&&clearTimeout(e)}var tx=function(t,e){var n=t.tagName.toUpperCase();return!!e.find(function(e){return e.toUpperCase()===n})||!!e.find(function(e){return t.classList.contains(e)})};function nx(e,t,n){var t=t.getBoundingClientRect(),r=0,e="clientX"in e?(r=(e.clientX-t.left)/n,(e.clientY-t.top)/n):(r=((e=e.touches[0]).clientX-t.left)/n,(e.clientY-t.top)/n);return(isNaN(r)||isNaN(e))&&console.error("No mouse or touch offset found"),{x:r,y:e}}function rx(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))}var ix=j.createContext(e),ax=function(e){var t=i,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function i(){var A=null!==e&&e.apply(this,arguments)||this;return A.mounted=!0,A.transformState=F5(A.props),A.setup=z5(A.props),A.wrapperComponent=null,A.contentComponent=null,A.isInitialized=!1,A.bounds=null,A.previousWheelEvent=null,A.wheelStopEventTimer=null,A.wheelAnimationTimer=null,A.isPanning=!1,A.startCoords=null,A.lastTouch=null,A.distance=null,A.lastDistance=null,A.pinchStartDistance=null,A.pinchStartScale=null,A.pinchMidpoint=null,A.velocity=null,A.velocityTime=null,A.lastMousePosition=null,A.animate=!1,A.animation=null,A.maxBounds=null,A.pressedKeys={},A.handleInitializeWrapperEvents=function(e){var t=Z5();e.addEventListener("wheel",A.onWheelZoom,t),e.addEventListener("dblclick",A.onDoubleClick,t),e.addEventListener("touchstart",A.onTouchPanningStart,t),e.addEventListener("touchmove",A.onTouchPanning,t),e.addEventListener("touchend",A.onTouchPanningStop,t)},A.handleInitialize=function(){var e=A.setup.centerOnInit;A.applyTransformation(),A.forceUpdate(),e&&(setTimeout(function(){A.mounted&&A.setCenter()},50),setTimeout(function(){A.mounted&&A.setCenter()},100),setTimeout(function(){A.mounted&&A.setCenter()},200))},A.onWheelZoom=function(e){var t,n,r,i;if(!A.setup.disabled&&(o=(s=A.setup.wheel).disabled,l=s.wheelDisabled,h=s.touchPadDisabled,s=s.excluded,c=A.isInitialized,u=A.isPanning,a=e.target,c&&!u&&!o&&a&&!(l&&!e.ctrlKey||h&&e.ctrlKey||tx(a,s))&&A.isPressingKeys(A.setup.wheel.activationKeys))){c=e,l=(o=(u=A).props).onWheelStart,h=o.onZoomStart,u.wheelStopEventTimer||(v5(u),p5(V(u),c,l),p5(V(u),c,h));var a=A,s=e,o=a.props,l=o.onWheel,u=o.onZoom,c=a.contentComponent,h=a.setup,o=a.transformState.scale,d=h.limitToBounds,f=h.centerZoomedOut,p=h.zoomAnimation,h=h.wheel,m=p.size,p=p.disabled,h=h.step;if(!c)throw new Error("Component not mounted");s.preventDefault(),s.stopPropagation();var g=s?s.deltaY<0?1:-1:0,g=function(e,t,n,r,i){var a=e.transformState.scale,s=e.wrapperComponent,e=e.setup,o=e.maxScale,l=e.minScale,e=e.zoomAnimation,u=e.size,e=e.disabled;if(!s)throw new Error("Wrapper is not mounted");s=a+t*(a-a*n)*n;if(i)return s;t=!r&&!e;return T5(m5(s,3),l,o,u,t)}(a,"number"==typeof null?null:g,h,!s.ctrlKey);o!==g&&(h=C5(a,g),c=(o=E5(a,(c=nx(s,c,o)).x,c.y,g,h,d&&(p||0===m||f))).x,h=o.y,a.previousWheelEvent=s,a.setTransformState(g,c,h),p5(V(a),s,l),p5(V(a),s,u)),n=e,d=(t=A).props,r=d.onWheelStop,i=d.onZoomStop,ex(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(O5(t,n.x,n.y),t.wheelAnimationTimer=null)},100),p=n,f=(m=t).previousWheelEvent,o=m.transformState.scale,c=(g=m.setup).maxScale,h=g.minScale,f&&(o<c||h<o||Math.sign(f.deltaY)!==Math.sign(p.deltaY)||0<f.deltaY&&f.deltaY<p.deltaY||f.deltaY<0&&f.deltaY>p.deltaY||Math.sign(f.deltaY)!==Math.sign(p.deltaY))&&(ex(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,p5(V(t),n,r),p5(V(t),n,i))},160))}},A.onPanningStart=function(e){var t=A.setup.disabled,n=A.props.onPanningStart;t||_5(A,e)&&A.isPressingKeys(A.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),v5(A),D5(A,e),p5(V(A),e,n))},A.onPanning=function(e){var t=A.setup.disabled,n=A.props.onPanning;t||I5(A)&&A.isPressingKeys(A.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),M5(A,e.clientX,e.clientY),p5(V(A),e,n))},A.onPanningStop=function(e){var t,o,l,u,c,h,d,f,p,m,g,y,v,b,w,x,C,k,S,n,r,i,a,s,E,T,_,I,N,j=A.props.onPanningStop;A.isPanning&&((t=A).isPanning&&(n=t.setup.panning.velocityDisabled,r=t.velocity,N=t.wrapperComponent,s=t.contentComponent,t.isPanning=!1,t.animate=!1,N=(t.animation=null)==N?void 0:N.getBoundingClientRect(),s=null==s?void 0:s.getBoundingClientRect(),i=(null==N?void 0:N.width)||0,N=(null==N?void 0:N.height)||0,a=(null==s?void 0:s.width)||0,s=(null==s?void 0:s.height)||0,!n&&r&&.1<(null==r?void 0:r.total)&&(i<a||N<s)?(n=(o=t).velocity,r=o.bounds,i=o.setup,a=o.wrapperComponent,s=(N=o).mounted,E=N.velocity,T=N.bounds,_=(I=N.setup).disabled,I=I.velocityAnimation,N=N.transformState.scale,(!I.disabled||1<N||!_||s)&&E&&T&&n&&r&&a&&(l=n.velocityX,u=n.velocityY,I=n.total,c=r.maxPositionX,h=r.minPositionX,d=r.maxPositionY,f=r.minPositionY,p=i.limitToBounds,m=i.alignmentAnimation,N=i.zoomAnimation,_=i.panning,g=_.lockAxisY,y=_.lockAxisX,s=N.animationType,E=m.sizeX,T=m.sizeY,v=m.velocityAlignmentTime,r=(n=o.setup.velocityAnimation).equalToMove,i=n.animationTime,_=n.sensitivity,N=Math.max(r?i*I*_:i,v),n=P5(o,E),r=P5(o,T),I=n*a.offsetWidth/100,_=r*a.offsetHeight/100,b=c+I,w=h-I,x=d+_,C=f-_,k=o.transformState,S=(new Date).getTime(),b5(o,s,N,function(e){var t=o.transformState,n=t.scale,r=t.positionX,t=t.positionY,i=(new Date).getTime()-S,i=1-(0,g5[m.animationType])(Math.min(1,i/v)),e=1-e,a=r+l*e,e=t+u*e,s=L5(a,k.positionX,r,y,p,h,c,w,b,i),i=L5(e,k.positionY,t,g,p,f,d,C,x,i);r===a&&t===e||o.setTransformState(n,s,i)}))):R5(t)),p5(V(A),e,j))},A.onPinchStart=function(e){var t,n,r,i=A.setup.disabled,a=A.props,s=a.onPinchingStart,a=a.onZoomStart;i||(r=(i=A.setup.pinch).disabled,i=i.excluded,n=A.isInitialized,t=e.target,n&&!r&&t&&!tx(t,i)&&(n=A,r=rx(e),n.pinchStartDistance=r,n.lastDistance=r,n.pinchStartScale=n.transformState.scale,n.isPanning=!1,v5(n),v5(A),p5(V(A),e,s),p5(V(A),e,a)))},A.onPinch=function(e){var o,t,n,r,i,a,s,l,u,c,h,d,f=A.setup.disabled,p=A.props,m=p.onPinching,p=p.onZoom;f||(f=A.setup.pinch.disabled,t=A.isInitialized,u=A.pinchStartDistance,t&&!f&&u&&(e.preventDefault(),e.stopPropagation(),t=e,u=(f=A).contentComponent,c=f.pinchStartDistance,n=f.transformState.scale,r=(s=f.setup).limitToBounds,i=s.centerZoomedOut,a=(s=s.zoomAnimation).disabled,s=s.size,null!==c&&u&&(c=t,l=n,u=u.getBoundingClientRect(),c=c.touches,h=m5(c[0].clientX-u.left,5),d=m5(c[0].clientY-u.top,5),h={x:(h+m5(c[1].clientX-u.left,5))/2/l,y:(d+m5(c[1].clientY-u.top,5))/2/l},isFinite(h.x)&&isFinite(h.y)&&(d=function(e){var t=e.pinchStartScale,n=e.pinchStartDistance,r=e.setup,i=r.maxScale,a=r.minScale,r=r.zoomAnimation,s=r.size,r=r.disabled;if(t&&null!==n&&o)return o<0?e.transformState.scale:T5(m5(o/n*t,2),a,i,s,!r);throw new Error("Pinch touches distance was not provided")}(f,o=rx(t)))!==n&&(c=C5(f,d),l=(u=E5(f,h.x,h.y,d,c,r&&(a||0===s||i))).x,t=u.y,f.pinchMidpoint=h,f.lastDistance=o,f.setTransformState(d,l,t))),p5(V(A),e,m),p5(V(A),e,p)))},A.onPinchStop=function(e){var t,n,r=A.props,i=r.onPinchingStop,r=r.onZoomStop;A.pinchStartScale&&(n=(t=A).pinchMidpoint,t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,O5(t,null==n?void 0:n.x,null==n?void 0:n.y),p5(V(A),e,i),p5(V(A),e,r))},A.onTouchPanningStart=function(e){var t,n=A.setup.disabled,r=A.props.onPanningStart;n||_5(A,e)&&(A.lastTouch&&+new Date-A.lastTouch<200&&1===e.touches.length?A.onDoubleClick(e):(A.lastTouch=+new Date,v5(A),t=1===(n=e.touches).length,n=2===n.length,t&&(v5(A),D5(A,e),p5(V(A),e,r)),n&&A.onPinchStart(e)))},A.onTouchPanning=function(e){var t=A.setup.disabled,n=A.props.onPanning;A.isPanning&&1===e.touches.length?t||I5(A)&&(e.preventDefault(),e.stopPropagation(),t=e.touches[0],M5(A,t.clientX,t.clientY),p5(V(A),e,n)):1<e.touches.length&&A.onPinch(e)},A.onTouchPanningStop=function(e){A.onPanningStop(e),A.onPinchStop(e)},A.onDoubleClick=function(e){var t,n,r,i,a,s,o;!A.setup.disabled&&(a=A.isInitialized,s=A.setup,n=A.wrapperComponent,t=(s=s.doubleClick).disabled,s=s.excluded,i=e.target,n=null==n?void 0:n.contains(i),(a=a&&i&&n&&!t)&&!tx(i,s)&&a)&&(n=e,s=(i=(t=A).setup.doubleClick).disabled,a=i.mode,e=i.step,r=i.animationTime,i=i.animationType,s||("reset"===a?W5(t,r,i):(s=t.transformState.scale,(o=t.contentComponent)?(e=V5(t,U5(t,"zoomOut"===a?-1:1,e),(a=nx(n,o,s)).x,a.y))?w5(t,e,r,i):console.error("Error during zoom event. New transformation state was not calculated."):console.error("No ContentComponent found"))))},A.clearPanning=function(e){A.isPanning&&A.onPanningStop(e)},A.setKeyPressed=function(e){A.pressedKeys[e.key]=!0},A.setKeyUnPressed=function(e){A.pressedKeys[e.key]=!1},A.isPressingKeys=function(e){return!e.length||Boolean(e.find(function(e){return A.pressedKeys[e]}))},A.setComponents=function(e,t){A.wrapperComponent=e,A.contentComponent=t,C5(A,A.transformState.scale),A.handleInitializeWrapperEvents(e),A.handleInitialize(),A.handleRef(),A.isInitialized=!0,p5(V(A),void 0,A.props.onInit)},A.setTransformState=function(e,t,n){isNaN(e)||isNaN(t)||isNaN(n)?console.error("Detected NaN set state values"):(e!==A.transformState.scale&&(A.transformState.previousScale=A.transformState.scale,A.transformState.scale=e),A.transformState.positionX=t,A.transformState.positionY=n,A.applyTransformation())},A.setCenter=function(){var e;A.wrapperComponent&&A.contentComponent&&(e=J5(A.transformState.scale,A.wrapperComponent,A.contentComponent),A.setTransformState(e.scale,e.positionX,e.positionY))},A.applyTransformation=function(){var e,t,n;A.mounted&&A.contentComponent&&(e=(n=A.transformState).scale,t=n.positionX,n=n.positionY,A.contentComponent.style.transform="translate3d("+t+"px, "+n+"px, 0) scale("+e+")",A.handleRef())},A.handleRef=function(){A.props.setRef(V(A))},A}return h5(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),i.prototype.componentDidMount=function(){var e=Z5();window.addEventListener("mousedown",this.onPanningStart,e),window.addEventListener("mousemove",this.onPanning,e),window.addEventListener("mouseup",this.onPanningStop,e),document.addEventListener("mouseleave",this.clearPanning,e),window.addEventListener("keyup",this.setKeyUnPressed,e),window.addEventListener("keydown",this.setKeyPressed,e),this.handleRef()},i.prototype.componentWillUnmount=function(){var e=Z5();window.removeEventListener("mousedown",this.onPanningStart,e),window.removeEventListener("mousemove",this.onPanning,e),window.removeEventListener("mouseup",this.onPanningStop,e),window.removeEventListener("keyup",this.setKeyUnPressed,e),window.removeEventListener("keydown",this.setKeyPressed,e),v5(this)},i.prototype.componentDidUpdate=function(e){e!==this.props&&(C5(this,this.transformState.scale),this.setup=z5(this.props))},i.prototype.render=function(){var e=V(this),t=this.props.children,e="function"==typeof t?t(e):t;return j.createElement(ix.Provider,{value:d5(d5({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},e)},i}(j.Component),sx=j.forwardRef(function(e,t){var n=(0,j.useState)(null),r=n[0],n=n[1];return(0,j.useImperativeHandle)(t,function(){return r},[r]),j.createElement(ax,d5({},e,{setRef:n}))});function ox(e){var t=e.children,n=e.wrapperClass,n=void 0===n?"":n,r=e.contentClass,r=void 0===r?"":r,i=e.wrapperStyle,e=e.contentStyle,a=(0,j.useContext)(ix).setComponents,s=(0,j.useRef)(null),o=(0,j.useRef)(null);return(0,j.useEffect)(function(){var e=s.current,t=o.current;null!==e&&null!==t&&a&&a(e,t)},[]),j.createElement("div",{ref:s,className:"react-transform-wrapper transform-component-module_wrapper__1_Fgj "+n,style:i},j.createElement("div",{ref:o,className:"react-transform-component transform-component-module_content__2jYgh "+r,style:e},t))}var lx,_v=".transform-component-module_wrapper__1_Fgj {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__2jYgh {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__2jYgh img {\n  pointer-events: none;\n}\n",zb=(lx=void 0===lx?{}:lx).insertAt;"undefined"!=typeof document&&(t=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("style")).type="text/css","top"===zb&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=_v:i.appendChild(document.createTextNode(_v)));const ux=({onClick:e})=>(0,x.jsx)("button",{className:"s1884zs5",onClick:e,children:(0,x.jsx)(v3,{width:42,height:42})}),cx=(W9(1992),({onClick:e,text:t,icon:n})=>(0,x.jsxs)(E.button,{className:"s17yuu5w",onClick:e,whileTap:{scale:.94,filter:"brightness(1.3)"},children:[n,(0,x.jsx)("div",{className:"text",children:t})]})),hx=(W9(7106),({PhotoURL:e,handleRemove:t})=>(0,x.jsxs)("div",{className:"sv05zzb",children:[(0,x.jsx)(cx,{onClick:()=>{try{navigator.share({title:"Фото",url:e})}catch{alert("Ошибка")}},text:"Поделиться",icon:(0,x.jsx)(O,{icon:mw,color:"var(--blue)",size:"lg"})}),t&&(0,x.jsx)(cx,{onClick:()=>t(e),icon:(0,x.jsx)(O,{icon:Ow,color:"var(--red)",size:"lg"}),text:"Удалить"})]})),dx=(W9(7953),({URL:e,handleClose:t,handleRemove:n,children:r})=>{const[i,a]=(0,j.useState)(!1),s=(0,j.useRef)(null);return(0,x.jsx)(p3,{children:(0,x.jsx)(sx,{maxScale:4,children:(0,x.jsxs)("div",{className:"sgorsh0",ref:s,children:[(0,x.jsx)(ux,{onClick:()=>{s.current.classList.add("exit"),s.current.addEventListener("animationend",t,{once:!0})}}),(0,x.jsxs)(ox,{wrapperStyle:{overflow:"visible"},children:[r??(0,x.jsx)("img",{onLoadedData:()=>a(!0),onLoad:()=>a(!0),className:"image",src:e,style:{display:i?"":"none"}}),!i&&!r&&(0,x.jsx)("div",{className:"container",children:(0,x.jsx)(Pf,{styles:{height:"100px",width:"100px"}})})]}),(0,x.jsx)(hx,{PhotoURL:e,handleRemove:n})]})})})}),fx=(W9(3924),({URL:e,lesson:t,path:n})=>{const[r,i]=(0,j.useState)(!1),a=a5(t,n).removePhotoAttachment;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"sfkndl0",onClick:()=>i(!0),children:(0,x.jsx)(O,{icon:Pw})}),r&&(0,x.jsx)(dx,{URL:e,handleClose:()=>i(!1),handleRemove:a})]})}),px=(W9(9385),({lesson:e,path:t,large:n})=>{const[r,i]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"sl2qdlp"+(n?" large":""),children:[(0,x.jsx)("div",{className:"text-area",onClick:()=>i(!0),children:e.hw}),e.link&&(0,x.jsx)(c5,{URL:e.link}),0<e.attachments?.length&&(0,x.jsx)(fx,{URL:e.attachments[0],lesson:e,path:t})]}),r&&(0,x.jsx)(u5,{handleClose:()=>i(!1),path:t,lesson:e})]})}),mx=(W9(558),({subjectInfo:o,startNum:e,onClose:t})=>{const[l,n]=(0,j.useState)(e),[r,i]=(0,j.useState)(!1),a=(0,j.useMemo)(()=>{{var t=o,n=l;const r=[];if(t.section){const i=t.url.replace("*",n-("Химия"==t.title?1:0));for(let e=1;e<10;e++){const a=i.replace("?",e);r.push((0,x.jsx)("img",{src:a,width:"100%",onError:e=>e.target.style.display="none"},a))}}else{const e=t.url.replace("?",n);if(r.push((0,x.jsx)("img",{src:e,width:"100%",onError:e=>e.target.style.display="none"},e)),!t.full_img)for(let e=1;e<4;e++){const s=t.url.replace("?",n+"_"+e);r.push((0,x.jsx)("img",{src:s,width:"100%",onError:e=>e.target.style.display="none"},s))}}return r}},[o,l]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"hwr-sol-tools",children:[o.alt_url&&(0,x.jsx)("button",{className:"alt-btn block",onClick:()=>{const e=o.alt_url.replace("?",o.section&&"Физика"==o.title?l+2:l);window.open(e,"_blank")},children:"Решебник 2"}),(0,x.jsxs)("div",{className:"center-section block",children:[(0,x.jsx)("button",{onClick:()=>n(l-1),children:(0,x.jsx)(O,{icon:bw,size:"lg"})}),(0,x.jsx)("button",{className:"num",children:l}),(0,x.jsx)("button",{onClick:()=>n(l+1),children:(0,x.jsx)(O,{icon:ww,size:"lg"})})]}),t&&(0,x.jsx)("button",{className:"block close-btn",onClick:t,children:(0,x.jsx)(O,{icon:zw,size:"lg"})})]}),(0,x.jsx)("div",{className:"hwr-sol-imgs",onClick:()=>i(!0),children:a}),r&&(0,x.jsx)(dx,{handleClose:()=>i(!1),children:a})]})}),gx=({subjectInfo:n,toOpen:e,hwRaw:t})=>{const r=e.map((e,t)=>{if(e)return(0,x.jsx)(mx,{subjectInfo:n,startNum:e},t)}),i={backgroundColor:n.color};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"stuq74g",children:[(0,x.jsx)("div",{className:"title block",style:i,children:n.title}),(0,x.jsx)("div",{className:"homework block",children:t})]}),r]})},yx=(W9(457),t=>{const n=(0,j.useContext)(Sf),r=[];for(let e in t.lessonsData){const i=t.lessonsData[e],a=n[i.id];if(a.url){const s=i.hw.replace(/ *\([^)]*\) */g,"").split(",").map(e=>{const t=e.trim().replace(/[^\d.^\s.]/g,"").split(" ").filter(e=>""!==e)[0];return parseInt(t)});r.push((0,x.jsx)(gx,{subjectInfo:a,toOpen:s,hwRaw:i.hw},i.id))}}return(0,x.jsx)(k3,{handleClose:t.handleClose,children:r})}),vx=({subject:e})=>(0,x.jsx)("h1",{className:"s19utx2s",style:{background:e.color},children:e.full_title||e.title}),bx=(W9(716),({onClick:e,className:t,children:n})=>(0,x.jsx)(E.button,{className:"btn "+(t??""),onClick:e,whileTap:{scale:.94,filter:"brightness(1.2)"},children:n})),wx=({homework:e})=>{const[t,n]=(0,j.useState)(!1);return(0,x.jsxs)("div",{className:"swbamp2",children:[(0,x.jsxs)(bx,{onClick:async()=>{try{await navigator.clipboard.writeText(e),n(!0)}catch{}},children:[(0,x.jsx)(O,{icon:Nw}),t?"Скопировано":"Скопировать"]}),(0,x.jsxs)(bx,{className:"share",onClick:()=>{try{navigator.share({title:e})}catch{}},children:[(0,x.jsx)(O,{icon:mw}),"Поделиться"]})]})},xx=(W9(9101),({url:e})=>(0,x.jsx)("a",{className:"s5xqhnx",href:e,children:e})),Cx=(W9(4434),({lesson:e})=>{const t=e.last_change?new Date(e.last_change).toLocaleString("ru",{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}):"";return e.changedBy&&(0,x.jsxs)("div",{className:"s1d8ug95",children:["Записал: ",e.changedBy+", "+t]})}),kx=(W9(7480),"s1p5yli7"),Sx=({children:e})=>(0,x.jsx)("div",{className:kx,children:e}),Ex="da83eq0",Tx=({children:e})=>(0,x.jsx)("div",{className:Ex,children:e}),_x=({lesson:e,path:t,subject:n,handleClose:r})=>{const i=(0,j.useContext)(Sf),[a,s]=(0,j.useState)(!1),o="alg"==e.id||"geom"==e.id,l=(0,j.useContext)(_f),u=l?.[o?"math":e.id]??[],c=l?.marksTargets?.[e.id];return(0,x.jsx)(k3,{handleClose:r,children:(0,x.jsxs)(t3,{children:[(0,x.jsx)(vx,{subject:n}),(0,x.jsx)(Tx,{children:"Домашнее задание"}),(0,x.jsxs)(Sx,{children:[(0,x.jsx)("div",{className:"homework-view",onClick:()=>s(!0),children:e.hw||(0,x.jsx)("span",{className:"no-hw",children:"Нажми чтобы записать.."})}),(0,x.jsx)(Cx,{lesson:e}),e.hw&&(0,x.jsx)(wx,{homework:e.hw})]}),e.link&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Tx,{children:"Прикрепленная ссылка"}),(0,x.jsx)(xx,{url:e.link})," "]}),(n.marks||o)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Tx,{children:"Мои оценки"}),(0,x.jsx)(Sx,{children:(0,x.jsx)("div",{className:"marks-list",children:(0,x.jsx)(R4,{marks:u,subject:o?i.math:n,embedded:!0,target:c})})})]}),a&&(0,x.jsx)(u5,{handleClose:()=>s(!1),path:t,lesson:e})]})})},Ix=(W9(9073),({subject:e,lesson:t,path:n,isMath:r,manifest:i})=>{const[a,s]=(0,j.useState)(!1),[o,l]=(0,j.useState)(!1);return(0,x.jsxs)("div",{className:"s11hlaag",children:[e.url&&t.hw&&(0,x.jsxs)("button",{className:"tool-btn",onClick:()=>s(!0),children:[(0,x.jsx)(O,{icon:gw,size:"lg"}),"Решение"]}),(0,x.jsxs)("button",{className:"tool-btn",onClick:()=>l(!0),children:[(0,x.jsx)(O,{icon:Tw}),"Об уроке"]}),a&&(0,x.jsx)(yx,{lessonsData:[t],handleClose:()=>setInstant(!1)}),o&&(0,x.jsx)(_x,{path:n,lesson:r?{...t,id:"math"}:t,subject:r?i.math:e,handleClose:()=>l(!1)})]})}),Nx=(W9(1095),({dayData:e,pathToDay:t})=>{const n=(0,j.useContext)(Sf),r=(0,j.useContext)(Ef).user,i=function(){const[e,t]=(0,j.useState)($3);return If(()=>{t($3)},1e3),e}()??{};let a=e[i.num]??{},s=t+"."+i.num;a.groups&&(a[r.group]?(a=a[r.group],s=`${t}.${i.num}.`+r.group):a=null);const o=n[a?.id]??{};if(!i.num||!a||!o.title)return null;const l="alg"==a.id||"geom"==a.id;return(0,x.jsx)("div",{style:{position:"relative"},children:(0,x.jsx)(h3,{initial:!1,children:(0,x.jsxs)(E.div,{className:"Now",exit:{x:"-100%",opacity:0,position:"absolute"},initial:{x:"100%",position:"absolute",opacity:0},animate:{x:0,position:"static",opacity:1},transition:{duration:.5,type:"spring"},children:[(0,x.jsxs)("div",{className:"actual-lesson-info",children:[(0,x.jsxs)("div",{className:"left-block",children:[(0,x.jsx)("h5",{className:"block-title",children:"toEnd"==i.type?"СЕЙЧАС":"СЛЕДУЮЩИЙ УРОК"}),(0,x.jsx)("h3",{className:"subject-title",children:o.full_title||o.title}),(0,x.jsx)(px,{path:s,lesson:a,large:!0})]}),(0,x.jsx)(t4,{strokeColor:o.color,actualLesson:i})]}),(0,x.jsx)(Ix,{subject:o,lesson:a,path:s,isMath:l,manifest:n}),(0,x.jsx)(V4,{subject:l?n.math:o})]},a.id)})})}),jx=e=>(0,x.jsx)("div",{className:"tab-wraper "+(e.className??""),children:e.children}),Ax=({children:e,title:t,subTitle:n})=>(0,x.jsxs)("div",{className:"stp5sld",children:[(t||n)&&(0,x.jsxs)("header",{className:"header",children:[(0,x.jsx)("div",{className:"title",children:t}),(0,x.jsx)("div",{className:"sub-title",children:n})]}),(0,x.jsx)("div",{className:"content",children:e})]}),Px=(W9(9793),({noteData:e,docRef:t})=>{const n=(0,j.useRef)(null),[r,i]=(0,j.useState)(e.text),a=e.isPinned,s=((0,j.useEffect)(()=>{i(e.text)},[e.text]),"note "+(a?"pinned":""));return(0,x.jsxs)("div",{className:s,children:[(0,x.jsx)($4,{maxRows:14,ref:n,value:r,placeholder:"Новая заметка..",onBlur:function(){dd(t,{text:r},{merge:!0})},onChange:function(){i(n.current.value)}}),(0,x.jsxs)(F3,{children:[(0,x.jsx)(q3,{onClick:function(){dd(t,{isPinned:!a},{merge:!0})},title:a?"Не выделять":"Выделить",icon:(0,x.jsx)(O,{icon:Rw,size:"lg"})}),(0,x.jsx)(q3,{onClick:function(){var e;md(yh((e=t).firestore,_h),[new Ls(e._key,Cs.none())])},title:"Удалить",icon:(0,x.jsx)(O,{icon:Vw,size:"lg"})})]})]})}),Lx=e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 20 20",fill:"currentColor",children:(0,x.jsx)("path",{d:"M12.5903 0.0999999C14.7582 0.0999999 15.7923 0.299701 16.8666 0.8742C17.8382 1.39385 18.6062 2.16179 19.1258 3.13345C19.7003 4.20767 19.9 5.2418 19.9 7.40971V12.5903C19.9 14.7582 19.7003 15.7923 19.1258 16.8666C18.6062 17.8382 17.8382 18.6062 16.8666 19.1258C15.7923 19.7003 14.7582 19.9 12.5903 19.9H7.40972C5.24181 19.9 4.20767 19.7003 3.13345 19.1258C2.1618 18.6062 1.39385 17.8382 0.874206 16.8666C0.299707 15.7923 0.100006 14.7582 0.100006 12.5903V7.40971C0.100006 5.2418 0.299707 4.20767 0.874206 3.13345C1.39385 2.16179 2.1618 1.39385 3.13345 0.8742C4.20767 0.299701 5.24181 0.0999999 7.40972 0.0999999H12.5903ZM12.5903 1.9H7.40972C5.51355 1.9 4.76013 2.04549 3.98233 2.46146C3.32436 2.81335 2.81336 3.32435 2.46147 3.98232C2.0455 4.76013 1.90001 5.51354 1.90001 7.40971V12.5903C1.90001 14.4865 2.0455 15.2399 2.46147 16.0177C2.81336 16.6756 3.32436 17.1866 3.98233 17.5385C4.76013 17.9545 5.51355 18.1 7.40972 18.1H12.5903C14.4865 18.1 15.2399 17.9545 16.0177 17.5385C16.6757 17.1866 17.1867 16.6756 17.5385 16.0177C17.9545 15.2399 18.1 14.4865 18.1 12.5903V7.40971C18.1 5.51354 17.9545 4.76013 17.5385 3.98232C17.1867 3.32435 16.6757 2.81335 16.0177 2.46146C15.2399 2.04549 14.4865 1.9 12.5903 1.9ZM10 5.5C10.4588 5.5 10.8375 5.84334 10.893 6.28711L10.9 6.4L10.899 9.1H13.6C14.0588 9.1 14.4375 9.44334 14.493 9.88711L14.5 10C14.5 10.4588 14.1567 10.8375 13.7129 10.893L13.6 10.9H10.899L10.9 13.6C10.9 14.0588 10.5567 14.4375 10.1129 14.493L10 14.5C9.54118 14.5 9.16256 14.1567 9.10702 13.7129L9.10001 13.6L9.09901 10.9H6.40001C5.94118 10.9 5.56255 10.5567 5.50702 10.1129L5.50001 10C5.50001 9.54118 5.84334 9.16255 6.28711 9.10701L6.40001 9.1H9.09901L9.10001 6.4C9.10001 5.94118 9.44334 5.56255 9.88711 5.50701L10 5.5Z"})}),Dx=()=>{const i=(0,j.useContext)(Ef),a=i.database,s=(e=>{const[t,n]=(0,j.useState)([]);return(0,j.useEffect)(()=>pd(e,e=>{n(e)}),[e]),t})(a.notes)?.docs??[];return(0,x.jsxs)(Ax,{title:"Заметки",children:[(0,x.jsx)(E.button,{className:"table-btn",onClick:()=>{if(s.length<=20){var e=a.notes;const t=yh(e.firestore,_h),n=Sh(e),r=cd(e.converter,{text:""});md(t,[qh(Bh(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,Cs.exists(!1))]).then(()=>n)}else i.setStatusBar({title:"Нельзя добавить больше 20 заметок",type:"error"})},whileTap:{scale:.85,opacity:.6},children:(0,x.jsx)(Lx,{width:24,height:24})}),(0,x.jsx)("div",{className:"content",children:s.map(e=>(0,x.jsx)(Px,{docRef:e.ref,noteData:e.data()},e.id))})]})},Mx=(0,j.memo)(Dx),Rx=({subject:e})=>(0,x.jsx)("div",{className:"s1w7wd9w",style:{background:e?.color},children:"На этом уроке к/р или самостоялка"}),Ox=(W9(7359),({subject:e})=>(0,x.jsx)("div",{className:"su39yu1",style:{background:e?.color},children:e.title})),Vx=(W9(4718),({subject:e,lesson:t,path:n})=>{const[r,i]=(0,j.useState)(!1),[a,s]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"sa7w6ci",children:(0,x.jsxs)(F3,{children:[e?.url&&t.hw&&(0,x.jsx)(q3,{onClick:()=>i(!0),title:"Решение",icon:(0,x.jsx)(O,{icon:gw,size:"xl"})}),(0,x.jsx)(q3,{onClick:()=>s(!0),title:"Об Уроке",icon:(0,x.jsx)(O,{icon:Tw,size:"xl"})})]})}),a&&(0,x.jsx)(_x,{lesson:t,subject:e,handleClose:()=>s(!1),path:n}),r&&(0,x.jsx)(yx,{lessonsData:[t],handleClose:()=>i(!1)})]})}),Fx=(W9(2872),({lesson:e,path:t})=>{const n=(0,j.useContext)(Sf),r=n?.[e.id]??{};return(0,x.jsxs)(x.Fragment,{children:[e.danger&&(0,x.jsx)(Rx,{subject:r}),(0,x.jsxs)("div",{className:"slc5cd4"+(e.danger?" important-lesson":""),children:[(0,x.jsx)(Ox,{subject:r}),(0,x.jsx)(px,{lesson:e,path:t}),(0,x.jsx)(Vx,{subject:r,lesson:e,path:t})]})]})}),zx=(W9(7843),e=>(0,x.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 22 22",fill:"currentColor",children:(0,x.jsx)("path",{d:"M9 0C13.9706 0 18 4.02944 18 9C18 10.9888 17.3549 12.827 16.2625 14.3167L20.9723 19.0277C21.5092 19.5647 21.5092 20.4353 20.9723 20.9723C20.4353 21.5092 19.5647 21.5092 19.0277 20.9723L14.3167 16.2625C12.827 17.3549 10.9888 18 9 18C4.02944 18 0 13.9706 0 9C0 4.02944 4.02944 0 9 0ZM9 2.75C5.54822 2.75 2.75 5.54822 2.75 9C2.75 12.4518 5.54822 15.25 9 15.25C12.4518 15.25 15.25 12.4518 15.25 9C15.25 5.54822 12.4518 2.75 9 2.75Z"})})),Ux=({dayNum:e,week:t,timetable:r,pathToDay:i})=>{const[n,a]=(0,j.useState)(!1),s=(0,j.useContext)(Ef),o=s.user.group,l=new Date,u=l.getDay();let c=0;1==t?c=-7:3==t&&(c=7);const h=e+c-(0!=u?u:7),d=(l.setDate(l.getDate()+h),l.toLocaleDateString("ru-RU",{day:"numeric",month:"numeric"})),f=l.toLocaleString("ru-RU",{weekday:"long"}),p=[];for(let n in r){const m=r[n];let e,t;if(m.groups){if(!m[o])break;e=m[o],t=`${i}.${n}.`+o}else e=m,t=i+"."+n;p.push((0,x.jsx)(Fx,{lesson:e,path:t},n))}return(0,x.jsxs)(Ax,{title:f,subTitle:d,children:[(0,x.jsx)("button",{className:"table-btn",onClick:()=>{const t=[];for(let e in r){const n=r[e];if(n.groups){if(n[o]){let e=n[o];e.hw&&t.push(e)}}else n.hw&&t.push(n)}0<t.length?a(t):s.setStatusBar({title:"Решебники не найдены",type:"error"})},children:(0,x.jsx)(zx,{width:20,height:20})}),(0,x.jsx)("div",{className:"content",children:p}),n&&(0,x.jsx)(yx,{lessonsData:n,handleClose:()=>a(!1)})]})},Bx=(0,j.memo)(Ux,(e,t)=>JSON.stringify(e)==JSON.stringify(t)),qx=()=>(0,x.jsx)(Ax,{title:"",children:(0,x.jsx)(Pf,{styles:{height:367}})}),Hx=({timetable:e,dayNum:t,isWeekEnded:n})=>{if(!e)return(0,x.jsx)(qx,{});const r=n?3:2,i=e[r],a=r+".";return(0,x.jsxs)("div",{className:"s1gkar4x",children:[i[t]&&(0,x.jsx)(Bx,{dayNum:t,week:r,timetable:i[t],pathToDay:a+t}),i[t+1]&&(0,x.jsx)(Bx,{dayNum:t+1,week:r,timetable:i[t+1],pathToDay:a+(t+1)}),i[t+2]&&(0,x.jsx)(Bx,{dayNum:t+2,week:r,timetable:i[t+2],pathToDay:a+(t+2)})]})},Wx=(W9(8744),({children:e,className:t,withoutPaddings:n})=>{const r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{window.ios&&w3(r.current)},[]),(0,x.jsx)("div",{className:"s1wf0c05 "+(t??"")+(n?" withoutPaddings":""),ref:r,children:e})}),Kx=(W9(6094),()=>{const[e,t]=(0,j.useState)(()=>"5"!==localStorage.whats_closed_v);return e&&(0,x.jsxs)("div",{className:"WhatsNew",children:[(0,x.jsx)("h5",{className:"title",children:"Что нового"}),(0,x.jsxs)("ul",{className:"change-log",children:[(0,x.jsx)("li",{children:"🖼️ Теперь к урокам можно прикреплять фото"}),(0,x.jsx)("li",{children:"🤩 Аватарки в рейтинге (можно изменить в настройках)"}),(0,x.jsx)("li",{children:"😭 Якутов Роман удален с главного экрана"})]}),(0,x.jsx)("div",{className:"close-btn",onClick:()=>{t(!1),localStorage.whats_closed_v="5"},children:(0,x.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",fill:"currentColor",children:(0,x.jsx)("path",{d:"M5.9382 12.8104C5.67452 13.0741 5.66197 13.5449 5.94447 13.8149C6.21442 14.0974 6.69154 14.0849 6.95521 13.8211L10 10.7764L13.0448 13.8211C13.3147 14.0911 13.7793 14.0974 14.0492 13.8149C14.3318 13.5449 14.3255 13.0741 14.0555 12.8041L11.0107 9.75936L14.0555 6.72084C14.3255 6.44461 14.3318 5.98005 14.0492 5.7101C13.7793 5.42759 13.3147 5.43387 13.0448 5.70382L10 8.74857L6.95521 5.70382C6.69154 5.44015 6.21442 5.42759 5.94447 5.7101C5.66197 5.98005 5.67452 6.45089 5.9382 6.71456L8.983 9.75936L5.9382 12.8104Z"})})})]})}),Gx=()=>{const e=(new Date).getHours();return 7<=e&&24!=e},Yx=()=>{const[e,t]=(0,j.useState)(Gx),n=(0,j.useContext)(Tf);If(()=>{t(Gx)},1e3);let{dayNum:r,isWeekend:i}=(()=>{const[t,n]=(0,j.useState)(Hw);return If(()=>{const e=Hw();e.dayNum!==t.dayNum&&n(e)},1e3),t})();const a=(new Date).getHours();let s=!1;return i?(r=1,s=!0):15<=a&&(5==r?(r=1,s=!0):r+=1),(0,x.jsx)(jx,{children:(0,x.jsxs)(Wx,{children:[(0,x.jsx)(G3,{}),(0,x.jsxs)("div",{className:"homescreen-layout",children:[(0,x.jsxs)("div",{className:"side-left",children:[(0,x.jsx)(Kx,{}),n?.[2]?.[r]&&!s&&e&&(0,x.jsx)(Nx,{dayData:n[2][r],pathToDay:"2."+r}),(0,x.jsx)(Mx,{})]}),(0,x.jsx)(Hx,{timetable:n,dayNum:r,isWeekEnded:s,isWeekend:i})]})]})})},$x=(0,j.memo)(Yx),Xx={enter:e=>({opacity:.3,x:0<e?100:-100,position:"absolute"}),center:{x:0,opacity:1,position:"static"},exit:e=>({x:e<0?100:-100,opacity:0,position:"absolute"})},Qx=({week:e,prewWeek:t,nextWeek:n,direction:r})=>{const i=1==e?"Прошлая неделя":2==e?"Эта неделя":"Следующая неделя";return(0,x.jsxs)("header",{className:"s3bcjr",children:[1<e?(0,x.jsx)("button",{onClick:t,children:(0,x.jsx)(O,{icon:bw,size:"2x"})}):(0,x.jsx)("button",{className:"unactive",children:(0,x.jsx)(O,{icon:bw,size:"2x"})}),(0,x.jsx)(h3,{custom:r,initial:!1,children:(0,x.jsx)(E.span,{className:"current-week",variants:Xx,initial:"enter",animate:"center",exit:"exit",custom:r,transition:{type:"spring",bounce:.3,duration:.44},children:i},e)}),e<3?(0,x.jsx)("button",{onClick:n,children:(0,x.jsx)(O,{icon:ww,size:"2x"})}):(0,x.jsx)("button",{className:"unactive",children:(0,x.jsx)(O,{icon:ww,size:"2x"})})]})},Zx=(W9(9244),()=>{const e=(new Date).getDay(),t=0==e||6==e,[n,r]=(0,j.useState)(t?3:2),i=(0,j.useContext)(Tf)?.[n],a=(0,j.useRef)(2),s=[];for(let e in i)s.push((0,x.jsx)(Bx,{dayNum:parseInt(e),week:n,timetable:i[e],pathToDay:n+"."+e},e));const o=a.current<n?1:-1;return a.current=n,(0,x.jsxs)(jx,{children:[(0,x.jsx)(Qx,{week:n,prewWeek:()=>r(n-1),nextWeek:()=>r(n+1),direction:o}),(0,x.jsx)(Wx,{children:(0,x.jsx)("div",{className:"week-grid",children:0<s.length?s:(0,x.jsx)("div",{className:"no-timetable-alert",children:"Тут ничего нет"})})})]})}),Jx=({notebook:e})=>(0,x.jsx)("a",{className:"Notebook",href:e.url,target:"_blank",children:(0,x.jsx)("img",{src:e.coverUrl,height:"100%"})}),e9=[{id:"engwb",url:"https://megaresheba.ru/publ/reshebnik/anglijskij/otvety_k_english_workbook_9_klass_lapickaja/42-1-0-1202",coverUrl:"./static/img/engwb.jpg"},{id:"phis",url:"https://superresheba.by/9-physics-wbook_25",coverUrl:"./static/img/phis.jpg"},{id:"bio",url:"https://superresheba.by/9-biology-wbook_24",coverUrl:"./static/img/bio.jpg"},{id:"geo",url:"https://superresheba.by/10-geography-wbook_6",coverUrl:"./static/img/geo.jpg"},{id:"bel",url:"https://adu.by/images/2020/08/kim-bel-mova-5-9kl.pdf",coverUrl:"./static/img/bel-izl.webp"},{id:"him",url:"https://superresheba.by/9-chemistry-wbook_147",coverUrl:"./static/img/him.jpg"}],t9=()=>(0,x.jsx)("div",{className:"NotebooksWrapper",children:(0,x.jsx)("div",{className:"Notebooks",children:e9.map(e=>(0,x.jsx)(Jx,{notebook:e},e.id))})}),n9=({addSolution:t})=>{const n=(0,j.useContext)(Sf),[r,i]=(0,j.useState)("google"),[a,s]=(0,j.useState)(""),o=(0,j.useRef)(),e=((0,j.useEffect)(()=>{"google"!==r&&o.current.focus()},[r]),"google"===r);return(0,x.jsxs)("header",{className:"search-header",children:[(0,x.jsxs)(E.div,{className:"search",style:{border:`2px ${n[r]?.color} solid`},children:[!e&&(0,x.jsx)("div",{className:"unit",children:n[r]?.unit}),(0,x.jsx)("input",{enterKeyHint:"search",ref:o,value:a,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"==e.key&&(o.current.blur(),""==a?i("google"):("google"!==r?(t(r,a),i("google")):window.open("https://www.google.com/search?q="+a,"_blank"),s("")))},inputMode:"",type:e?"text":"number",autoComplete:"off"})]}),(0,x.jsx)("div",{className:"modes",children:["eng","rus","bel","phis","alg","him","rus_lit","geom","bel_lit"].map(e=>{const t=n[e];return(0,x.jsx)(E.button,{style:{background:t.color},onClick:()=>i(e),whileTap:{scale:.94},children:t.title},e)})}),(0,x.jsx)(t9,{})]})},r9=()=>{const t=(0,j.useContext)(Sf),[r,a]=Nf("openned_solutions",[]),e=r.map(n=>(0,x.jsx)(mx,{subjectInfo:t[n.subjID],startNum:n.num,onClose:()=>{{var e=n;const t=r.indexOf(e);return r.splice(t,1),void a([...r])}}},n.subjID+n.num));return(0,x.jsx)(jx,{children:(0,x.jsxs)(Wx,{withoutPaddings:!0,children:[(0,x.jsx)(n9,{addSolution:(r,i)=>{if("rus_lit"==r||"bel_lit"==r){const e=t[r].alt_url.replace("?",i.replace(/ *\([^)]*\) */g,""));window.open(e,"_blank")}else a(e=>{const t=i.replace(/ *\([^)]*\) */g,"").split(","),n=t.map(e=>(e=e.replace(/\D/g,""),{subjID:r,num:parseInt(e)}));return e.concat(n)})}}),(0,x.jsx)("div",{className:"viewers-wrapper",children:e.reverse()})]})})},i9=(0,j.memo)(r9),a9=({marks:e})=>{const t=(r=>{let t=0,n=0;const i=[];let a;for(let e in r)if("marksTargets"==e){let t=0,n=0;for(let e in r.marksTargets){const o=r.marksTargets[e];t+=o,n++}const s=t/n;a=isNaN(s)?null:s}else{const l=l4(r[e]);l&&(i.push({subj:e,mark:l}),n+=1,t+=r[e].length)}const e=l4(i,!0);return{averageOfQuarter:e,targetOfQuarter:a}})(e),n={};return t.averageOfQuarter&&t.targetOfQuarter&&t.averageOfQuarter<t.targetOfQuarter&&(n.border="var(--yellow) 1.5px solid"),(0,x.jsxs)("div",{className:"a1pjgcin",children:[(0,x.jsxs)("div",{className:"info",children:[(0,x.jsx)("span",{className:"title",children:"Средний балл"}),(0,x.jsx)("span",{className:"sub-title",children:"4 Четверть"})]}),(0,x.jsxs)("div",{className:"average",children:[(0,x.jsx)("div",{className:"average-mark",style:n,children:t.averageOfQuarter?.toFixed(2)??(0,x.jsx)(O,{icon:_w,className:"no-gpa",color:"var(--text2)"})}),(0,x.jsxs)("div",{className:"target",children:["Цель: ",t.targetOfQuarter?.toFixed(2)]})]})]})},s9=(W9(6788),({marks:t,readOnly:n})=>{const r=(0,j.useContext)(Sf),i=[];for(let e in r){const a=r[e];if(a.marks){const s=t.marksTargets?.[e];i.push((0,x.jsx)(R4,{readOnly:n,target:s,subject:a,marks:t[e]??[]},e))}}return(0,x.jsxs)("div",{className:"so48pkg",children:[(0,x.jsx)("div",{className:"grid",children:i}),(0,x.jsx)(a9,{marks:t})]})}),o9=(W9(710),()=>{const e=(0,j.useContext)(_f)??{};return(0,x.jsx)(s9,{marks:e})}),l9=({subject:t,marks:n,readOnly:r})=>{const[i,a]=(0,j.useState)(null),s=o4(t).setYearMark;let o=0,l=0;const u=[];for(let e=1;e<=4;e++){const c=parseInt(n[e]);c?(o+=c,l++,u.push((0,x.jsx)(x4,{mark:{mark:c},subject:t,isYearMark:!0,quarter:e,animate:!0},t.id+e))):u.push((0,x.jsx)("div",{className:"Mark",onClick:r?null:()=>a(e),children:!r&&(0,x.jsx)(j4,{width:18,height:18})},e))}let e=o/l;return e=e?Math.round(Number(e.toFixed(2))):null,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"YearSubjectMarks",id:t.id,children:[(0,x.jsx)("div",{className:"color-indicator",style:{backgroundColor:t.color}}),(0,x.jsx)("h5",{className:"subject-title",children:t.title}),(0,x.jsx)(n4.Provider,{value:{subject:t,readOnly:r},children:u}),(0,x.jsx)("div",{className:"year-mark",children:(0,x.jsx)(x4,{mark:{mark:e},unclickable:!0})})]}),i&&(0,x.jsx)(a4,{onClose:()=>a(!1),bottomCloseBtn:!0,children:(0,x.jsx)(s4,{onSubmit:e=>s(e,i),title:`Нажми чтобы добавить оценку за ${i} четверть`,descr:t.full_title||t.title})})]})},u9=(0,j.memo)(l9,(e,t)=>JSON.stringify(e.marks)===JSON.stringify(t.marks)),c9=i=>{const a={},s={};let o=0,l=0;for(let r in i.marks){const u=i.marks[r];let t=0,n=0;for(let e=1;e<=4;e++)u[e]&&(t+=1,n+=u[e],a[e]=(a[e]??0)+u[e],s[e]=(s[e]??0)+1);let e=n/t;e&&(e=Math.round(Number(e.toFixed(2))),o+=e,l+=1)}const n=[];for(let t=1;t<=4;t++){let e=a[t]/s[t];e?(e=Number(e.toFixed(2)),n.push((0,x.jsx)("div",{className:"Mark",children:e},t))):n.push((0,x.jsx)("div",{},t))}let e=o/l;return e=isNaN(e)?null:e.toFixed(2),(0,x.jsxs)("div",{className:"YearSubjectMarks average",children:[(0,x.jsx)("div",{}),(0,x.jsx)("h5",{className:"subject-title",children:"Средний балл"}),n,(0,x.jsx)("div",{className:"year-mark",children:e})]})},h9=({yearMarksDoc:e,readOnly:t})=>{const n=(0,j.useContext)(Sf),r=jf(e),i=[];for(let e in n){const a=n[e];a.id=e,a.marks&&i.push((0,x.jsx)(u9,{readOnly:t,subject:a,marks:r?.[e]??{}},e))}return(0,x.jsx)("div",{className:"YearMarks",children:(0,x.jsxs)(Ww,{delay:330,rowsCount:16,children:[(0,x.jsxs)("header",{className:"YearMarks-table-header",children:[(0,x.jsx)("span",{className:"subject",children:"Предмет"}),(0,x.jsx)("span",{children:"I"}),(0,x.jsx)("span",{children:"II"}),(0,x.jsx)("span",{children:"III"}),(0,x.jsx)("span",{children:"IV"}),(0,x.jsx)("span",{className:"year",children:"Год"})]}),i,r&&(0,x.jsx)(c9,{marks:r})]})})},d9=()=>{const[e,r]=(0,j.useState)(null),[t,i]=(0,j.useState)(null),l=(0,j.useContext)(Ef).user;return(0,j.useEffect)(()=>pd(function(e,t){if(e=yh(wf,bh),fh("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new A(N.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xh(e,null,new Qa(u.emptyPath(),"userStorage"))}(wf,"userStorage"),e=>{const n=[];e.forEach(e=>{if("marks_new"===e.id){const t=e.data();t&&n.push({marks:t,userUUID:e.ref._key.path.segments[6]})}});let s=0,o=0;const t=[];n.forEach(r=>{let i=0,a=0;for(let n in r.marks)try{if("marksTargets"==n)continue;s+=r.marks[n].length,r.userUUID==l.id&&(o+=r.marks[n].length);let t=0;for(let e of r.marks[n])t+=e.mark;let e=t/r.marks[n].length;!isNaN(e)&&e<=10?(e=Number(e.toFixed(0)),i+=e,a+=1):e=null}catch{continue}try{const e=(i/a).toFixed(2);isNaN(e)||t.push({rating:e,marks:r.marks,userUUID:r.userUUID})}catch{return}}),i({globalMarksCount:s,userMarksCounter:o}),r(t)}),[]),[e,t]},f9=()=>{const[e,n]=(0,j.useState)(),t=(0,j.useContext)(Ef).database.users;return(0,j.useEffect)(()=>pd(t,e=>{const t={};e.forEach(e=>{t[e.id]=e.data()}),n(t)}),[]),e},p9={day:"numeric",month:"numeric",hour:"numeric",minute:"numeric"},m9=({mark:e})=>{const t=(0,j.useContext)(Sf)[e.subjID],n=new Date(e.time).toLocaleString("ru-RU",p9);return(0,x.jsxs)("div",{className:"s1dhbn8h",children:[(0,x.jsx)(x4,{mark:e,unclickable:!0}),(0,x.jsx)("div",{className:"color-indicator",style:{background:t.color}}),(0,x.jsx)("div",{className:"subject",children:t.title}),(0,x.jsx)("div",{className:"username",children:e.username}),(0,x.jsx)("div",{className:"date",children:n})]})},g9=(0,j.memo)(m9),y9=(W9(6352),({usersRatings:e,usersInfo:i})=>{const[t,n]=(0,j.useState)(!1),r=(0,j.useRef)(null),a=(0,j.useMemo)(()=>{const r=[];return e.forEach(n=>{for(let t in n.marks)"marksTargets"!=t&&n.marks[t].forEach(e=>{r.push({...e,username:i?.[n.userUUID]?.first_name,subjID:t})})}),r.sort((e,t)=>t.time-e.time)},[e,i]),s=((0,j.useEffect)(()=>{const e=new IntersectionObserver(e=>{e[0].isIntersecting&&n(!0)});return e.observe(r.current),()=>e.disconnect()},[]),t?a:a.slice(0,20)),o=s.map(e=>(0,x.jsx)(g9,{mark:e},e.time));return(0,x.jsxs)("div",{className:"s16dicg2",children:[o,(0,x.jsx)("div",{ref:r})]})});function v9({user:e}){const[t,n]=(0,j.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"s1cj9lqm",children:[(0,x.jsx)("img",{src:e.photo_url,className:"avatar",onClick:()=>n(!0)}),(0,x.jsx)("h2",{className:"name",children:e.first_name+" "+(e.last_name??"")})]}),t&&(0,x.jsx)(dx,{URL:e.photo_url,handleClose:()=>n(!1)})]})}W9(4868),W9(887);const b9=({handleClose:e,userInfo:t,user:n,readOnly:r})=>{const[i,a]=(0,j.useState)("quarter"),s=(0,j.useMemo)(()=>Sh(wf,"users",t.id.toString(),"userStorage","marks_year"),[]),o={},l=(o[t.id]=t,[n]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(k3,{handleClose:e,type:{fullHeightOnMobile:!0,wide:!0},background:"var(--bg1)",children:(0,x.jsx)("div",{className:"sbatte",children:(0,x.jsxs)(t3,{children:[(0,x.jsx)(v9,{user:t}),(0,x.jsx)(j3,{onChange:a,activeItem:i,items:[{id:"quarter",title:"Четверть"},{id:"year",title:"Год"},{id:"history",title:"История"}]}),(0,x.jsxs)("div",{className:"s16a9hwg",children:["quarter"==i&&(0,x.jsx)(s9,{marks:n.marks??{},readOnly:r}),"year"==i&&(0,x.jsx)(h9,{yearMarksDoc:s,readOnly:r}),"history"==i&&(0,x.jsx)(y9,{usersRatings:l,usersInfo:o})]})]})})})})},w9=(W9(4311),{hidden:{y:"100%"},visible:e=>{const t=.05*e.i,n=e.getDefaultBackground();return{y:0,transition:{y:{delay:t,type:"spring",duration:.6,bounce:0},backgroundColor:{duration:1.5,ontransitionend:{backgroundColor:void 0}}},backgroundColor:e.change?["decrease"==e.change?"#ff3b30":"#34c759",n]:void 0}}}),x9=({user:e,percent:t,isOwn:n,userInfo:r,i})=>{const a=(0,j.useRef)(null),s=(0,j.useRef)(null),[o,l]=(0,j.useState)(!1),u={i:i,getDefaultBackground:()=>getComputedStyle(a.current).getPropertyValue("background-color")};return s.current&&(s.current<e.rating?u.change="increase":s.current>e.rating&&(u.change="decrease")),s.current=e.rating,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(E.div,{className:"Marks__Rating__Chart_Column "+(n?"own":""),style:{height:t+"%"},onClick:()=>l(!0),variants:w9,custom:u,initial:"hidden",animate:"visible",layout:!0,whileTap:{filter:"brightness(1.5)"},ref:a,children:[0==i&&(0,x.jsx)("div",{className:"crown",children:(0,x.jsx)(O,{icon:jw,size:"2x"})}),(0,x.jsx)("div",{className:"average-mark",children:e.rating??(0,x.jsx)(O,{icon:_w,className:"no-gpa"})}),r?.photo_url&&(0,x.jsx)("img",{className:"avatar",src:r?.photo_url,width:"56px",height:"56px"}),(0,x.jsx)("div",{className:"username",children:r?.first_name})]}),o&&(0,x.jsx)(b9,{handleClose:()=>l(!1),user:e,userInfo:r,readOnly:!n})]})},C9=({usersRatings:e,user:i,usersInfo:a})=>{const[t,n]=(0,j.useState)(!0),r=((0,j.useEffect)(()=>{setTimeout(()=>n(!1),400)},[]),e&&a?(()=>{const r=[];return e.sort((e,t)=>t.rating-e.rating).forEach((e,t)=>{const n=e.rating/10*100;r.push((0,x.jsx)(x9,{percent:n,i:t,user:e,userInfo:a?.[e.userUUID],isOwn:i.id==e.userUUID},e.userUUID))}),Object.keys(a).forEach(t=>{e.find(e=>e.userUUID==t)||r.push((0,x.jsx)(x9,{percent:36,i:r.length+1,user:t,userInfo:a[t],isOwn:i.id==t},t))}),r})():null);return(0,x.jsx)("div",{className:"Rating__Chart__Wrapper",children:t||!a?(0,x.jsx)(Pf,{styles:{backgroundColor:"var(--bg1)"}}):(0,x.jsx)("div",{className:"Rating__Chart",children:(0,x.jsx)(E.div,{className:"data-wraper",children:r})})})},k9=()=>{const[e,t]=d9(),n=f9(),r=(0,j.useContext)(Ef).user;return(0,x.jsxs)("div",{className:"Rating",children:[(0,x.jsxs)("div",{className:"block-left",children:[(0,x.jsx)(C9,{usersRatings:e,user:r,usersInfo:n}),(0,x.jsxs)(Ww,{rowsHeight:48,rowsCount:2,delay:400,children:[(0,x.jsxs)("div",{className:"stat",children:[(0,x.jsx)("div",{className:"title",children:"Всего оценок у тебя"}),(0,x.jsx)("div",{className:"num",children:t?.userMarksCounter})]}),(0,x.jsxs)("div",{className:"stat",children:[(0,x.jsx)("div",{className:"title",children:"Всего оценок у всех"}),(0,x.jsx)("div",{className:"num",children:t?.globalMarksCount})]})]})]}),(0,x.jsx)(Ww,{rowsHeight:40,rowsCount:16,delay:400,children:n&&e&&(0,x.jsx)(y9,{usersRatings:e,usersInfo:n})})]})},S9=()=>{const[e,t]=(0,j.useState)("quarter"),n=(0,j.useContext)(Ef).database.yearMarks;return(0,x.jsx)(jx,{className:"w10uteyw",children:(0,x.jsxs)(Wx,{className:"sk2h8tz",children:[(0,x.jsxs)("header",{className:"hzb1v4l",children:[(0,x.jsx)("h1",{className:"title",children:"Оценки"}),(0,x.jsx)(j3,{onChange:t,activeItem:e,items:[{id:"quarter",title:"Четверть"},{id:"year",title:"Год"},{id:"rating",title:"Рейтинг"}]})]}),"quarter"==e&&(0,x.jsx)(o9,{}),"year"==e&&(0,x.jsx)(h9,{yearMarksDoc:n}),"rating"==e&&(0,x.jsx)(k9,{})]})})},E9=(0,j.memo)(S9),T9=(W9(1675),/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/),_9=e=>{const t=document.querySelector("meta[name=theme-color]");e.startsWith("var")?t.content=getComputedStyle(document.documentElement).getPropertyValue((e=>{const t=T9.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]})(e)[0]):t.content=e},I9="t1xi799o",N9=(0,j.createContext)(null),j9=({children:e,isActive:t,keepMounted:n,themeColor:r})=>{const[i,a]=(0,j.useState)(!1),s=(0,j.useRef)(null);return t&&!i&&_9(r),(n||t)&&(0,x.jsx)(N9.Provider,{value:{focusTab:()=>{a(!1),document.body.classList.remove("unfocused")},unfocusTab:e=>{_9(e??"var(--theme-color-when-unfocused)"),document.body.classList.add("unfocused"),a(!0)}},children:(0,x.jsx)("div",{className:I9+(i?" unfocused":""),hidden:n&&!t,ref:s,children:e})})},A9=({config:e})=>{const[t,n]=(0,j.useState)(1),[r,i]=(0,j.useState)(!1),a=(()=>{const[e,n]=(0,j.useState)(!1),[t,r]=(0,j.useState)(!1),i=((0,j.useEffect)(()=>{try{navigator.serviceWorker.addEventListener("message",e=>{const t=e.data.type;n(!1),"update-complete"==t&&r(!0)})}catch(e){return void console.log("Ошибка: Cant find active SW")}i();{const e=setInterval(i,6e5);return()=>clearInterval(e)}},[]),()=>{console.info("Checking for updates...");try{navigator.serviceWorker.ready.then(e=>{e.active.postMessage({type:"run-updater"})})}catch{console.log("Update check failed")}});return{updateFounded:t,checking:e,checkForUpdates:i}})().updateFounded,s=(0,j.useMemo)(()=>({...e,setStatusBar:i,updateFounded:a}),[e,a]);return(0,x.jsxs)(Ef.Provider,{value:s,children:[(0,x.jsx)(qw,{activeTab:t,setActiveTab:n,statusBar:r}),(0,x.jsx)(j9,{isActive:1==t,themeColor:"var(--bg1)",keepMounted:!0,children:(0,x.jsx)($x,{})}),(0,x.jsx)(j9,{isActive:2==t,themeColor:"var(--bg2)",keepMounted:!0,children:(0,x.jsx)(i9,{})}),(0,x.jsx)(j9,{isActive:3==t,themeColor:"var(--bg1)",children:(0,x.jsx)(E9,{})}),(0,x.jsx)(j9,{isActive:5==t,themeColor:"var(--bg2)",children:(0,x.jsx)(Zx,{})})]})},P9=(W9(6458),({config:t})=>{const e=jf(t.database.timetable),n=jf(t.database.marks),r=(()=>{const[e,n]=Nf("CACHED_MANIFEST");return If(()=>{fetch("https://rebot-f643e-default-rtdb.europe-west1.firebasedatabase.app/subjects-manifest.json").then(async e=>{const t=await e.json();t?.error||n(t)})},6e5),e})();return(0,j.useEffect)(()=>{Af({type:"app-openned",username:t.user.first_name??null,UUID:t.user.id,UA:navigator.userAgent}),window.addEventListener("error",e=>{Af({type:"app-error",error:e.type+": "+e.message,username:t.user.first_name??null,UUID:t.user.id})})},[]),r?(0,x.jsxs)(Sf.Provider,{value:r,children:[(0,x.jsx)("div",{id:"modals-container"}),(0,x.jsx)(_f.Provider,{value:n,children:(0,x.jsx)(Tf.Provider,{value:e,children:(0,x.jsx)(A9,{config:t})})})]}):(0,x.jsx)(Pf,{styles:{height:"100vh"}})});var L9=W9(343);class D9 extends j.Component{constructor(e){super(e),this.state={group:1}}onAuth=e=>{const t={...e,group:this.state.group};localStorage.setItem("user",JSON.stringify(t)),dd(Sh(wf,"users",""+t.id),t).then(()=>{this.props.handleLogin(t)}),Af({type:"new-login",user:t})};handleGroupChange=e=>{this.setState({group:e})};render(){return(0,x.jsxs)("div",{className:"Login",children:[(0,x.jsx)("div",{className:"header",children:(0,x.jsx)("img",{width:"40px",className:"app-icon",src:"static/icons/apple-icon-180.png"})}),(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("h5",{className:"group-title",children:"Выбери группу по английскому"}),(0,x.jsx)(j3,{onChange:this.handleGroupChange,activeItem:this.state.group,items:[{id:1,title:"1"},{id:2,title:"2"},{id:3,title:"3"}]}),(0,x.jsx)("div",{className:"tg-auth-btn ",children:(0,x.jsx)(L9.TLoginButton,{botName:"resh1_bot",buttonSize:L9.TLoginButtonSize.Large,lang:"ru",usePic:!0,cornerRadius:5,onAuthCallback:this.onAuth,requestAccess:"write"})})]})]})}}const M9=D9,R9=()=>(0,x.jsx)("div",{className:"FatalError-wraper",children:(0,x.jsxs)("div",{className:"FatalError",children:[(0,x.jsx)("svg",{width:"110",height:"110",viewBox:"0 0 28 28",fill:"currentColor",children:(0,x.jsx)("path",{d:"M20.3281 20.6504C23.0703 20.6504 25.2324 18.6377 25.2324 16.124C25.2324 14.2607 24.1689 12.5996 22.4199 11.8701C22.4287 7.88867 19.5635 5.02344 15.8809 5.02344C13.543 5.02344 11.7852 6.23633 10.6865 7.82715C8.4541 7.22949 6.10742 8.89062 6.01953 11.3691C4.00684 11.7295 2.76758 13.54 2.76758 15.7373C2.76758 18.418 5.10547 20.6504 8.18164 20.6504H20.3281ZM12.2773 16.7041C11.9785 16.9941 11.5566 16.9414 11.2754 16.6777C11.0029 16.4229 10.959 15.9834 11.249 15.6846L12.9629 13.9531L11.249 12.2305C10.959 11.9316 11.0205 11.5098 11.2754 11.2373C11.5391 10.9561 11.9785 10.9121 12.2773 11.2109L14 12.9248L15.7227 11.2109C16.0303 10.9121 16.4521 10.9736 16.7246 11.2373C16.9971 11.4922 17.041 11.9316 16.751 12.2305L15.0371 13.9531L16.751 15.6846C17.041 15.9834 16.9883 16.4053 16.7246 16.6865C16.4609 16.959 16.0215 16.9941 15.7227 16.7041L14 14.9902L12.2773 16.7041Z"})}),(0,x.jsxs)("div",{className:"descr",children:[(0,x.jsx)("h1",{children:"Что-то сломалось"}),(0,x.jsx)("p",{children:"Но скоро должно заработать, поэтому попробуй зайти позже"})]}),(0,x.jsx)("button",{className:"reload",onClick:()=>location.reload(),children:"Перезагрузить"})]})}),O9=localStorage.getItem("inversion"),V9=(O9&&"false"==O9&&document.documentElement.style.setProperty("--inv",0),window.ios=/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,window.android=-1<navigator.userAgent.toLowerCase().indexOf("android"),()=>{const e=(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);return t.id?t:void 0}catch{return}})(),t=e?(n=e.id.toString(),{users:kh(wf,"users"),userInfo:Sh(wf,"users",n),timetable:Sh(wf,"timeTables","9D"),marks:Sh(wf,"users",n,"userStorage","marks_new"),yearMarks:Sh(wf,"users",n,"userStorage","marks_year"),notes:kh(wf,"users",n,"notes")}):void 0;var n;return e&&t?e&&t&&(0,x.jsx)(P9,{config:{database:t,user:e}}):(0,x.jsx)(M9,{handleLogin:()=>location.reload()})});class F9 extends j.Component{constructor(e){super(e),this.state={error:!1}}componentDidCatch(e,t){this.setState({error:!0}),Af({type:"FATAL_ERROR",error:e,errorInfo:t,username:config.user.first_name??null,UUID:config.user.id})}render(){return this.state.error?(0,x.jsx)(R9,{}):this.props.children}}const z9=(0,dn.s)(document.getElementById("root"));z9.render((0,x.jsx)(F9,{children:(0,x.jsx)(V9,{})})),navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js")})()})();
//# sourceMappingURL=bundle.js.map