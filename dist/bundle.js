/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var n={788:(e,t,n)=>{"use strict";n.r(t)},442:(e,t,n)=>{"use strict";n.r(t)},464:(e,t,n)=>{"use strict";n.r(t)},508:(e,t,n)=>{"use strict";n.r(t)},632:(e,t,n)=>{"use strict";n.r(t)},350:(e,t,n)=>{"use strict";n.r(t)},771:(e,t,n)=>{"use strict";n.r(t)},418:e=>{"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))u.call(n,a)&&(r[a]=n[a]);if(l)for(var o=l(n),s=0;s<o.length;s++)c.call(n,o[s])&&(r[o[s]]=n[o[s]])}return r}},448:(e,t,n)=>{"use strict";var i=n(294),m=n(418),a=n(840);function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(x(227));var r=new Set,c={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(c[e]=t,e=0;e<t.length;e++)r.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,d={},f={};function p(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i,a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(p(t,n,a,r)&&(n=null),r||null===a?(i=t,(h.call(f,i)||!h.call(d,i)&&(u.test(i)?f[i]=!0:void(d[i]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,C=60106,S=60107,T=60108,I=60114,N=60109,D=60110,A=60112,_=60113,P=60120,L=60115,R=60116,O=60121,M=60128,F=60129,V=60130,j=60131;"function"==typeof Symbol&&Symbol.for&&(k=(ln=Symbol.for)("react.element"),C=ln("react.portal"),S=ln("react.fragment"),T=ln("react.strict_mode"),I=ln("react.profiler"),N=ln("react.provider"),D=ln("react.context"),A=ln("react.forward_ref"),_=ln("react.suspense"),P=ln("react.suspense_list"),L=ln("react.memo"),R=ln("react.lazy"),O=ln("react.block"),ln("react.scope"),M=ln("react.opaque.id"),F=ln("react.debug_trace_mode"),V=ln("react.offscreen"),j=ln("react.legacy_hidden"));var U,B="function"==typeof Symbol&&Symbol.iterator;function z(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,--s<0||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case I:return"Profiler";case T:return"StrictMode";case _:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case A:var t=(t=e.render).displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return K(e.type);case O:return K(e._render);case R:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),r="";return(e=r=e?G(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)}}function X(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked,n=$(null!=t.value?t.value:n);e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ee(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function te(e,t){ee(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){var n,r;return e=m({children:void 0},t),n=t.children,r="",i.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(x(91));return m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(x(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(x(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ce="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return me(e,t)})}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t){var r,i;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),i=we(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i)}}Object.keys(ye).forEach(function(t){be.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ye[e]=ye[t]})});var ke=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(x(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(x(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(x(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var Te=null,Ie=null,Ne=null;function De(e){if(e=zr(e)){if("function"!=typeof Te)throw Error(x(280));var t=e.stateNode;t&&(t=Hr(t),Te(e.stateNode,e.type,t))}}function Ae(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function _e(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Pe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Oe=!1,Me=!1;function Fe(){null===Ie&&null===Ne||(Re(),_e())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=Hr(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=!(r=!r.disabled)?!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e):r);break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(x(231,t,typeof n));return n}var je=!1;if(l)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(e){je=!1}var Be=!1,ze=null,qe=!1,He=null,We={onError:function(e){Be=!0,ze=e}};function Ke(e,t,n,r,i,a,o,s,l){Be=!1,ze=null,function(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(We,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if($e(e)!==e)throw Error(x(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null!==a){if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(x(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return 1;t=t.return}}var Je,Ze,et,tt=!1,nt=[],rt=null,it=null,at=null,ot=new Map,st=new Map,lt=[],ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ct(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":rt=null;break;case"dragenter":case"dragleave":it=null;break;case"mouseover":case"mouseout":at=null;break;case"pointerover":case"pointerout":ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":st.delete(t.pointerId)}}function dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ct(t,n,r,i,a),null===t||null!==(t=zr(t))&&Ze(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function ft(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=zr(n))&&Ze(t),e.blockedOn=n,0;t.shift()}return 1}}function pt(e,t,n){ft(e)&&n.delete(t)}function mt(){for(tt=!1;0<nt.length;){var e=nt[0];if(null!==e.blockedOn){null!==(e=zr(e.blockedOn))&&Je(e);break}for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&nt.shift()}null!==rt&&ft(rt)&&(rt=null),null!==it&&ft(it)&&(it=null),null!==at&&ft(at)&&(at=null),ot.forEach(pt),st.forEach(pt)}function gt(e,t){e.blockedOn===t&&(e.blockedOn=null,tt||(tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mt)))}function vt(t){function e(e){return gt(e,t)}if(0<nt.length){gt(nt[0],t);for(var n=1;n<nt.length;n++){var r=nt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==rt&&gt(rt,t),null!==it&&gt(it,t),null!==at&&gt(at,t),ot.forEach(e),st.forEach(e),n=0;n<lt.length;n++)(r=lt[n]).blockedOn===t&&(r.blockedOn=null);for(;0<lt.length&&null===(n=lt[0]).blockedOn;)(function(e){var t=Br(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,e.lanePriority,a.unstable_runWithPriority(e.priority,function(){et(n)})}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&lt.shift()}function yt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bt={animationend:yt("Animation","AnimationEnd"),animationiteration:yt("Animation","AnimationIteration"),animationstart:yt("Animation","AnimationStart"),transitionend:yt("Transition","TransitionEnd")},wt={},Et={};function kt(e){if(wt[e])return wt[e];if(!bt[e])return e;var t,n=bt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return wt[e]=n[t];return e}l&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete bt.animationend.animation,delete bt.animationiteration.animation,delete bt.animationstart.animation),"TransitionEvent"in window||delete bt.transitionend.transition);var Ct=kt("animationend"),St=kt("animationiteration"),xt=kt("animationstart"),Tt=kt("transitionend"),It=new Map,Nt=new Map,Dt=["abort","abort",Ct,"animationEnd",St,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function At(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i="on"+((i=e[n+1])[0].toUpperCase()+i.slice(1));Nt.set(r,t),It.set(r,i),o(i,[r])}}(0,a.unstable_now)();var _t=8;function Pt(e){if(0!=(1&e))return _t=15,1;if(0!=(2&e))return _t=14,2;if(0!=(4&e))return _t=13,4;var t=24&e;return 0!==t?(_t=12,t):0!=(32&e)?(_t=11,32):0!==(t=192&e)?(_t=10,t):0!=(256&e)?(_t=9,256):0!==(t=3584&e)?(_t=8,t):0!=(4096&e)?(_t=7,4096):0!==(t=4186112&e)?(_t=6,t):0!==(t=62914560&e)?(_t=5,t):67108864&e?(_t=4,67108864):0!=(134217728&e)?(_t=3,134217728):0!==(t=805306368&e)?(_t=2,t):0!=(1073741824&e)?(_t=1,1073741824):(_t=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return _t=0;var r,i=0,a=0,o=e.expiredLanes,s=e.suspendedLanes,l=e.pingedLanes;if(0!==o?(i=o,a=_t=15):0!==(o=134217727&n)?0!=(r=o&~s)?(i=Pt(r),a=_t):0!==(l&=o)&&(i=Pt(l),a=_t):0!==(o=n&~s)?(i=Pt(o),a=_t):0!==l&&(i=Pt(l),a=_t),0===i)return 0;if(i=n&(((i=31-jt(i))<0?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&s)){if(Pt(t),a<=_t)return t;_t=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)i|=e[n=31-jt(t)],t&=~(a=1<<n);return i}function Rt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ot(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Mt(24&~t))?Ot(10,t):e;case 10:return 0===(e=Mt(192&~t))?Ot(8,t):e;case 8:return 0===(e=Mt(3584&~t))&&(0===(e=Mt(4186112&~t))&&(e=512)),e;case 2:return t=0===(t=Mt(805306368&~t))?268435456:t}throw Error(x(358,e))}function Mt(e){return e&-e}function Ft(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-jt(t)]=n}var jt=Math.clz32||function(e){return 0===e?32:31-(Ut(e)/Bt|0)|0},Ut=Math.log,Bt=Math.LN2;var zt=a.unstable_UserBlockingPriority,qt=a.unstable_runWithPriority,Ht=!0;function Wt(e,t,n,r){Oe||Re();var i=$t,a=Oe;Oe=!0;try{Le(i,e,t,n,r)}finally{(Oe=a)||Fe()}}function Kt(e,t,n,r){qt(zt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Ht)if((i=0==(4&t))&&0<nt.length&&-1<ut.indexOf(e))e=ct(null,e,t,n,r),nt.push(e);else{var a=Gt(e,t,n,r);if(null===a)i&&ht(e,r);else{if(i){if(-1<ut.indexOf(e))return e=ct(a,e,t,n,r),void nt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return rt=dt(rt,e,t,n,r,i),1;case"dragenter":return it=dt(it,e,t,n,r,i),1;case"mouseover":return at=dt(at,e,t,n,r,i),1;case"pointerover":var a=i.pointerId;return ot.set(a,dt(ot.get(a)||null,e,t,n,r,i)),1;case"gotpointercapture":return a=i.pointerId,st.set(a,dt(st.get(a)||null,e,t,n,r,i)),1}}(a,e,t,n,r))return;ht(e,r)}Er(e,t,r,null,n)}}}function Gt(e,t,n,r){var i=xe(r);if(null!==(i=Br(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ge(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Er(e,t,r,i,n),null}var Qt=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;for(var e=Yt,t=e.length,n=("value"in Qt?Qt.value:Qt.textContent),r=n.length,i=0;i<t&&e[i]===n[i];i++);for(var a=t-i,o=1;o<=a&&e[t-o]===n[r-o];o++);return Xt=n.slice(i,1<o?1-o:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(o){function e(e,t,n,r,i){for(var a in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,o)o.hasOwnProperty(a)&&(e=o[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?en:tn,this.isPropagationStopped=tn,this}return m(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),e}var rn,an,on,n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(n),ln=m({},n,{view:0,detail:0}),un=nn(ln),Ue=m({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(an=on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,e.screenY-on.screenY):rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),cn=nn(Ue),hn=nn(m({},Ue,{dataTransfer:0})),dn=nn(m({},ln,{relatedTarget:0})),fn=nn(m({},n,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=nn(m({},n,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),mn=nn(m({},n,{data:0})),gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function wn(){return bn}var En=nn(m({},ln,{key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=nn(m({},Ue,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=nn(m({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),Sn=nn(m({},n,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=nn(m({},Ue,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],In=l&&"CompositionEvent"in window,Ue=null;l&&"documentMode"in document&&(Ue=document.documentMode);var Nn=l&&"TextEvent"in window&&!Ue,Dn=l&&(!In||Ue&&8<Ue&&Ue<=11),An=String.fromCharCode(32),_n=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?On[e.type]:"textarea"===t}function Fn(e,t,n,r){Ae(r),0<(t=Cr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,jn=null;function Un(e){mr(e,0)}function Bn(e){if(Y(qr(e)))return e}function zn(e,t){if("change"===e)return t}var qn,Hn=!1;function Wn(){Vn&&(Vn.detachEvent("onpropertychange",Kn),jn=Vn=null)}function Kn(e){if("value"===e.propertyName&&Bn(jn)){var t=[];if(Fn(t,jn,e,xe(e)),e=Un,Oe)e(t);else{Oe=!0;try{Pe(e,t)}finally{Oe=!1,Fe()}}}}function $n(e,t,n){"focusin"===e?(Wn(),jn=n,(Vn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(jn)}function Qn(e,t){if("click"===e)return Bn(t)}function Yn(e,t){if("input"===e||"change"===e)return Bn(t)}l&&(qn=l&&((qn="oninput"in document)||((Ue=document.createElement("div")).setAttribute("oninput","return;"),qn="function"==typeof Ue.oninput),qn),Hn=qn&&(!document.documentMode||9<document.documentMode));var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Jn=Object.prototype.hasOwnProperty;function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jn.call(t,n[r])||!Xn(e[n[r]],t[n[r]]))return!1;return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=l&&"documentMode"in document&&document.documentMode<=11,ar=null,or=null,sr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==X(r)||(r="selectionStart"in(r=ar)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=Cr(or,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}At("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),At("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),At(Dt,2);for(var cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),hr=0;hr<cr.length;hr++)Nt.set(cr[hr],0);s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(){var e;Ke.apply(this,arguments),Be&&(e=ze,Be=!1,ze=null,qe||(qe=!0,He=e))}(r,t,void 0,e),e.currentTarget=null}function mr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(i=e[n]).event,i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=(u=i[o]).instance,l=u.currentTarget,u=u.listener;if(s!==a&&r.isPropagationStopped())break e;pr(r,u,l),a=s}else for(o=0;o<i.length;o++){if(s=(u=i[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&r.isPropagationStopped())break e;pr(r,u,l),a=s}}}if(qe)throw e=He,qe=!1,He=null,e}function gr(e,t){var n=Wr(t),r=e+"__bubble";n.has(r)||(wr(t,e,2,!1),n.add(r))}var vr="_reactListening"+Math.random().toString(36).slice(2);function yr(t){t[vr]||(t[vr]=!0,r.forEach(function(e){fr.has(e)||br(e,!1,t,null),br(e,!0,t,null)}))}function br(e,t,n,r,i){var a=4<arguments.length&&void 0!==i?i:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&fr.has(e)){if("scroll"!==e)return;a|=2,i=r}n=Wr(i),r=e+"__"+(t?"capture":"bubble");n.has(r)||(t&&(a|=4),wr(i,e,a,t),n.add(r))}function wr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Wt;break;case 1:i=Kt;break;default:i=$t}n=i.bind(null,t,n,e),i=!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t?void 0:!0,r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Er(g,v,y,e,t){var b=e;if(0==(1&v)&&0==(2&v)&&null!==e)e:for(;;){if(null===e)return;var n=e.tag;if(3===n||4===n){var r=e.stateNode.containerInfo;if(r===t||8===r.nodeType&&r.parentNode===t)break;if(4===n)for(n=e.return;null!==n;){var i=n.tag;if((3===i||4===i)&&((i=n.stateNode.containerInfo)===t||8===i.nodeType&&i.parentNode===t))return;n=n.return}for(;null!==r;){if(null===(n=Br(r)))return;if(5===(i=n.tag)||6===i){e=b=n;continue e}r=r.parentNode}}e=e.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{_l(e,t)}finally{Me=!1,Fe()}}(function(){var e,t,n,r=b,i=xe(y),a=[];e:{var o=It.get(g);if(void 0!==o){var s=sn,l=g;switch(g){case"keypress":if(0===Zt(y))break e;case"keydown":case"keyup":s=En;break;case"focusin":l="focus",s=dn;break;case"focusout":l="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===y.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Ct:case St:case xt:s=fn;break;case Tt:s=Sn;break;case"scroll":s=un;break;case"wheel":s=xn;break;case"copy":case"cut":case"paste":s=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=kn}for(var u=!(h=0!=(4&v))&&"scroll"===g,c=h?null!==o?o+"Capture":null:o,h=[],d=r;null!==d;){var f,p=(f=d).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==c&&(null!=(p=Ve(d,c))&&h.push(kr(d,p,f)))),u)break;d=d.return}0<h.length&&(o=new s(o,l,null,y,i),a.push({event:o,listeners:h}))}}if(0==(7&v)){if(s="mouseout"===g||"pointerout"===g,(!(o="mouseover"===g||"pointerover"===g)||0!=(16&v)||!(l=y.relatedTarget||y.fromElement)||!Br(l)&&!l[jr])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(l=(l=y.relatedTarget||y.toElement)?Br(l):null)&&(l!==(u=$e(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(h=cn,p="onMouseLeave",c="onMouseEnter",d="mouse","pointerout"!==g&&"pointerover"!==g||(h=kn,p="onPointerLeave",c="onPointerEnter",d="pointer"),u=null==s?o:qr(s),f=null==l?o:qr(l),(o=new h(p,d+"leave",s,y,i)).target=u,o.relatedTarget=f,p=null,Br(i)===r&&((h=new h(c,d+"enter",l,y,i)).target=f,h.relatedTarget=u,p=h),u=p,s&&l)e:{for(c=l,d=0,f=h=s;f;f=Sr(f))d++;for(f=0,p=c;p;p=Sr(p))f++;for(;0<d-f;)h=Sr(h),d--;for(;0<f-d;)c=Sr(c),f--;for(;d--;){if(h===c||null!==c&&h===c.alternate)break e;h=Sr(h),c=Sr(c)}h=null}else h=null;null!==s&&xr(a,o,s,h,!1),null!==l&&null!==u&&xr(a,u,l,h,!0)}switch("select"===(s=(o=r?qr(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type?e=zn:Mn(o)?Hn?e=Yn:(e=Gn,t=$n):!(s=o.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type||(e=Qn),(e=e&&e(g,r))?Fn(a,e,y,i):(t&&t(g,o,r),"focusout"===g&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&re(o,"number",o.value)),t=r?qr(r):window,g){case"focusin":!Mn(t)&&"true"!==t.contentEditable||(ar=t,or=r,sr=null);break;case"focusout":sr=or=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(a,y,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(a,y,i)}if(In)e:{switch(g){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else Rn?Pn(g,y)&&(m="onCompositionEnd"):"keydown"===g&&229===y.keyCode&&(m="onCompositionStart");m&&(Dn&&"ko"!==y.locale&&(Rn||"onCompositionStart"!==m?"onCompositionEnd"===m&&Rn&&(n=Jt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,Rn=!0)),0<(t=Cr(r,m)).length&&(m=new mn(m,g,null,y,i),a.push({event:m,listeners:t}),n?m.data=n:null!==(n=Ln(y))&&(m.data=n))),!(n=(Nn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(_n=!0,An);case"textInput":return(e=t.data)===An&&_n?null:e;default:return null}}:function(e,t){if(Rn)return"compositionend"===e||!In&&Pn(e,t)?(e=Jt(),Xt=Yt=Qt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data;default:return null}})(g,y))||0<(r=Cr(r,"onBeforeInput")).length&&(i=new mn("onBeforeInput","beforeinput",null,y,i),a.push({event:i,listeners:r}),i.data=n)}mr(a,v)})}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(kr(e,a,i)),null!=(a=Ve(e,t))&&r.push(kr(e,a,i))),e=e.return}return r}function Sr(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ve(n,a))&&o.unshift(kr(n,l,s)):null!=(l=Ve(n,a))&&o.push(kr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Tr(){}var Ir=null,Nr=null;function Dr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return t.autoFocus}}function Ar(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _r="function"==typeof setTimeout?setTimeout:void 0,Pr="function"==typeof clearTimeout?clearTimeout:void 0;function Lr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Rr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Or(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Mr=0;var Dt=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Dt,Vr="__reactProps$"+Dt,jr="__reactContainer$"+Dt,Ur="__reactEvents$"+Dt;function Br(e){var t=e[Fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jr]||n[Fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Or(e);null!==e;){if(n=e[Fr])return n;e=Or(e)}return t}n=(e=n).parentNode}return null}function zr(e){return!(e=e[Fr]||e[jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(x(33))}function Hr(e){return e[Vr]||null}function Wr(e){var t=e[Ur];return t=void 0===t?e[Ur]=new Set:t}var Kr=[],$r=-1;function Gr(e){return{current:e}}function Qr(e){$r<0||(e.current=Kr[$r],Kr[$r]=null,$r--)}function Yr(e,t){Kr[++$r]=e.current,e.current=t}var Xr={},Jr=Gr(Xr),Zr=Gr(!1),ei=Xr;function ti(e,t){var n=e.type.contextTypes;if(!n)return Xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ni(e){return null!=(e=e.childContextTypes)}function ri(){Qr(Zr),Qr(Jr)}function ii(e,t,n){if(Jr.current!==Xr)throw Error(x(168));Yr(Jr,t),Yr(Zr,n)}function ai(e,t,n){var r,i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(r in i=i.getChildContext())if(!(r in e))throw Error(x(108,K(t)||"Unknown",r));return m({},n,i)}function oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,ei=Jr.current,Yr(Jr,e),Yr(Zr,Zr.current),1}function si(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=ai(e,t,ei),r.__reactInternalMemoizedMergedChildContext=e,Qr(Zr),Qr(Jr),Yr(Jr,e)):Qr(Zr),Yr(Zr,n)}var li=null,ui=null,ci=a.unstable_runWithPriority,hi=a.unstable_scheduleCallback,di=a.unstable_cancelCallback,fi=a.unstable_shouldYield,Dt=a.unstable_requestPaint,pi=a.unstable_now,mi=a.unstable_getCurrentPriorityLevel,gi=a.unstable_ImmediatePriority,vi=a.unstable_UserBlockingPriority,yi=a.unstable_NormalPriority,bi=a.unstable_LowPriority,wi=a.unstable_IdlePriority,Ei={},ki=void 0!==Dt?Dt:function(){},Ci=null,Si=null,xi=!1,Ti=pi(),Ii=Ti<1e4?pi:function(){return pi()-Ti};function Ni(){switch(mi()){case gi:return 99;case vi:return 98;case yi:return 97;case bi:return 96;case wi:return 95;default:throw Error(x(332))}}function Di(e){switch(e){case 99:return gi;case 98:return vi;case 97:return yi;case 96:return bi;case 95:return wi;default:throw Error(x(332))}}function Ai(e,t){return e=Di(e),ci(e,t)}function _i(e,t,n){return e=Di(e),hi(e,t,n)}function Pi(){var e;null!==Si&&(e=Si,Si=null,di(e)),Li()}function Li(){if(!xi&&null!==Ci){xi=!0;var t=0;try{var n=Ci;Ai(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),Ci=null}catch(e){throw null!==Ci&&(Ci=Ci.slice(t+1)),hi(gi,Pi),e}finally{xi=!1}}}var Ri=E.ReactCurrentBatchConfig;function Oi(e,t){if(e&&e.defaultProps){for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Mi=Gr(null),Fi=null,Vi=null,ji=null;function Ui(){ji=Vi=Fi=null}function Bi(e){var t=Mi.current;Qr(Mi),e.type._context._currentValue=t}function zi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function qi(e,t){(ji=Vi=null)!==(e=(Fi=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Hi(e,t){if(ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Vi){if(null===Fi)throw Error(x(308));Vi=t,Fi.dependencies={lanes:0,firstContext:t,responders:null}}else Vi=Vi.next=t;return e._currentValue}var Wi=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t){var n;null!==(e=e.updateQueue)&&(null===(n=(e=e.shared).pending)?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function Yi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===a?i=a=o:a=a.next=o,null!==(n=n.next));null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,r){var i=e.updateQueue;Wi=!1;var a,o,s,l,u=i.firstBaseUpdate,c=i.lastBaseUpdate;if(null!==(p=i.shared.pending)&&(i.shared.pending=null,o=(a=p).next,(a.next=null)===c?u=o:c.next=o,c=a,null===(s=e.alternate)||(l=(s=s.updateQueue).lastBaseUpdate)!==c&&(null===l?s.firstBaseUpdate=o:l.next=o,s.lastBaseUpdate=a)),null!==u){for(l=i.baseState,c=0,s=o=a=null;;){p=u.lane;var h=u.eventTime;if((r&p)===p){null!==s&&(s=s.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var d=e,f=u,p=t,h=n;switch(f.tag){case 1:if("function"==typeof(d=f.payload)){l=d.call(h,l,p);break e}l=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(p="function"==typeof(d=f.payload)?d.call(h,l,p):d))break e;l=m({},l,p);break e;case 2:Wi=!0}}null!==u.callback&&(e.flags|=32,null===(p=i.effects)?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===s?(o=s=h,a=l):s=s.next=h,c|=p;if(null===(u=u.next)){if(null===(p=i.shared.pending))break;u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===s&&(a=l),i.baseState=a,i.firstBaseUpdate=o,i.lastBaseUpdate=s,vs|=c,e.lanes=c,e.memoizedState=l}}function Ji(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(x(191,i));i.call(r)}}}var Zi=(new i.Component).refs;function ea(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ta={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=Gi(r,i);a.payload=t,null!=n&&(a.callback=n),Qi(e,a),Hs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=Gi(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),Qi(e,a),Hs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=Gi(n,r);i.tag=2,null!=t&&(i.callback=t),Qi(e,i),Hs(e,r,n)}};function na(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function ra(e,t,n){var r=!1,i=Xr,a=t.contextType;return t=new t(n,a="object"==typeof a&&null!==a?Hi(a):(i=ni(t)?ei:Jr.current,(r=null!=(r=t.contextTypes))?ti(e,i):Xr)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ta,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ia(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ta.enqueueReplaceState(t,t.state,null)}function aa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zi,Ki(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Hi(a):(a=ni(t)?ei:Jr.current,i.context=ti(e,a)),Xi(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ea(e,0,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ta.enqueueReplaceState(i,i.state,null),Xi(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var oa=Array.isArray;function sa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Zi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function la(e,t){if("textarea"!==e.type)throw Error(x(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ua(h){function d(e,t){var n;h&&(null!==(n=e.lastEffect)?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.flags=8)}function f(e,t){if(!h)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function p(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=gl(e,t)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,h?null===(n=e.alternate)||(n=n.index)<t?(e.flags=2,t):n:t}function s(e){return h&&null===e.alternate&&(e.flags=2),e}function a(e,t,n,r){return null===t||6!==t.tag?(t=wl(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props)).ref=sa(0,t,n):(r=vl(n.type,n.key,n.props,null,e.mode,r)).ref=sa(0,t,n),r.return=e,r}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=El(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function c(e,t,n,r,i){return null===t||7!==t.tag?(t=yl(n,e.mode,r,i)).return=e:(t=o(t,n)).return=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=wl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=vl(t.type,t.key,t.props,null,e.mode,n)).ref=sa(0,null,t),n.return=e,n;case C:return(t=El(t,e.mode,n)).return=e,t}if(oa(t)||z(t))return(t=yl(t,e.mode,n,null)).return=e,t;la(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===S?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(oa(n)||z(n))return null!==i?null:c(e,t,n,r,null);la(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(oa(r)||z(r))return c(t,e=e.get(n)||null,r,i,null);la(t,r)}return null}return function(e,t,n,r){var i="object"==typeof n&&null!==n&&n.type===S&&null===n.key,a="object"==typeof(n=i?n.props.children:n)&&null!==n;if(a)switch(n.$$typeof){case k:e:{for(a=n.key,i=t;null!==i;){if(i.key===a){switch(i.tag){case 7:if(n.type!==S)break;f(e,i.sibling),(t=o(i,n.props.children)).return=e,e=t;break e;default:if(i.elementType===n.type){f(e,i.sibling),(t=o(i,n.props)).ref=sa(0,i,n),t.return=e,e=t;break e}}f(e,i);break}d(e,i),i=i.sibling}e=n.type===S?((t=yl(n.props.children,e.mode,r,n.key)).return=e,t):((r=vl(n.type,n.key,n.props,null,e.mode,r)).ref=sa(0,t,n),r.return=e,r)}return s(e);case C:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){f(e,t.sibling),(t=o(t,n.children||[])).return=e,e=t;break e}f(e,t);break}d(e,t),t=t.sibling}(t=El(n,e.mode,r)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(e=((t=null!==t&&6===t.tag?(f(e,t.sibling),o(t,n)):(f(e,t),wl(n,e.mode,r))).return=e,t));if(oa(n))return function(t,e,n,r){for(var i=null,a=null,o=e,s=e=0,l=null;null!==o&&s<n.length;s++){o.index>s?(l=o,o=null):l=o.sibling;var u=v(t,o,n[s],r);if(null===u){null===o&&(o=l);break}h&&o&&null===u.alternate&&d(t,o),e=m(u,e,s),null===a?i=u:a.sibling=u,a=u,o=l}if(s===n.length)return f(t,o),i;if(null===o){for(;s<n.length;s++)null!==(o=g(t,n[s],r))&&(e=m(o,e,s),null===a?i=o:a.sibling=o,a=o);return i}for(o=p(t,o);s<n.length;s++)null!==(l=y(o,t,s,n[s],r))&&(h&&null!==l.alternate&&o.delete(null===l.key?s:l.key),e=m(l,e,s),null===a?i=l:a.sibling=l,a=l);return h&&o.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(z(n))return function(t,e,n,r){var i=z(n);if("function"!=typeof i)throw Error(x(150));if(null==(n=i.call(n)))throw Error(x(151));for(var a=i=null,o=e,s=e=0,l=null,u=n.next();null!==o&&!u.done;s++,u=n.next()){o.index>s?(l=o,o=null):l=o.sibling;var c=v(t,o,u.value,r);if(null===c){null===o&&(o=l);break}h&&o&&null===c.alternate&&d(t,o),e=m(c,e,s),null===a?i=c:a.sibling=c,a=c,o=l}if(u.done)return f(t,o),i;if(null===o){for(;!u.done;s++,u=n.next())null!==(u=g(t,u.value,r))&&(e=m(u,e,s),null===a?i=u:a.sibling=u,a=u);return i}for(o=p(t,o);!u.done;s++,u=n.next())null!==(u=y(o,t,s,u.value,r))&&(h&&null!==u.alternate&&o.delete(null===u.key?s:u.key),e=m(u,e,s),null===a?i=u:a.sibling=u,a=u);return h&&o.forEach(function(e){return d(t,e)}),i}(e,t,n,r);if(a&&la(e,n),void 0===n&&!i)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(x(152,K(e.type)||"Component"))}return f(e,t)}}var ca=ua(!0),ha=ua(!1),da={},fa=Gr(da),pa=Gr(da),ma=Gr(da);function ga(e){if(e===da)throw Error(x(174));return e}function va(e,t){switch(Yr(ma,t),Yr(pa,e),Yr(fa,da),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Qr(fa),Yr(fa,t)}function ya(){Qr(fa),Qr(pa),Qr(ma)}function ba(e){ga(ma.current);var t=ga(fa.current),n=fe(t,e.type);t!==n&&(Yr(pa,e),Yr(fa,n))}function wa(e){pa.current===e&&(Qr(fa),Qr(pa))}var Ea=Gr(0);function ka(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=null,Sa=null,xa=!1;function Ta(e,t){var n=pl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);default:return}}function Na(e){if(xa){var t=Sa;if(t){var n=t;if(!Ia(e,t)){if(!(t=Rr(n.nextSibling))||!Ia(e,t))return e.flags=-1025&e.flags|2,xa=!1,void(Ca=e);Ta(Ca,n)}Ca=e,Sa=Rr(t.firstChild)}else e.flags=-1025&e.flags|2,xa=!1,Ca=e}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Aa(e){if(e===Ca){if(!xa)return Da(e),xa=!0,0;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ar(t,e.memoizedProps))for(t=Sa;t;)Ta(e,t),t=Rr(t.nextSibling);if(Da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Sa=Rr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Sa=null}}else Sa=Ca?Rr(e.stateNode.nextSibling):null;return 1}}function _a(){Sa=Ca=null,xa=!1}var Pa=[];function La(){for(var e=0;e<Pa.length;e++)Pa[e]._workInProgressVersionPrimary=null;Pa.length=0}var Ra=E.ReactCurrentDispatcher,Oa=E.ReactCurrentBatchConfig,Ma=0,Fa=null,Va=null,ja=null,Ua=!1,Ba=!1;function za(){throw Error(x(321))}function qa(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return;return 1}}function Ha(e,t,n,r,i,a){if(Ma=a,(Fa=t).memoizedState=null,t.updateQueue=null,t.lanes=0,Ra.current=null===e||null===e.memoizedState?go:vo,e=n(r,i),Ba){a=0;do{if(Ba=!1,!(a<25))throw Error(x(301))}while(a+=1,ja=Va=null,t.updateQueue=null,Ra.current=yo,e=n(r,i),Ba)}if(Ra.current=mo,t=null!==Va&&null!==Va.next,Ma=0,ja=Va=Fa=null,Ua=!1,t)throw Error(x(300));return e}function Wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Fa.memoizedState=ja=e:ja=ja.next=e,ja}function Ka(){var e;e=null===Va?null!==(e=Fa.alternate)?e.memoizedState:null:Va.next;var t=null===ja?Fa.memoizedState:ja.next;if(null!==t)ja=t,Va=e;else{if(null===e)throw Error(x(310));e={memoizedState:(Va=e).memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},null===ja?Fa.memoizedState=ja=e:ja=ja.next=e}return ja}function $a(e,t){return"function"==typeof t?t(e):t}function Ga(e){var t=Ka(),n=t.queue;if(null===n)throw Error(x(311));n.lastRenderedReducer=e;var r,i=(o=Va).baseQueue,a=n.pending;if(null!==a&&(null!==i&&(r=i.next,i.next=a.next,a.next=r),o.baseQueue=i=a,n.pending=null),null!==i){var i=i.next,o=o.baseState,s=r=a=null,l=i;do{var u,c=l.lane}while((Ma&c)===c?(null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),o=l.eagerReducer===e?l.eagerState:e(o,l.action)):(u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null},null===s?(r=s=u,a=o):s=s.next=u,Fa.lanes|=c,vs|=c),null!==(l=l.next)&&l!==i);null===s?a=o:s.next=r,Xn(o,t.memoizedState)||(wo=!0),t.memoizedState=o,t.baseState=a,t.baseQueue=s,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Qa(e){var t=Ka(),n=t.queue;if(null===n)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;for(var o=i=i.next;a=e(a,o.action),(o=o.next)!==i;);Xn(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ya(e,t,n){var r=(r=t._getVersion)(t._source),i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ma&e)===e)&&(t._workInProgressVersionPrimary=r,Pa.push(t))),e)return n(t._source);throw Pa.push(t),Error(x(350))}function Xa(e,a,o,t){var s=us;if(null===s)throw Error(x(349));var l=a._getVersion,u=l(a._source),n=Ra.current,c=(r=n.useState(function(){return Ya(s,a,o)}))[1],h=r[0],r=ja,d=(p=e.memoizedState).refs,i=d.getSnapshot,f=p.source,p=p.subscribe,m=Fa;return e.memoizedState={refs:d,source:a,subscribe:t},n.useEffect(function(){d.getSnapshot=o,d.setSnapshot=c;var e=l(a._source);if(!Xn(u,e)){e=o(a._source),Xn(h,e)||(c(e),e=qs(m),s.mutableReadLanes|=e&s.pendingLanes),e=s.mutableReadLanes,s.entangledLanes|=e;for(var t=s.entanglements,n=e;0<n;){var r=31-jt(n),i=1<<r;t[r]|=e,n&=~i}}},[o,a,t]),n.useEffect(function(){return t(a._source,function(){var e=d.getSnapshot,t=d.setSnapshot;try{t(e(a._source));var n=qs(m);s.mutableReadLanes|=n&s.pendingLanes}catch(e){t(function(){throw e})}})},[a,t]),Xn(i,o)&&Xn(f,a)&&Xn(p,t)||((e={pending:null,dispatch:null,lastRenderedReducer:$a,lastRenderedState:h}).dispatch=c=po.bind(null,Fa,e),r.queue=e,r.baseQueue=null,h=Ya(s,a,o),r.memoizedState=r.baseState=h),h}function Ja(e,t,n){return Xa(Ka(),e,t,n)}function Za(e){var t=Wa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e}).dispatch=po.bind(null,Fa,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Fa.updateQueue)?(Fa.updateQueue=t={lastEffect:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function to(e){return Wa().memoizedState=e={current:e}}function no(){return Ka().memoizedState}function ro(e,t,n,r){var i=Wa();Fa.flags|=e,i.memoizedState=eo(1|t,n,void 0,void 0===r?null:r)}function io(e,t,n,r){var i=Ka();r=void 0===r?null:r;var a=void 0;if(null!==Va){var o=Va.memoizedState,a=o.destroy;if(null!==r&&qa(r,o.deps))return void eo(t,n,a,r)}Fa.flags|=e,i.memoizedState=eo(1|t,n,a,r)}function ao(e,t){return ro(516,4,e,t)}function oo(e,t){return io(516,4,e,t)}function so(e,t){return io(4,2,e,t)}function lo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function uo(e,t,n){return n=null!=n?n.concat([e]):null,io(4,2,lo.bind(null,t,e),n)}function co(){}function ho(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fo(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var r=zs(),i=qs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Fa||null!==o&&o===Fa)Ba=Ua=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,Xn(l,s))return}catch(e){}Hs(e,i,r)}}var mo={readContext:Hi,useCallback:za,useContext:za,useEffect:za,useImperativeHandle:za,useLayoutEffect:za,useMemo:za,useReducer:za,useRef:za,useState:za,useDebugValue:za,useDeferredValue:za,useTransition:za,useMutableSource:za,useOpaqueIdentifier:za,unstable_isNewReconciler:!1},go={readContext:Hi,useCallback:function(e,t){return Wa().memoizedState=[e,void 0===t?null:t],e},useContext:Hi,useEffect:ao,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,2,lo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var n=Wa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=po.bind(null,Fa,e),[r.memoizedState,e]},useRef:to,useState:Za,useDebugValue:co,useDeferredValue:function(t){var e=Za(t),n=e[0],r=e[1];return ao(function(){var e=Oa.transition;Oa.transition=1;try{r(t)}finally{Oa.transition=e}},[t]),n},useTransition:function(){var e=Za(!1),t=e[0];return to(e=function(t,n){var e=Ni();Ai(e<98?98:e,function(){t(!0)}),Ai(97<e?97:e,function(){var e=Oa.transition;Oa.transition=1;try{t(!1),n()}finally{Oa.transition=e}})}.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Wa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Xa(r,e,t,n)},useOpaqueIdentifier:function(){if(xa){var e=!1,t={$$typeof:M,toString:t=function(){throw e||(e=!0,n("r:"+(Mr++).toString(36))),Error(x(355))},valueOf:t},n=Za(t)[1];return 0==(2&Fa.mode)&&(Fa.flags|=516,eo(5,function(){n("r:"+(Mr++).toString(36))},void 0,null)),t}return Za(t="r:"+(Mr++).toString(36)),t},unstable_isNewReconciler:!1},vo={readContext:Hi,useCallback:ho,useContext:Hi,useEffect:oo,useImperativeHandle:uo,useLayoutEffect:so,useMemo:fo,useReducer:Ga,useRef:no,useState:function(){return Ga($a)},useDebugValue:co,useDeferredValue:function(t){var e=Ga($a),n=e[0],r=e[1];return oo(function(){var e=Oa.transition;Oa.transition=1;try{r(t)}finally{Oa.transition=e}},[t]),n},useTransition:function(){var e=Ga($a)[0];return[no().current,e]},useMutableSource:Ja,useOpaqueIdentifier:function(){return Ga($a)[0]},unstable_isNewReconciler:!1},yo={readContext:Hi,useCallback:ho,useContext:Hi,useEffect:oo,useImperativeHandle:uo,useLayoutEffect:so,useMemo:fo,useReducer:Qa,useRef:no,useState:function(){return Qa($a)},useDebugValue:co,useDeferredValue:function(t){var e=Qa($a),n=e[0],r=e[1];return oo(function(){var e=Oa.transition;Oa.transition=1;try{r(t)}finally{Oa.transition=e}},[t]),n},useTransition:function(){var e=Qa($a)[0];return[no().current,e]},useMutableSource:Ja,useOpaqueIdentifier:function(){return Qa($a)[0]},unstable_isNewReconciler:!1},bo=E.ReactCurrentOwner,wo=!1;function Eo(e,t,n,r){t.child=null===e?ha(t,null,n,r):ca(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var a=t.ref;return qi(t,i),r=Ha(e,t,n,r,a,i),null===e||wo?(t.flags|=1,Eo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,jo(e,t,i))}function Co(e,t,n,r,i,a){if(null!==e)return o=e.child,0==(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)?jo(e,t,a):(t.flags|=1,(e=gl(o,r)).ref=t.ref,(e.return=t).child=e);var o=n.type;return"function"!=typeof o||ml(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=vl(n.type,null,r,t,t.mode,a)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,So(e,t,o,r,i,a))}function So(e,t,n,r,i,a){if(null!==e&&Zn(e.memoizedProps,r)&&e.ref===t.ref){if(wo=!1,0==(a&i))return t.lanes=e.lanes,jo(e,t,a);0!=(16384&e.flags)&&(wo=!0)}return Io(e,t,n,r,a)}function xo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Js(0,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Js(0,e),null;t.memoizedState={baseLanes:0},Js(0,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Js(0,r);return Eo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Io(e,t,n,r,i){var a=ti(t,a=ni(n)?ei:Jr.current);return qi(t,i),n=Ha(e,t,n,r,a,i),null===e||wo?(t.flags|=1,Eo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,jo(e,t,i))}function No(e,t,n,r,i){var a,o,s,l,u,c,h,d,f,p;return ni(n)?(a=!0,oi(t)):a=!1,qi(t,i),r=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ra(t,n,r),aa(t,n,r,i),!0):null===e?(o=t.stateNode,s=t.memoizedProps,o.props=s,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?Hi(l):ti(t,l=ni(n)?ei:Jr.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===r&&d===l||ia(0,o,r,l),Wi=!1,h=t.memoizedState,o.state=h,Xi(t,r,o,i),d=t.memoizedState,s!==r||h!==d||Zr.current||Wi?("function"==typeof u&&(ea(t,0,u,r),d=t.memoizedState),(s=Wi||na(t,n,s,r,h,d,l))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,s):("function"==typeof o.componentDidMount&&(t.flags|=4),!1)):(o=t.stateNode,$i(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Oi(t.type,s),o.props=l,c=t.pendingProps,h=o.context,d="object"==typeof(d=n.contextType)&&null!==d?Hi(d):ti(t,d=ni(n)?ei:Jr.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===c&&h===d||ia(0,o,r,d),Wi=!1,h=t.memoizedState,o.state=h,Xi(t,r,o,i),p=t.memoizedState,s!==c||h!==p||Zr.current||Wi?("function"==typeof f&&(ea(t,0,f,r),p=t.memoizedState),(l=Wi||na(t,n,l,r,h,p,d))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,d),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,d)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=d,l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),!1)),Do(e,t,n,r,a,i)}function Do(e,t,n,r,i,a){To(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&si(t,n,!1),jo(e,t,a);r=t.stateNode,bo.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ca(t,e.child,null,a),t.child=ca(t,null,s,a)):Eo(e,t,s,a),t.memoizedState=r.state,i&&si(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ii(0,t.context,!1),va(e,t.containerInfo)}var _o={dehydrated:null,retryLane:0};function Po(e,t,n){var r,i=t.pendingProps,a=Ea.current,o=!1;return(r=!(r=0!=(64&t.flags))?(null===e||null!==e.memoizedState)&&0!=(2&a):r)?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),Yr(Ea,1&a),null===e?(void 0!==i.fallback&&Na(t),e=i.children,a=i.fallback,o?(e=Lo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=_o,e):"number"==typeof i.unstable_expectedLoadTime?(e=Lo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=_o,t.lanes=33554432,e):((n=bl({mode:"visible",children:e},t.mode,n,null)).return=t).child=n):(e.memoizedState,o?(i=Oo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=_o,i):(n=Ro(e,t,i.children,n),t.memoizedState=null,n))}function Lo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=bl(t,i,0,null),n=yl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Ro(e,t,n,r){var i=e.child;return e=i.sibling,n=gl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,(n.sibling=null)!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Oo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,(t.lastEffect=o).nextEffect=null):t.firstEffect=t.lastEffect=null):n=gl(o,s),null!==e?r=gl(e,r):(r=yl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Mo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),zi(e.return,t)}function Fo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function Vo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Eo(e,t,r.children,n),0!=(2&(r=Ea.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n);else if(19===e.tag)Mo(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yr(Ea,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ka(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(i=t.child,t.child=n=null;null!==i;){if(null!==(e=i.alternate)&&null===ka(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fo(t,!0,n,null,a,t.lastEffect);break;case"together":Fo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),vs|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(x(153));if(null!==t.child){for(n=gl(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Uo(e,t){if(!xa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bo(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}(r),r=r.return;);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}var zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ga(fa.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"option":i=ie(e,i),r=ie(e,r),o=[];break;case"select":i=m({},i,{value:void 0}),r=m({},r,{value:void 0}),o=[];break;case"textarea":i=oe(e,i),r=oe(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Tr)}for(u in Ce(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n=n||{},n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(c.hasOwnProperty(u)?o=o||[]:(o=o||[]).push(u,null));for(u in r){var l=r[u],s=null!=i?i[u]:void 0;if(r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n=n||{},n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n=n||{},n[a]=l[a])}else n||(o=o||[]).push(u,n),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(c.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&gr("scroll",e),o||s===l||(o=[])):"object"==typeof l&&null!==l&&l.$$typeof===M?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ho=function(e,t,n,r){n!==r&&(t.flags|=4)},Wo="function"==typeof WeakMap?WeakMap:Map;function Ko(e,t,n){(n=Gi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ts||(Ts=!0,Is=r)},n}function $o(e,t,n){(n=Gi(-1,n)).tag=3;var r,i=e.type.getDerivedStateFromError;"function"==typeof i&&(r=t.value,n.payload=function(){return i(r)});e=e.stateNode;return null!==e&&"function"==typeof e.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ns?Ns=new Set([this]):Ns.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Go="function"==typeof WeakSet?WeakSet:Set;function Qo(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){hl(t,e)}else e.current=null}function Yo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{}while(3==(3&e.tag)&&(i=e.create,e.destroy=i()),(e=e.next)!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e,i=r.next;0!=(4&(r=r.tag))&&0!=(1&r)&&(ll(n,e),a=n,r=e,Ps.push(r,a),Ds||(Ds=!0,_i(97,function(){return sl(),null}))),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Oi(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Ji(0,t,e));case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}Ji(0,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Dr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(null!==(n=n.alternate)&&(null!==(n=n.memoizedState)&&(null!==(n=n.dehydrated)&&vt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}var a;throw Error(x(163))}function Xo(e,t){for(var n=e;;){if(5===n.tag){var r,i=n.stateNode;t?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=n.stateNode,r=null!=(r=n.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,i.style.display=we("display",r))}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n=(n.child.return=n).child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Jo(e,t){if(ui&&"function"==typeof ui.onCommitFiberUnmount)try{ui.onCommitFiberUnmount(li,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=(i=n).destroy,i=i.tag;if(void 0!==r)if(0!=(4&i))ll(t,n);else{i=t;try{r()}catch(e){hl(i,e)}}}while((n=n.next)!==e)}break;case 1:if(Qo(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){hl(t,e)}break;case 5:Qo(t);break;case 4:ns(e,t)}}function Zo(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function es(e){return 5===e.tag||3===e.tag||4===e.tag}function ts(e){e:{for(var t=e.return;null!==t;){if(es(t))break e;t=t.return}throw Error(x(160))}var n=t,t=n.stateNode;switch(n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(x(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.flags)){n=n.stateNode;break e}}(r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!=r||null!==n.onclick||(n.onclick=Tr));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}:function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling})(e,n,t)}function ns(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(x(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var o=e,s=i,l=s;;)if(Jo(o,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(o=n,s=i.stateNode,(8===o.nodeType?o.parentNode:o).removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i=(i.child.return=i).child;continue}}else if(Jo(e,i),null!==i.child){i=(i.child.return=i).child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null))for(var r=n=n.next;3==(3&r.tag)&&(e=r.destroy,(r.destroy=void 0)!==e&&e()),(r=r.next)!==n;);return;case 1:return;case 5:if(null!=(n=t.stateNode)){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if((t.updateQueue=null)!==a){for(n[Vr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ee(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];"style"===o?Ee(n,s):"dangerouslySetInnerHTML"===o?ge(n,s):"children"===o?ve(n,s):w(n,o,s,t)}switch(e){case"input":te(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ae(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(x(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,vt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Es=Ii(),Xo(t.child,!0)),void is(t);case 19:return void is(t);case 17:return;case 23:case 24:return void Xo(t,null!==t.memoizedState)}throw Error(x(163))}function is(n){var r,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new Go),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ni()?1:2:0===(t=Mt(62914560&~(Vs=0===Vs?gs:Vs)))&&(t=4194304)),n=zs(),null!==(e=Ws(e,t))&&(Vt(e,t,n),Ks(e,n))}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))}))}var as=Math.ceil,os=E.ReactCurrentDispatcher,ss=E.ReactCurrentOwner,ls=0,us=null,cs=null,hs=0,ds=0,fs=Gr(0),ps=0,ms=null,gs=0,vs=0,ys=0,bs=0,ws=null,Es=0,ks=1/0;function Cs(){ks=Ii()+500}var Ss,xs=null,Ts=!1,Is=null,Ns=null,Ds=!1,As=null,_s=90,Ps=[],Ls=[],Rs=null,Os=0,Ms=null,Fs=-1,Vs=0,js=0,Us=null,Bs=!1;function zs(){return 0!=(48&ls)?Ii():-1!==Fs?Fs:Fs=Ii()}function qs(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ni()?1:2;if(0===Vs&&(Vs=gs),0===Ri.transition)return e=Ni(),e=0!=(4&ls)&&98===e?Ot(12,Vs):Ot(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Vs);0!==js&&(js=null!==ws?ws.pendingLanes:0),e=Vs;var t=4186112&~js;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}function Hs(e,t,n){if(50<Os)throw Os=0,Ms=null,Error(x(185));var r;null!==(e=Ws(e,t))&&(Vt(e,t,n),e===us&&(ys|=t,4===ps&&Gs(e,hs)),r=Ni(),1===t?0!=(8&ls)&&0==(48&ls)?Qs(e):(Ks(e,n),0===ls&&(Cs(),Pi())):(0==(4&ls)||98!==r&&99!==r||(null===Rs?Rs=new Set([e]):Rs.add(e)),Ks(e,n)),ws=e)}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function Ks(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s,l=31-jt(o),u=1<<l,c=a[l];-1===c?0!=(u&r)&&0==(u&i)||(c=t,Pt(u),s=_t,a[l]=10<=s?c+250:6<=s?c+5e3:-1):c<=t&&(e.expiredLanes|=u),o&=~u}if(r=Lt(e,e===us?hs:0),t=_t,0===r)null!==n&&(n!==Ei&&di(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ei&&di(n)}n=15===t?(n=Qs.bind(null,e),null===Ci?(Ci=[n],Si=hi(gi,Li)):Ci.push(n),Ei):14===t?_i(99,Qs.bind(null,e)):_i(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(x(358,e))}}(t),$s.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function $s(t){if(Fs=-1,(js=Vs=0)!=(48&ls))throw Error(x(327));var e=t.callbackNode;if(sl()&&t.callbackNode!==e)return null;var n=Lt(t,t===us?hs:0);if(0===n)return null;var r=n,i=ls;ls|=16;var a=nl();for(us===t&&hs===r||(Cs(),el(t,r));;)try{!function(){for(;null!==cs&&!fi();)il(cs)}();break}catch(e){tl(t,e)}if(Ui(),os.current=a,ls=i,r=null!==cs?0:(us=null,hs=0,ps),0!=(gs&ys))el(t,0);else if(0!==r){if(2===r&&(ls|=64,t.hydrate&&(t.hydrate=!1,Lr(t.containerInfo)),0!==(n=Rt(t))&&(r=rl(t,n))),1===r)throw e=ms,el(t,0),Gs(t,n),Ks(t,Ii()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(x(345));case 2:ol(t);break;case 3:if(Gs(t,n),(62914560&n)===n&&10<(r=Es+500-Ii())){if(0!==Lt(t,0))break;if(((i=t.suspendedLanes)&n)!==n){zs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_r(ol.bind(null,t),r);break}ol(t);break;case 4:if(Gs(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-jt(n),a=1<<o;i<(o=r[o])&&(i=o),n&=~a}if(n=i,10<(n=((n=Ii()-n)<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:1960*as(n/1960))-n)){t.timeoutHandle=_r(ol.bind(null,t),n);break}ol(t);break;case 5:ol(t);break;default:throw Error(x(329))}}return Ks(t,Ii()),t.callbackNode===e?$s.bind(null,t):null}function Gs(e,t){for(t&=~bs,t&=~ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Qs(e){if(0!=(48&ls))throw Error(x(327));var t,n;if(sl(),e===us&&0!=(e.expiredLanes&hs)?(n=rl(e,t=hs),0!=(gs&ys)&&(n=rl(e,t=Lt(e,t)))):n=rl(e,t=Lt(e,0)),0!==e.tag&&2===n&&(ls|=64,e.hydrate&&(e.hydrate=!1,Lr(e.containerInfo)),0!==(t=Rt(e))&&(n=rl(e,t))),1===n)throw n=ms,el(e,0),Gs(e,t),Ks(e,Ii()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ol(e),Ks(e,Ii()),null}function Ys(e,t){var n=ls;ls|=1;try{return e(t)}finally{0===(ls=n)&&(Cs(),Pi())}}function Xs(e,t){var n=ls;ls&=-2,ls|=8;try{return e(t)}finally{0===(ls=n)&&(Cs(),Pi())}}function Js(e,t){Yr(fs,ds),ds|=t,gs|=t}function Zs(){ds=fs.current,Qr(fs)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pr(n)),null!==cs)for(n=cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ri();break;case 3:ya(),Qr(Zr),Qr(Jr),La();break;case 5:wa(r);break;case 4:ya();break;case 13:case 19:Qr(Ea);break;case 10:Bi(r);break;case 23:case 24:Zs()}n=n.return}cs=gl((us=e).current,null),hs=ds=gs=t,ms=null,bs=ys=vs=ps=0}function tl(e,t){do{var n=cs;try{if(Ui(),Ra.current=mo,Ua){for(var r=Fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ua=!1}if(Ma=0,ja=Va=Fa=null,Ba=!1,(ss.current=null)===n||null===n.return){ps=1,ms=t,cs=null;break}e:{var a=e,o=n.return,s=t;if(t=hs,(b=n).flags|=2048,(b.firstEffect=b.lastEffect=null)!==s&&"object"==typeof s&&"function"==typeof s.then){var l,u=s;0==(2&b.mode)&&((l=b.alternate)?(b.updateQueue=l.updateQueue,b.memoizedState=l.memoizedState,b.lanes=l.lanes):(b.updateQueue=null,b.memoizedState=null));var c,h,d,f=0!=(1&Ea.current),p=o;do{if(d=(d=13===p.tag)?null!==(c=p.memoizedState)?null!==c.dehydrated:void 0!==(h=p.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!f):d){var m,g,v=p.updateQueue;if(null===v?((m=new Set).add(u),p.updateQueue=m):v.add(u),0==(2&p.mode)){p.flags|=64,b.flags|=16384,b.flags&=-2981,1===b.tag&&(null===b.alternate?b.tag=17:((g=Gi(-1,1)).tag=2,Qi(b,g))),b.lanes|=1;break e}var y,s=void 0,b=t,w=a.pingCache;null===w?(w=a.pingCache=new Wo,s=new Set,w.set(u,s)):void 0===(s=w.get(u))&&(s=new Set,w.set(u,s)),s.has(b)||(s.add(b),y=dl.bind(null,a,u,b),u.then(y,y)),p.flags|=4096,p.lanes=t;break e}}while(null!==(p=p.return));s=Error((K(b.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ps&&(ps=2),s=Bo(s,b),p=o;do{switch(p.tag){case 3:a=s;p.flags|=4096,t&=-t,p.lanes|=t,Yi(p,Ko(0,a,t));break e;case 1:a=s;var E=p.type,k=p.stateNode;if(0==(64&p.flags)&&("function"==typeof E.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Ns||!Ns.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,Yi(p,$o(p,a,t));break e}}}while(null!==(p=p.return))}al(n)}catch(e){t=e,cs===n&&null!==n&&(cs=n=n.return);continue}break}while(1)}function nl(){var e=os.current;return os.current=mo,null===e?mo:e}function rl(t,e){var n=ls;ls|=16;var r=nl();for(us===t&&hs===e||el(t,e);;)try{!function(){for(;null!==cs;)il(cs)}();break}catch(e){tl(t,e)}if(Ui(),ls=n,os.current=r,null!==cs)throw Error(x(261));return us=null,hs=0,ps}function il(e){var t=Ss(e.alternate,e,ds);e.memoizedProps=e.pendingProps,null===t?al(e):cs=t,ss.current=null}function al(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ni(t.type)&&ri(),null;case 3:return ya(),Qr(Zr),Qr(Jr),La(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:wa(t);var i=ga(ma.current);if(n=t.type,null!==e&&null!=t.stateNode)qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(x(166));return null}if(e=ga(fa.current),Aa(t)){r=t.stateNode,n=t.type;var a,o=t.memoizedProps;switch(r[Fr]=t,r[Vr]=o,n){case"dialog":gr("cancel",r),gr("close",r);break;case"iframe":case"object":case"embed":gr("load",r);break;case"video":case"audio":for(e=0;e<dr.length;e++)gr(dr[e],r);break;case"source":gr("error",r);break;case"img":case"image":case"link":gr("error",r),gr("load",r);break;case"details":gr("toggle",r);break;case"input":Z(r,o),gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gr("invalid",r);break;case"textarea":se(r,o),gr("invalid",r)}for(a in Ce(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&gr("scroll",r));switch(n){case"input":Q(r),ne(r,o,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Tr)}r=e,null!==(t.updateQueue=r)&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,(e=e===ce?de(n):e)===ce?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Fr]=t,e[Vr]=r,zo(e,t),t.stateNode=e,a=Se(n,r),n){case"dialog":gr("cancel",e),gr("close",e),i=r;break;case"iframe":case"object":case"embed":gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<dr.length;i++)gr(dr[i],e);i=r;break;case"source":gr("error",e),i=r;break;case"img":case"image":case"link":gr("error",e),gr("load",e),i=r;break;case"details":gr("toggle",e),i=r;break;case"input":Z(e,r),i=J(e,r),gr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=m({},r,{value:void 0}),gr("invalid",e);break;case"textarea":se(e,r),i=oe(e,r),gr("invalid",e);break;default:i=r}Ce(n,i);var s,l=i;for(o in l)l.hasOwnProperty(o)&&(s=l[o],"style"===o?Ee(e,s):"dangerouslySetInnerHTML"===o?null!=(s=s?s.__html:void 0)&&ge(e,s):"children"===o?"string"==typeof s?"textarea"===n&&""===s||ve(e,s):"number"==typeof s&&ve(e,""+s):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(c.hasOwnProperty(o)?null!=s&&"onScroll"===o&&gr("scroll",e):null!=s&&w(e,o,s,a)));switch(n){case"input":Q(e),ne(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ae(e,!!r.multiple,o,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Tr)}Dr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(x(166));n=ga(ma.current),ga(fa.current),Aa(t)?(r=t.stateNode,n=t.memoizedProps,r[Fr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Fr]=t).stateNode=r}return null;case 13:return(Qr(Ea),r=t.memoizedState,0!=(64&t.flags))?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Aa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ea.current)?0===ps&&(ps=3):(0!==ps&&3!==ps||(ps=4),null===us||0==(134217727&vs)&&0==(134217727&ys)||Gs(us,hs))),(r||n)&&(t.flags|=4),null);case 4:return ya(),null===e&&yr(t.stateNode.containerInfo),null;case 10:return Bi(t),null;case 17:return ni(t.type)&&ri(),null;case 19:if(Qr(Ea),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)Uo(r,!1);else{if(0!==ps||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=ka(e))){for(t.flags|=64,Uo(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,(o.lastEffect=null)===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yr(Ea,1&Ea.current|2),t.child}e=e.sibling}null!==r.tail&&Ii()>ks&&(t.flags|=64,Uo(r,!(o=!0)),t.lanes=33554432)}else{if(!o)if(null!==(e=ka(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Uo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!xa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ii()-r.renderingStartTime>ks&&1073741824!==n&&(t.flags|=64,Uo(r,!(o=!0)),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ii(),n.sibling=null,t=Ea.current,Yr(Ea,o?1&t|2:1&t),n):null;case 23:case 24:return Zs(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(x(156,t.tag))}(n,t,ds)))return void(cs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ds)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=function(e){switch(e.tag){case 1:ni(e.type)&&ri();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ya(),Qr(Zr),Qr(Jr),La(),0!=(64&(t=e.flags)))throw Error(x(285));return e.flags=-4097&t|64,e;case 5:return wa(e),null;case 13:return Qr(Ea),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Qr(Ea),null;case 4:return ya(),null;case 10:return Bi(e),null;case 23:case 24:return Zs(),null;default:return null}}(t)))return n.flags&=2047,void(cs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(cs=t)}while(cs=t=e,null!==t);0===ps&&(ps=5)}function ol(e){var t=Ni();return Ai(99,function(e,t){for(;sl(),null!==As;);if(0!=(48&ls))throw Error(x(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o,s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-jt(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==Rs&&0==(24&r)&&Rs.has(e)&&Rs.delete(e),e===us&&(cs=us=null,hs=0),r=1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==r){if(i=ls,ls|=32,ss.current=null,Ir=Ht,rr(s=nr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=s,v=null;t:for(;;){for(;g!==l||0!==a&&3!==g.nodeType||(d=h+a),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(o=g.firstChild);)v=g,g=o;for(;;){if(g===s)break t;if(v===l&&++p===a&&(d=h),v===u&&++m===c&&(f=h),null!==(o=g.nextSibling))break;v=(g=v).parentNode}g=o}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Us=null,Bs=Ht=!(Nr={focusedElem:s,selectionRange:l}),xs=r;do{try{!function(){for(;null!==xs;){var e=xs.alternate;Bs||null===Us||(0!=(8&xs.flags)?Xe(xs,Us)&&(Bs=!0):13===xs.tag&&function(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}(e,xs)&&Xe(xs,Us)&&(Bs=!0));var t=xs.flags;0!=(256&t)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:var n,r;return 256&t.flags&&null!==e&&(n=e.memoizedProps,r=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Oi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t);case 3:return 256&t.flags&&Lr(t.stateNode.containerInfo);case 5:case 6:case 4:case 17:return}throw Error(x(163))}(e,xs),0==(512&t)||Ds||(Ds=!0,_i(97,function(){return sl(),null})),xs=xs.nextEffect}}()}catch(e){if(null===xs)throw Error(x(330));hl(xs,e),xs=xs.nextEffect}}while(null!==xs);Us=null,xs=r;do{try{for(s=e;null!==xs;){var y,b,w=xs.flags;switch(16&w&&ve(xs.stateNode,""),128&w&&(null===(y=xs.alternate)||null!==(b=y.ref)&&("function"==typeof b?b(null):b.current=null)),1038&w){case 2:ts(xs),xs.flags&=-3;break;case 6:ts(xs),xs.flags&=-3,rs(xs.alternate,xs);break;case 1024:xs.flags&=-1025;break;case 1028:xs.flags&=-1025,rs(xs.alternate,xs);break;case 4:rs(xs.alternate,xs);break;case 8:ns(s,l=xs);var E=l.alternate;Zo(l),null!==E&&Zo(E)}xs=xs.nextEffect}}catch(e){if(null===xs)throw Error(x(330));hl(xs,e),xs=xs.nextEffect}}while(null!==xs);if(b=Nr,y=nr(),w=b.focusedElem,s=b.selectionRange,y!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&rr(w)&&(y=s.start,void 0===(b=s.end)&&(b=y),"selectionStart"in w?(w.selectionStart=y,w.selectionEnd=Math.min(b,w.value.length)):(b=(y=w.ownerDocument||document)&&y.defaultView||window).getSelection&&(b=b.getSelection(),l=w.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!b.extend&&s<E&&(l=s,s=E,E=l),l=tr(w,E),a=tr(w,s),l&&a&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((y=y.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),s<E?(b.addRange(y),b.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),b.addRange(y))))),y=[];for(b=w;b=b.parentNode;)1===b.nodeType&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<y.length;w++)(b=y[w]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Ht=!!Ir,Nr=Ir=null,e.current=n,xs=r;do{try{for(w=e;null!==xs;){var k,C,S=xs.flags;36&S&&Yo(w,xs.alternate,xs),128&S&&(y=void 0,null!==(k=xs.ref)&&(C=xs.stateNode,xs.tag,y=C,"function"==typeof k?k(y):k.current=y)),xs=xs.nextEffect}}catch(e){if(null===xs)throw Error(x(330));hl(xs,e),xs=xs.nextEffect}}while(null!==xs);xs=null,ki(),ls=i}else e.current=n;if(Ds)Ds=!1,As=e,_s=t;else for(xs=r;null!==xs;)t=xs.nextEffect,xs.nextEffect=null,8&xs.flags&&((S=xs).sibling=null,S.stateNode=null),xs=t;if(0===(r=e.pendingLanes)&&(Ns=null),1===r?e===Ms?Os++:(Os=0,Ms=e):Os=0,n=n.stateNode,ui&&"function"==typeof ui.onCommitFiberRoot)try{ui.onCommitFiberRoot(li,n,void 0,64==(64&n.current.flags))}catch(e){}if(Ks(e,Ii()),Ts)throw Ts=!1,e=Is,Is=null,e;return 0!=(8&ls)||Pi(),null}.bind(null,e,t)),null}function sl(){if(90===_s)return!1;var e=97<_s?97:_s;return _s=90,Ai(e,ul)}function ll(e,t){Ls.push(t,e),Ds||(Ds=!0,_i(97,function(){return sl(),null}))}function ul(){if(null===As)return!1;var e=As;if(As=null,0!=(48&ls))throw Error(x(331));var t=ls;ls|=32;var n=Ls;Ls=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(e){if(null===a)throw Error(x(330));hl(a,e)}}for(n=Ps,Ps=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===a)throw Error(x(330));hl(a,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return ls=t,Pi(),!0}function cl(e,t,n){Qi(e,t=Ko(0,t=Bo(n,t),1)),t=zs(),null!==(e=Ws(e,1))&&(Vt(e,1,t),Ks(e,t))}function hl(e,t){if(3===e.tag)cl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){cl(n,e,t);break}if(1===n.tag){var r,i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ns||!Ns.has(i))){if(Qi(n,r=$o(n,e=Bo(t,e),1)),r=zs(),null!==(n=Ws(n,1)))Vt(n,1,r),Ks(n,r);else if("function"==typeof i.componentDidCatch&&(null===Ns||!Ns.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function dl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,us===e&&(hs&n)===n&&(4===ps||3===ps&&(62914560&hs)===hs&&Ii()-Es<500?el(e,0):bs|=n),Ks(e,t)}function fl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(e,t,n,r){return new fl(e,t,n,r)}function ml(e){return(e=e.prototype)&&e.isReactComponent}function gl(e,t){var n=e.alternate;return null===n?((n=pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vl(e,t,n,r,i,a){var o=2;if("function"==typeof(r=e))ml(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case S:return yl(n.children,i,a,t);case F:o=8,i|=16;break;case T:o=8,i|=1;break;case I:return(e=pl(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case _:return(e=pl(13,n,t,i)).type=_,e.elementType=_,e.lanes=a,e;case P:return(e=pl(19,n,t,i)).elementType=P,e.lanes=a,e;case V:return bl(n,i,a,t);case j:return(e=pl(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case D:o=9;break e;case A:o=11;break e;case L:o=14;break e;case R:o=16,r=null;break e;case O:o=22;break e}throw Error(x(130,null==e?e:typeof e,""))}return(t=pl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function yl(e,t,n,r){return(e=pl(7,e,r,t)).lanes=n,e}function bl(e,t,n,r){return(e=pl(23,e,r,t)).elementType=V,e.lanes=n,e}function wl(e,t,n){return(e=pl(6,e,null,t)).lanes=n,e}function El(e,t,n){return(t=pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function Cl(e,t,n,r){var i=t.current,a=zs(),o=qs(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(x(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ni(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}}while(null!==(s=s.return));throw Error(x(171))}if(1===n.tag){var l=n.type;if(ni(l)){n=ai(n,l,s);break e}}n=s}else n=Xr;return null===t.context?t.context=n:t.pendingContext=n,(t=Gi(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Qi(i,t),Hs(i,o,a),o}function Sl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function xl(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function Tl(e,t){xl(e,t),(e=e.alternate)&&xl(e,t)}function Il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new kl(e,t,null!=n&&!0===n.hydrate),t=pl(3,null,null,2===t?7:1===t?3:0),(n.current=t).stateNode=n,Ki(t),e[jr]=n.current,yr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(i=(t=r[e])._getVersion)(t._source);null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Nl(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Dl(e,t,n,r,i){var a,o,s,l=n._reactRootContainer;return l?(s=l._internalRoot,"function"==typeof i&&(a=i,i=function(){var e=Sl(s);a.call(e)}),Cl(t,s,e,i)):(s=(l=n._reactRootContainer=function(e,t){if(!(t=!t?!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot")):t))for(var n;n=e.lastChild;)e.removeChild(n);return new Il(e,0,t?{hydrate:!0}:void 0)}(n,r))._internalRoot,"function"==typeof i&&(o=i,i=function(){var e=Sl(s);o.call(e)}),Xs(function(){Cl(t,s,e,i)})),Sl(s)}function Al(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nl(t))throw Error(x(200));return function(e,t,n,r){return{$$typeof:C,key:null==(r=3<arguments.length&&void 0!==r?r:null)?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ss=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Zr.current)wo=!0;else{if(0==(n&r)){switch(wo=!1,t.tag){case 3:Ao(t),_a();break;case 5:ba(t);break;case 1:ni(t.type)&&oi(t);break;case 4:va(t,t.stateNode.containerInfo);break;case 10:var r=t.memoizedProps.value,i=t.type._context;Yr(Mi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Po(e,t,n):(Yr(Ea,1&Ea.current),null!==(t=jo(e,t,n))?t.sibling:null);Yr(Ea,1&Ea.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Vo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yr(Ea,Ea.current),r)break;return null;case 23:case 24:return t.lanes=0,xo(e,t,n)}return jo(e,t,n)}wo=0!=(16384&e.flags)}else wo=!1;switch(t.lanes=0,t.tag){case 2:return r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=ti(t,Jr.current),qi(t,n),i=Ha(null,t,r,e,i,n),t.flags|=1,t="object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ni(r)?(a=!0,oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ki(t),"function"==typeof(l=r.getDerivedStateFromProps)&&ea(t,0,l,e),i.updater=ta,aa((t.stateNode=i)._reactInternals=t,r,e,n),Do(null,t,r,!0,a,n)):(t.tag=0,Eo(null,t,i,n),t.child);case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return ml(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===L)return 14}return 2}(i),e=Oi(i,e),a){case 0:t=Io(null,t,i,e,n);break e;case 1:t=No(null,t,i,e,n);break e;case 11:t=ko(null,t,i,e,n);break e;case 14:t=Co(null,t,i,Oi(i.type,e),r,n);break e}throw Error(x(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:Oi(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:Oi(r,i),n);case 3:if(Ao(t),r=t.updateQueue,null===e||null===r)throw Error(x(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,$i(e,t),Xi(t,r,null,n),(r=t.memoizedState.element)===i)_a(),t=jo(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Sa=Rr(t.stateNode.containerInfo.firstChild),Ca=t,a=xa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Pa.push(a);for(n=ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Eo(e,t,r,n),_a();t=t.child}return t;case 5:return ba(t),null===e&&Na(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,Ar(r,i)?l=null:null!==a&&Ar(r,a)&&(t.flags|=16),To(e,t),Eo(e,t,l,n),t.child;case 6:return null===e&&Na(t),null;case 13:return Po(e,t,n);case 4:return va(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ca(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:Oi(r,i),n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps;var a=i.value,o=t.type._context;if(Yr(Mi,o._currentValue),o._currentValue=a,null!==l)if(o=l.value,0===(a=Xn(o,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,a):1073741823))){if(l.children===i.children&&!Zr.current){t=jo(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s)for(var l=o.child,u=s.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&a)){1===o.tag&&((u=Gi(-1,n&-n)).tag=2,Qi(o,u)),o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),zi(o.return,n),s.lanes|=n;break}u=u.next}else l=10===o.tag&&o.type===t.type?null:o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Eo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,qi(t,n),r=r(i=Hi(i,a.unstable_observedBits)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return a=Oi(i=t.type,t.pendingProps),Co(e,t,i,a=Oi(i.type,a),r,n);case 15:return So(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ni(r)?(e=!0,oi(t)):e=!1,qi(t,n),ra(t,r,i),aa(t,r,i,n),Do(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 23:case 24:return xo(e,t,n)}throw Error(x(156,t.tag))},Il.prototype.render=function(e){Cl(e,this._internalRoot,null,null)},Il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Cl(null,e,null,function(){t[jr]=null})},Je=function(e){13===e.tag&&(Hs(e,4,zs()),Tl(e,4))},Ze=function(e){13===e.tag&&(Hs(e,67108864,zs()),Tl(e,67108864))},et=function(e){var t,n;13===e.tag&&(t=zs(),Hs(e,n=qs(e),t),Tl(e,n))},Te=function(e,t,n){switch(t){case"input":if(te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hr(r);if(!i)throw Error(x(90));Y(r),te(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=Ys,Le=function(e,t,n,r,i){var a=ls;ls|=4;try{return Ai(98,e.bind(null,t,n,r,i))}finally{0===(ls=a)&&(Cs(),Pi())}};var _l=function(e,t){var n=ls;ls|=2;try{return e(t)}finally{0===(ls=n)&&(Cs(),Pi())}},Dt=(Re=function(){var e;0==(49&ls)&&(null!==Rs&&(e=Rs,Rs=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ks(e,Ii())})),Pi(),sl())},{findFiberByHostInstance:Br,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"}),E={bundleType:Dt.bundleType,version:Dt.version,rendererPackageName:Dt.rendererPackageName,rendererConfig:Dt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:Dt.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){Dt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dt.isDisabled&&Dt.supportsFiber)try{li=Dt.inject(E),ui=Dt}catch(e){}}t.createPortal=Al,t.render=function(e,t,n){if(!Nl(t))throw Error(x(200));return Dl(null,e,t,!1,n)}},935:(e,t,n)=>{"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}})(),e.exports=n(448)},852:function(e,t,n){var r;e.exports=(r=n(294),function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(1)),l=r(n(8)),i=r(n(2)),o=n(10),a=r(n(3)),u=r(n(6)),c=function(e){return e.query||(0,a.default)(e)},h=function(n){if(!n)return null;var e=Object.keys(n);return 0===e.length?null:e.reduce(function(e,t){return e[(0,i.default)(t)]=n[t],e},{})},d=function(){var e=s.default.useRef(!1);return s.default.useEffect(function(){e.current=!0},[]),e.current},f=function(e){function t(){return h(e)||h(n)||{}}var n=s.default.useContext(u.default),r=s.default.useState(t),i=r[0],a=r[1];return s.default.useEffect(function(){var e=t();(0,o.shallowEqualObjects)(i,e)||a(e)},[e,n]),i},p=function(e){function t(){return c(e)}var n=s.default.useState(t),r=n[0],i=n[1];return s.default.useEffect(function(){var e=t();r!==e&&i(e)},[e]),r},m=function(e,t){function n(){return(0,l.default)(e,t)}var r=s.default.useState(n),i=r[0],a=r[1],o=d();return s.default.useEffect(function(){if(o){var e=n();return a(e),function(){e&&e.dispose()}}},[e,t]),i},g=function(t){var e=s.default.useState(t.matches),n=e[0],r=e[1];return s.default.useEffect(function(){function e(){r(t.matches)}return t.addListener(e),e(),function(){t.removeListener(e)}},[t]),n};t.default=function(e,t,n){t=f(t),e=p(e);if(!e)throw new Error("Invalid or missing MediaQuery!");var r=m(e,t),i=g(r),a=d();return s.default.useEffect(function(){a&&n&&n(i)},[i]),s.default.useEffect(function(){return function(){r&&r.dispose()}},[]),i}},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0});var i=/[A-Z]/g,a=/^ms-/,o={};t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(i,r);return o[e]=a.test(t)?"-"+t:t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(11)),o=function(e){return"not ".concat(e)},s=function(e,t){e=(0,i.default)(e);return!0===(t="number"==typeof t?"".concat(t,"px"):t)?e:!1===t?o(e):"(".concat(e,": ").concat(t,")")},l=function(e){return e.join(" and ")};t.default=function(n){var r=[];return Object.keys(a.default.all).forEach(function(e){var t=n[e];null!=t&&r.push(s(e,t))}),l(r)}},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});n=r(n(1)).default.createContext({});t.default=n},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n(0));t.useMediaQuery=i.default;i=r(n(17));t.default=i.default;i=r(n(3));t.toQuery=i.default;n=r(n(6));t.Context=n.default},function(e,t,n){"use strict";function r(e,t,n){function r(e){a.matches=e.matches,a.media=e.media}var i,a=this;s&&!n?(i=s.call(window,e),this.matches=i.matches,this.media=i.media,i.addListener(r)):(this.matches=o(e,t),this.media=e),this.addListener=function(e){i&&i.addListener(e)},this.removeListener=function(e){i&&i.removeListener(e)},this.dispose=function(){i&&i.removeListener(r)}}var o=n(9).match,s="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,n){return new r(e,t,n)}},function(e,t,n){"use strict";function r(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(i),n=t[1],r=t[2],e=t[3]||"",t={};return t.inverse=!!n&&"not"===n.toLowerCase(),t.type=r?r.toLowerCase():"all",e=e.match(/\([^\)]+\)/g)||[],t.expressions=e.map(function(e){var t=e.match(a),e=t[1].toLowerCase().match(u);return{modifier:e[1],feature:e[2],value:t[2]}}),t})}function o(e){var t=Number(e);return t=!t?(e=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/e[2]:t}function s(e){var t=parseFloat(e);switch(String(e).match(h)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function l(e){var t=parseFloat(e);switch(String(e).match(c)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,a){return r(e).some(function(e){var t=e.inverse,n="all"===e.type||a.type===e.type;if(n&&t||!n&&!t)return!1;e=e.expressions.every(function(e){var t=e.feature,n=e.modifier,r=e.value,i=a[t];if(!i)return!1;switch(t){case"orientation":case"scan":return i.toLowerCase()===r.toLowerCase();case"width":case"height":case"device-width":case"device-height":r=l(r),i=l(i);break;case"resolution":r=s(r),i=s(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":r=o(r),i=o(i);break;case"grid":case"color":case"color-index":case"monochrome":r=parseInt(r,10)||1,i=parseInt(i,10)||0}switch(n){case"min":return r<=i;case"max":return i<=r;default:return i===r}});return e&&!t||!e&&t})},t.parse=r;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,a=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0;a<i;a++){var o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"shallowEqualArrays",function(){return i}),n.d(t,"shallowEqualObjects",function(){return r})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(12)),s=o.default.oneOfType([o.default.string,o.default.number]),a={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},n={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:s,type:Object.keys(a)},i=i(n,["type"]),s=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:s,maxResolution:s},i),i=r(r({},a),s);t.default={all:i,types:a,matchers:n,features:s}},function(e,t,n){var r=n(4);e.exports=n(14)(r.isElement,!0)},function(e,t,n){"use strict";function r(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:var n=e.type;switch(n){case f:case p:case l:case c:case u:case g:return n;default:var r=n&&n.$$typeof;switch(r){case d:case m:case b:case y:case h:return r;default:return t}}case s:return t}}}function i(e){return r(e)===p}var a,o,s,l,u,c,h,d,f,p,m,g,v,y,b,w,E,k,C,S,x,T,I,N,D,A,_,P,L,R,O;a="function"==typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,h=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.async_mode"):60111,p=a?Symbol.for("react.concurrent_mode"):60111,m=a?Symbol.for("react.forward_ref"):60112,g=a?Symbol.for("react.suspense"):60113,v=a?Symbol.for("react.suspense_list"):60120,y=a?Symbol.for("react.memo"):60115,b=a?Symbol.for("react.lazy"):60116,w=a?Symbol.for("react.block"):60121,E=a?Symbol.for("react.fundamental"):60117,k=a?Symbol.for("react.responder"):60118,C=a?Symbol.for("react.scope"):60119,S=p,x=d,T=h,I=o,N=m,D=l,A=b,_=y,P=s,L=c,R=u,a=g,O=!1,t.AsyncMode=f,t.ConcurrentMode=S,t.ContextConsumer=x,t.ContextProvider=T,t.Element=I,t.ForwardRef=N,t.Fragment=D,t.Lazy=A,t.Memo=_,t.Portal=P,t.Profiler=L,t.StrictMode=R,t.Suspense=a,t.isAsyncMode=function(e){return O||(O=!0),i(e)||r(e)===f},t.isConcurrentMode=i,t.isContextConsumer=function(e){return r(e)===d},t.isContextProvider=function(e){return r(e)===h},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return r(e)===m},t.isFragment=function(e){return r(e)===l},t.isLazy=function(e){return r(e)===b},t.isMemo=function(e){return r(e)===y},t.isPortal=function(e){return r(e)===s},t.isProfiler=function(e){return r(e)===c},t.isStrictMode=function(e){return r(e)===u},t.isSuspense=function(e){return r(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===p||e===c||e===u||e===g||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===y||e.$$typeof===h||e.$$typeof===d||e.$$typeof===m||e.$$typeof===E||e.$$typeof===k||e.$$typeof===C||e.$$typeof===w)},t.typeOf=r},function(e,t,n){"use strict";function r(){return null}var u=n(4),m=n(15),g=n(5),i=n(16),v=Function.call.bind(Object.prototype.hasOwnProperty),y=function(e){e="Warning: "+e;try{throw new Error(e)}catch(e){}};e.exports=function(a,h){function d(e){this.message=e,this.stack=""}function n(l){function e(e,t,n,r,i,a,o){if(r=r||p,a=a||n,o!==g){if(h){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}"undefined"==typeof console||!u[s=r+":"+n]&&c<3&&(y("You are manually calling a React.PropTypes validation function for the `"+a+"` prop on `"+r+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),u[s]=!0,c++)}return null==t[n]?e?new d(null===t[n]?"The "+i+" `"+a+"` is marked as required in `"+r+"`, but its value is `null`.":"The "+i+" `"+a+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:l(t,n,r,i,a)}var u={},c=0,t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function e(o){return n(function(e,t,n,r,i,a){return c(t=e[t])!==o?new d("Invalid "+r+" `"+i+"` of type `"+f(t)+"` supplied to `"+n+"`, expected `"+o+"`."):null})}function o(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(o);if(null===e||a(e))return!0;var t=function(e){if("function"==typeof(e=e&&(s&&e[s]||e[l])))return e}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!o(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!o(i[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(e=e,"symbol"===t||e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)?"symbol":t)}function f(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var s="function"==typeof Symbol&&Symbol.iterator,l="@@iterator",p="<<anonymous>>",t={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(r),arrayOf:function(l){return n(function(e,t,n,r,i){if("function"!=typeof l)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=e[t];if(!Array.isArray(a))return new d("Invalid "+r+" `"+i+"` of type `"+c(a)+"` supplied to `"+n+"`, expected an array.");for(var o=0;o<a.length;o++){var s=l(a,o,n,r,i+"["+o+"]",g);if(s instanceof Error)return s}return null})},element:n(function(e,t,n,r,i){return t=e[t],a(t)?null:new d("Invalid "+r+" `"+i+"` of type `"+c(t)+"` supplied to `"+n+"`, expected a single ReactElement.")}),elementType:n(function(e,t,n,r,i){return t=e[t],u.isValidElementType(t)?null:new d("Invalid "+r+" `"+i+"` of type `"+c(t)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(o){return n(function(e,t,n,r,i){if(e[t]instanceof o)return null;var a=o.name||p;return new d("Invalid "+r+" `"+i+"` of type `"+((t=e[t]).constructor&&t.constructor.name?t.constructor.name:p)+"` supplied to `"+n+"`, expected instance of `"+a+"`.")})},node:n(function(e,t,n,r,i){return o(e[t])?null:new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(l){return n(function(e,t,n,r,i){if("function"!=typeof l)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a,o=e[t];if("object"!==(t=c(o)))return new d("Invalid "+r+" `"+i+"` of type `"+t+"` supplied to `"+n+"`, expected an object.");for(a in o)if(v(o,a)){var s=l(o,a,n,r,i+"."+a,g);if(s instanceof Error)return s}return null})},oneOf:function(u){return Array.isArray(u)?n(function(e,t,n,r,i){for(var a,o,s=e[t],l=0;l<u.length;l++)if(a=s,o=u[l],a===o?0!==a||1/a==1/o:a!=a&&o!=o)return null;return t=JSON.stringify(u,function(e,t){return"symbol"===f(t)?String(t):t}),new d("Invalid "+r+" `"+i+"` of value `"+String(s)+"` supplied to `"+n+"`, expected one of "+t+".")}):(y(1<arguments.length?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)},oneOfType:function(o){if(!Array.isArray(o))return y("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var e=0;e<o.length;e++){var t=o[e];if("function"!=typeof t)return y("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+function(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}(t)+" at index "+e+"."),r}return n(function(e,t,n,r,i){for(var a=0;a<o.length;a++)if(null==(0,o[a])(e,t,n,r,i,g))return null;return new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")})},shape:function(l){return n(function(e,t,n,r,i){var a,o=e[t];if("object"!==(t=c(o)))return new d("Invalid "+r+" `"+i+"` of type `"+t+"` supplied to `"+n+"`, expected `object`.");for(a in l){var s=l[a];if(s){s=s(o,a,n,r,i+"."+a,g);if(s)return s}}return null})},exact:function(u){return n(function(e,t,n,r,i){var a,o=e[t],s=c(o);if("object"!==s)return new d("Invalid "+r+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(a in m({},e[t],u)){var l=u[a];if(!l)return new d("Invalid "+r+" `"+i+"` key `"+a+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(u),null,"  "));l=l(o,a,n,r,i+"."+a,g);if(l)return l}return null})}};return d.prototype=Error.prototype,t.checkPropTypes=i,t.resetWarningCache=i.resetWarningCache,t.PropTypes=t}},function(e,t,n){"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))u.call(n,a)&&(r[a]=n[a]);if(l)for(var o=l(n),s=0;s<o.length;s++)c.call(n,o[s])&&(r[o[s]]=n[o[s]])}return r}},function(e,t,n){"use strict";function r(e,t,n,r,i){for(var a in e)if(c(e,a)){var o;try{if("function"!=typeof e[a]){var s=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.");throw s.name="Invariant Violation",s}o=e[a](t,a,r,n,null,l)}catch(e){o=e}!o||o instanceof Error||h((r||"React class")+": type specification of "+n+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in u)&&(u[o.message]=!0,a=i?i():"",h("Failed "+n+" type: "+o.message+(null!=a?a:"")))}}var l=n(5),u={},c=Function.call.bind(Object.prototype.hasOwnProperty),h=function(e){e="Warning: "+e;try{throw new Error(e)}catch(e){}};r.resetWarningCache=function(){u={}},e.exports=r},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));t.default=function(e){var t=e.children,n=e.device,r=e.onChange,e=i(e,["children","device","onChange"]),r=(0,a.default)(e,n,r);return"function"==typeof t?t(r):r?t:null}}]))},343:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TLoginButton=t.TLoginButtonSize=void 0;var l=s(n(294)),u=n(294);(n=t.TLoginButtonSize||(t.TLoginButtonSize={})).Large="large",n.Medium="medium",n.Small="small";var c,i=(c=u.Component,i(h,c),h.prototype.componentDidMount=function(){var e=this.props,t=e.botName,n=e.buttonSize,r=e.cornerRadius,i=e.requestAccess,a=e.usePic,o=e.onAuthCallback,s=e.redirectUrl,l=e.lang;null!=o&&(window.TelegramOnAuthCb=function(e){return o(e)});e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?10",e.async=!0,e.setAttribute("data-telegram-login",t),null!=n&&e.setAttribute("data-size",n),null!=n&&e.setAttribute("data-radius",""+r),null!=a&&e.setAttribute("data-userpic",""+a),null!=l&&e.setAttribute("data-lang",l),null!=s&&e.setAttribute("data-auth-url",s),null!=o&&e.setAttribute("data-onauth","TelegramOnAuthCb(user)"),null!=i&&e.setAttribute("data-request-access",i),this._containerRef.current.appendChild(e)},h.prototype.render=function(){return l.createElement("div",{className:"tlogin-button",ref:this._containerRef})},h);function h(){var e=null!==c&&c.apply(this,arguments)||this;return e._containerRef=u.createRef(),e}t.TLoginButton=i},408:(e,t,n)=>{"use strict";var c=n(418),h=60103,d=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var r=60109,i=60110,a=60112;t.Suspense=60113;var o=60115,s=60116;"function"==typeof Symbol&&Symbol.for&&(h=(y=Symbol.for)("react.element"),d=y("react.portal"),t.Fragment=y("react.fragment"),t.StrictMode=y("react.strict_mode"),t.Profiler=y("react.profiler"),r=y("react.provider"),i=y("react.context"),a=y("react.forward_ref"),t.Suspense=y("react.suspense"),o=y("react.memo"),s=y("react.lazy"));var f="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u={};function m(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=v.prototype=new g;y.constructor=v,c(y,m.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:h,type:e,key:a,ref:o,props:i,_owner:b.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var S=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function T(e,t,n,r,i){var a,o,s=!1;if(null===(e="undefined"===(u=typeof e)||"boolean"===u?null:e))s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case h:case d:s=!0}}if(s)return i=i(s=e),e=""===r?"."+x(s,0):r,Array.isArray(i)?(n="",T(i,t,n=null!=e?e.replace(S,"$&/")+"/":n,"",function(e){return e})):null!=i&&(C(i)&&(a=n+(!(o=i).key||s&&s.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e,i={$$typeof:h,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}),t.push(i)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u,c=r+x(u=e[l],l);s+=T(u,t,n,c,i)}else if("function"==typeof(c=null!==(o=e)&&"object"==typeof o&&"function"==typeof(o=f&&o[f]||o["@@iterator"])?o:null))for(e=c.call(e),l=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,c=r+x(u,l++),i);else if("object"===u)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(t){var e;if(-1===t._status&&(e=(e=t._result)(),t._status=0,(t._result=e).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})),1===t._status)return t._result;throw t._result}var D={current:null};function A(){var e=D.current;if(null===e)throw Error(p(321));return e}y={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:c};t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var r=c({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref,o=b.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)w.call(t,s)&&!E.hasOwnProperty(s)&&(r[s]=(void 0===t[s]&&void 0!==l?l:t)[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:h,type:e.type,key:i,ref:a,props:r,_owner:o}},t.createContext=function(e,t){return(e={$$typeof:i,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:a,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:o,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,s)=>{"use strict";var t,n,r,i,a,o,l,u,c,h,d,f,p,m,g,v,y,b;function w(e,t){var n=e.length;for(e.push(t);;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=1+a,l=e[s];if(void 0!==o&&C(o,n)<0)r=void 0!==l&&C(l,o)<0?(e[r]=l,e[s]=n,s):(e[r]=o,e[a]=n,a);else{if(!(void 0!==l&&C(l,n)<0))break;e[r]=l,e[s]=n,r=s}}}return t}}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(t=performance,s.unstable_now=function(){return t.now()}):(n=Date,r=n.now(),s.unstable_now=function(){return n.now()-r}),"undefined"==typeof window||"function"!=typeof MessageChannel?(a=i=null,o=function(){if(null!==i)try{var e=s.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(o,0),e}},l=function(e){null!==i?setTimeout(l,0,e):(i=e,setTimeout(o,0))},u=function(e,t){a=setTimeout(e,t)},c=function(){clearTimeout(a)},s.unstable_shouldYield=function(){return!1},O=s.unstable_forceFrameRate=function(){}):(h=window.setTimeout,d=window.clearTimeout,f=!1,p=null,m=-1,g=5,v=0,s.unstable_shouldYield=function(){return s.unstable_now()>=v},O=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e||(g=0<e?Math.floor(1e3/e):5)},y=new MessageChannel,b=y.port2,y.port1.onmessage=function(){if(null!==p){var e=s.unstable_now();v=e+g;try{p(!0,e)?b.postMessage(null):(f=!1,p=null)}catch(e){throw b.postMessage(null),e}}else f=!1},l=function(e){p=e,f||(f=!0,b.postMessage(null))},u=function(e,t){m=h(function(){e(s.unstable_now())},t)},c=function(){d(m),m=-1});var S=[],x=[],T=1,I=null,N=3,D=!1,A=!1,_=!1;function P(e){for(var t=E(x);null!==t;){if(null===t.callback)k(x);else{if(!(t.startTime<=e))break;k(x),t.sortIndex=t.expirationTime,w(S,t)}t=E(x)}}function L(e){var t;_=!1,P(e),A||(null!==E(S)?(A=!0,l(R)):null!==(t=E(x))&&u(L,t.startTime-e))}function R(e,t){A=!1,_&&(_=!1,c()),D=!0;var n=N;try{for(P(t),I=E(S);null!==I&&(!(I.expirationTime>t)||e&&!s.unstable_shouldYield());){var r,i=I.callback;"function"==typeof i?(I.callback=null,N=I.priorityLevel,r=i(I.expirationTime<=t),t=s.unstable_now(),"function"==typeof r?I.callback=r:I===E(S)&&k(S),P(t)):k(S),I=E(S)}var a,o=null!==I||(null!==(a=E(x))&&u(L,a.startTime-t),!1);return o}finally{I=null,N=n,D=!1}}var O=O;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_continueExecution=function(){A||D||(A=!0,l(R))},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return E(S)},s.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=O,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();switch(n="object"==typeof n&&null!==n?"number"==typeof(n=n.delay)&&0<n?r+n:r:r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:T++,callback:t,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},r<n?(e.sortIndex=n,w(x,e),null===E(S)&&e===E(x)&&(_?c():_=!0,u(L,n-r))):(e.sortIndex=i,w(S,e),A||D||(A=!0,l(R))),e},s.unstable_wrapCallback=function(t){var n=N;return function(){var e=N;N=n;try{return t.apply(this,arguments)}finally{N=e}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},r={};function kb(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e].call(t.exports,t,t.exports,kb),t.exports}kb.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),kb.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";var S=kb(294),n=kb(935);class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(n){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof n&&(this.promise.catch(()=>{}),1===n.length?n(e):n(e,t))}}}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function t(){return!function(){try{return"[object process]"===Object.prototype.toString.call(kb.g.process)}catch(e){return}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a.prototype.create)}}class a{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var r,n=t[0]||{},t=this.service+"/"+e,e=this.errors[e],e=e?(r=n,e.replace(o,(e,t)=>{var n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${t}).`;return new i(t,e,n)}}const o=/\{\$([^}]+)}/g;function l(e,t){if(e===t)return 1;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return;var i=e[o],a=t[o];if(u(i)&&u(a)){if(!l(i,a))return}else if(i!==a)return}for(const s of r)if(!n.includes(s))return;return 1}function u(e){return null!==e&&"object"==typeof e}var h;function d(e){return e&&e._delegate?e._delegate:e}class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const c="[DEFAULT]";class p{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){e=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(e)){const n=new r;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var t=this.getOrInitializeService({instanceIdentifier:e});t&&n.resolve(t)}catch(e){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),t=null!==(t=null==t?void 0:t.optional)&&void 0!==t&&t;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(e){if(t)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:c})}catch(e){}for(var[t,n]of this.instancesDeferred.entries()){t=this.normalizeInstanceIdentifier(t);try{var r=this.getOrInitializeService({instanceIdentifier:t});n.resolve(r)}catch(e){}}}}clearInstance(e=c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=c){return this.instances.has(e)}getOptions(e=c){return this.instancesOptions.get(e)||{}}initialize(e={}){var{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(this.name+`(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);var r,i,a=this.getOrInitializeService({instanceIdentifier:n,options:t});for([r,i]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(r)&&i.resolve(a);return a}onInit(e,t){var n=this.normalizeInstanceIdentifier(t);const r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;r.add(e),this.onInitCallbacks.set(n,r);t=this.instances.get(n);return t&&e(t,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){var n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===c?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=c){return!this.component||this.component.multipleInstances?e:c}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with `+this.name);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const g=[];(kf=h=h||{})[kf.DEBUG=0]="DEBUG",kf[kf.VERBOSE=1]="VERBOSE",kf[kf.INFO=2]="INFO",kf[kf.WARN=3]="WARN",kf[kf.ERROR=4]="ERROR",kf[kf.SILENT=5]="SILENT";const v={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},y=h.INFO,b={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},w=(e,t)=>{if(!(t<e.logLevel)){(new Date).toISOString();e=b[t];if(!e)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class e{constructor(e){this.name=e,this._logLevel=y,this._logHandler=w,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?v[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}class E{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(function(e){e=e.getComponent();return"VERSION"===(null==e?void 0:e.type)}(e)){e=e.getImmediate();return e.library+"/"+e.version}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",C=new e("@firebase/app");const x="[DEFAULT]",T={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},I=new Map,N=new Map;function D(e){var t=e.name;if(!N.has(t)){N.set(t,e);for(const n of I.values())!function(t,n){try{t.container.addComponent(n)}catch(e){C.debug(`Component ${n.name} failed to register with FirebaseApp `+t.name,e)}}(n,e);return 1}C.debug(`There were multiple attempts to register component ${t}.`)}function A(e,t){return e.container.getProvider(t)}const _=new a("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class P{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}function L(e,t,n){var r;let i=null!==(r=T[e])&&void 0!==r?r:e;n&&(i+="-"+n);e=i.match(/\s|\//),n=t.match(/\s|\//);if(e||n){const a=[`Unable to register library "${i}" with version "${t}":`];return e&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),e&&n&&a.push("and"),n&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void C.warn(a.join(" "))}D(new s(i+"-version",()=>({library:i,version:t}),"VERSION"))}xf="",D(new s("platform-logger",e=>new E(e),"PRIVATE")),L(k,"0.7.12",xf),L(k,"0.7.12","esm2017"),L("fire-js","");var R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==kb.g?kb.g:"undefined"!=typeof self?self:{},O={},M={},F=R||self;function V(){}function j(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function U(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var B="closure_uid_"+(1e9*Math.random()>>>0),z=0;function q(e,t,n){return e.call.apply(e.bind,arguments)}function H(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function W(e,t,n){return(W=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?q:H).apply(null,arguments)}function K(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $(e,a){function t(){}t.prototype=a.prototype,e.Z=a.prototype,e.prototype=new t,(e.prototype.constructor=e).Vb=function(e,t,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return a.prototype[t].apply(e,r)}}function G(){this.s=this.s,this.o=this.o}var Q={};G.prototype.s=!1,G.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,B)&&e[B]||(e[B]=++z),delete Q[e])},G.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(let e=0;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},X=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,r){var i=t.length,a="string"==typeof t?t.split(""):t;for(let e=0;e<i;e++)e in a&&n.call(r,a[e],e,t)};function J(){return Array.prototype.concat.apply([],arguments)}function Z(t){var n=t.length;if(0<n){const r=Array(n);for(let e=0;e<n;e++)r[e]=t[e];return r}return[]}function ee(e){return/^[\s\xa0]*$/.test(e)}var te,ne=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function re(e,t){return-1!=e.indexOf(t)}function ie(e,t){return e<t?-1:t<e?1:0}e:{var ae=F.navigator;if(ae){ae=ae.userAgent;if(ae){te=ae;break e}}te=""}function oe(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function se(e){const t={};for(const n in e)t[n]=e[n];return t}var le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(t){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e])t[n]=r[n];for(let e=0;e<le.length;e++)n=le[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ce(e){return ce[" "](e),e}ce[" "]=V;var he,de=re(te,"Opera"),fe=re(te,"Trident")||re(te,"MSIE"),pe=re(te,"Edge"),me=pe||fe,ge=re(te,"Gecko")&&!(re(te.toLowerCase(),"webkit")&&!re(te,"Edge"))&&!(re(te,"Trident")||re(te,"MSIE"))&&!re(te,"Edge"),ve=re(te.toLowerCase(),"webkit")&&!re(te,"Edge");function ye(){var e=F.document;return e?e.documentMode:void 0}e:{var be="",we=(we=te,ge?/rv:([^\);]+)(\)|;)/.exec(we):pe?/Edge\/([\d\.]+)/.exec(we):fe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(we):ve?/WebKit\/(\S+)/.exec(we):de?/(?:Version)[ \/]?(\S+)/.exec(we):void 0);if(we&&(be=we?we[1]:""),fe){we=ye();if(null!=we&&we>parseFloat(be)){he=String(we);break e}}he=be}var Ee={};function ke(){return e=function(){let t=0;var n=ne(String(he)).split("."),r=ne("9").split("."),i=Math.max(n.length,r.length);for(let e=0;0==t&&e<i;e++)for(var a=n[e]||"",o=r[e]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],(0!=a[0].length||0!=o[0].length)&&(t=ie(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ie(0==a[2].length,0==o[2].length)||ie(a[2],o[2]),a=a[3],o=o[3],0==t););return 0<=t},t=Ee,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}var Ce=F.document&&fe&&(ye()||parseInt(he,10))||void 0,Se=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{F.addEventListener("test",V,t),F.removeEventListener("test",V,t)}catch(e){}return e}();function xe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Te(e,t){if(xe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ge){e:{try{ce(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ie[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&Te.Z.h.call(this)}}xe.prototype.h=function(){this.defaultPrevented=!0},$(Te,xe);var Ie={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++De,this.ca=this.fa=!1}function _e(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Pe(e){this.src=e,this.g={},this.h=0}function Le(e,t){var n,r,i,a=t.type;a in e.g&&(n=e.g[a],(i=0<=(r=Y(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(_e(t),0==e.g[a].length&&(delete e.g[a],e.h--)))}function Re(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Pe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Re(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ae(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Oe="closure_lm_"+(1e6*Math.random()|0),Me={};function Fe(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=He(r);return t&&t[Ne]?t.O(n,r,U(i)?!!i.capture:!!i,a):Ve(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fe(e,t[a],n,r,i);return null}return n=He(n),e&&e[Ne]?e.N(t,n,U(r)?!!r.capture:!!r,i):Ve(e,t,n,!1,r,i)}function Ve(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o,s=U(i)?!!i.capture:!!i,l=ze(e);if(l||(e[Oe]=l=new Pe(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(o=Be,(n.proxy=r=function e(t){return o.call(e.src,e.listener,t)}).src=e,r.listener=n,e.addEventListener)void 0===(i=!Se?s:i)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ue(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function je(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[Ne]?Le(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ue(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ze(t))?(Le(n,e),0==n.h&&(n.src=null,t[Oe]=null)):_e(e)))}function Ue(e){return e in Me?Me[e]:Me[e]="on"+e}function Be(e,t){var n,r;return e=!!e.ca||(t=new Te(t,this),n=e.listener,r=e.ia||e.src,e.fa&&je(e),n.call(r,t))}function ze(e){return(e=e[Oe])instanceof Pe?e:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(t){return"function"==typeof t?t:(t[qe]||(t[qe]=function(e){return t.handleEvent(e)}),t[qe])}function We(){G.call(this),this.i=new Pe(this),(this.P=this).I=null}function Ke(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new xe(t,e):t instanceof xe?t.target=t.target||e:(o=t,ue(t=new xe(r,e),o)),o=!0,n)for(var i=n.length-1;0<=i;i--)var a=t.g=n[i],o=$e(a,r,!0,t)&&o;if(o=$e(a=t.g=e,r,!0,t)&&o,o=$e(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=$e(a=t.g=n[i],r,!1,t)&&o}function $e(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o,s,l=t[a];l&&!l.ca&&l.capture==n&&(o=l.listener,s=l.ia||l.src,l.fa&&Le(e.i,l),i=!1!==o.call(s,r)&&i)}return i&&!r.defaultPrevented}$(We,G),We.prototype[Ne]=!0,We.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=U(i)?!!i.capture:!!i,r=He(r),t&&t[Ne]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Re(o=t.g[n],r,i,a))&&(_e(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):(t=t&&ze(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?Re(n,r,i,a):t)?n[t]:null)&&je(r))}(this,e,t,n,r)},We.prototype.M=function(){if(We.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_e(n[r]);delete t.g[e],t.h--}}this.I=null},We.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},We.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ge=F.JSON.stringify;var Qe,Ye=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xe,e=>e.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Je(e,t){var n;Qe||(n=F.Promise.resolve(void 0),Qe=function(){n.then(tt)}),Ze||(Qe(),Ze=!0),et.add(e,t)}var Ze=!1,et=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ye.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function tt(){for(var e;e=function(){var e=et;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}();){try{e.h.call(e.g)}catch(e){!function(e){F.setTimeout(()=>{throw e},0)}(e)}var t=Ye;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}Ze=!1}function nt(e,t){We.call(this),this.h=e||1,this.g=t||F,this.j=W(this.kb,this),this.l=Date.now()}function rt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function it(e,t,n){if("function"==typeof e)n&&(e=W(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=W(e.handleEvent,e)}return 2147483647<Number(t)?-1:F.setTimeout(e,t||0)}$(nt,We),(Tf=nt.prototype).da=!1,Tf.S=null,Tf.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ke(this,"tick"),this.da&&(rt(this),this.start())))},Tf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tf.M=function(){nt.Z.M.call(this),rt(this),delete this.g};class at extends G{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=it(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}M(){super.M(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(e){G.call(this),this.h=e,this.g={}}$(ot,G);var st=[];function lt(e,t,n,r){Array.isArray(n)||(n&&(st[0]=n.toString()),n=st);for(var i=0;i<n.length;i++){var a=Fe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ut(e){oe(e.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},e),e.g={}}function ct(){this.g=!0}function ht(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ge(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}ot.prototype.M=function(){ot.Z.M.call(this),ut(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ct.prototype.Aa=function(){this.g=!1},ct.prototype.info=function(){};var dt={},ft=null;function pt(){return ft=ft||new We}function mt(e){xe.call(this,dt.Ma,e)}function gt(){var e=pt();Ke(e,new mt(e))}function vt(e,t){xe.call(this,dt.STAT_EVENT,e),this.stat=t}function yt(e){var t=pt();Ke(t,new vt(t,e))}function bt(e,t){xe.call(this,dt.Na,e),this.size=t}function wt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){e()},t)}dt.Ma="serverreachability",$(mt,xe),dt.STAT_EVENT="statevent",$(vt,xe),dt.Na="timingevent",$(bt,xe);var Et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ct(){}function St(e){return e.h||(e.h=e.i())}function xt(){}Ct.prototype.h=null;var Tt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function It(){xe.call(this,"d")}function Nt(){xe.call(this,"c")}function Dt(){}function At(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ot(this),this.P=Lt,this.W=new nt(e=me?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}$(It,xe),$(Nt,xe),$(Dt,Ct),Dt.prototype.g=function(){return new XMLHttpRequest},Dt.prototype.i=function(){return{}};var Pt=new Dt,Lt=45e3,Rt={},Ot={};function Mt(e,t,n){e.K=1,e.v=an(Jt(t)),e.s=n,e.U=!0,Ft(e,null)}function Ft(e,t){e.F=Date.now(),Ut(e),e.A=Jt(e.v);var o,s,l,u,c,h,n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new _t,e.g=yr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new at(W(e.Ia,e,e.g),e.O)),lt(e.V,e.g,"readystatechange",e.gb),t=e.H?se(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gt(),o=e.j,s=e.u,l=e.A,u=e.m,c=e.X,h=e.s,o.info(function(){if(o.g)if(h)for(var e="",t=h.split("&"),n=0;n<t.length;n++){var r,i,a=t[n].split("=");1<a.length&&(r=a[0],a=a[1],e=2<=(i=r.split("_")).length&&"type"==i[1]?e+(r+"=")+a+"&":e+(r+"=redacted&"))}else e=null;else e=h;return"XMLHTTP REQ ("+u+") [attempt "+c+"]: "+s+"\n"+l+"\n"+e})}function Vt(e){return e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function jt(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;){if(i=(o=n,l=s=void 0,s=(a=e).C,-1==(l=o.indexOf("\n",s))?Ot:(s=Number(o.substring(s,l)),isNaN(s)?Rt:(l+=1)+s>o.length?Ot:(o=o.substr(l,s),a.C=l+s,o))),i==Ot){4==t&&(e.o=4,yt(14),r=!1),ht(e.j,e.m,null,"[Incomplete Response]");break}if(i==Rt){e.o=4,yt(15),ht(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}ht(e.j,e.m,i,null),Wt(e,i)}var a,o,s,l;Vt(e)&&i!=Ot&&i!=Rt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cr(t),t.L=!0,yt(11))):(ht(e.j,e.m,n,"[Invalid Chunked Response]"),Ht(e),qt(e))}function Ut(e){e.Y=Date.now()+e.P,Bt(e,e.P)}function Bt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wt(W(e.eb,e),t)}function zt(e){e.B&&(F.clearTimeout(e.B),e.B=null)}function qt(e){0==e.l.G||e.I||fr(e.l,e)}function Ht(e){zt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rt(e.W),ut(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xn(n.i,e)))if(n.I=e.N,!e.J&&xn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dr(n),tr(n)}ur(n),yt(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=wt(W(n.ab,n),6e3));if(Sn(n.i)<=1&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else mr(n,11)}else if(!e.J&&n.g!=e||dr(n),!ee(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var l,u,c,h=a[5];null!=h&&"number"==typeof h&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;m&&(!(l=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(u=r.i).g&&(re(l,"spdy")||re(l,"quic")||re(l,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Tn(u,u.h),u.h=null)),!r.D||(c=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=c,rn(r.F,r.D,c))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d,f,p=e;(r=n).oa=vr(r,r.H?r.la:null,r.W),p.J?(In(r.i,p),d=p,(f=r.K)&&d.setTimeout(f),d.B&&(zt(d),Ut(d)),r.g=p):lr(r),0<n.l.length&&ir(n)}else"stop"!=a[0]&&"close"!=a[0]||mr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mr(n,7):er(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}gt()}catch(e){}}function Kt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(j(e)||"string"==typeof e)X(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(j(e)||"string"==typeof e)for(var n=[],r=e.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,e)n[r++]=i;for(var i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(j(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function $t(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $t)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Qt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){for(var i={},n=t=0;t<e.g.length;)Qt(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Tf=At.prototype).setTimeout=function(e){this.P=e},Tf.gb=function(e){e=e.target;const t=this.L;t&&3==Qn(e)?t.l():this.Ia(e)},Tf.Ia=function(e){try{if(e==this.g)e:{var t=Qn(this.g),n=this.g.Da();this.g.ba();if(!(t<3)&&(3!=t||me||this.g&&(this.h.h||this.g.ga()||Yn(this.g)))){this.I||4!=t||7==n||gt(),zt(this);var r=this.g.ba();this.N=r;t:if(Vt(this)){var i=Yn(this.g);e="";var a=i.length,o=4==Qn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ht(this),qt(this);var s="";break t}this.h.i=new F.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,h=this.j,d=this.u,f=this.A,p=this.m,m=this.X,g=t,v=r,h.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+m+"]: "+d+"\n"+f+"\n"+g+" "+v}),this.i){if(this.$&&!this.J){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(l)){var c=l;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,yt(12),Ht(this),qt(this);break e}ht(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wt(this,r)}this.U?(jt(this,t,s),me&&this.i&&3==t&&(lt(this.V,this.W,"tick",this.fb),this.W.start())):(ht(this.j,this.m,s,null),Wt(this,s)),4==t&&Ht(this),this.i&&!this.I&&(4==t?fr(this.l,this):(this.i=!1,Ut(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),Ht(this),qt(this)}}}catch(e){}var h,d,f,p,m,g,v},Tf.fb=function(){var e,t;this.g&&(e=Qn(this.g),t=this.g.ga(),this.C<t.length&&(zt(this),jt(this,e,t),this.i&&4!=e&&Ut(this)))},Tf.cancel=function(){this.I=!0,Ht(this)},Tf.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.K&&(gt(),yt(17)),Ht(this),this.o=2,qt(this)):Bt(this,this.Y-n)},(Tf=$t.prototype).R=function(){Gt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Tf.T=function(){return Gt(this),this.g.concat()},Tf.get=function(e,t){return Qt(this.h,e)?this.h[e]:t},Tf.set=function(e,t){Qt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Tf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xt(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xt?(this.g=void 0!==t?t:e.g,Zt(this,e.j),this.s=e.s,en(this,e.i),tn(this,e.m),this.l=e.l,t=e.h,(n=new pn).i=t.i,t.g&&(n.g=new $t(t.g),n.h=t.h),nn(this,n),this.o=e.o):e&&(n=String(e).match(Yt))?(this.g=!!t,Zt(this,n[1]||"",!0),this.s=on(n[2]||""),en(this,n[3]||"",!0),tn(this,n[4]),this.l=on(n[5]||"",!0),nn(this,n[6]||"",!0),this.o=on(n[7]||"")):(this.g=!!t,this.h=new pn(null,this.g))}function Jt(e){return new Xt(e)}function Zt(e,t,n){e.j=n?on(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function en(e,t,n){e.i=n?on(t,!0):t}function tn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nn(e,t,n){var r,i;t instanceof pn?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(mn(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(gn(this,t),yn(this,n,e))},r)),r.j=i):(n||(t=sn(t,dn)),e.h=new pn(t,e.g))}function rn(e,t,n){e.h.set(t,n)}function an(e){return rn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ln),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function ln(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sn(t,un,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(sn(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(sn(n,"/"==n.charAt(0)?hn:cn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sn(n,fn)),e.join("")};var un=/[#\/\?@]/g,cn=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mn(n){n.g||(n.g=new $t,n.h=0,n.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),a=null;0<=i?(r=e[n].substring(0,i),a=e[n].substring(i+1)):r=e[n],t(r,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gn(e,t){mn(e),t=bn(e,t),Qt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Qt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gt(e)))}function vn(e,t){return mn(e),t=bn(e,t),Qt(e.g.h,t)}function yn(e,t,n){gn(e,t),0<n.length&&(e.i=null,e.g.set(bn(e,t),Z(n)),e.h+=n.length)}function bn(e,t){return t=String(t),t=e.j?t.toLowerCase():t}(Tf=pn.prototype).add=function(e,t){mn(this),this.i=null,e=bn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tf.forEach=function(n,r){mn(this),this.g.forEach(function(e,t){X(e,function(e){n.call(r,e,t,this)},this)},this)},Tf.T=function(){mn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Tf.R=function(e){mn(this);var t=[];if("string"==typeof e)vn(this,e)&&(t=J(t,this.g.get(bn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},Tf.set=function(e,t){return mn(this),this.i=null,vn(this,e=bn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Tf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),r=this.R(r),a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}return this.i=e.join("&")};var wn=class{constructor(e,t){this.h=e,this.g=t}};function En(e){this.l=e||10,e=F.PerformanceNavigationTiming?0<(e=F.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(F.g&&F.g.Ea&&F.g.Ea()&&F.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kn;function Cn(e){return e.h||e.g&&e.g.size>=e.j}function Sn(e){return e.h?1:e.g?e.g.size:0}function xn(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function Tn(e,t){e.g?e.g.add(t):e.h=t}function In(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null==t.g||0===t.g.size)return Z(t.i);{let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}}function Dn(){}function An(){this.g=new Dn}function _n(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Pn(e){this.l=e.$b||null,this.j=e.ib||!1}function Ln(e,t){We.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Rn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En.prototype.cancel=function(){if(this.i=Nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Dn.prototype.stringify=function(e){return F.JSON.stringify(e,void 0)},Dn.prototype.parse=function(e){return F.JSON.parse(e,void 0)},$(Pn,Ct),Pn.prototype.g=function(){return new Ln(this.l,this.j)},Pn.prototype.i=(kn={},function(){return kn}),$(Ln,We);var Rn=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Mn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fn(e)}function Fn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tf=Ln.prototype).open=function(e,t){if(this.readyState!=Rn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fn(this)},Tf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||F).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mn(this)),this.readyState=Rn},Tf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==F.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Tf.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?Mn:Fn)(this),3==this.readyState&&On(this))},Tf.Ua=function(e){this.g&&(this.response=this.responseText=e,Mn(this))},Tf.Ta=function(e){this.g&&(this.response=e,Mn(this))},Tf.ha=function(){this.g&&Mn(this)},Tf.setRequestHeader=function(e,t){this.v.append(e,t)},Tf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tf.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vn=F.JSON.parse;function jn(e){We.call(this),this.headers=new $t,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Un,this.K=this.L=!1}$(jn,We);var Un="",Bn=/^https?$/i,zn=["POST","PUT"];function qn(e){return"content-type"==e.toLowerCase()}function Hn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wn(e),$n(e)}function Wn(e){e.D||(e.D=!0,Ke(e,"complete"),Ke(e,"error"))}function Kn(e){if(e.h&&void 0!==M&&(!e.C[1]||4!=Qn(e)||2!=e.ba()))if(e.v&&4==Qn(e))it(e.Fa,0,e);else if(Ke(e,"readystatechange"),4==Qn(e)){e.h=!1;try{var t,n,r,i,a=e.ba();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break;default:o=!1}if((t=o)||((n=0===a)&&(!(i=String(e.H).match(Yt)[1]||null)&&F.self&&F.self.location&&(i=(r=F.self.location.protocol).substr(0,r.length-1)),n=!Bn.test(i?i.toLowerCase():"")),t=n),t)Ke(e,"complete"),Ke(e,"success");else{e.m=6;try{var s=2<Qn(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Wn(e)}}finally{$n(e)}}}function $n(e,t){if(e.g){Gn(e);const n=e.g,r=e.C[0]?V:null;e.g=null,e.C=null,t||Ke(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Gn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(F.clearTimeout(e.A),e.A=null)}function Qn(e){return e.g?e.g.readyState:0}function Yn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Un:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let n="";return oe(e,function(e,t){n+=t,n+=":",n+=e,n+="\r\n"}),n}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):rn(e,t,n))}function Jn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zn(e){this.za=0,this.l=[],this.h=new ct,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jn("baseRetryDelayMs",5e3,e),this.$a=Jn("retryDelaySeedMs",1e4,e),this.Ya=Jn("forwardChannelMaxRetries",2,e),this.ra=Jn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new En(e&&e.concurrentRequestLimit),this.Ca=new An,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function er(e){var t,n;nr(e),3==e.G&&(t=e.V++,rn(n=Jt(e.F),"SID",e.J),rn(n,"RID",t),rn(n,"TYPE","terminate"),or(e,n),(t=new At(e,e.h,t,void 0)).K=2,t.v=an(Jt(n)),n=!1,!(n=F.navigator&&F.navigator.sendBeacon?F.navigator.sendBeacon(t.v.toString(),""):n)&&F.Image&&((new Image).src=t.v,n=!0),n||(t.g=yr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ut(t)),gr(e)}function tr(e){e.g&&(cr(e),e.g.cancel(),e.g=null)}function nr(e){tr(e),e.u&&(F.clearTimeout(e.u),e.u=null),dr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&F.clearTimeout(e.m),e.m=null)}function rr(e,t){e.l.push(new wn(e.Za++,t)),3==e.G&&ir(e)}function ir(e){Cn(e.i)||e.m||(e.m=!0,Je(e.Ha,e),e.C=0)}function ar(e,t){var n=t?t.m:e.V++,r=Jt(e.F);rn(r,"SID",e.J),rn(r,"RID",n),rn(r,"AID",e.U),or(e,r),e.o&&e.s&&Xn(r,e.o,e.s),n=new At(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Tn(e.i,n),Mt(n,r,t)}function or(e,n){e.j&&Kt({},function(e,t){rn(n,t,e)})}function sr(e,t,r){r=Math.min(e.l.length,r);var i=e.j?W(e.j.Oa,e.j,e):null;e:{var a=e.l;let n=-1;for(;;){const l=["count="+r];-1==n?0<r?(n=a[0].h,l.push("ofs="+n)):n=0:l.push("ofs="+n);let t=!0;for(let e=0;e<r;e++){var o=a[e].h,s=a[e].g;if((o-=n)<0)n=Math.max(0,a[e].h-100),t=!1;else try{!function(e,r,t){const i=t||"";try{Kt(e,function(e,t){let n=e;U(e)&&(n=Ge(e)),r.push(i+t+"="+encodeURIComponent(n))})}catch(e){throw r.push(i+"type="+encodeURIComponent("_badmap")),e}}(s,l,"req"+o+"_")}catch(e){i&&i(s)}}if(t){i=l.join("&");break e}}}return e=e.l.splice(0,r),t.D=e,i}function lr(e){e.g||e.u||(e.Y=1,Je(e.Ga,e),e.A=0)}function ur(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=wt(W(e.Ga,e),pr(e,e.A)),e.A++,1)}function cr(e){null!=e.B&&(F.clearTimeout(e.B),e.B=null)}function hr(e){e.g=new At(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Jt(e.oa);rn(t,"RID","rpc"),rn(t,"SID",e.J),rn(t,"CI",e.N?"0":"1"),rn(t,"AID",e.U),or(e,t),rn(t,"TYPE","xmlhttp"),e.o&&e.s&&Xn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=an(Jt(t)),n.s=null,n.U=!0,Ft(n,e)}function dr(e){null!=e.v&&(F.clearTimeout(e.v),e.v=null)}function fr(e,t){var n,r,i,a=null;if(e.g==t){dr(e),cr(e),e.g=null;var o=2}else{if(!xn(e.i,t))return;a=t.D,In(e.i,t),o=1}if(e.I=t.N,0!=e.G)if(t.i)1==o?(a=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,Ke(o=pt(),new bt(o,a)),ir(e)):lr(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=o||(i=t,Sn((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=wt(W(r.Ha,r,i),pr(r,r.C)),r.C++,0))))&&(2!=o||!ur(e)))switch(a&&0<a.length&&(t=e.i,t.i=t.i.concat(a)),n){case 1:mr(e,5);break;case 4:mr(e,10);break;case 3:mr(e,6);break;default:mr(e,2)}}function pr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mr(e,t){var n,r;e.h.info("Error code "+t),2==t?(n=null,e.j&&(n=null),r=W(e.jb,e),n||(n=new Xt("//www.google.com/images/cleardot.gif"),F.location&&"http"==F.location.protocol||Zt(n,"https"),an(n)),function(e,t){var n=new ct;if(F.Image){const r=new Image;r.onload=K(_n,n,r,"TestLoadImage: loaded",!0,t),r.onerror=K(_n,n,r,"TestLoadImage: error",!1,t),r.onabort=K(_n,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=K(_n,n,r,"TestLoadImage: timeout",!1,t),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)):yt(2),e.G=0,e.j&&e.j.va(t),gr(e),nr(e)}function gr(e){e.G=0,e.I=-1,e.j&&(0==Nn(e.i).length&&0==e.l.length||(e.i.i.length=0,Z(e.l),e.l.length=0),e.j.ua())}function vr(e,t,n){let r=(s=n)instanceof Xt?Jt(s):new Xt(s,void 0);var i,a,o,s,l;return""!=r.i?(t&&en(r,t+"."+r.i),tn(r,r.m)):(l=F.location,r=(i=l.protocol,a=t?t+"."+l.hostname:l.hostname,o=+l.port,s=n,l=new Xt(null,void 0),i&&Zt(l,i),a&&en(l,a),o&&tn(l,o),s&&(l.l=s),l)),e.aa&&oe(e.aa,function(e,t){rn(r,t,e)}),t=e.D,n=e.sa,t&&n&&rn(r,t,n),rn(r,"VER",e.ma),or(e,r),r}function yr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new jn(new Pn({ib:!0})):new jn(e.qa)).L=e.H,t}function br(){}function wr(){if(fe&&!(10<=Number(Ce)))throw Error("Environmental error: no available transport.")}function Er(e,t){We.call(this),this.g=new Zn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ee(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ee(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sr(this)}function kr(e){It.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cr(){Nt.call(this),this.status=1}function Sr(e){this.g=e}(Tf=jn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||Pt).g(),this.C=this.u?St(this.u):St(Pt),this.g.onreadystatechange=W(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Hn(this,e)}e=n||"";const i=new $t(this.headers);r&&Kt(r,function(e,t){i.set(t,e)}),r=function(t){e:{var n=qn,r=t.length,i="string"==typeof t?t.split(""):t;for(let e=0;e<r;e++)if(e in i&&n.call(void 0,i[e],e,t)){n=e;break e}n=-1}return n<0?null:"string"==typeof t?t.charAt(n):t[n]}(i.T()),n=F.FormData&&e instanceof F.FormData,0<=Y(zn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gn(this),0<this.B&&((this.K=(a=this.g,fe&&ke()&&"number"==typeof a.timeout&&void 0!==a.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=W(this.pa,this)):this.A=it(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Hn(this,e)}var a},Tf.pa=function(){void 0!==M&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))},Tf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ke(this,"complete"),Ke(this,"abort"),$n(this))},Tf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),jn.Z.M.call(this)},Tf.Fa=function(){this.s||(this.F||this.v||this.l?Kn(this):this.cb())},Tf.cb=function(){Kn(this)},Tf.ba=function(){try{return 2<Qn(this)?this.g.status:-1}catch(e){return-1}},Tf.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Tf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vn(t)}},Tf.Da=function(){return this.m},Tf.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tf=Zn.prototype).ma=8,Tf.G=1,Tf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Tf.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const a=new At(this,this.h,t,void 0);let e=this.s;if(this.P&&(e?(e=se(e),ue(e,this.P)):e=this.P),null===this.o&&(a.H=e),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var i=this.l[r];if("__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i=i.length:i=void 0,void 0===i)break;if(4096<(n+=i)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=sr(this,a,n),rn(r=Jt(this.F),"RID",t),rn(r,"CVER",22),this.D&&rn(r,"X-HTTP-Session-Id",this.D),or(this,r),this.o&&e&&Xn(r,this.o,e),Tn(this.i,a),this.Ra&&rn(r,"TYPE","init"),this.ja?(rn(r,"$req",n),rn(r,"SID","null"),a.$=!0,Mt(a,r,null)):Mt(a,r,n),this.G=2}}else 3==this.G&&(t?ar(this,t):0==this.l.length||Cn(this.i)||ar(this))},Tf.Ga=function(){var e;this.u=null,hr(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=wt(W(this.bb,this),e))},Tf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yt(10),tr(this),hr(this))},Tf.ab=function(){null!=this.v&&(this.v=null,tr(this),ur(this),yt(19))},Tf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yt(2)):(this.h.info("Failed to ping google.com"),yt(1))},(Tf=br.prototype).xa=function(){},Tf.wa=function(){},Tf.va=function(){},Tf.ua=function(){},Tf.Oa=function(){},wr.prototype.g=function(e,t){return new Er(e,t)},$(Er,We),Er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Je(W(e.hb,e,t))),yt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vr(e,null,e.W),ir(e)},Er.prototype.close=function(){er(this.g)},Er.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,rr(this.g,t)):this.v?((t={}).__data__=Ge(e),rr(this.g,t)):rr(this.g,e)},Er.prototype.M=function(){this.g.j=null,delete this.j,er(this.g),delete this.g,Er.Z.M.call(this)},$(kr,It),$(Cr,Nt),$(Sr,br),Sr.prototype.xa=function(){Ke(this.g,"a")},Sr.prototype.wa=function(e){Ke(this.g,new kr(e))},Sr.prototype.va=function(e){Ke(this.g,new Cr)},Sr.prototype.ua=function(){Ke(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Er.prototype.send=Er.prototype.u,Er.prototype.open=Er.prototype.m,Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,kt.COMPLETE="complete",(xt.EventType=Tt).OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",We.prototype.listen=We.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var xr,Tr=O.createWebChannelTransport=function(){return new wr},Ir=O.getStatEventTarget=pt,Nr=O.ErrorCode=Et,Dr=O.EventType=kt,Ar=O.Event=dt,_r=O.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Pr=O.FetchXmlHttpFactory=Pn,Lr=O.WebChannel=xt,Rr=O.XhrIo=jn;const Or="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let Fr="9.6.2";const Vr=new e("@firebase/firestore");function jr(){return Vr.logLevel}function Ur(e,...t){Vr.logLevel<=h.DEBUG&&(t=t.map(qr),Vr.debug(`Firestore (${Fr}): `+e,...t))}function Br(e,...t){Vr.logLevel<=h.ERROR&&(t=t.map(qr),Vr.error(`Firestore (${Fr}): `+e,...t))}function zr(e,...t){Vr.logLevel<=h.WARN&&(t=t.map(qr),Vr.warn(`Firestore (${Fr}): `+e,...t))}function qr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Hr(e="Unexpected state"){e=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: `+e;throw Br(e),new Error(e)}function Wr(e){e||Hr()}const Kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $r extends i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: `+this.message}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class Yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mr.UNAUTHENTICATED))}shutdown(){}}class Xr{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=e=>this.i!==r?(r=this.i,n(e)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const e=a;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},s=e=>{Ur("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{var e;this.auth||((e=this.t.getImmediate({optional:!0}))?s(e):(Ur("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr))},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Ur("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Wr("string"==typeof e.accessToken),new Qr(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){var e=this.auth&&this.auth.getUid();return Wr(null===e||"string"==typeof e),new Mr(e)}}class Jr{constructor(e,t,n){this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);e=e.auth.getAuthHeaderValueForFirstParty([]);e&&this.headers.set("Authorization",e),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Zr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Jr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ei{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&0<e.length&&this.headers.set("x-firebase-appcheck",this.value)}}class ti{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(t,n){this.o=e=>{t.enqueueRetryable(()=>(e=>(null!=e.error&&Ur("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+e.error.message),n(e.token)))(e))};const r=e=>{Ur("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{var e;this.appCheck||((e=this.g.getImmediate({optional:!0}))?r(e):Ur("FirebaseAppCheckTokenProvider","AppCheck not yet detected"))},0)}getToken(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Wr("string"==typeof e.token),new ei(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ni{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){var e=++this.previousValue;return this.T&&this.T(e),e}}ni.I=-1;class ri{static A(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){var i=function(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let e=0;e<i.length;++e)r.length<20&&i[e]<n&&(r+=t.charAt(i[e]%t.length))}return r}}function ii(e,t){return e<t?-1:t<e?1:0}function ai(e,n,r){return e.length===n.length&&e.every((e,t)=>r(e,n[t]))}function oi(e){return e+"\0"}class si{constructor(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new $r(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new $r(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $r(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new $r(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){var t=Math.floor(e/1e3),e=Math.floor(1e6*(e-1e3*t));return new si(t,e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class li{constructor(e){this.timestamp=e}static fromTimestamp(e){return new li(e)}static min(){return new li(new si(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ui(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ci(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class di{constructor(e,t,n){void 0===t?t=0:t>e.length&&Hr(),void 0===n?n=e.length-t:n>e.length-t&&Hr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===di.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(n){for(let e=this.offset,t=this.limit();e<t;e++)n(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let e=0;e<r;e++){const r=t.get(e),i=n.get(e);if(r<i)return-1;if(r>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class fi extends di{construct(e,t,n){return new fi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(0<=n.indexOf("//"))throw new $r(Kr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>0<e.length))}return new fi(t)}static emptyPath(){return new fi([])}}const pi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends di{construct(e,t,n){return new mi(e,t,n)}static isValidIdentifier(e){return pi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e=!mi.isValidIdentifier(e)?"`"+e+"`":e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;var i=()=>{if(0===n.length)throw new $r(Kr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $r(Kr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $r(Kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?a=!a:"."!==t||a?n+=t:i(),r++}if(i(),a)throw new $r(Kr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class gi{constructor(e){(this.fields=e).sort(mi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ai(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){e=atob(e);return new vi(e)}static fromUint8Array(e){e=function(t){let n="";for(let e=0;e<t.length;++e)n+=String.fromCharCode(t[e]);return n}(e);return new vi(e)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(Wr(!!t),"string"!=typeof t)return{seconds:wi(t.seconds),nanos:wi(t.nanos)};{let e=0;var n=yi.exec(t);Wr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n));const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}}function wi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ei(e){return"string"==typeof e?vi.fromBase64String(e):vi.fromUint8Array(e)}function ki(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ci(e){e=bi(e.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}function Si(e){return null==e}function xi(e){return 0===e&&1/e==-1/0}function Ti(e){return"number"==typeof e&&Number.isInteger(e)&&!xi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Ii{constructor(e){this.path=e}static fromPath(e){return new Ii(fi.fromString(e))}static fromName(e){return new Ii(fi.fromString(e).popFirst(5))}hasCollectionId(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===fi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ii(new fi(e.slice()))}}function Ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ki(e)?4:10:Hr()}function Di(n,r){if(n===r)return!0;var e,t,i=Ni(n);if(i!==Ni(r))return!1;switch(i){case 0:return!0;case 1:return n.booleanValue===r.booleanValue;case 4:return Ci(n).isEqual(Ci(r));case 3:return function(e){if("string"==typeof n.timestampValue&&"string"==typeof e.timestampValue&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;var t=bi(n.timestampValue),e=bi(e.timestampValue);return t.seconds===e.seconds&&t.nanos===e.nanos}(r);case 5:return n.stringValue===r.stringValue;case 6:return t=r,Ei(n.bytesValue).isEqual(Ei(t.bytesValue));case 7:return n.referenceValue===r.referenceValue;case 8:return e=r,wi((t=n).geoPointValue.latitude)===wi(e.geoPointValue.latitude)&&wi(t.geoPointValue.longitude)===wi(e.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wi(e.integerValue)===wi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){e=wi(e.doubleValue),t=wi(t.doubleValue);return e===t?xi(e)===xi(t):isNaN(e)&&isNaN(t)}return!1}(n,r);case 9:return ai(n.arrayValue.values||[],r.arrayValue.values||[],Di);case 10:return function(e){const t=e.mapValue.fields||{},n=r.mapValue.fields||{};if(ui(t)!==ui(n))return!1;for(const e in t)if(t.hasOwnProperty(e)&&(void 0===n[e]||!Di(t[e],n[e])))return!1;return!0}(n);default:return Hr()}}function Ai(e,t){return void 0!==(e.values||[]).find(e=>Di(e,t))}function _i(e,t){if(e===t)return 0;var n,r,i,a=Ni(e),o=Ni(t);if(a!==o)return ii(a,o);switch(a){case 0:return 0;case 1:return ii(e.booleanValue,t.booleanValue);case 2:return r=t,i=wi(e.integerValue||e.doubleValue),r=wi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Pi(e.timestampValue,t.timestampValue);case 4:return Pi(Ci(e),Ci(t));case 5:return ii(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ei(e),r=Ei(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){var n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ii(n[e],r[e]);if(0!==t)return t}return ii(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=ii(wi(n.latitude),wi(i.latitude)))?r:ii(wi(n.longitude),wi(i.longitude));case 9:return function(e,t){var n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=_i(n[e],r[e]);if(t)return t}return ii(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){const t=ii(r[e],a[e]);if(0!==t)return t;var o=_i(n[r[e]],i[a[e]]);if(0!==o)return o}return ii(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hr()}}function Pi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ii(e,t);var n=bi(e),e=bi(t),t=ii(n.seconds,e.seconds);return 0!==t?t:ii(n.nanos,e.nanos)}function Li(e){return function a(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ei(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,Ii.fromName(t).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=a(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=i+":"+a(e.fields[i]);return n+"}"}(e.mapValue):Hr();var t}(e)}function Ri(e){return e&&"integerValue"in e}function Oi(e){return!!e&&"arrayValue"in e}function Mi(e){return e&&"nullValue"in e}function Fi(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vi(e){return e&&"mapValue"in e}function ji(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const n={mapValue:{fields:{}}};return ci(t.mapValue.fields,(e,t)=>n.mapValue.fields[e]=ji(t)),n}if(t.arrayValue){const r={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)r.arrayValue.values[e]=ji(t.arrayValue.values[e]);return r}return Object.assign({},t)}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let e=0;e<n.length-1;++e)if(t=(t.mapValue.fields||{})[n.get(e)],!Vi(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ji(t)}setAll(e){let n=mi.emptyPath(),r={},i=[];e.forEach((e,t)=>{if(!n.isImmediateParentOf(t)){const e=this.getFieldsMap(n);this.applyChanges(e,r,i),r={},i=[],n=t.popLast()}e?r[t.lastSegment()]=ji(e):i.push(t.lastSegment())});e=this.getFieldsMap(n);this.applyChanges(e,r,i)}delete(e){const t=this.field(e.popLast());Vi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let t=0;t<n.length;++t){let e=r.mapValue.fields[n.get(t)];Vi(e)&&e.mapValue.fields||(e={mapValue:{fields:{}}},r.mapValue.fields[n.get(t)]=e),r=e}return r.mapValue.fields}applyChanges(n,e,t){ci(e,(e,t)=>n[e]=t);for(const e of t)delete n[e]}clone(){return new Ui(ji(this.value))}}class Bi{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Bi(e,0,li.min(),Ui.empty(),0)}static newFoundDocument(e,t,n){return new Bi(e,1,t,n,0)}static newNoDocument(e,t){return new Bi(e,2,t,Ui.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,Ui.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.R=null}}function qi(e,t=null,n=[],r=[],i=null,a=null,o=null){return new zi(e,t,n,r,i,a,o)}function Hi(e){const t=e;if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Li(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Si(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ra(t.startAt)),t.endAt&&(e+="|ub:",e+=ra(t.endAt)),t.R=e}return t.R}function Wi(t,n){if(t.limit!==n.limit)return!1;if(t.orderBy.length!==n.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(r=t.orderBy[e],i=n.orderBy[e],r.dir!==i.dir||!r.field.isEqual(i.field))return!1;var r,i,a,o;if(t.filters.length!==n.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(a=t.filters[e],o=n.filters[e],a.op!==o.op||!a.field.isEqual(o.field)||!Di(a.value,o.value))return!1;return t.collectionGroup===n.collectionGroup&&!!t.path.isEqual(n.path)&&!!oa(t.startAt,n.startAt)&&oa(t.endAt,n.endAt)}function Ki(e){return Ii.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class $i extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Gi(e,t,n):"array-contains"===t?new Ji(e,n):"in"===t?new Zi(e,n):"not-in"===t?new ea(e,n):"array-contains-any"===t?new ta(e,n):new $i(e,t,n)}static P(e,t,n){return new("in"===t?Qi:Yi)(e,n)}matches(e){e=e.data.field(this.field);return"!="===this.op?null!==e&&this.v(_i(e,this.value)):null!==e&&Ni(this.value)===Ni(e)&&this.v(_i(e,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return Hr()}}V(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)}}class Gi extends $i{constructor(e,t,n){super(e,t,n),this.key=Ii.fromName(n.referenceValue)}matches(e){e=Ii.comparator(e.key,this.key);return this.v(e)}}class Qi extends $i{constructor(e,t){super(e,"in",t),this.keys=Xi(0,t)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Yi extends $i{constructor(e,t){super(e,"not-in",t),this.keys=Xi(0,t)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Xi(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map(e=>Ii.fromName(e.referenceValue))}class Ji extends $i{constructor(e,t){super(e,"array-contains",t)}matches(e){e=e.data.field(this.field);return Oi(e)&&Ai(e.arrayValue,this.value)}}class Zi extends $i{constructor(e,t){super(e,"in",t)}matches(e){e=e.data.field(this.field);return null!==e&&Ai(this.value.arrayValue,e)}}class ea extends $i{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;e=e.data.field(this.field);return null!==e&&!Ai(this.value.arrayValue,e)}}class ta extends $i{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ai(this.value.arrayValue,e))}}class na{constructor(e,t){this.position=e,this.before=t}}function ra(e){return`${e.before?"b":"a"}:`+e.position.map(e=>Li(e)).join(",")}class ia{constructor(e,t="asc"){this.field=e,this.dir=t}}function aa(t,n,r){let i=0;for(let e=0;e<t.position.length;e++){const a=n[e],o=t.position[e];if(i=a.field.isKeyField()?Ii.comparator(Ii.fromName(o.referenceValue),r.key):_i(o,r.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function oa(t,n){if(null===t)return null===n;if(null===n)return!1;if(t.before!==n.before||t.position.length!==n.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!Di(t.position[e],n.position[e]))return!1;return!0}class sa{constructor(e,t=null,n=[],r=[],i=null,a="F",o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}}function la(e,t,n,r,i,a,o,s){return new sa(e,t,n,r,i,a,o,s)}function ua(e){return new sa(e)}function ca(e){return!Si(e.limit)&&"F"===e.limitType}function ha(e){return!Si(e.limit)&&"L"===e.limitType}function da(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function fa(e){for(const t of e.filters)if(t.V())return t.field;return null}function pa(e){return null!==e.collectionGroup}function ma(t){const n=t;if(null===n.S){n.S=[];const t=fa(n),e=da(n);if(null!==t&&null===e)t.isKeyField()||n.S.push(new ia(t)),n.S.push(new ia(mi.keyField(),"asc"));else{let e=!1;for(const r of n.explicitOrderBy)n.S.push(r),r.field.isKeyField()&&(e=!0);if(!e){const t=0<n.explicitOrderBy.length?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.S.push(new ia(mi.keyField(),t))}}}return n.S}function ga(e){const t=e;if(!t.D)if("F"===t.limitType)t.D=qi(t.path,t.collectionGroup,ma(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const i of ma(t)){const t="desc"===i.dir?"asc":"desc";r.push(new ia(i.field,t))}var n=t.endAt?new na(t.endAt.position,!t.endAt.before):null,e=t.startAt?new na(t.startAt.position,!t.startAt.before):null;t.D=qi(t.path,t.collectionGroup,r,t.filters,t.limit,n,e)}return t.D}function va(e,t,n){return new sa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ya(e,t){return Wi(ga(e),ga(t))&&e.limitType===t.limitType}function ba(e){return Hi(ga(e))+"|lt:"+e.limitType}function wa(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(t+=`, filters: [${e.filters.map(e=>{return`${(e=e).field.canonicalString()} ${e.op} `+Li(e.value)}).join(", ")}]`),Si(e.limit)||(t+=", limit: "+e.limit),0<e.orderBy.length&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ra(e.startAt)),e.endAt&&(t+=", endAt: "+ra(e.endAt)),`Target(${t})`}(ga(e))}; limitType=${e.limitType})`}function Ea(n,e){return e.isFoundDocument()&&(t=n,i=(r=e).key.path,null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ii.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i))&&function(e){for(const t of n.explicitOrderBy)if(!t.field.isKeyField()&&null===e.data.field(t.field))return;return 1}(e)&&function(e){for(const t of n.filters)if(!t.matches(e))return;return 1}(e)&&(i=e,(!(e=n).startAt||aa(e.startAt,ma(e),i))&&(!e.endAt||!aa(e.endAt,ma(e),i)));var t,r,i}function ka(i){return(e,t)=>{let n=!1;for(const r of ma(i)){const i=function(e,r,t){var n=e.field.isKeyField()?Ii.comparator(r.key,t.key):function(e,t){var n=r.data.field(e),e=t.data.field(e);return null!==n&&null!==e?_i(n,e):Hr()}(e.field,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Hr()}}(r,e,t);if(0!==i)return i;n=n||r.field.isKeyField()}return 0}}function Ca(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xi(t)?"-0":t}}function Sa(e){return{integerValue:""+e}}function xa(e,t){return Ti(t)?Sa(t):Ca(e,t)}class Ta{constructor(){this._=void 0}}function Ia(e,t){return e instanceof La?Ri(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}class Na extends Ta{}class Da extends Ta{constructor(e){super(),this.elements=e}}function Aa(e,t){const n=Oa(t);for(const t of e.elements)n.some(e=>Di(e,t))||n.push(t);return{arrayValue:{values:n}}}class _a extends Ta{constructor(e){super(),this.elements=e}}function Pa(e,t){let n=Oa(t);for(const t of e.elements)n=n.filter(e=>!Di(e,t));return{arrayValue:{values:n}}}class La extends Ta{constructor(e,t){super(),this.k=e,this.N=t}}function Ra(e){return wi(e.integerValue||e.doubleValue)}function Oa(e){return Oi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ma{constructor(e,t){this.field=e,this.transform=t}}class Fa{constructor(e,t){this.version=e,this.transformResults=t}}class Va{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Va}static exists(e){return new Va(void 0,e)}static updateTime(e){return new Va(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ja(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ua{}function Ba(e,t,n){e instanceof Wa?function(e,t,n){const r=e.value.clone(),i=Ga(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ka?function(e,t,n){if(!ja(e.precondition,t))return t.convertToUnknownDocument(n.version);const r=Ga(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($a(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function za(e,t,n){e instanceof Wa?function(e,t,n){if(ja(e.precondition,t)){const r=e.value.clone(),i=Qa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ha(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ka?function(e,t,n){if(ja(e.precondition,t)){const r=Qa(e.fieldTransforms,n,t),i=t.data;i.setAll($a(e)),i.setAll(r),t.convertToFoundDocument(Ha(t),i).setHasLocalMutations()}}(e,t,n):(t=t,ja(e.precondition,t)&&t.convertToNoDocument(li.min()))}function qa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&ai(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof Da&&t instanceof Da||e instanceof _a&&t instanceof _a?ai(e.elements,t.elements,Di):e instanceof La&&t instanceof La?Di(e.N,t.N):e instanceof Na&&t instanceof Na)}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}function Ha(e){return e.isFoundDocument()?e.version:li.min()}class Wa extends Ua{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ka extends Ua{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function $a(n){const r=new Map;return n.fieldMask.fields.forEach(e=>{var t;e.isEmpty()||(t=n.data.field(e),r.set(e,t))}),r}function Ga(t,n,r){const i=new Map;Wr(t.length===r.length);for(let e=0;e<r.length;e++){var a=t[e],o=a.transform,s=n.data.field(a.field);i.set(a.field,(a=o,o=s,s=r[e],a instanceof Da?Aa(a,o):a instanceof _a?Pa(a,o):s))}return i}function Qa(e,t,n){const r=new Map;for(const u of e){const e=u.transform,c=n.data.field(u.field);r.set(u.field,(i=e,a=c,o=t,l=s=void 0,i instanceof Na?function(){const e={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(e.fields.__previous_value__=a),{mapValue:e}}():i instanceof Da?Aa(i,a):i instanceof _a?Pa(i,a):(l=Ia(s=i,a),i=Ra(l)+Ra(s.N),Ri(l)&&Ri(s.N)?Sa(i):Ca(s.k,i))))}var i,a,o,s,l;return r}class Ya extends Ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xa extends Ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ja{constructor(e){this.count=e}}function Za(e){switch(e){default:return Hr(),0;case Kr.CANCELLED:case Kr.UNKNOWN:case Kr.DEADLINE_EXCEEDED:case Kr.RESOURCE_EXHAUSTED:case Kr.INTERNAL:case Kr.UNAVAILABLE:case Kr.UNAUTHENTICATED:return;case Kr.INVALID_ARGUMENT:case Kr.NOT_FOUND:case Kr.ALREADY_EXISTS:case Kr.PERMISSION_DENIED:case Kr.FAILED_PRECONDITION:case Kr.ABORTED:case Kr.OUT_OF_RANGE:case Kr.UNIMPLEMENTED:case Kr.DATA_LOSS:return 1}}function eo(e){if(void 0===e)return Br("GRPC error has no .code"),Kr.UNKNOWN;switch(e){case xr.OK:return Kr.OK;case xr.CANCELLED:return Kr.CANCELLED;case xr.UNKNOWN:return Kr.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Kr.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Kr.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Kr.INTERNAL;case xr.UNAVAILABLE:return Kr.UNAVAILABLE;case xr.UNAUTHENTICATED:return Kr.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Kr.INVALID_ARGUMENT;case xr.NOT_FOUND:return Kr.NOT_FOUND;case xr.ALREADY_EXISTS:return Kr.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Kr.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Kr.FAILED_PRECONDITION;case xr.ABORTED:return Kr.ABORTED;case xr.OUT_OF_RANGE:return Kr.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Kr.UNIMPLEMENTED;case xr.DATA_LOSS:return Kr.DATA_LOSS;default:return Hr()}}(ip=xr=xr||{})[ip.OK=0]="OK",ip[ip.CANCELLED=1]="CANCELLED",ip[ip.UNKNOWN=2]="UNKNOWN",ip[ip.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ip[ip.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ip[ip.NOT_FOUND=5]="NOT_FOUND",ip[ip.ALREADY_EXISTS=6]="ALREADY_EXISTS",ip[ip.PERMISSION_DENIED=7]="PERMISSION_DENIED",ip[ip.UNAUTHENTICATED=16]="UNAUTHENTICATED",ip[ip.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ip[ip.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ip[ip.ABORTED=10]="ABORTED",ip[ip.OUT_OF_RANGE=11]="OUT_OF_RANGE",ip[ip.UNIMPLEMENTED=12]="UNIMPLEMENTED",ip[ip.INTERNAL=13]="INTERNAL",ip[ip.UNAVAILABLE=14]="UNAVAILABLE",ip[ip.DATA_LOSS=15]="DATA_LOSS";class to{constructor(e,t){this.comparator=e,this.root=t||ro.EMPTY}insert(e,t){return new to(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new to(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(n){this.inorderTraversal((e,t)=>(n(e,t),!1))}toString(){const n=[];return this.inorderTraversal((e,t)=>(n.push(e+":"+t),!1)),`{${n.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new no(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new no(this.root,e,this.comparator,!1)}getReverseIterator(){return new no(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new no(this.root,e,this.comparator,!0)}}class no{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();var t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return 0<this.nodeStack.length}peek(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ro.RED,this.left=null!=r?r:ro.EMPTY,this.right=null!=i?i:ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ro(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;var i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ro.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){var e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){var e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){var e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hr();if(this.right.isRed())throw Hr();var e=this.left.check();if(e!==this.right.check())throw Hr();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Hr()}get value(){throw Hr()}get color(){throw Hr()}get left(){throw Hr()}get right(){throw Hr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class io{constructor(e){this.comparator=e,this.data=new to(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(n){this.data.inorderTraversal((e,t)=>(n(e),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(e){return new ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof io))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(e){const t=new io(this.comparator);return t.data=e,t}}class ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const oo=new to(Ii.comparator);const so=new to(Ii.comparator);const lo=new to(Ii.comparator);const uo=new io(Ii.comparator);function co(...e){let t=uo;for(const n of e)t=t.add(n);return t}const ho=new io(ii);class fo{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,t)),new fo(li.min(),n,ho,oo,co())}}class po{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new po(vi.EMPTY_BYTE_STRING,t,co(),co(),co())}}class mo{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class go{constructor(e,t){this.targetId=e,this.F=t}}class vo{constructor(e,t,n=vi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class yo{constructor(){this.M=0,this.L=Eo(),this.B=vi.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){0<e.approximateByteSize()&&(this.q=!0,this.B=e)}G(){let n=co(),r=co(),i=co();return this.L.forEach((e,t)=>{switch(t){case 0:n=n.add(e);break;case 2:r=r.add(e);break;case 1:i=i.add(e);break;default:Hr()}}),new po(this.B,this.U,n,r,i)}H(){this.q=!1,this.L=Eo()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){--this.M}tt(){this.q=!0,this.U=!0}}class bo{constructor(e){this.et=e,this.nt=new Map,this.st=oo,this.it=wo(),this.rt=new io(ii)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.at(t,e.O):this.ct(t,e.key,e.O);for(const n of e.removedTargetIds)this.ct(n,e.key,e.O)}ut(n){this.forEachTarget(n,e=>{const t=this.ht(e);switch(n.state){case 0:this.lt(e)&&t.W(n.resumeToken);break;case 1:t.Z(),t.K||t.H(),t.W(n.resumeToken);break;case 2:t.Z(),t.K||this.removeTarget(e);break;case 3:this.lt(e)&&(t.tt(),t.W(n.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),t.W(n.resumeToken));break;default:Hr()}})}forEachTarget(e,n){0<e.targetIds.length?e.targetIds.forEach(n):this.nt.forEach((e,t)=>{this.lt(t)&&n(t)})}dt(e){const t=e.targetId,n=e.F.count,r=this.wt(t);if(r){const e=r.target;if(Ki(e))if(0===n){const n=new Ii(e.path);this.ct(t,n,Bi.newNoDocument(n,li.min()))}else Wr(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(r){const i=new Map;this.nt.forEach((e,t)=>{var n=this.wt(t);if(n){if(e.current&&Ki(n.target)){const i=new Ii(n.target.path);null!==this.st.get(i)||this.yt(t,i)||this.ct(t,i,Bi.newNoDocument(i,r))}e.j&&(i.set(t,e.G()),e.H())}});let a=co();this.it.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{e=this.wt(e);return!e||2===e.purpose||(n=!1)}),n&&(a=a.add(e))});var e=new fo(r,i,this.rt,this.st,a);return this.st=oo,this.it=wo(),this.rt=new io(ii),e}at(e,t){var n;this.lt(e)&&(n=this.yt(e,t.key)?2:0,this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e)))}ct(e,t,n){if(this.lt(e)){const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}removeTarget(e){this.nt.delete(e)}_t(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new yo,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new io(ii),this.it=this.it.insert(e,t)),t}lt(e){var t=null!==this.wt(e);return t||Ur("WatchChangeAggregator","Detected inactive target",e),t}wt(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(t){this.nt.set(t,new yo),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function wo(){return new to(Ii.comparator)}function Eo(){return new to(Ii.comparator)}const ko={asc:"ASCENDING",desc:"DESCENDING"},Co={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class So{constructor(e,t){this.databaseId=e,this.C=t}}function xo(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function To(e,t){return e.C?t.toBase64():t.toUint8Array()}function Io(e){return Wr(!!e),li.fromTimestamp((e=bi(e),new si(e.seconds,e.nanos)))}function No(e,t){return e=e,new fi(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function Do(e){e=fi.fromString(e);return Wr(Qo(e)),e}function Ao(e,t){return No(e.databaseId,t.path)}function _o(e,t){const n=Do(t);if(n.get(1)!==e.databaseId.projectId)throw new $r(Kr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $r(Kr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ii(Oo(n))}function Po(e,t){return No(e.databaseId,t)}function Lo(e){e=Do(e);return 4===e.length?fi.emptyPath():Oo(e)}function Ro(e){return new fi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oo(e){return Wr(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function Mo(e,t,n){return{name:Ao(e,t),fields:n.value.mapValue.fields}}function Fo(e,t,n){const r=_o(e,t.name),i=Io(t.updateTime),a=new Ui({mapValue:{fields:t.fields}}),o=Bi.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Vo(e,t){let n;if(t instanceof Wa)n={update:Mo(e,t.key,t.value)};else if(t instanceof Ya)n={delete:Ao(e,t.key)};else if(t instanceof Ka)n={update:Mo(e,t.key,t.data),updateMask:function(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof Xa))return Hr();n={verify:Ao(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e){var t=e.transform;if(t instanceof Na)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Da)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof _a)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof La)return{fieldPath:e.field.canonicalString(),increment:t.N};throw Hr()}(e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:(t=r.updateTime,xo(e,t.toTimestamp()))}:void 0!==r.exists?{exists:r.exists}:Hr()),n;var r}function jo(t,n){const e=n.currentDocument?void 0!==(a=n.currentDocument).updateTime?Va.updateTime(Io(a.updateTime)):void 0!==a.exists?Va.exists(a.exists):Va.none():Va.none(),r=n.updateTransforms?n.updateTransforms.map(e=>function(e,t){let n=null;if("setToServerValue"in t)Wr("REQUEST_TIME"===t.setToServerValue),n=new Na;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Da(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new _a(e)}else"increment"in t?n=new La(e,t.increment):Hr();t=mi.fromServerFormat(t.fieldPath);return new Ma(t,n)}(t,e)):[];if(n.update){n.update.name;var i=_o(t,n.update.name),a=new Ui({mapValue:{fields:n.update.fields}});if(n.updateMask){const t=function(){const e=n.updateMask.fieldPaths||[];return new gi(e.map(e=>mi.fromServerFormat(e)))}();return new Ka(i,a,t,e,r)}return new Wa(i,a,e,r)}if(n.delete){const r=_o(t,n.delete);return new Ya(r,e)}if(n.verify){const r=_o(t,n.verify);return new Xa(r,e)}return Hr()}function Uo(e,t){return{documents:[Po(e,t.path)]}}function Bo(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Po(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Po(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){e=e.map(e=>function(e){if("=="===e.op){if(Fi(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NAN"}};if(Mi(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fi(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NOT_NAN"}};if(Mi(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(e.field),op:(t=e.op,Co[t]),value:e.value}};var t}(e));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(t.filters);i&&(n.structuredQuery.where=i);i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Wo(e.field),direction:(e=e.dir,ko[e])}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);i=t.limit,i=e.C||Si(i)?i:{value:i};return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=qo(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qo(t.endAt)),n}function zo(e){let t=Lo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(0<r){Wr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Go(e)]:void 0!==e.fieldFilter?[$o(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>t(e)).reduce((e,t)=>e.concat(t)):Hr():[]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new ia(Ko(e.field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}())}(e)));let s=null;n.limit&&(s=function(e){e="object"==typeof e?e.value:e;return Si(e)?null:e}(n.limit));let l=null;n.startAt&&(l=Ho(n.startAt));let u=null;return n.endAt&&(u=Ho(n.endAt)),la(t,i,o,a,s,"F",l,u)}function qo(e){return{before:e.before,values:e.position}}function Ho(e){var t=!!e.before,e=e.values||[];return new na(e,t)}function Wo(e){return{fieldPath:e.canonicalString()}}function Ko(e){return mi.fromServerFormat(e.fieldPath)}function $o(e){return $i.create(Ko(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hr()}}(),e.fieldFilter.value)}function Go(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ko(e.unaryFilter.field);return $i.create(t,"==",{doubleValue:NaN});case"IS_NULL":t=Ko(e.unaryFilter.field);return $i.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Ko(e.unaryFilter.field);return $i.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":n=Ko(e.unaryFilter.field);return $i.create(n,"!=",{nullValue:"NULL_VALUE"});default:return Hr()}}function Qo(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function Yo(t){let n="";for(let e=0;e<t.length;e++)0<n.length&&(n=Xo(n)),n=function(t,e){let n=e;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}(t.get(e),n);return Xo(n)}function Xo(e){return e+""}function Jo(n){const r=n.length;if(Wr(2<=r),2===r)return Wr(""===n.charAt(0)&&""===n.charAt(1)),fi.emptyPath();const i=r-2,a=[];let o="";for(let t=0;t<r;){const r=n.indexOf("",t);switch((r<0||r>i)&&Hr(),n.charAt(r+1)){case"":const i=n.substring(t,r);let e;0===o.length?e=i:(o+=i,e=o,o=""),a.push(e);break;case"":o+=n.substring(t,r),o+="\0";break;case"":o+=n.substring(t,r+1);break;default:Hr()}t=r+2}return new fi(a)}class Zo{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class es{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}es.store="owner",es.key="owner";class ts{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ts.store="mutationQueues",ts.keyPath="userId";class ns{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}ns.store="mutations",ns.keyPath="batchId",ns.userMutationsIndex="userMutationsIndex",ns.userMutationsKeyPath=["userId","batchId"];class rs{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Yo(t)]}static key(e,t,n){return[e,Yo(t),n]}}rs.store="documentMutations",rs.PLACEHOLDER=new rs;class is{constructor(e,t){this.path=e,this.readTime=t}}class as{constructor(e,t){this.path=e,this.version=t}}class os{constructor(e,t,n,r,i,a){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=a}}os.store="remoteDocuments",os.readTimeIndex="readTimeIndex",os.readTimeIndexPath="readTime",os.collectionReadTimeIndex="collectionReadTimeIndex",os.collectionReadTimeIndexPath=["parentPath","readTime"];class ss{constructor(e){this.byteSize=e}}ss.store="remoteDocumentGlobal",ss.key="remoteDocumentGlobalKey";class ls{constructor(e,t,n,r,i,a,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=a,this.query=o}}ls.store="targets",ls.keyPath="targetId",ls.queryTargetsIndexName="queryTargetsIndex",ls.queryTargetsKeyPath=["canonicalId","targetId"];class us{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}us.store="targetDocuments",us.keyPath=["targetId","path"],us.documentTargetsIndex="documentTargetsIndex",us.documentTargetsKeyPath=["path","targetId"];class cs{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}cs.key="targetGlobalKey",cs.store="targetGlobal";class hs{constructor(e,t){this.collectionId=e,this.parent=t}}hs.store="collectionParents",hs.keyPath=["collectionId","parent"];class ds{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}ds.store="clientMetadata",ds.keyPath="clientId";class fs{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}fs.store="bundles",fs.keyPath="bundleId";class ps{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ps.store="namedQueries",ps.keyPath="name";const ms=[ts.store,ns.store,rs.store,os.store,ls.store,es.store,cs.store,us.store,ds.store,ss.store,hs.store,fs.store,ps.store],gs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ys{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(r,i){return this.callbackAttached&&Hr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new ys((t,n)=>{this.nextCallback=e=>{this.wrapSuccess(r,e).next(t,n)},this.catchCallback=e=>{this.wrapFailure(i,e).next(t,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{var t=e();return t instanceof ys?t:ys.resolve(t)}catch(e){return ys.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ys.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ys.reject(t)}static resolve(n){return new ys((e,t)=>{e(n)})}static reject(n){return new ys((e,t)=>{t(n)})}static waitFor(e){return new ys((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=ys.resolve(!1);for(const n of e)t=t.next(e=>e?ys.resolve(e):n());return t}static forEach(e,n){const r=[];return e.forEach((e,t)=>{r.push(n.call(this,e,t))}),this.waitFor(r)}}class bs{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Gr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new ks(t,e.error)):this.It.resolve()},this.transaction.onerror=e=>{e=Is(e.target.error);this.It.reject(new ks(t,e))}}static open(e,t,n,r){try{return new bs(t,e.transaction(r,n))}catch(e){throw new ks(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ur("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){e=this.transaction.objectStore(e);return new Ss(e)}}class ws{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===ws.bt(f())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ur("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("object"!=typeof indexedDB)return!1;if(ws.vt())return!0;const e=f(),t=ws.bt(e),n=0<t&&t<10,r=ws.Vt(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(i){return this.db||(Ur("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{e=e.target.result;t(e)},r.onblocked=()=>{n(new ks(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{e=e.target.error;"VersionError"===e.name?n(new $r(Kr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===e.name?n(new $r(Kr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+e)):n(new ks(i,e))},r.onupgradeneeded=e=>{Ur("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next(()=>{Ur("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(e,t,n,r){var i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.Ct(e);const t=bs.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).catch(e=>(t.abort(e),ys.reject(e))).toPromise();return a.catch(()=>{}),await t.At,a}catch(e){const t="FirebaseError"!==e.name&&a<3;if(Ur("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Es{constructor(e){this.$t=e,this.Ot=!1,this.Ft=null}get isDone(){return this.Ot}get Mt(){return this.Ft}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Ft=e}delete(){return xs(this.$t.delete())}}class ks extends $r{constructor(e,t){super(Kr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: `+t),this.name="IndexedDbTransactionError"}}function Cs(e){return"IndexedDbTransactionError"===e.name}class Ss{constructor(e){this.store=e}put(e,t){let n;return n=void 0!==t?(Ur("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(Ur("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)),xs(n)}add(e){return Ur("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(t){return xs(this.store.get(t)).next(e=>(Ur("SimpleDb","GET",this.store.name,t,e=void 0===e?null:e),e))}delete(e){return Ur("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return Ur("SimpleDb","COUNT",this.store.name),xs(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(e,t)=>{r.push(t)}).next(()=>r)}qt(e,t){Ur("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;t=this.cursor(n);return this.Ut(t,(e,t,n)=>n.delete())}jt(e,t){let n;t?n=e:(n={},t=e);e=this.cursor(n);return this.Ut(e,t)}Qt(r){const e=this.cursor({});return new ys((n,t)=>{e.onerror=e=>{e=Is(e.target.error);t(e)},e.onsuccess=e=>{const t=e.target.result;t?r(t.primaryKey,t.value).next(e=>{e?t.continue():n()}):n()}})}Ut(e,a){const o=[];return new ys((i,t)=>{e.onerror=e=>{t(e.target.error)},e.onsuccess=e=>{const t=e.target.result;if(t){const n=new Es(t),r=a(t.primaryKey,t.value,n);if(r instanceof ys){const e=r.catch(e=>(n.done(),ys.reject(e)));o.push(e)}n.isDone?i():null===n.Mt?t.continue():t.continue(n.Mt)}else i()}}).next(()=>ys.waitFor(o))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xs(e){return new ys((t,n)=>{e.onsuccess=e=>{e=e.target.result;t(e)},e.onerror=e=>{e=Is(e.target.error);n(e)}})}let Ts=!1;function Is(e){const t=ws.bt(f());if(12.2<=t&&t<13){const t="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(t)){const e=new $r("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ts||(Ts=!0,setTimeout(()=>{throw e},0)),e}}return e}class Ns extends vs{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Ds(e,t){return ws.Dt(e.Wt,t)}class As{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){var n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&Ba(r,t,n[e])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&za(t,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&za(n,e,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(e=>{const t=r.get(e.key),n=t;this.applyToLocalView(n),t.isValidDocument()||n.convertToNoDocument(li.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),co())}isEqual(e){return this.batchId===e.batchId&&ai(this.mutations,e.mutations,(e,t)=>qa(e,t))&&ai(this.baseMutations,e.baseMutations,(e,t)=>qa(e,t))}}class _s{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wr(e.mutations.length===n.length);let r=lo;var i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new _s(e,t,n,r)}}class Ps{constructor(e,t,n,r,i=li.min(),a=li.min(),o=vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ls{constructor(e){this.Gt=e}}function Rs(e,t){if(t.document)return Fo(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Ii.fromSegments(t.noDocument.path),n=js(t.noDocument.readTime),r=Bi.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Ii.fromSegments(t.unknownDocument.path),i=js(t.unknownDocument.version);return Bi.newUnknownDocument(e,i)}return Hr()}function Os(e,t,n){var r=Ms(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const a={name:Ao(n=e.Gt,(e=t).key),fields:e.data.value.mapValue.fields,updateTime:xo(n,e.version.toTimestamp())},o=t.hasCommittedMutations;return new os(null,null,a,o,r,i)}if(t.isNoDocument()){const s=t.key.path.toArray(),a=Vs(t.version),l=t.hasCommittedMutations;return new os(null,new is(s,a),null,l,r,i)}if(t.isUnknownDocument()){const s=t.key.path.toArray(),a=Vs(t.version);return new os(new as(s,a),null,null,!0,r,i)}return Hr()}function Ms(e){e=e.toTimestamp();return[e.seconds,e.nanoseconds]}function Fs(e){e=new si(e[0],e[1]);return li.fromTimestamp(e)}function Vs(e){e=e.toTimestamp();return new Zo(e.seconds,e.nanoseconds)}function js(e){e=new si(e.seconds,e.nanoseconds);return li.fromTimestamp(e)}function Us(t,n){const r=(n.baseMutations||[]).map(e=>jo(t.Gt,e));for(let e=0;e<n.mutations.length-1;++e){const r=n.mutations[e];if(e+1<n.mutations.length&&void 0!==n.mutations[e+1].transform){const i=n.mutations[e+1];r.updateTransforms=i.transform.fieldTransforms,n.mutations.splice(e+1,1),++e}}const i=n.mutations.map(e=>jo(t.Gt,e)),e=si.fromMillis(n.localWriteTimeMs);return new As(n.batchId,e,r,i)}function Bs(e){var t,n=js(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?js(e.lastLimboFreeSnapshotVersion):li.min();let i;return i=void 0!==e.query.documents?(Wr(1===(t=e.query).documents.length),ga(ua(Lo(t.documents[0])))):ga(zo(e.query)),new Ps(i,e.targetId,0,e.lastListenSequenceNumber,n,r,vi.fromBase64String(e.resumeToken))}function zs(e,t){var n=Vs(t.snapshotVersion),r=Vs(t.lastLimboFreeSnapshotVersion),i=(Ki(t.target)?Uo:Bo)(e.Gt,t.target),e=t.resumeToken.toBase64();return new ls(t.targetId,Hi(t.target),n,e,t.sequenceNumber,r,i)}function qs(e){var t=zo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?va(t,t.limit,"L"):t}class Hs{getBundleMetadata(e,t){return Ws(e).get(t).next(e=>{if(e)return{id:(e=e).bundleId,createTime:js(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return Ws(e).put({bundleId:(t=t).id,createTime:Vs(Io(t.createTime)),version:t.version})}getNamedQuery(e,t){return Ks(e).get(t).next(e=>{if(e)return{name:(e=e).name,query:qs(e.bundledQuery),readTime:js(e.readTime)}})}saveNamedQuery(e,t){return Ks(e).put({name:(t=t).name,readTime:Vs(Io(t.readTime)),bundledQuery:t.bundledQuery})}}function Ws(e){return Ds(e,fs.store)}function Ks(e){return Ds(e,ps.store)}class $s{constructor(){this.zt=new Gs}addToCollectionParentIndex(e,t){return this.zt.add(t),ys.resolve()}getCollectionParents(e,t){return ys.resolve(this.zt.getEntries(t))}}class Gs{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new io(fi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new io(fi.comparator)).toArray()}}class Qs{constructor(){this.Ht=new Gs}addToCollectionParentIndex(e,t){if(this.Ht.has(t))return ys.resolve();var n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});r={collectionId:n,parent:Yo(r)};return Ys(e).put(r)}getCollectionParents(e,n){const r=[],t=IDBKeyRange.bound([n,""],[oi(n),""],!1,!0);return Ys(e).Bt(t).next(e=>{for(const t of e){if(t.collectionId!==n)break;r.push(Jo(t.parent))}return r})}}function Ys(e){return Ds(e,hs.store)}const Xs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Js{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zs(e,t,n){const r=e.store(ns.store),i=e.store(rs.store),a=[],o=IDBKeyRange.only(n.batchId);let s=0;const l=r.jt({range:o},(e,t,n)=>(s++,n.delete()));a.push(l.next(()=>{Wr(1===s)}));const u=[];for(const e of n.mutations){const r=rs.key(t,e.key.path,n.batchId);a.push(i.delete(r)),u.push(e.key)}return ys.waitFor(a).next(()=>u)}function el(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Hr();t=e.noDocument}return JSON.stringify(t).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);class tl{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){Wr(""!==e.uid);e=e.isAuthenticated()?e.uid:"";return new tl(e,t,n,r)}checkEmpty(e){let r=!0;var t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).jt({index:ns.userMutationsIndex,range:t},(e,t,n)=>{r=!1,n.done()}).next(()=>r)}addMutationBatch(c,h,d,f){const p=il(c),m=rl(c);return m.add({}).next(e=>{Wr("number"==typeof e);const t=new As(e,h,d,f),n=(i=this.k,a=this.userId,o=t,s=o.baseMutations.map(e=>Vo(i.Gt,e)),l=o.mutations.map(e=>Vo(i.Gt,e)),new ns(a,o.batchId,o.localWriteTime.toMillis(),s,l)),r=[];var i,a,o,s,l;let u=new io((e,t)=>ii(e.canonicalString(),t.canonicalString()));for(const c of f){const h=rs.key(this.userId,c.key.path,e);u=u.add(c.key.path.popLast()),r.push(m.put(n)),r.push(p.put(h,rs.PLACEHOLDER))}return u.forEach(e=>{r.push(this.Jt.addToCollectionParentIndex(c,e))}),c.addOnCommittedListener(()=>{this.Yt[e]=t.keys()}),ys.waitFor(r).next(()=>t)})}lookupMutationBatch(e,t){return rl(e).get(t).next(e=>e?(Wr(e.userId===this.userId),Us(this.k,e)):null)}Zt(e,t){return this.Yt[t]?ys.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){e=e.keys();return this.Yt[t]=e}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return rl(e).jt({index:ns.userMutationsIndex,range:n},(e,t,n)=>{t.userId===this.userId&&(Wr(t.batchId>=r),i=Us(this.k,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rl(e).jt({index:ns.userMutationsIndex,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){var t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).Bt(ns.userMutationsIndex,t).next(e=>e.map(e=>Us(this.k,e)))}getAllMutationBatchesAffectingDocumentKey(a,o){const e=rs.prefixForPath(this.userId,o.path),t=IDBKeyRange.lowerBound(e),s=[];return il(a).jt({range:t},(e,t,n)=>{var[r,i,e]=e,i=Jo(i);if(r===this.userId&&o.path.isEqual(i))return rl(a).get(e).next(e=>{if(!e)throw Hr();Wr(e.userId===this.userId),s.push(Us(this.k,e))});n.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let o=new io(ii);const n=[];return e.forEach(a=>{var e=rs.prefixForPath(this.userId,a.path),e=IDBKeyRange.lowerBound(e),e=il(t).jt({range:e},(e,t,n)=>{var[r,i,e]=e,i=Jo(i);r===this.userId&&a.path.isEqual(i)?o=o.add(e):n.done()});n.push(e)}),ys.waitFor(n).next(()=>this.te(t,o))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1,n=rs.prefixForPath(this.userId,a),r=IDBKeyRange.lowerBound(n);let s=new io(ii);return il(e).jt({range:r},(e,t,n)=>{var[r,i,e]=e,i=Jo(i);r===this.userId&&a.isPrefixOf(i)?i.length===o&&(s=s.add(e)):n.done()}).next(()=>this.te(e,s))}te(t,e){const n=[],r=[];return e.forEach(e=>{r.push(rl(t).get(e).next(e=>{if(null===e)throw Hr();Wr(e.userId===this.userId),n.push(Us(this.k,e))}))}),ys.waitFor(r).next(()=>n)}removeMutationBatch(t,n){return Zs(t.Wt,this.userId,n).next(e=>(t.addOnCommittedListener(()=>{this.ee(n.batchId)}),ys.forEach(e,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}ee(e){delete this.Yt[e]}performConsistencyCheck(n){return this.checkEmpty(n).next(e=>{if(!e)return ys.resolve();const t=IDBKeyRange.lowerBound(rs.prefixForUser(this.userId)),r=[];return il(n).jt({range:t},(e,t,n)=>{if(e[0]===this.userId){const t=Jo(e[1]);r.push(t)}else n.done()}).next(()=>{Wr(0===r.length)})})}containsKey(e,t){return nl(e,this.userId,t)}ne(e){return al(e).get(this.userId).next(e=>e||new ts(this.userId,-1,""))}}function nl(e,i,t){const n=rs.prefixForPath(i,t.path),a=n[1],r=IDBKeyRange.lowerBound(n);let o=!1;return il(e).jt({range:r,Kt:!0},(e,t,n)=>{var[r,e]=e;r===i&&e===a&&(o=!0),n.done()}).next(()=>o)}function rl(e){return Ds(e,ns.store)}function il(e){return Ds(e,rs.store)}function al(e){return Ds(e,ts.store)}class ol{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ol(0)}static re(){return new ol(-1)}}class sl{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(n){return this.oe(n).next(e=>{const t=new ol(e.highestTargetId);return e.highestTargetId=t.next(),this.ae(n,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(e=>li.fromTimestamp(new si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.oe(t).next(e=>(e.highestListenSequenceNumber=n,r&&(e.lastRemoteSnapshotVersion=r.toTimestamp()),n>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n),this.ae(t,e)))}addTargetData(t,n){return this.ce(t,n).next(()=>this.oe(t).next(e=>(e.targetCount+=1,this.ue(n,e),this.ae(t,e))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ll(t).delete(e.targetId)).next(()=>this.oe(t)).next(e=>(Wr(0<e.targetCount),--e.targetCount,this.ae(t,e)))}removeTargets(n,r,i){let a=0;const o=[];return ll(n).jt((e,t)=>{t=Bs(t);t.sequenceNumber<=r&&null===i.get(t.targetId)&&(a++,o.push(this.removeTargetData(n,t)))}).next(()=>ys.waitFor(o)).next(()=>a)}forEachTarget(e,n){return ll(e).jt((e,t)=>{t=Bs(t);n(t)})}oe(e){return ul(e).get(cs.key).next(e=>(Wr(null!==e),e))}ae(e,t){return ul(e).put(cs.key,t)}ce(e,t){return ll(e).put(zs(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next(e=>e.targetCount)}getTargetData(e,r){var t=Hi(r),t=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]);let i=null;return ll(e).jt({range:t,index:ls.queryTargetsIndexName},(e,t,n)=>{t=Bs(t);Wi(r,t.target)&&(i=t,n.done())}).next(()=>i)}addMatchingKeys(n,e,r){const i=[],a=cl(n);return e.forEach(e=>{var t=Yo(e.path);i.push(a.put(new us(r,t))),i.push(this.referenceDelegate.addReference(n,r,e))}),ys.waitFor(i)}removeMatchingKeys(n,e,r){const i=cl(n);return ys.forEach(e,e=>{var t=Yo(e.path);return ys.waitFor([i.delete([r,t]),this.referenceDelegate.removeReference(n,r,e)])})}removeMatchingKeysForTargetId(e,t){const n=cl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cl(e);let i=co();return r.jt({range:n,Kt:!0},(e,t,n)=>{e=Jo(e[1]),e=new Ii(e);i=i.add(e)}).next(()=>i)}containsKey(e,t){t=Yo(t.path),t=IDBKeyRange.bound([t],[oi(t)],!1,!0);let r=0;return cl(e).jt({index:us.documentTargetsIndex,Kt:!0,range:t},([e],t,n)=>{0!==e&&(r++,n.done())}).next(()=>0<r)}Et(e,t){return ll(e).get(t).next(e=>e?Bs(e):null)}}function ll(e){return Ds(e,ls.store)}function ul(e){return Ds(e,cs.store)}function cl(e){return Ds(e,us.store)}async function hl(e){if(e.code!==Kr.FAILED_PRECONDITION||e.message!==gs)throw e;Ur("LocalStore","Unexpectedly lost primary lease")}function dl([e,t],[n,r]){n=ii(e,n);return 0===n?ii(t,r):n}class fl{constructor(e){this.he=e,this.buffer=new io(dl),this.le=0}fe(){return++this.le}de(e){e=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();dl(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class pl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this.we?3e5:6e4;Ur("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Cs(e)?Ur("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await hl(e)}await this.me(e)})}}class ml{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ys.resolve(ni.I);const n=new fl(t);return this.ge.forEachTarget(e,e=>n.de(e.sequenceNumber)).next(()=>this.ge.pe(e,e=>n.de(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(t,n){return-1===this.params.cacheSizeCollectionThreshold?(Ur("LruGarbageCollector","Garbage collection skipped; disabled"),ys.resolve(Xs)):this.getCacheSize(t).next(e=>e<this.params.cacheSizeCollectionThreshold?(Ur("LruGarbageCollector",`Garbage collection skipped; Cache size ${e} is lower than threshold `+this.params.cacheSizeCollectionThreshold),Xs):this.Te(t,n))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(t,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(i=e>this.params.maximumSequenceNumbersToCollect?(Ur("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from `+e),this.params.maximumSequenceNumbersToCollect):e,o=Date.now(),this.nthSequenceNumber(t,i))).next(e=>(r=e,s=Date.now(),this.removeTargets(t,r,n))).next(e=>(a=e,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(e=>(u=Date.now(),jr()<=h.DEBUG&&Ur("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+"ms\n"+`	Removed ${a} targets in `+(l-s)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),ys.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:e})))}}class gl{constructor(e,t){this.db=e,this.garbageCollector=(e=this,t=t,new ml(e,t))}ye(e){const n=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(t=>n.next(e=>t+e))}Ee(e){let t=0;return this.pe(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,n){return this.Ie(e,(e,t)=>n(t))}addReference(e,t,n){return vl(e,n)}removeReference(e,t,n){return vl(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return vl(e,t)}Ae(t,n){let r=!1;return al(t).Qt(e=>nl(t,e,n).next(e=>(e&&(r=!0),ys.resolve(!e)))).next(()=>r)}removeOrphanedDocuments(n,r){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Ie(n,(t,e)=>{if(e<=r){const r=this.Ae(n,t).next(e=>{if(!e)return o++,i.getEntry(n,t).next(()=>(i.removeEntry(t),cl(n).delete([0,Yo(t.path)])))});a.push(r)}}).next(()=>ys.waitFor(a)).next(()=>i.apply(n)).next(()=>o)}removeTarget(e,t){t=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,t)}updateLimboDocument(e,t){return vl(e,t)}Ie(e,r){const t=cl(e);let i,a=ni.I;return t.jt({index:us.documentTargetsIndex},([e],{path:t,sequenceNumber:n})=>{0===e?(a!==ni.I&&r(new Ii(Jo(i)),a),a=n,i=t):a=ni.I}).next(()=>{a!==ni.I&&r(new Ii(Jo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vl(e,t){return cl(e).put((t=t,e=e.currentSequenceNumber,new us(0,Yo(t.path),e)))}class yl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(t,n){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r){for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return void(r[e]=[t,n]);r.push([t,n])}else this.inner[e]=[[t,n]]}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return!1;for(let e=0;e<r.length;e++)if(this.equalsFn(r[e][0],t))return 1===r.length?delete this.inner[n]:r.splice(e,1),!0;return!1}forEach(r){ci(this.inner,(e,t)=>{for(const[e,n]of t)r(e,n)})}isEmpty(){return hi(this.inner)}}class bl{constructor(){this.changes=new yl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){e=this.changes.get(e);return e?e.readTime:li.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bi.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ys.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wl{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Cl(e).put(Sl(t),n)}removeEntry(e,t){const n=Cl(e),r=Sl(t);return n.delete(r)}updateMetadata(t,n){return this.getMetadata(t).next(e=>(e.byteSize+=n,this.Re(t,e)))}getEntry(e,t){return Cl(e).get(Sl(t)).next(e=>this.be(t,e))}Pe(e,t){return Cl(e).get(Sl(t)).next(e=>({document:this.be(t,e),size:el(e)}))}getEntries(e,t){let n=oo;return this.ve(e,t,(e,t)=>{t=this.be(e,t);n=n.insert(e,t)}).next(()=>n)}Ve(e,t){let r=oo,i=new to(Ii.comparator);return this.ve(e,t,(e,t)=>{var n=this.be(e,t);r=r.insert(e,n),i=i.insert(e,el(t))}).next(()=>({documents:r,Se:i}))}ve(e,t,i){if(t.isEmpty())return ys.resolve();const n=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator();let o=a.getNext();return Cl(e).jt({range:n},(e,t,n)=>{for(var r=Ii.fromSegments(e);o&&Ii.comparator(o,r)<0;)i(o,null),o=a.getNext();o&&o.isEqual(r)&&(i(o,t),o=a.hasNext()?a.getNext():null),o?n.Lt(o.path.toArray()):n.done()}).next(()=>{for(;o;)i(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,t){let i=oo;const a=r.path.length+1,n={};if(t.isEqual(li.min())){const e=r.path.toArray();n.range=IDBKeyRange.lowerBound(e)}else{const e=r.path.toArray(),i=Ms(t);n.range=IDBKeyRange.lowerBound([e,i],!0),n.index=os.collectionReadTimeIndex}return Cl(e).jt(n,(e,t,n)=>{e.length===a&&(t=Rs(this.k,t),r.path.isPrefixOf(t.key.path)?Ea(r,t)&&(i=i.insert(t.key,t)):n.done())}).next(()=>i)}newChangeBuffer(e){return new El(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return kl(e).get(ss.key).next(e=>(Wr(!!e),e))}Re(e,t){return kl(e).put(ss.key,t)}be(e,t){if(t){const e=Rs(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(li.min()))return e}return Bi.newInvalidDocument(e)}}class El extends bl{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new yl(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(i){const a=[];let o=0,s=new io((e,t)=>ii(e.canonicalString(),t.canonicalString()));return this.changes.forEach((e,t)=>{var n=this.Ce.get(e);if(t.document.isValidDocument()){var r=Os(this.De.k,t.document,this.getReadTime(e));s=s.add(e.path.popLast());t=el(r);o+=t-n,a.push(this.De.addEntry(i,e,r))}else if(o-=n,this.trackRemovals){const o=Os(this.De.k,Bi.newNoDocument(e,li.min()),this.getReadTime(e));a.push(this.De.addEntry(i,e,o))}else a.push(this.De.removeEntry(i,e))}),s.forEach(e=>{a.push(this.De.Jt.addToCollectionParentIndex(i,e))}),a.push(this.De.updateMetadata(i,o)),ys.waitFor(a)}getFromCache(e,t){return this.De.Pe(e,t).next(e=>(this.Ce.set(t,e.size),e.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:e,Se:t})=>(t.forEach((e,t)=>{this.Ce.set(e,t)}),e))}}function kl(e){return Ds(e,ss.store)}function Cl(e){return Ds(e,os.store)}function Sl(e){return e.path.toArray()}class xl{constructor(e){this.k=e}Nt(t,n,e,r){Wr(e<r&&0<=e&&r<=11);const i=new bs("createOrUpgrade",n);var a;e<1&&1<=r&&(t.createObjectStore(es.store),(a=t).createObjectStore(ts.store,{keyPath:ts.keyPath}),a.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0}),a.createObjectStore(rs.store),Tl(t),t.createObjectStore(os.store));let o=ys.resolve();return e<3&&3<=r&&(0!==e&&((a=t).deleteObjectStore(us.store),a.deleteObjectStore(ls.store),a.deleteObjectStore(cs.store),Tl(t)),o=o.next(()=>function(){const e=i.store(cs.store),t=new cs(0,0,li.min().toTimestamp(),0);return e.put(cs.key,t)}())),e<4&&4<=r&&(0!==e&&(o=o.next(()=>function(r,i){return i.store(ns.store).Bt().next(e=>{r.deleteObjectStore(ns.store),r.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0});const t=i.store(ns.store),n=e.map(e=>t.put(e));return ys.waitFor(n)})}(t,i))),o=o.next(()=>{t.createObjectStore(ds.store,{keyPath:ds.keyPath})})),e<5&&5<=r&&(o=o.next(()=>this.Ne(i))),e<6&&6<=r&&(o=o.next(()=>(t.createObjectStore(ss.store),this.ke(i)))),e<7&&7<=r&&(o=o.next(()=>this.xe(i))),e<8&&8<=r&&(o=o.next(()=>this.$e(t,i))),e<9&&9<=r&&(o=o.next(()=>{var e;(e=t).objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),function(){const e=n.objectStore(os.store);e.createIndex(os.readTimeIndex,os.readTimeIndexPath,{unique:!1}),e.createIndex(os.collectionReadTimeIndex,os.collectionReadTimeIndexPath,{unique:!1})}()})),e<10&&10<=r&&(o=o.next(()=>this.Oe(i))),e<11&&11<=r&&(o=o.next(()=>{t.createObjectStore(fs.store,{keyPath:fs.keyPath}),t.createObjectStore(ps.store,{keyPath:ps.keyPath})})),o}ke(t){let n=0;return t.store(os.store).jt((e,t)=>{n+=el(t)}).next(()=>{var e=new ss(n);return t.store(ss.store).put(ss.key,e)})}Ne(n){const e=n.store(ts.store),r=n.store(ns.store);return e.Bt().next(e=>ys.forEach(e,t=>{var e=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return r.Bt(ns.userMutationsIndex,e).next(e=>ys.forEach(e,e=>{Wr(e.userId===t.userId);e=Us(this.k,e);return Zs(n,t.userId,e).next(()=>{})}))}))}xe(e){const o=e.store(us.store),t=e.store(os.store);return e.store(cs.store).get(cs.key).next(i=>{const a=[];return t.jt((e,t)=>{const n=new fi(e),r=[0,Yo(n)];a.push(o.get(r).next(e=>e?ys.resolve():(e=>o.put(new us(0,Yo(e),i.highestListenSequenceNumber)))(n)))}).next(()=>ys.waitFor(a))})}$e(e,t){e.createObjectStore(hs.store,{keyPath:hs.keyPath});const n=t.store(hs.store),r=new Gs,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Yo(r)})}};return t.store(os.store).jt({Kt:!0},(e,t)=>{const n=new fi(e);return i(n.popLast())}).next(()=>t.store(rs.store).jt({Kt:!0},([,e],t)=>{const n=Jo(e);return i(n.popLast())}))}Oe(e){const n=e.store(ls.store);return n.jt((e,t)=>{t=Bs(t),t=zs(this.k,t);return n.put(t)})}}function Tl(e){e.createObjectStore(us.store,{keyPath:us.keyPath}).createIndex(us.documentTargetsIndex,us.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ls.store,{keyPath:ls.keyPath}).createIndex(ls.queryTargetsIndexName,ls.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(cs.store)}const Il="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nl{constructor(e,t,n,r,i,a,o,s,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Fe=i,this.window=a,this.document=o,this.Me=l,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Nl.Pt())throw new $r(Kr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gl(this,r),this.Ge=t+"main",this.k=new Ls(s),this.ze=new ws(this.Ge,11,new xl(this.k)),this.He=new sl(this.referenceDelegate,this.k),this.Jt=new Qs,this.Je=(t=this.k,s=this.Jt,new wl(t,s)),this.Ye=new Hs,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $r(Kr.FAILED_PRECONDITION,Il);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ni(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(t){return this.We=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(async e=>{null===e.newVersion&&await t()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget(async()=>{this.started&&await this.Ze()}))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Al(t).put(new ds(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Fe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(e=>{if(Cs(e))return Ur("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ur("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Dl(e).get(es.key).next(e=>ys.resolve(this.un(e)))}hn(e){return Al(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();var e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const r=Ds(e,ds.store);return r.Bt().next(e=>{const t=this.dn(e,18e5),n=e.filter(e=>-1===t.indexOf(e));return ys.forEach(n,e=>r.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(t){return this.Le?ys.resolve(!0):Dl(t).get(es.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new $r(Kr.FAILED_PRECONDITION,Il);return!1}}return!(!this.networkEnabled||!this.inForeground)||Al(t).Bt().next(e=>void 0===this.dn(e,5e3).find(e=>{if(this.clientId!==e.clientId){var t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,e=this.networkEnabled===e.networkEnabled;if(t||n&&e)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ur("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[es.store,ds.store],e=>{const t=new Ns(e,ni.I);return this.an(t).next(()=>this.hn(t))}),this.ze.close(),this.pn()}dn(e,t){return e.filter(e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Al(e).Bt().next(e=>this.dn(e,18e5).map(e=>e.clientId)))}get started(){return this.Ue}getMutationQueue(e){return tl.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,n,r){Ur("IndexedDbPersistence","Starting transaction:",t);let i;return this.ze.runTransaction(t,"readonly"===n?"readonly":"readwrite",ms,e=>(i=new Ns(e,this.Be?this.Be.next():ni.I),"readwrite-primary"===n?this.rn(i).next(e=>!!e||this.on(i)).next(e=>{if(!e)throw Br(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Fe.enqueueRetryable(()=>this.We(!1)),new $r(Kr.FAILED_PRECONDITION,gs);return r(i)}).next(e=>this.cn(i).next(()=>e)):this.En(i).next(()=>r(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}En(e){return Dl(e).get(es.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $r(Kr.FAILED_PRECONDITION,Il)})}cn(e){var t=new es(this.clientId,this.allowTabSynchronization,Date.now());return Dl(e).put(es.key,t)}static Pt(){return ws.Pt()}an(e){const t=Dl(e);return t.get(es.key).next(e=>this.un(e)?(Ur("IndexedDbPersistence","Releasing primary lease."),t.delete(es.key)):ys.resolve())}fn(e,t){var n=Date.now();return!(e<n-t||n<e&&(Br(`Detected an update time that is in the future: ${e} > `+n),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Fe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),t()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Fe.enterRestrictedMode(!0),this.Fe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ur("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Br("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_`+e}}function Dl(e){return Ds(e,es.store)}function Al(e){return Ds(e,ds.store)}function _l(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Pl{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(t,n){return this.An.getAllMutationBatchesAffectingDocumentKey(t,n).next(e=>this.bn(t,n,e))}bn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Pn(e,n){e.forEach((e,t)=>{for(const e of n)e.applyToLocalView(t)})}vn(t,e){return this.Je.getEntries(t,e).next(e=>this.Vn(t,e).next(()=>e))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Pn(t,e))}getDocumentsMatchingQuery(e,t,n){return r=t,Ii.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):pa(t)?this.Dn(e,t,n):this.Cn(e,t,n);var r}Sn(e,t){return this.Rn(e,new Ii(t)).next(e=>{let t=so;return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(n,r,i){const a=r.collectionGroup;let o=so;return this.Jt.getCollectionParents(n,a).next(e=>ys.forEach(e,e=>{var t=(t=r,e=e.child(a),new sa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt));return this.Cn(n,t,i).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}Cn(t,n,e){let i,a;return this.Je.getDocumentsMatchingQuery(t,n,e).next(e=>(i=e,this.An.getAllMutationBatchesAffectingQuery(t,n))).next(e=>(a=e,this.Nn(t,a,i).next(t=>{i=t;for(const t of a)for(const r of t.mutations){var n=r.key;let e=i.get(n);null==e&&(e=Bi.newInvalidDocument(n),i=i.insert(n,e)),za(r,e,t.localWriteTime),e.isFoundDocument()||(i=i.remove(n))}}))).next(()=>(i.forEach((e,t)=>{Ea(n,t)||(i=i.remove(e))}),i))}Nn(e,t,n){let r=co();for(const e of t)for(const t of e.mutations)t instanceof Ka&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Ll{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=co(),r=co();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Ll(e,t.fromCache,n,r)}}class Rl{On(e){this.Fn=e}getDocumentsMatchingQuery(t,r,i,a){return 0===(e=r).filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||i.isEqual(li.min())?this.Mn(t,r):this.Fn.vn(t,a).next(e=>{const n=this.Ln(r,e);return(ca(r)||ha(r))&&this.Bn(r.limitType,n,a,i)?this.Mn(t,r):(jr()<=h.DEBUG&&Ur("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wa(r)),this.Fn.getDocumentsMatchingQuery(t,r,i).next(t=>(n.forEach(e=>{t=t.insert(e.key,e)}),t)))});var e}Ln(n,e){let r=new io(ka(n));return e.forEach((e,t)=>{Ea(n,t)&&(r=r.add(t))}),r}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||0<i.version.compareTo(r))}Mn(e,t){return jr()<=h.DEBUG&&Ur("QueryEngine","Using full collection scan to execute query:",wa(t)),this.Fn.getDocumentsMatchingQuery(e,t,li.min())}}class Ol{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new to(ii),this.Kn=new yl(e=>Hi(e),Wi),this.jn=li.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Pl(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function Ml(e,t,n,r){return new Ol(e,t,n,r)}async function Fl(e,t){const n=e;let r=n.An,o=n.Wn;e=await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.An.getAllMutationBatches(i).next(e=>(a=e,r=n.persistence.getMutationQueue(t),o=new Pl(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(i))).next(e=>{const t=[],n=[];let r=co();for(const i of a){t.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}for(const i of e){n.push(i.batchId);for(const e of i.mutations)r=r.add(e.key)}return o.vn(i,r).next(e=>({Gn:e,removedBatchIds:t,addedBatchIds:n}))})});return n.An=r,n.Wn=o,n.Un.On(n.Wn),e}function Vl(e){const t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function jl(e,u){const c=e,h=u.snapshotVersion;let d=c.qn;return c.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const e=c.Qn.newChangeBuffer({trackRemovals:!0});d=c.qn;const l=[];u.targetChanges.forEach((t,n)=>{const r=d.get(n);if(r){l.push(c.He.removeMatchingKeys(s,t.removedDocuments,n).next(()=>c.He.addMatchingKeys(s,t.addedDocuments,n)));let e=r.withSequenceNumber(s.currentSequenceNumber);var i,a,o;u.targetMismatches.has(n)?e=e.withResumeToken(vi.EMPTY_BYTE_STRING,li.min()).withLastLimboFreeSnapshotVersion(li.min()):0<t.resumeToken.approximateByteSize()&&(e=e.withResumeToken(t.resumeToken,h)),d=d.insert(n,e),i=r,a=e,o=t,0!==i.resumeToken.approximateByteSize()&&!(3e8<=a.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()||0<o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size)||l.push(c.He.updateTargetData(s,e))}});let t=oo;if(u.documentUpdates.forEach((e,t)=>{u.resolvedLimboDocuments.has(e)&&l.push(c.persistence.referenceDelegate.updateLimboDocument(s,e))}),l.push(Ul(s,e,u.documentUpdates,h,void 0).next(e=>{t=e})),!h.isEqual(li.min())){const u=c.He.getLastRemoteSnapshotVersion(s).next(e=>c.He.setTargetsMetadata(s,s.currentSequenceNumber,h));l.push(u)}return ys.waitFor(l).next(()=>e.apply(s)).next(()=>c.Wn.Vn(s,t)).next(()=>t)}).then(e=>(c.qn=d,e))}function Ul(e,o,t,s,l){let n=co();return t.forEach(e=>n=n.add(e)),o.getEntries(e,n).next(i=>{let a=oo;return t.forEach((e,t)=>{const n=i.get(e),r=(null==l?void 0:l.get(e))||s;t.isNoDocument()&&t.version.isEqual(li.min())?(o.removeEntry(e,r),a=a.insert(e,t)):!n.isValidDocument()||0<t.version.compareTo(n.version)||0===t.version.compareTo(n.version)&&n.hasPendingWrites?(o.addEntry(t,r),a=a.insert(e,t)):Ur("LocalStore","Ignoring outdated watch update for ",e,". Current version:",n.version," Watch version:",t.version)}),a})}function Bl(e,r){const i=e;return i.persistence.runTransaction("Allocate target","readwrite",t=>{let n;return i.He.getTargetData(t,r).next(e=>e?(n=e,ys.resolve(n)):i.He.allocateTargetId(t).next(e=>(n=new Ps(r,e,0,t.currentSequenceNumber),i.He.addTargetData(t,n).next(()=>n))))}).then(e=>{var t=i.qn.get(e.targetId);return(null===t||0<e.snapshotVersion.compareTo(t.snapshotVersion))&&(i.qn=i.qn.insert(e.targetId,e),i.Kn.set(r,e.targetId)),e})}async function zl(e,t,n){const r=e,i=r.qn.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Cs(e))throw e;Ur("LocalStore",`Failed to update sequence numbers for target ${t}: `+e)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function ql(e,n,r){const i=e;let a=li.min(),o=co();return i.persistence.runTransaction("Execute query","readonly",t=>function(e,t,n){const r=e,i=r.Kn.get(n);return void 0!==i?ys.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(i,t,ga(n)).next(e=>{if(e)return a=e.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(t,e.targetId).next(e=>{o=e})}).next(()=>i.Un.getDocumentsMatchingQuery(t,n,r?a:li.min(),r?o:co())).next(e=>({documents:e,zn:o})))}class Hl{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ys.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){return this.Xn.set(t.id,{id:t.id,version:t.version,createTime:Io(t.createTime)}),ys.resolve()}getNamedQuery(e,t){return ys.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(t=t).name,query:qs(t.bundledQuery),readTime:Io(t.readTime)}),ys.resolve()}}class Wl{constructor(){this.ts=new io(Kl.es),this.ns=new io(Kl.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){t=new Kl(e,t);this.ts=this.ts.add(t),this.ns=this.ns.add(t)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new Kl(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new Ii(new fi([])),n=new Kl(t,e),r=new Kl(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){var t=new Ii(new fi([])),n=new Kl(t,e),e=new Kl(t,e+1);let r=co();return this.ns.forEachInRange([n,e],e=>{r=r.add(e.key)}),r}containsKey(e){var t=new Kl(e,0),t=this.ts.firstAfterOrEqual(t);return null!==t&&e.isEqual(t.key)}}class Kl{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Ii.comparator(e.key,t.key)||ii(e.fs,t.fs)}static ss(e,t){return ii(e.fs,t.fs)||Ii.comparator(e.key,t.key)}}class $l{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new io(Kl.es)}checkEmpty(e){return ys.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){var i=this.ds;this.ds++,0<this.An.length&&this.An[this.An.length-1];n=new As(i,t,n,r);this.An.push(n);for(const t of r)this.ws=this.ws.add(new Kl(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return ys.resolve(n)}lookupMutationBatch(e,t){return ys.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){t=this.gs(t+1),t=t<0?0:t;return ys.resolve(this.An.length>t?this.An[t]:null)}getHighestUnacknowledgedBatchId(){return ys.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ys.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kl(t,0),r=new Kl(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{e=this._s(e.fs);i.push(e)}),ys.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new io(ii);return t.forEach(e=>{var t=new Kl(e,0),e=new Kl(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,e],e=>{n=n.add(e.fs)})}),ys.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ii.isDocumentKey(i)||(i=i.child(""));t=new Kl(new Ii(i),0);let a=new io(ii);return this.ws.forEachWhile(e=>{var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.fs)),!0)},t),ys.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(e=>{e=this._s(e);null!==e&&t.push(e)}),t}removeMutationBatch(n,r){Wr(0===this.ps(r.batchId,"removed")),this.An.shift();let i=this.ws;return ys.forEach(r.mutations,e=>{var t=new Kl(e.key,r.batchId);return i=i.delete(t),this.referenceDelegate.markPotentiallyOrphaned(n,e.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){var n=new Kl(t,0),n=this.ws.firstAfterOrEqual(n);return ys.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.An.length,ys.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){e=this.gs(e);return e<0||e>=this.An.length?null:this.An[e]}}class Gl{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new to(Ii.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ys.resolve(n?n.document.mutableCopy():Bi.newInvalidDocument(t))}getEntries(e,t){let n=oo;return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bi.newInvalidDocument(e))}),ys.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=oo;const i=new Ii(t.path.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:e,value:{document:i,readTime:o}}=a.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Ea(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return ys.resolve(r)}Es(e,t){return ys.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ql(this)}getSize(e){return ys.resolve(this.size)}}class Ql extends bl{constructor(e){super(),this.De=e}applyChanges(n){const r=[];return this.changes.forEach((e,t)=>{t.document.isValidDocument()?r.push(this.De.addEntry(n,t.document,this.getReadTime(e))):this.De.removeEntry(e)}),ys.waitFor(r)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Yl{constructor(e){this.persistence=e,this.Is=new yl(e=>Hi(e),Wi),this.lastRemoteSnapshotVersion=li.min(),this.highestTargetId=0,this.As=0,this.Rs=new Wl,this.targetCount=0,this.bs=ol.ie()}forEachTarget(e,n){return this.Is.forEach((e,t)=>n(t)),ys.resolve()}getLastRemoteSnapshotVersion(e){return ys.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ys.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ys.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),ys.resolve()}ce(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,ys.resolve()}updateTargetData(e,t){return this.ce(t),ys.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),--this.targetCount,ys.resolve()}removeTargets(n,r,i){let a=0;const o=[];return this.Is.forEach((e,t)=>{t.sequenceNumber<=r&&null===i.get(t.targetId)&&(this.Is.delete(e),o.push(this.removeMatchingKeysForTargetId(n,t.targetId)),a++)}),ys.waitFor(o).next(()=>a)}getTargetCount(e){return ys.resolve(this.targetCount)}getTargetData(e,t){t=this.Is.get(t)||null;return ys.resolve(t)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),ys.resolve()}removeMatchingKeys(t,e,n){this.Rs.cs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),ys.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ys.resolve()}getMatchingKeysForTargetId(e,t){t=this.Rs.ls(t);return ys.resolve(t)}containsKey(e,t){return ys.resolve(this.Rs.containsKey(t))}}class Xl{constructor(e,t){var n;this.Ps={},this.Be=new ni(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Yl(this),this.Jt=new $s,this.Je=(n=this.Jt,e=e=>this.referenceDelegate.vs(e),new Gl(n,e)),this.k=new Ls(t),this.Ye=new Hl(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new $l(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Ur("MemoryPersistence","Starting transaction:",e);const r=new Jl(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(t,n){return ys.or(Object.values(this.Ps).map(e=>()=>e.containsKey(t,n)))}}class Jl extends vs{constructor(e){super(),this.currentSequenceNumber=e}}class Zl{constructor(e){this.persistence=e,this.Cs=new Wl,this.Ns=null}static ks(e){return new Zl(e)}get xs(){if(this.Ns)return this.Ns;throw Hr()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),ys.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),ys.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ys.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ys.forEach(this.xs,e=>{const t=Ii.fromPath(e);return this.$s(n,t).next(e=>{e||r.removeEntry(t)})}).next(()=>(this.Ns=null,r.apply(n)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return ys.or([()=>ys.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class eu{constructor(){this.activeTargetIds=ho}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Fs(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tu{constructor(){this.pi=new eu,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new eu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class nu{Ei(e){}shutdown(){}}class ru{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ur("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ur("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const iu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class au{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Fi(e){this.xi(e)}}class ou extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,n,r,i){const a=this.Ui(t,e);Ur("RestConnection","Sending: ",a,n);e={};return this.qi(e,r,i),this.Ki(t,a,e,n).then(e=>(Ur("RestConnection","Received: ",e),e),e=>{throw zr("RestConnection",t+" failed with error: ",e,"url: ",a,"request:",n),e})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(n,e,t){n["X-Goog-Api-Client"]="gl-js/ fire/"+Fr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,t)=>n[t]=e),t&&t.headers.forEach((e,t)=>n[t]=e)}Ui(e,t){e=iu[e];return this.Mi+`/v1/${t}:`+e}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(s,t,n,r){return new Promise((i,a)=>{const o=new Rr;o.listenOnce(Dr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Nr.NO_ERROR:var e=o.getResponseJson();Ur("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Nr.TIMEOUT:Ur("Connection",'RPC "'+s+'" timed out'),a(new $r(Kr.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:var t,n=o.getStatus();if(Ur("Connection",'RPC "'+s+'" failed with status:',n,"response text:",o.getResponseText()),0<n){const s=o.getResponseJson().error;s&&s.status&&s.message?(r=s.status.toLowerCase().replace(/_/g,"-"),t=0<=Object.values(Kr).indexOf(r)?r:Kr.UNKNOWN,a(new $r(t,s.message))):a(new $r(Kr.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new $r(Kr.UNAVAILABLE,"Connection failed."));break;default:Hr()}}finally{Ur("Connection",'RPC "'+s+'" completed.')}var r});var e=JSON.stringify(r);o.send(t,"POST",e,n,15)})}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Tr(),a=Ir(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/`+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Pr({})),this.qi(o.initMessageHeaders,t,n),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=f().indexOf("Electron/")||function(){const e=f();return 0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")}()||0<=f().indexOf("MSAppHost/")||"object"==typeof(s="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==s.id||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Ur("Connection","Creating WebChannel: "+s,o);const l=i.createWebChannel(s,o);let u=!1,c=!1;const h=new au({Vi:e=>{c?Ur("Connection","Not sending because WebChannel is closed:",e):(u||(Ur("Connection","Opening WebChannel transport."),l.open(),u=!0),Ur("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,Lr.EventType.OPEN,()=>{c||Ur("Connection","WebChannel transport opened.")}),d(l,Lr.EventType.CLOSE,()=>{c||(c=!0,Ur("Connection","WebChannel transport closed"),h.Oi())}),d(l,Lr.EventType.ERROR,e=>{c||(c=!0,zr("Connection","WebChannel transport errored:",e),h.Oi(new $r(Kr.UNAVAILABLE,"The operation could not be completed")))}),d(l,Lr.EventType.MESSAGE,e=>{if(!c){e=e.data[0];Wr(!!e);var n=e.error||(null===(n=e[0])||void 0===n?void 0:n.error);if(n){Ur("Connection","WebChannel received error:",n);const r=n.status;let e=function(e){e=xr[e];if(void 0!==e)return eo(e)}(r),t=n.message;void 0===e&&(e=Kr.INTERNAL,t="Unknown error status: "+r+" with message "+n.message),c=!0,h.Oi(new $r(e,t)),l.close()}else Ur("Connection","WebChannel received:",e),h.Fi(e)}}),d(a,Ar.STAT_EVENT,e=>{e.stat===_r.PROXY?Ur("Connection","Detected buffering proxy"):e.stat===_r.NOPROXY&&Ur("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function su(){return"undefined"!=typeof window?window:null}function lu(){return"undefined"!=typeof document?document:null}function uu(e){return new So(e,!0)}class cu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();var t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);0<r&&Ur("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Fe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class hu{constructor(e,t,n,r,i,a,o,s){this.Fe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new cu(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Fe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Kr.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Kr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,t])=>{this.rr===n&&this.Ir(e,t)},t=>{e(()=>{var e=new $r(Kr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Fe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return Ur("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Er(t){return e=>{this.Fe.enqueueAndForget(()=>this.rr===t?e():(Ur("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class du extends hu{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();var t=function(e,t){let n;if("targetChange"in t){t.targetChange;var r="NO_CHANGE"===(a=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===a?1:"REMOVE"===a?2:"CURRENT"===a?3:"RESET"===a?4:Hr(),i=t.targetChange.targetIds||[],a=(o=t.targetChange.resumeToken,e.C?(Wr(void 0===o||"string"==typeof o),vi.fromBase64String(o||"")):(Wr(void 0===o||o instanceof Uint8Array),vi.fromUint8Array(o||new Uint8Array))),o=t.targetChange.cause,s=o&&(o=void 0===(s=o).code?Kr.UNKNOWN:eo(s.code),new $r(o,s.message||""));n=new vo(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var a=_o(e,l.document.name),u=Io(l.document.updateTime),s=new Ui({mapValue:{fields:l.document.fields}}),u=Bi.newFoundDocument(a,u,s),s=l.targetIds||[],l=l.removedTargetIds||[];n=new mo(s,l,u.key,u)}else if("documentDelete"in t){t.documentDelete;l=t.documentDelete;l.document;var u=_o(e,l.document),c=l.readTime?Io(l.readTime):li.min(),c=Bi.newNoDocument(u,c),l=l.removedTargetIds||[];n=new mo([],l,c.key,c)}else if("documentRemove"in t){t.documentRemove;c=t.documentRemove;c.document;var h=_o(e,c.document),c=c.removedTargetIds||[];n=new mo([],c,h,null)}else{if(!("filter"in t))return Hr();{t.filter;const e=t.filter;e.targetId;h=e.count||0,t=new Ja(h),h=e.targetId;n=new go(h,t)}}var s,a;return n}(this.k,e),e=function(e){if(!("targetChange"in e))return li.min();e=e.targetChange;return(!e.targetIds||!e.targetIds.length)&&e.readTime?Io(e.readTime):li.min()}(e);return this.listener.br(t,e)}Pr(e){const t={};t.database=Ro(this.k),t.addTarget=function(e,t){let n;var r=t.target;return n=Ki(r)?{documents:Uo(e,r)}:{query:Bo(e,r)},n.targetId=t.targetId,0<t.resumeToken.approximateByteSize()?n.resumeToken=To(e,t.resumeToken):0<t.snapshotVersion.compareTo(li.min())&&(n.readTime=xo(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n,e=(this.k,n=e,null==(e=function(){switch(n.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hr()}}())?null:{"goog-listen-tags":e});e&&(t.labels=e),this.gr(t)}vr(e){const t={};t.database=Ro(this.k),t.removeTarget=e,this.gr(t)}}class fu extends hu{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Wr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(Wr(void 0!==r),n.map(e=>function(e,t){let n=e.updateTime?Io(e.updateTime):Io(t);return n.isEqual(li.min())&&(n=Io(t)),new Fa(n,e.transformResults||[])}(e,r))):[]),n=Io(e.commitTime);return this.listener.Cr(n,t)}var n,r;return Wr(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Ro(this.k),this.gr(e)}Dr(e){e={streamToken:this.lastStreamToken,writes:e.map(e=>Vo(this.k,e))};this.gr(e)}}class pu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new $r(Kr.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(n,r,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,t])=>this.ir.Bi(n,r,i,e,t)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $r(Kr.UNKNOWN,e.toString())})}ji(n,r,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,t])=>this.ir.ji(n,r,i,e,t)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $r(Kr.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class mu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Fr=0,this.Mr=null,this.Lr=!0}Br(){0===this.Fr&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Fr++,1<=this.Fr&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: "+e.toString()),this.Ur("Offline")))}set(e){this.jr(),this.Fr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){e=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Br(e),this.Lr=!1):Ur("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class gu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget(async()=>{xu(this)&&(Ur("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=e;t.Gr.add(4),await yu(t),t.Jr.set("Unknown"),t.Gr.delete(4),await vu(t)}(this))})}),this.Jr=new mu(n,r)}}async function vu(e){if(xu(e))for(const t of e.zr)await t(!0)}async function yu(e){for(const t of e.zr)await t(!1)}function bu(e,t){const n=e;n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Su(n)?Cu(n):Lu(n).lr()&&Eu(n,t))}function wu(e,t){const n=e,r=Lu(n);n.Wr.delete(t),r.lr()&&ku(n,t),0===n.Wr.size&&(r.lr()?r._r():xu(n)&&n.Jr.set("Unknown"))}function Eu(e,t){e.Yr.X(t.targetId),Lu(e).Pr(t)}function ku(e,t){e.Yr.X(t),Lu(e).vr(t)}function Cu(t){t.Yr=new bo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Lu(t).start(),t.Jr.Br()}function Su(e){return xu(e)&&!Lu(e).hr()&&0<e.Wr.size}function xu(e){return 0===e.Gr.size}function Tu(e){e.Yr=void 0}async function Iu(e,t,n){if(!Cs(t))throw t;e.Gr.add(1),await yu(e),e.Jr.set("Offline"),n=n||(()=>Vl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ur("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await vu(e)})}function Nu(t,n){return n().catch(e=>Iu(t,e,n))}async function Du(e){const t=e,n=Ru(t);let r=0<t.Qr.length?t.Qr[t.Qr.length-1].batchId:-1;for(;xu(i=t)&&i.Qr.length<10;)try{const e=await function(e,t){const n=e;return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,function(e,t){e.Qr.push(t);const n=Ru(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}(t,e)}catch(e){await Iu(t,e)}var i;Au(t)&&_u(t)}function Au(e){return xu(e)&&!Ru(e).hr()&&0<e.Qr.length}function _u(e){Ru(e).start()}async function Pu(e,t){const n=e;t?(n.Gr.delete(2),await vu(n)):(n.Gr.add(2),await yu(n),n.Jr.set("Unknown"))}function Lu(t){return t.Xr||(t.Xr=function(e,t,n){const r=e;return r.Or(),new du(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:async function(n){n.Wr.forEach((e,t)=>{Eu(n,e)})}.bind(null,t),Ni:async function(e,t){Tu(e),Su(e)?(e.Jr.Kr(t),Cu(e)):e.Jr.set("Unknown")}.bind(null,t),br:async function(e,r,t){if(e.Jr.set("Online"),r instanceof vo&&2===r.state&&r.cause)try{await async function(e){var t=r.cause;for(const n of r.targetIds)e.Wr.has(n)&&(await e.remoteSyncer.rejectListen(n,t),e.Wr.delete(n),e.Yr.removeTarget(n))}(e)}catch(t){Ur("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),t),await Iu(e,t)}else if(r instanceof mo?e.Yr.ot(r):r instanceof go?e.Yr.dt(r):e.Yr.ut(r),!t.isEqual(li.min()))try{const r=await Vl(e.localStore);0<=t.compareTo(r)&&await function(r,i){const e=r.Yr.gt(i);return e.targetChanges.forEach((e,t)=>{if(0<e.resumeToken.approximateByteSize()){const n=r.Wr.get(t);n&&r.Wr.set(t,n.withResumeToken(e.resumeToken,i))}}),e.targetMismatches.forEach(e=>{const t=r.Wr.get(e);t&&(r.Wr.set(e,t.withResumeToken(vi.EMPTY_BYTE_STRING,t.snapshotVersion)),ku(r,e),e=new Ps(t.target,e,1,t.sequenceNumber),Eu(r,e))}),r.remoteSyncer.applyRemoteEvent(e)}(e,t)}catch(r){Ur("RemoteStore","Failed to raise snapshot:",r),await Iu(e,r)}}.bind(null,t)}),t.zr.push(async e=>{e?(t.Xr.wr(),Su(t)?Cu(t):t.Jr.set("Unknown")):(await t.Xr.stop(),Tu(t))})),t.Xr}function Ru(t){return t.Zr||(t.Zr=function(e,t,n){const r=e;return r.Or(),new fu(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:async function(e){Ru(e).kr()}.bind(null,t),Ni:async function(e,t){t&&Ru(e).Sr&&await async function(e,t){if(Za(n=t.code)&&n!==Kr.ABORTED){const n=e.Qr.shift();Ru(e).wr(),await Nu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Du(e)}var n}(e,t),Au(e)&&_u(e)}.bind(null,t),Nr:async function(e){const t=Ru(e);for(const n of e.Qr)t.Dr(n.mutations)}.bind(null,t),Cr:async function(e,t,n){const r=e.Qr.shift(),i=_s.from(r,t,n);await Nu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Du(e)}.bind(null,t)}),t.zr.push(async e=>{e?(t.Zr.wr(),await Du(t)):(await t.Zr.stop(),0<t.Qr.length&&(Ur("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))})),t.Zr}class Ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Ou(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $r(Kr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(e,t){if(Br("AsyncQueue",t+": "+e),Cs(e))return new $r(Kr.UNAVAILABLE,t+": "+e);throw e}class Fu{constructor(n){this.comparator=n?(e,t)=>n(e,t)||Ii.comparator(e.key,t.key):(e,t)=>Ii.comparator(e.key,t.key),this.keyedMap=so,this.sortedSet=new to(this.comparator)}static emptySet(e){return new Fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){e=this.keyedMap.get(e);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((e,t)=>(n(e),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(e,t){const n=new Fu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vu{constructor(){this.eo=new to(Ii.comparator)}track(e){var t=e.doc.key,n=this.eo.get(t);!n||0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Hr()}no(){const n=[];return this.eo.inorderTraversal((e,t)=>{n.push(t)}),n}}class ju{constructor(e,t,n,r,i,a,o,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new ju(e,t,Fu.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Uu{constructor(){this.so=void 0,this.listeners=[]}}class Bu{constructor(){this.queries=new yl(e=>ba(e),ya),this.onlineState="Unknown",this.io=new Set}}async function zu(e,t){const n=e,r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Uu),i)try{a.so=await n.onListen(r)}catch(e){const n=Mu(e,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.ro(n.onlineState),!a.so||t.oo(a.so)&&Hu(n)}async function qu(e,t){const n=e,r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);0<=e&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Hu(e){e.io.forEach(e=>{e.next()})}class Wu{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ju(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(0<e.docChanges.length)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Ku{constructor(e){this.key=e}}class $u{constructor(e){this.key=e}}class Gu{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=co(),this.mutatedKeys=co(),this.Ao=ka(e),this.Ro=new Fu(this.Ao)}get bo(){return this.To}Po(e,t){const s=t?t.vo:new Vu,l=(t||this).Ro;let u=(t||this).mutatedKeys,c=l,h=!1;const d=ca(this.query)&&l.size===this.query.limit?l.last():null,f=ha(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((e,t)=>{const n=l.get(e),r=Ea(this.query,t)?t:null,i=!!n&&this.mutatedKeys.has(n.key),a=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let o=!1;n&&r?n.data.isEqual(r.data)?i!==a&&(s.track({type:3,doc:r}),o=!0):this.Vo(n,r)||(s.track({type:2,doc:r}),o=!0,(d&&0<this.Ao(r,d)||f&&this.Ao(r,f)<0)&&(h=!0)):!n&&r?(s.track({type:0,doc:r}),o=!0):n&&!r&&(s.track({type:1,doc:n}),o=!0,(d||f)&&(h=!0)),o&&(u=r?(c=c.add(r),a?u.add(e):u.delete(e)):(c=c.delete(e),u.delete(e)))}),ca(this.query)||ha(this.query))for(;c.size>this.query.limit;){const e=ca(this.query)?c.last():c.first();c=c.delete(e.key),u=u.delete(e.key),s.track({type:1,doc:e})}return{Ro:c,vo:s,Bn:h,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){var r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort((e,t)=>function(e,t){var n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hr()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc)),this.So(n);var a=t?this.Do():[],n=0===this.Io.size&&this.current?1:0,t=n!==this.Eo;return this.Eo=n,0!==i.length||t?{snapshot:new ju(this.query,e.Ro,r,i,e.mutatedKeys,0==n,t,!1),Co:a}:{Co:a}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Vu,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(e=>this.To=this.To.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=e.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=co(),this.Ro.forEach(e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))});const n=[];return t.forEach(e=>{this.Io.has(e)||n.push(new $u(e))}),this.Io.forEach(e=>{t.has(e)||n.push(new Ku(e))}),n}ko(e){this.To=e.zn,this.Io=co();e=this.Po(e.documents);return this.applyChanges(e,!0)}xo(){return ju.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Qu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Yu{constructor(e){this.key=e,this.$o=!1}}class Xu{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Oo={},this.Fo=new yl(e=>ba(e),ya),this.Mo=new Map,this.Lo=new Set,this.Bo=new to(Ii.comparator),this.Uo=new Map,this.qo=new Wl,this.Ko={},this.jo=new Map,this.Qo=ol.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Ju(n,e,t,r){n.Go=(e,i,t)=>async function(e,t,n){let r=t.view.Po(i);r.Bn&&(r=await ql(e.localStore,t.query,!1).then(({documents:e})=>t.view.Po(e,r)));n=n&&n.targetChanges.get(t.targetId),n=t.view.applyChanges(r,e.isPrimaryClient,n);return sc(e,t.targetId,n.Co),n.snapshot}(n,e,t);const i=await ql(n.localStore,e,!0),a=new Gu(e,i.zn),o=a.Po(i.documents),s=po.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=a.applyChanges(o,n.isPrimaryClient,s);sc(n,t,l.Co);r=new Qu(e,t,a);return n.Fo.set(e,r),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),l.snapshot}async function Zu(e,t,n){const r=hc(e);try{const e=await function(e,r){const i=e,a=si.now(),t=r.reduce((e,t)=>e.add(t.key),co());let o;return i.persistence.runTransaction("Locally write mutations","readwrite",n=>i.Wn.vn(n,t).next(e=>{o=e;const t=[];for(const n of r){const r=function(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ia(r.transform,e||null);null!=i&&(null==n&&(n=Ui.empty()),n.set(r.field,i))}return n||null}(n,o.get(n.key));null!=r&&t.push(new Ka(n.key,r,function r(e){const i=[];return ci(e.fields,(e,t)=>{const n=new mi([e]);if(Vi(t)){const e=r(t.mapValue).fields;if(0===e.length)i.push(n);else for(const t of e)i.push(n.child(t))}else i.push(n)}),new gi(i)}(r.value.mapValue),Va.exists(!0)))}return i.An.addMutationBatch(n,a,t,r)})).then(e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r=r||new to(ii),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await uc(r,e.changes),await Du(r.remoteStore)}catch(e){const t=Mu(e,"Failed to persist write");n.reject(t)}}async function ec(e,t){const r=e;try{const e=await jl(r.localStore,t);t.targetChanges.forEach((e,t)=>{const n=r.Uo.get(t);n&&(Wr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?n.$o=!0:0<e.modifiedDocuments.size?Wr(n.$o):0<e.removedDocuments.size&&(Wr(n.$o),n.$o=!1))}),await uc(r,e,t)}catch(e){await hl(e)}}function tc(n,r,e){const t=n;if(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e){const n=[];t.Fo.forEach((e,t)=>{t=t.view.ro(r);t.snapshot&&n.push(t.snapshot)}),function(e,n){const t=e;t.onlineState=n;let r=!1;t.queries.forEach((e,t)=>{for(const e of t.listeners)e.ro(n)&&(r=!0)}),r&&Hu(t)}(t.eventManager,r),n.length&&t.Oo.br(n),t.onlineState=r,t.isPrimaryClient&&t.sharedClientState.setOnlineState(r)}}async function nc(e,t){const n=e,r=t.batch.batchId;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const t=r.batch.keys(),n=i.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,r,i){const a=r.batch,n=a.keys();let o=ys.resolve();return n.forEach(n=>{o=o.next(()=>i.getEntry(t,n)).next(e=>{var t=r.docVersions.get(n);Wr(null!==t),e.version.compareTo(t)<0&&(a.applyToRemoteDocument(e,r),e.isValidDocument()&&i.addEntry(e,r.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,a))}(i,e,r,n).next(()=>n.apply(e)).next(()=>i.An.performConsistencyCheck(e)).next(()=>i.Wn.vn(e,t))})}(n.localStore,t);ic(n,r,null),rc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uc(n,e)}catch(e){await hl(e)}}function rc(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function ic(e,t,n){const r=e;let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function ac(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Fo.delete(r),n&&t.Oo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(e=>{t.qo.containsKey(e)||oc(t,e)})}function oc(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(wu(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),lc(e))}function sc(e,t,n){for(const r of n)r instanceof Ku?(e.qo.addReference(r.key,t),function(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Ur("SyncEngine","New document in limbo: "+n),e.Lo.add(r),lc(e))}(e,r)):r instanceof $u?(Ur("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||oc(e,r.key)):Hr()}function lc(e){for(;0<e.Lo.size&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Ii(fi.fromString(t)),t=e.Qo.next();e.Uo.set(t,new Yu(n)),e.Bo=e.Bo.insert(n,t),bu(e.remoteStore,new Ps(ga(ua(n.path)),t,2,ni.I))}}async function uc(e,n,r){const i=e,a=[],o=[],s=[];i.Fo.isEmpty()||(i.Fo.forEach((e,t)=>{s.push(i.Go(t,n,r).then(e=>{e&&(i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e),e=Ll.$n(t.targetId,e),o.push(e))}))}),await Promise.all(s),i.Oo.br(a),await async function(e,t){const r=e;try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>ys.forEach(t,t=>ys.forEach(t.kn,e=>r.persistence.referenceDelegate.addReference(n,t.targetId,e)).next(()=>ys.forEach(t.xn,e=>r.persistence.referenceDelegate.removeReference(n,t.targetId,e)))))}catch(e){if(!Cs(e))throw e;Ur("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=r.qn.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.qn=r.qn.insert(t,i)}}}(i.localStore,o))}function cc(e){const t=e;return t.remoteStore.remoteSyncer.applyRemoteEvent=ec.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){const n=e,r=n.Uo.get(t);if(r&&r.$o)return co().add(r.key);{let e=co();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Fo.get(t);e=e.unionWith(r.view.bo)}return e}}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=async function(e,t,n){const r=e;r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),a=i&&i.key;if(a){let e=new to(Ii.comparator);e=e.insert(a,Bi.newNoDocument(a,li.min()));const n=co().add(a),i=new fo(li.min(),new Map,new io(ii),e,n);await ec(r,i),r.Bo=r.Bo.remove(a),r.Uo.delete(t),lc(r)}else await zl(r.localStore,t,!1).then(()=>ac(r,t,n)).catch(hl)}.bind(null,t),t.Oo.br=function(e,t){const n=e;let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&Hu(n)}.bind(null,t.eventManager),t.Oo.zo=function(e,t,n){const r=e,i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}.bind(null,t.eventManager),t}function hc(e){const t=e;return t.remoteStore.remoteSyncer.applySuccessfulWrite=nc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=async function(e,t,n){const r=e;try{const e=await function(e,r){const i=e;return i.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let n;return i.An.lookupMutationBatch(t,r).next(e=>(Wr(null!==e),n=e.keys(),i.An.removeMutationBatch(t,e))).next(()=>i.An.performConsistencyCheck(t)).next(()=>i.Wn.vn(t,n))})}(r.localStore,t);ic(r,t,n),rc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await uc(r,e)}catch(n){await hl(n)}}.bind(null,t),t}class dc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=uu(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Ml(this.persistence,new Rl,e.initialUser,this.k)}Yo(e){return new Xl(Zl.ks,this.k)}Jo(e){return new tu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fc extends dc{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=e;return t.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(){const e=Cl(t);let r=li.min();return e.jt({index:os.readTimeIndex,reverse:!0},(e,t,n)=>{t.readTime&&(r=Fs(t.readTime)),n.done()}).next(()=>r)}()).then(e=>{t.jn=e})}(this.localStore),await this.ta.initialize(this,e),await hc(this.ta.syncEngine),await Du(this.ta.remoteStore),await this.persistence.sn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Zo(e){return Ml(this.persistence,new Rl,e.initialUser,this.k)}Xo(e){var t=this.persistence.referenceDelegate.garbageCollector;return new pl(t,e.asyncQueue)}Yo(e){var t=_l(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new Nl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,su(),lu(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new tu}}(class extends null{});class pc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=async function(e,t){const n=e;if(!n.currentUser.isEqual(t)){Ur("SyncEngine","User change. New user:",t.toKey());const r=await Fl(n.localStore,t);n.currentUser=t,(e=n).jo.forEach(e=>{e.forEach(e=>{e.reject(new $r(Kr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.jo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uc(n,r.Gn)}}.bind(null,this.syncEngine),await Pu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Bu}createDatastore(e){var t,n=uu(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ou(t));return t=e.authCredentials,e=e.appCheckCredentials,r=r,n=n,new pu(t,e,r,n)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>tc(this.syncEngine,e,0),e=new(ru.Pt()?ru:nu),new gu(t,n,r,i,e);var t,n,r,i}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Xu(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=e;Ur("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await yu(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}class mc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error&&this.ea(this.observer.error,e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Mr.UNAUTHENTICATED,this.clientId=ri.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ur("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $r(Kr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(e){var t=Mu(e,"Failed to shutdown persistence");n.reject(t)}}),n.promise}}async function vc(e,t){e.asyncQueue.verifyOperationInProgress(),Ur("FirestoreClient","Initializing OfflineComponentProvider");var n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Fl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function yc(e,t){e.asyncQueue.verifyOperationInProgress();var n=await bc(e);Ur("FirestoreClient","Initializing OnlineComponentProvider");var r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=e;n.asyncQueue.verifyOperationInProgress(),Ur("RemoteStore","RemoteStore received new credentials");e=xu(n);n.Gr.add(3),await yu(n),e&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await vu(n)}(t.remoteStore,e)),e.onlineComponents=t}async function bc(e){return e.offlineComponents||(Ur("FirestoreClient","Using default OfflineComponentProvider"),await vc(e,new dc)),e.offlineComponents}async function wc(e){return e.onlineComponents||(Ur("FirestoreClient","Using default OnlineComponentProvider"),await yc(e,new pc)),e.onlineComponents}function Ec(e){return wc(e).then(e=>e.syncEngine)}async function kc(e){const t=await wc(e),n=t.eventManager;return n.onListen=async function(e,t){const n=cc(e);let r,i;const a=n.Fo.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.xo();else{const e=await Bl(n.localStore,ga(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ju(n,t,r,"current"===a),n.isPrimaryClient&&bu(n.remoteStore,e)}return i}.bind(null,t.syncEngine),n.onUnlisten=async function(e,t){const n=e,r=n.Fo.get(t),i=n.Mo.get(r.targetId);if(1<i.length)return n.Mo.set(r.targetId,i.filter(e=>!ya(e,t))),void n.Fo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await zl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wu(n.remoteStore,r.targetId),ac(n,r.targetId)}).catch(hl)):(ac(n,r.targetId),await zl(n.localStore,r.targetId,!0))}.bind(null,t.syncEngine),n}class Cc{constructor(e,t,n,r,i,a,o,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=s}}class Sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}const xc=new Map;function Tc(e,t,n){if(!n)throw new $r(Kr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ic(e){if(!Ii.isDocumentKey(e))throw new $r(Kr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nc(e){if(Ii.isDocumentKey(e))throw new $r(Kr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Dc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Hr();if(e instanceof Array)return"an array";e=(e=e).constructor?e.constructor.name:null;return e?`a custom ${e} object`:"an object"}function Ac(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new $r(Kr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");e=Dc(e);throw new $r(Kr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: `+e)}class _c{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $r(Kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $r(Kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new $r(Kr.INVALID_ARGUMENT,e+` and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _c({}),this._settingsFrozen=!1,e instanceof Sc?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $r(Kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(e.options.projectId)}(e))}get app(){if(!this._app)throw new $r(Kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $r(Kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _c(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yr;switch(e.type){case"gapi":var t=e.client;return Wr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new $r(Kr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xc.get(e);t&&(Ur("ComponentProvider","Removing Datastore"),xc.delete(e),t.terminate())}(this),Promise.resolve()}}class Lc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lc(this.firestore,e,this._key)}}class Rc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Oc extends Rc{constructor(e,t,n){super(e,t,ua(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lc(this.firestore,null,new Ii(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function Mc(e,t,...n){if(e=d(e),Tc("collection","path",t),e instanceof Pc){var r=fi.fromString(t,...n);return Nc(r),new Oc(e,null,r)}if(!(e instanceof Lc||e instanceof Oc))throw new $r(Kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");n=e._path.child(fi.fromString(t,...n));return Nc(n),new Oc(e.firestore,null,n)}function Fc(e,t,...n){if(e=d(e),Tc("doc","path",t=1===arguments.length?ri.A():t),e instanceof Pc){var r=fi.fromString(t,...n);return Ic(r),new Lc(e,null,new Ii(r))}if(!(e instanceof Lc||e instanceof Oc))throw new $r(Kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");n=e._path.child(fi.fromString(t,...n));return Ic(n),new Lc(e.firestore,e instanceof Oc?e.converter:null,new Ii(n))}class Vc{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new cu(this,"async_queue_retry"),this.Ra=()=>{var e=lu();e&&Ur("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=lu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ba(),this.Pa(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=lu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.ba(),this.ya)return new Promise(()=>{});const t=new Gr;return this.Pa(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!Cs(e))throw e;Ur("AsyncQueue","Operation failed with retryable error: "+e)}0<this.ga.length&&this.ur.Zi(()=>this.va())}}Pa(e){var t=this.ma.then(()=>(this.Ea=!0,e().catch(e=>{throw this.Ta=e,this.Ea=!1,Br("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ea=!1,e))));return this.ma=t}enqueueAfterDelay(e,t,n){this.ba(),-1<this.Aa.indexOf(e)&&(t=0);n=Ou.createAndSchedule(this,e,t,n,e=>this.Va(e));return this.pa.push(n),n}ba(){this.Ta&&Hr()}verifyOperationInProgress(){}async Sa(){for(var e;await(e=this.ma),e!==this.ma;);}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){e=this.pa.indexOf(e);this.pa.splice(e,1)}}function jc(e){return function(e){if("object"==typeof e&&null!==e){var t=e;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return 1}}(e)}class Uc extends Pc{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Vc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zc(this),this._firestoreClient.terminate()}}function Bc(e){return e._firestoreClient||zc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zc(e){var t,n,r,i=e._freezeSettings(),i=(t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=i,new Cc(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams));e._firestoreClient=new gc(e._authCredentials,e._appCheckCredentials,e._queue,i)}function qc(e,n,r){const i=new Gr;return e.asyncQueue.enqueue(async()=>{try{await vc(e,r),await yc(e,n),i.resolve()}catch(e){if(!("FirebaseError"===(t=e).name?t.code===Kr.FAILED_PRECONDITION||t.code===Kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)))throw e;i.reject(e)}var t}).then(()=>i.promise)}function Hc(e){if(e._initialized||e._terminated)throw new $r(Kr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new $r(Kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kc(vi.fromBase64String(e))}catch(e){throw new $r(Kr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Kc(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $c{constructor(e){this._methodName=e}}class Gc{constructor(e,t){if(!isFinite(e)||e<-90||90<e)throw new $r(Kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new $r(Kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}const Qc=/^__.*__$/;class Yc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wa(e,this.data,t,this.fieldTransforms)}}class Xc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jc(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Hr()}}class Zc{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Zc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Fa:!0})}Ua(e){return gh(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Jc(this.xa)&&Qc.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class eh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||uu(e)}ja(e,t,n,r=!1){return new Zc({xa:e,methodName:t,Ka:n,path:mi.emptyPath(),Fa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function th(e){var t=e._freezeSettings(),n=uu(e._databaseId);return new eh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nh(e,t,n,r,i,a={}){const o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);dh("Data must be an object, but it was:",o,r);r=ch(r,o);let s,l;if(a.merge)s=new gi(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const u of a.mergeFields){const i=fh(t,u,n);if(!o.contains(i))throw new $r(Kr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);vh(e,i)||e.push(i)}s=new gi(e),l=o.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,l=o.fieldTransforms;return new Yc(new Ui(r),s,l)}class rh extends $c{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(this._methodName+"() can only appear at the top level of your update data"):e.Ua(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function ih(e,t,n){return new Zc({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Fa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}(class extends null{});class ah extends $c{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=ih(this,e,!0),n=this.Qa.map(e=>uh(e,t)),r=new Da(n);return new Ma(e.path,r)}isEqual(e){return this===e}}class oh extends $c{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=ih(this,e,!0),n=this.Qa.map(e=>uh(e,t)),r=new _a(n);return new Ma(e.path,r)}isEqual(e){return this===e}}(class extends null{});function sh(e,i,a,t){const o=e.ja(1,i,a);dh("Data must be an object, but it was:",o,t);const s=[],l=Ui.empty();ci(t,(e,t)=>{var n=mh(i,e,a);t=d(t);e=o.La(n);if(t instanceof rh)s.push(n);else{const r=uh(t,e);null!=r&&(s.push(n),l.set(n,r))}});t=new gi(s);return new Xc(l,t,o.fieldTransforms)}function lh(t,n,e,r,i,a){const o=t.ja(1,n,e),s=[fh(n,r,e)],l=[i];if(a.length%2!=0)throw new $r(Kr.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(fh(n,a[e])),l.push(a[e+1]);const u=[],c=Ui.empty();for(let e=s.length-1;0<=e;--e)if(!vh(u,s[e])){const n=s[e];var h=d(h=l[e]);const r=o.La(n);if(h instanceof rh)u.push(n);else{const t=uh(h,r);null!=t&&(u.push(n),c.set(n,t))}}i=new gi(u);return new Xc(c,i,o.fieldTransforms)}function uh(a,e){if(hh(a=d(a)))return dh("Unsupported field value:",e,a),ch(a,e);if(a instanceof $c)return function(e,t){if(!Jc(t.xa))throw t.Ua(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Ua(e._methodName+"() is not currently supported inside arrays");e=e._toFieldTransform(t);e&&t.fieldTransforms.push(e)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Fa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t){const n=[];let r=0;for(const i of a){let e=uh(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e)}return function(e,t){if(null===(e=d(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xa(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=si.fromDate(e);return{timestampValue:xo(t.k,n)}}if(e instanceof si){n=new si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xo(t.k,n)}}if(e instanceof Gc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kc)return{bytesValue:To(t.k,e._byteString)};if(e instanceof Lc){const r=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(r))throw t.Ua(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/`+r.database);return{referenceValue:No(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: "+Dc(e))}(0,e)}function ch(e,n){const r={};return hi(e)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):ci(e,(e,t)=>{t=uh(t,n.Oa(e));null!=t&&(r[e]=t)}),{mapValue:{fields:r}}}function hh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof si||e instanceof Gc||e instanceof Kc||e instanceof Lc||e instanceof $c)}function dh(e,t,n){if(!hh(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Dc(n);throw"an object"===n?t.Ua(e+" a custom object"):t.Ua(e+" "+n)}var r}function fh(e,t,n){if((t=d(t))instanceof Wc)return t._internalPath;if("string"==typeof t)return mh(e,t);throw gh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const ph=new RegExp("[~\\*/\\[\\]]");function mh(t,n,r){if(0<=n.search(ph))throw gh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Wc(...n.split("."))._internalPath}catch(e){throw gh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function gh(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field "+r),o&&(l+=" in document "+i),l+=")"),new $r(Kr.INVALID_ARGUMENT,s+e+l)}function vh(e,t){return e.some(e=>e.isEqual(t))}class yh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){var e=new bh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){e=this._document.data.field(wh("DocumentSnapshot.get",e));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bh extends yh{data(){return super.data()}}function wh(e,t){return"string"==typeof t?mh(e,t):(t instanceof Wc?t:t._delegate)._internalPath}class Eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends yh{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){var t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){e=this._document.data.field(wh("DocumentSnapshot.get",e));if(null!==e)return this._userDataWriter.convertValue(e,t.serverTimestamps)}}}class Ch extends kh{data(e={}){return super.data(e)}}class Sh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,n){this._snapshot.docs.forEach(e=>{t.call(n,new Ch(this._firestore,this._userDataWriter,e.key,e,new Eh(this._snapshot.mutatedKeys.has(e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){e=!!e.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $r(Kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,t){if(a._snapshot.oldDocs.isEmpty()){let t=0;return a._snapshot.docChanges.map(e=>({type:"added",doc:new Ch(a._firestore,a._userDataWriter,e.doc.key,e.doc,new Eh(a._snapshot.mutatedKeys.has(e.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:t++}))}{let i=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(e=>t||3!==e.type).map(e=>{var t=new Ch(a._firestore,a._userDataWriter,e.doc.key,e.doc,new Eh(a._snapshot.mutatedKeys.has(e.doc.key),a._snapshot.fromCache),a.query.converter);let n=-1,r=-1;return 0!==e.type&&(n=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),r=i.indexOf(e.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hr()}}(e.type),doc:t,oldIndex:n,newIndex:r}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xh(e){if(ha(e)&&0===e.explicitOrderBy.length)throw new $r(Kr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(class extends null{});(class extends null{});(class extends null{});(class extends null{});(class extends null{});class Th{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hr()}}convertObject(e,n){const r={};return ci(e.fields,(e,t)=>{r[e]=this.convertValue(t,n)}),r}convertGeoPoint(e){return new Gc(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":var n=function e(t){t=t.mapValue.fields.__previous_value__;return ki(t)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ci(e));default:return null}}convertTimestamp(e){e=bi(e);return new si(e.seconds,e.nanos)}convertDocumentKey(e,t){const n=fi.fromString(e);Wr(Qo(n));const r=new Sc(n.get(1),n.get(3)),i=new Ii(n.popFirst(5));return r.isEqual(t)||Br(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Ih(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}(class extends null{});class Nh extends Th{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){e=this.convertDocumentKey(e,this.firestore._databaseId);return new Lc(this.firestore,null,e)}}function Dh(e,t,n){e=Ac(e,Lc);var r=Ac(e.firestore,Uc),t=Ih(e.converter,t,n);return _h(r,[nh(th(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,Va.none())])}function Ah(t,...n){var e;t=d(t);let r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||jc(n[i])||(r=n[i],i++);var a={includeMetadataChanges:r.includeMetadataChanges};if(jc(n[i])){const t=n[i];n[i]=null===(e=t.next)||void 0===e?void 0:e.bind(t),n[i+1]=null===(e=t.error)||void 0===e?void 0:e.bind(t),n[i+2]=null===(e=t.complete)||void 0===e?void 0:e.bind(t)}let o,s,l;if(t instanceof Lc)s=Ac(t.firestore,Uc),l=ua(t._key.path),o={next:e=>{n[i]&&n[i](Ph(s,t,e))},error:n[i+1],complete:n[i+2]};else{const u=Ac(t,Rc);s=Ac(u.firestore,Uc),l=u._query;const c=new Nh(s);o={next:e=>{n[i]&&n[i](new Sh(s,c,u,e))},error:n[i+1],complete:n[i+2]},xh(t._query)}return function(e,t,n,r){const i=new mc(r),a=new Wu(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>zu(await kc(e),a)),()=>{i.na(),e.asyncQueue.enqueueAndForget(async()=>qu(await kc(e),a))}}(Bc(s),l,a,o)}function _h(e,t){return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>Zu(await Ec(e),t,n)),n.promise}(Bc(e),t)}function Ph(e,t,n){var r=n.docs.get(t._key),i=new Nh(e);return new kh(e,i,t._key,r,new Eh(n.hasPendingWrites,n.fromCache),t.converter)}(class extends null{});Fr="9.6.2",D(new s("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Uc(n,new Xr(e.getProvider("auth-internal")),new ti(e.getProvider("app-check-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),L(Or,"3.4.2",void 0),L(Or,"3.4.2","esm2017");L("firebase","9.6.2","app");!function(e,t={}){if("object"!=typeof t){const r=t;t={name:r}}var n=Object.assign({name:x,automaticDataCollectionEnabled:!1},t);const r=n.name;if("string"!=typeof r||!r)throw _.create("bad-app-name",{appName:String(r)});if(t=I.get(r)){if(l(e,t.options)&&l(n,t.config))return;throw _.create("duplicate-app",{appName:r})}const i=new m(r);for(const a of N.values())i.addComponent(a);n=new P(e,n,i),I.set(r,n)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1",projectId:"rebot-f643e"});const Lh=A(function(e=x){var t=I.get(e);if(!t)throw _.create("no-app",{appName:e});return t}(),"firestore").getImmediate();!function(e,t){Hc(e=Ac(e,Uc));var n=Bc(e),r=e._freezeSettings(),e=new pc;qc(n,e,new fc(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(Lh,{forceOwnership:!0});const Rh=(0,S.createContext)(null),Oh=(0,S.createContext)(null),Mh=(0,S.createContext)(null),Fh=(0,S.createContext)(null);function Vh(e){const[t,n]=(0,S.useState)();return(0,S.useEffect)(()=>Ah(e,e=>{n(e.data())}),[e]),t}const jh="https://world1dan.pythonanywhere.com/report";function Uh(e={}){try{fetch(jh,{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify(e)})}catch(e){}}var Bh=function(e,t){return(Bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function zh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Bh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qh=function(){return(qh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Hh(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}Object.create;function Wh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function $h(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;function Gh(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}}var Qh={measureLayout:Gh(["layout","layoutId","drag"]),animation:Gh(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Gh(["exit"]),drag:Gh(["drag","dragControls"]),focus:Gh(["whileFocus"]),hover:Gh(["whileHover","onHoverStart","onHoverEnd"]),tap:Gh(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Gh(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Gh(["whileInView","onViewportEnter","onViewportLeave"])};var Yh=(0,S.createContext)({strict:!1}),Xh=Object.keys(Qh),Jh=Xh.length;var Zh=(0,S.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),ed=(0,S.createContext)({});var td=(0,S.createContext)(null),nd="undefined"!=typeof window,rd=nd?S.useLayoutEffect:S.useEffect;function id(e,t,n,r){var i=(0,S.useContext)(Yh),a=(0,S.useContext)(ed).visualElement,o=(0,S.useContext)(td),s=(0,S.useRef)(void 0);r=r||i.renderer,!s.current&&r&&(s.current=r(e,{visualState:t,parent:a,props:n,presenceId:null==o?void 0:o.id,blockInitialAnimation:!1===(null==o?void 0:o.initial)}));var l=s.current;return rd(function(){null!=l&&l.syncRender()}),(0,S.useEffect)(function(){var e;null!==(e=null==l?void 0:l.animationState)&&void 0!==e&&e.animateChanges()}),rd(function(){return function(){return null==l?void 0:l.notifyUnmount()}},[]),l}function ad(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function od(e){return Array.isArray(e)}function sd(e){return"string"==typeof e||od(e)}function ld(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),t="function"==typeof(t="string"==typeof(t="function"==typeof t?t(null!=n?n:e.custom,r,i):t)?null===(a=e.variants)||void 0===a?void 0:a[t]:t)?t(null!=n?n:e.custom,r,i):t}function ud(e,t,n){var r,i,a=e.getProps();return ld(a,t,null!=n?n:a.custom,(i={},e.forEachValue(function(e,t){return i[t]=e.get()}),i),(r={},e.forEachValue(function(e,t){return r[t]=e.getVelocity()}),r))}function cd(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||sd(e.initial)||sd(e.animate)||sd(e.whileHover)||sd(e.whileDrag)||sd(e.whileTap)||sd(e.whileFocus)||sd(e.exit)}function hd(e){return Boolean(cd(e)||e.variants)}function dd(e){var e=function(e,t){if(cd(e)){var n=e.initial,r=e.animate;return{initial:!1===n||sd(n)?n:void 0,animate:sd(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,S.useContext)(ed)),t=e.initial,n=e.animate;return(0,S.useMemo)(function(){return{initial:t,animate:n}},[fd(t),fd(n)])}function fd(e){return Array.isArray(e)?e.join(" "):e}function pd(e){var t=(0,S.useRef)(null);return null===t.current&&(t.current=e()),t.current}const md=1/60*1e3,gd="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),vd="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(gd()),md);const yd=40;let bd=!0,wd=!1,Ed=!1;const kd={delta:0,timestamp:0},Cd=["read","update","preRender","render","postRender"],Sd=Cd.reduce((e,t)=>(e[t]=function(r){let i=[],a=[],o=0,s=!1,e=!1;const l=new WeakSet,u={schedule:(e,t=!1,n=!1)=>{n=n&&s;const r=n?i:a;return t&&l.add(e),-1===r.indexOf(e)&&(r.push(e),n&&s&&(o=i.length)),e},cancel:e=>{var t=a.indexOf(e);-1!==t&&a.splice(t,1),l.delete(e)},process:t=>{if(s)e=!0;else{if(s=!0,[i,a]=[a,i],a.length=0,o=i.length,o)for(let e=0;e<o;e++){const n=i[e];n(t),l.has(n)&&(u.schedule(n),r())}s=!1,e&&(e=!1,u.process(t))}}};return u}(()=>wd=!0),e),{});var xd=Cd.reduce((e,t)=>{const r=Sd[t];return e[t]=(e,t=!1,n=!1)=>(wd||Ad(),r.schedule(e,t,n)),e},{});const Td=Cd.reduce((e,t)=>(e[t]=Sd[t].cancel,e),{}),Id=Cd.reduce((e,t)=>(e[t]=()=>Sd[t].process(kd),e),{}),Nd=e=>Sd[e].process(kd),Dd=e=>{wd=!1,kd.delta=bd?md:Math.max(Math.min(e-kd.timestamp,yd),1),kd.timestamp=e,Ed=!0,Cd.forEach(Nd),Ed=!1,wd&&(bd=!1,vd(Dd))},Ad=()=>{wd=!0,bd=!0,Ed||vd(Dd)},_d=xd,Pd=(e,t,n)=>-n*e+n*t+e;function Ld(e,t){return t?e*(1e3/t):0}function Rd(e,t){-1===e.indexOf(t)&&e.push(t)}function Od(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1)}var Md=(Fd.prototype.add=function(e){var t=this;return Rd(this.subscriptions,e),function(){return Od(t.subscriptions,e)}},Fd.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},Fd.prototype.getSize=function(){return this.subscriptions.length},Fd.prototype.clear=function(){this.subscriptions.length=0},Fd);function Fd(){this.subscriptions=[]}var Vd=(jd.prototype.onChange=function(e){return this.updateSubscribers.add(e)},jd.prototype.clearListeners=function(){this.updateSubscribers.clear()},jd.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},jd.prototype.attach=function(e){this.passiveEffect=e},jd.prototype.set=function(e,t){(t=void 0===t?!0:t)&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},jd.prototype.get=function(){return this.current},jd.prototype.getPrevious=function(){return this.prev},jd.prototype.getVelocity=function(){return this.canTrackVelocity?Ld(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},jd.prototype.start=function(t){var n=this;return this.stop(),new Promise(function(e){n.hasAnimated=!0,n.stopAnimation=t(e)}).then(function(){return n.clearAnimation()})},jd.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},jd.prototype.isAnimating=function(){return!!this.stopAnimation},jd.prototype.clearAnimation=function(){this.stopAnimation=null},jd.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},jd);function jd(e){var r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Md,this.velocityUpdateSubscribers=new Md,this.renderSubscribers=new Md,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=e;var n=kd,e=n.delta,n=n.timestamp;r.lastUpdated!==n&&(r.timeDelta=e,r.lastUpdated=n,_d.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return _d.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}function Ud(e){return new Vd(e)}var Bd=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)},zd=function(){},qd=function(){};const Hd=(e,t,n)=>Math.min(Math.max(n,e),t),Wd=.001,Kd=.01,$d=10,Gd=.05,Qd=1;function Yd({duration:a=800,bounce:e=.25,velocity:o=0,mass:t=1}){let s,n;zd(a<=1e3*$d,"Spring duration must be 10 seconds or less");let l=1-e;l=Hd(Gd,Qd,l),a=Hd(Kd,$d,a/1e3),n=l<1?(s=e=>{var t=e*l,n=t*a,t=t-o,e=Jd(e,l),n=Math.exp(-n);return Wd-t/e*n},e=>{var t=e*l*a,n=t*o+o,r=Math.pow(l,2)*Math.pow(e,2)*a,i=Math.exp(-t),t=Jd(Math.pow(e,2),l);return(n-r)*i*(0<-s(e)+Wd?-1:1)/t}):(s=e=>{var t=Math.exp(-e*a),e=(e-o)*a+1;return-Wd+t*e},e=>{return Math.exp(-e*a)*(a*a*(o-e))});e=function(t,n,e){let r=e;for(let e=1;e<Xd;e++)r-=t(r)/n(r);return r}(s,n,5/a);if(a*=1e3,isNaN(e))return{stiffness:100,damping:10,duration:a};e=Math.pow(e,2)*t;return{stiffness:e,damping:2*l*Math.sqrt(t*e),duration:a}}const Xd=12;function Jd(e,t){return e*Math.sqrt(1-t*t)}const Zd=["duration","bounce"],ef=["stiffness","damping","mass"];function tf(t,e){return e.some(e=>void 0!==t[e])}function nf(e){var{from:t=0,to:l=1,restSpeed:r=2,restDelta:u}=e,e=Hh(e,["from","to","restSpeed","restDelta"]);const i={done:!1,value:t};let{stiffness:c,damping:h,mass:d,velocity:f,duration:a,isResolvedFromDuration:o}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);return!tf(e,ef)&&tf(e,Zd)&&(e=Yd(e),t=Object.assign(Object.assign(Object.assign({},t),e),{velocity:0,mass:1}),t.isResolvedFromDuration=!0),t}(e),p=rf,m=rf;function n(){const n=f?-f/1e3:0,r=l-t,i=h/(2*Math.sqrt(c*d)),a=Math.sqrt(c/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(l-t)/100,.4)),i<1){const o=Jd(a,i);p=e=>{var t=Math.exp(-i*a*e);return l-t*((n+i*a*r)/o*Math.sin(o*e)+r*Math.cos(o*e))},m=e=>{var t=Math.exp(-i*a*e);return i*a*t*(Math.sin(o*e)*(n+i*a*r)/o+r*Math.cos(o*e))-t*(Math.cos(o*e)*(n+i*a*r)-o*r*Math.sin(o*e))}}else if(1===i)p=e=>l-Math.exp(-a*e)*(r+(n+a*r)*e);else{const s=a*Math.sqrt(i*i-1);p=e=>{var t=Math.exp(-i*a*e),e=Math.min(s*e,300);return l-t*((n+i*a*r)*Math.sinh(e)+s*r*Math.cosh(e))/s}}}return n(),{next:e=>{var t,n=p(e);return o?i.done=e>=a:(t=1e3*m(e),e=Math.abs(t)<=r,t=Math.abs(l-n)<=u,i.done=e&&t),i.value=i.done?l:n,i},flipTarget:()=>{f=-f,[t,l]=[l,t],n()}}}nf.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const rf=e=>0,af=(e,t,n)=>{t-=e;return 0==t?1:(n-e)/t};var of=(t,n)=>e=>Math.max(Math.min(e,n),t);const sf=e=>e%1?Number(e.toFixed(5)):e,lf=/(-)?([\d]*\.?[\d])+/g,uf=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,cf=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function hf(e){return"string"==typeof e}const df={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ff=Object.assign(Object.assign({},df),{transform:of(0,1)});var pf=Object.assign(Object.assign({},df),{default:1}),mf=(t,n)=>e=>Boolean(hf(e)&&cf.test(e)&&e.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(e,n)),gf=(i,a,o)=>e=>{if(!hf(e))return e;var[t,n,r,e]=e.match(lf);return{[i]:parseFloat(t),[a]:parseFloat(n),[o]:parseFloat(r),alpha:void 0!==e?parseFloat(e):1}};const vf=of(0,255),yf=Object.assign(Object.assign({},df),{transform:e=>Math.round(vf(e))}),bf={test:mf("rgb","red"),parse:gf("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yf.transform(e)+", "+yf.transform(t)+", "+yf.transform(n)+", "+sf(ff.transform(r))+")"};const wf={test:mf("#"),parse:function(e){let t="",n="",r="",i="";return 5<e.length?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:bf.transform};var Ef=t=>({test:e=>hf(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>""+e+t}),kf=Ef("deg");const Cf=Ef("%"),Sf=Ef("px");var xf=Ef("vh"),R=Ef("vw"),Tf=Object.assign(Object.assign({},Cf),{parse:e=>Cf.parse(e)/100,transform:e=>Cf.transform(100*e)});const If={test:mf("hsl","hue"),parse:gf("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cf.transform(sf(t))+", "+Cf.transform(sf(n))+", "+sf(ff.transform(r))+")"};function Nf(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Df({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,o=0;var s;return(t/=100)?(t=2*n-(s=n<.5?n*(1+t):n+t-n*t),i=Nf(t,s,e+1/3),a=Nf(t,s,e),o=Nf(t,s,e-1/3)):i=a=o=n,{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}const Af=(e,t,n)=>{e*=e;return Math.sqrt(Math.max(0,n*(t*t-e)+e))},_f=[wf,bf,If],Pf=t=>_f.find(e=>e.test(t)),Lf=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Rf=(e,t)=>{let n=Pf(e),r=Pf(t);qd(!!n,Lf(e)),qd(!!r,Lf(t));let i=n.parse(e),a=r.parse(t);n===If&&(i=Df(i),n=bf),r===If&&(a=Df(a),r=bf);const o=Object.assign({},i);return e=>{for(const t in o)"alpha"!==t&&(o[t]=Af(i[t],a[t],e));return o.alpha=Pd(i.alpha,a.alpha,e),n.transform(o)}},Of={test:e=>bf.test(e)||wf.test(e)||If.test(e),parse:e=>(bf.test(e)?bf:If.test(e)?If:wf).parse(e),transform:e=>hf(e)?e:(e.hasOwnProperty("red")?bf:If).transform(e)},Mf="${c}",Ff="${n}";function Vf(e){const t=[];let n=0;const r=(e="number"==typeof e?""+e:e).match(uf);r&&(n=r.length,e=e.replace(uf,Mf),t.push(...r.map(Of.parse)));const i=e.match(lf);return i&&(e=e.replace(lf,Ff),t.push(...i.map(df.parse))),{values:t,numColors:n,tokenised:e}}function jf(e){return Vf(e).values}function Uf(e){const{values:t,numColors:r,tokenised:i}=Vf(e),a=t.length;return t=>{let n=i;for(let e=0;e<a;e++)n=n.replace(e<r?Mf:Ff,e<r?Of.transform(t[e]):sf(t[e]));return n}}const Bf=e=>"number"==typeof e?0:e;const zf={test:function(e){var t;return isNaN(e)&&hf(e)&&0<(null!==(t=null===(t=e.match(lf))||void 0===t?void 0:t.length)&&void 0!==t?t:0)+(null!==(e=null===(e=e.match(uf))||void 0===e?void 0:e.length)&&void 0!==e?e:0)},parse:jf,createTransformer:Uf,getAnimatableNone:function(e){const t=jf(e),n=Uf(e);return n(t.map(Bf))}};const qf=e=>"number"==typeof e,Hf=(t,n)=>e=>n(t(e)),Wf=(...e)=>e.reduce(Hf);function Kf(t,n){return qf(t)?e=>Pd(t,n,e):(Of.test(t)?Rf:Yf)(t,n)}const $f=(e,n)=>{const r=[...e],i=r.length,a=e.map((e,t)=>Kf(e,n[t]));return t=>{for(let e=0;e<i;e++)r[e]=a[e](t);return r}},Gf=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Kf(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function Qf(e){var t=zf.parse(e),n=t.length;let r=0,i=0,a=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}const Yf=(t,n)=>{var e=zf.createTransformer(n),r=Qf(t),i=Qf(n);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Wf($f(r.parsed,i.parsed),e):(zd(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),e=>""+(0<e?n:t))},Xf=(t,n)=>e=>Pd(t,n,e);function Jf(n,r,e){const i=[],a=e||("number"==typeof(e=n[0])?Xf:"string"==typeof e?Of.test(e)?Rf:Yf:Array.isArray(e)?$f:"object"==typeof e?Gf:void 0);var o,s=n.length-1;for(let t=0;t<s;t++){let e=a(n[t],n[t+1]);r&&(o=Array.isArray(r)?r[t]:r,e=Wf(o,e)),i.push(e)}return i}function Zf(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;qd(a===e.length,"Both input and output ranges must be the same length"),qd(!r||!Array.isArray(r)||r.length===a-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var o,s,l,i=Jf(e,r,i);const u=2===a?([[o,s],[l]]=[t,i],e=>l(af(o,s,e))):function(i,a){const o=i.length,s=o-1;return t=>{let n=0,e=!1;if(t<=i[0]?e=!0:t>=i[s]&&(n=s-1,e=!0),!e){let e=1;for(;e<o&&!(i[e]>t||e===s);e++);n=e-1}var r=af(i[n],i[n+1],t);return a[n](r)}}(t,i);return n?e=>u(Hd(t[0],t[a-1],e)):u}Tt=t=>e=>1-t(1-e),Et=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2;const ep=t=>e=>e*e*((t+1)*e-t);const tp=e=>e;var np,kt=(np=2,e=>Math.pow(e,np)),O=Tt(kt);const rp=Et(kt);var ip=e=>1-Math.sin(Math.acos(e)),xd=Tt(ip),of=Et(xd),Ef=ep(1.525),mf=Tt(Ef),gf=Et(Ef),Et=(e=>{const t=ep(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(1.525);const ap=e=>{if(1===e||0===e)return e;var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72};Tt=Tt(ap);function op({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const a={done:!1,value:e},o=Array.isArray(t)?t:[e,t],s=(r=r&&r.length===o.length?r:function(e){const n=e.length;return e.map((e,t)=>0!==t?t/(n-1):0)}(o),l=i,r.map(e=>e*l));var l;function u(){return Zf(s,o,{ease:Array.isArray(n)?n:(e=o,t=n,e.map(()=>t||rp).splice(0,e.length-1))});var e,t}let c=u();return{next:e=>(a.value=c(e),a.done=i<=e,a),flipTarget:()=>{o.reverse(),c=u()}}}const sp={keyframes:op,spring:nf,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:t};let s=n*e;e=t+s;const l=void 0===a?e:a(e);return l!==e&&(s=l-t),{next:e=>{e=-s*Math.exp(-e/r);return o.done=!(i<e||e<-i),o.value=o.done?l:l+e,o},flipTarget:()=>{}}}};function lp(e,t,n=0){return e-t-n}const up=t=>{const e=({delta:e})=>t(e);return{start:()=>_d.update(e,!0),stop:()=>Td.update(e)}};function cp(e){var t,{from:n,autoplay:r=!0,driver:i=up,elapsed:a=0,repeat:o=0,repeatType:s="loop",repeatDelay:l=0,onPlay:u,onStop:c,onComplete:h,onRepeat:d,onUpdate:f}=e,p=Hh(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let m=p["to"],g,v=0,y=p.duration,b,w=!1,E=!0,k;const C=function(e){if(Array.isArray(e.to))return op;if(sp[e.type])return sp[e.type];const t=new Set(Object.keys(e));return!(t.has("ease")||t.has("duration")&&!t.has("dampingRatio"))&&(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))?nf:op}(p);null!==(e=(t=C).needsInterpolation)&&void 0!==e&&e.call(t,n,m)&&(k=Zf([0,100],[n,m],{clamp:!1}),n=0,m=100);const S=C(Object.assign(Object.assign({},p),{from:n,to:m}));function x(){var e,t,n,r;v++,"reverse"===s?(E=v%2==0,[e,t,n=0,r=!0]=[a,y,l,E],a=r?lp(t+-e,t,n):t-(e-t)+n):(a=lp(a,y,l),"mirror"===s&&S.flipTarget()),w=!1,d&&d()}function T(e){var t,n;E||(e=-e),a+=e,w||(n=S.next(Math.max(0,a)),b=n.value,k&&(b=k(b)),w=E?n.done:a<=0),null!=f&&f(b),w&&(0===v&&(null!==y&&void 0!==y?y:y=a),v<o?(t=a,e=y,n=l,(E?e+n<=t:t<=-n)&&x()):(g.stop(),h&&h()))}return r&&(null!=u&&u(),g=i(T),g.start()),{stop:()=>{null!=c&&c(),g.stop()}}}const hp=(e,t)=>1-3*t+3*e,dp=(e,t)=>3*t-6*e,fp=e=>3*e,pp=(e,t,n)=>((hp(t,n)*e+dp(t,n))*e+fp(t))*e,mp=(e,t,n)=>3*hp(t,n)*e*e+2*dp(t,n)*e+fp(t);const gp=.001;const vp=11,yp=1/(vp-1);function bp(o,t,s,n){if(o===t&&s===n)return tp;const l=new Float32Array(vp);for(let e=0;e<vp;++e)l[e]=pp(e*yp,o,s);function r(e){let t=0,n=1;for(var r=vp-1;n!==r&&l[n]<=e;++n)t+=yp;--n;var i=(e-l[n])/(l[n+1]-l[n]),a=t+i*yp,i=mp(a,o,s);return i>=gp?function(t,n,r,i){for(let e=0;e<8;++e){var a=mp(n,r,i);if(0===a)return n;n-=(pp(n,r,i)-t)/a}return n}(e,a,o,s):0===i?a:function(e,t,n,r,i){var a;let o,s=0;for(;o=t+(n-t)/2,0<(a=pp(o,r,i)-e)?n=o:t=o,1e-7<Math.abs(a)&&++s<10;);return o}(e,t,t+yp,o,s)}return e=>0===e||1===e?e:pp(r(e),t,n)}function wp(e){if(Array.isArray(e)){qd(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=Kh(e,4);return bp(t[0],t[1],t[2],t[3])}return"string"==typeof e?(qd(void 0!==xp[e],"Invalid easing type '".concat(e,"'")),xp[e]):e}function Ep(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}}function kp(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}}function Cp(){return{type:"keyframes",ease:"linear",duration:.3}}function Sp(e,t){return e=Ip(t)?Np:Dp[e]||Dp.default,qh({to:t},e(t))}var xp={linear:tp,easeIn:kt,easeInOut:rp,easeOut:O,circIn:ip,circInOut:of,circOut:xd,backIn:Ef,backInOut:gf,backOut:mf,anticipate:Et,bounceIn:Tt,bounceInOut:e=>e<.5?.5*(1-ap(1-2*e)):.5*ap(2*e-1)+.5,bounceOut:ap},Tp=function(e,t){return"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!zf.test(t)||t.startsWith("url(")))},Ip=function(e){return Array.isArray(e)},Np=function(e){return{type:"keyframes",duration:.8,values:e}},Dp={x:Ep,y:Ep,z:Ep,rotate:Ep,rotateX:Ep,rotateY:Ep,rotateZ:Ep,scaleX:kp,scaleY:kp,scale:kp,opacity:Cp,backgroundColor:Cp,color:Cp,default:kp};const Ap=new Set(["brightness","contrast","saturate","opacity"]);function _p(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;var[r]=n.match(lf)||[];if(!r)return e;e=n.replace(r,"");let i=Ap.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+e+")"}const Pp=/([a-z-]*)\(.*?\)/g,Lp=Object.assign(Object.assign({},zf),{getAnimatableNone:e=>{const t=e.match(Pp);return t?t.map(_p).join(" "):e}});var Tt=qh(qh({},df),{transform:Math.round}),Rp={borderWidth:Sf,borderTopWidth:Sf,borderRightWidth:Sf,borderBottomWidth:Sf,borderLeftWidth:Sf,borderRadius:Sf,radius:Sf,borderTopLeftRadius:Sf,borderTopRightRadius:Sf,borderBottomRightRadius:Sf,borderBottomLeftRadius:Sf,width:Sf,maxWidth:Sf,height:Sf,maxHeight:Sf,size:Sf,top:Sf,right:Sf,bottom:Sf,left:Sf,padding:Sf,paddingTop:Sf,paddingRight:Sf,paddingBottom:Sf,paddingLeft:Sf,margin:Sf,marginTop:Sf,marginRight:Sf,marginBottom:Sf,marginLeft:Sf,rotate:kf,rotateX:kf,rotateY:kf,rotateZ:kf,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:kf,skewX:kf,skewY:kf,distance:Sf,translateX:Sf,translateY:Sf,translateZ:Sf,x:Sf,y:Sf,z:Sf,perspective:Sf,transformPerspective:Sf,opacity:ff,originX:Tf,originY:Tf,originZ:Sf,zIndex:Tt,fillOpacity:ff,strokeOpacity:ff,numOctaves:Tt},Op=qh(qh({},Rp),{color:Of,backgroundColor:Of,outlineColor:Of,fill:Of,stroke:Of,borderColor:Of,borderTopColor:Of,borderRightColor:Of,borderBottomColor:Of,borderLeftColor:Of,filter:Lp,WebkitFilter:Lp}),Mp=function(e){return Op[e]};function Fp(e,t){var n=Mp(e);return null===(e=(n=n!==Lp?zf:n).getAnimatableNone)||void 0===e?void 0:e.call(n,t)}var Vp={current:!1},jp=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},Up=function(e){return Ip(e)?e[e.length-1]||0:e};var Bp=!1;function zp(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=Hh(e,["ease","times","yoyo","flip","loop"]),e=qh({},o);return n&&(e.offset=n),o.duration&&(e.duration=1e3*o.duration),o.repeatDelay&&(e.repeatDelay=1e3*o.repeatDelay),t&&(e.ease=(n=t,Array.isArray(n)&&"number"!=typeof n[0]?t.map(wp):wp(t))),"tween"===o.type&&(e.type="keyframes"),(r||a||i)&&(zd(!Bp,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),Bp=!0,r?e.repeatType="reverse":a?e.repeatType="loop":i&&(e.repeatType="mirror"),e.repeat=a||r||i||o.repeat),"spring"!==o.type&&(e.type="keyframes"),e}function qp(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),r=t,Array.isArray(r.to)&&null===r.to[0]&&(r.to=$h([],Kh(r.to),!1),r.to[0]=r.from),(r=e).when,r.delay,r.delayChildren,r.staggerChildren,r.staggerDirection,r.repeat,r.repeatType,r.repeatDelay,r.from,r=Hh(r,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]),Object.keys(r).length||(e=qh(qh({},e),Sp(n,t.to))),qh(qh({},t),zp(e))}function Hp(e,r,i,t,a){var o=$p(t,e),s=null!==(n=o.from)&&void 0!==n?n:r.get(),t=Tp(e,i);"none"===s&&t&&"string"==typeof i?s=Fp(e,i):Wp(s)&&"string"==typeof i?s=Kp(i):!Array.isArray(i)&&Wp(i)&&"string"==typeof s&&(i=Kp(s));var n=Tp(e,s);return zd(n===t,"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(i,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(i," via the `style` property.")),n&&t&&!1!==o.type?function(){var n={from:s,to:i,velocity:r.getVelocity(),onComplete:a,onUpdate:function(e){return r.set(e)}};return"inertia"===o.type||"decay"===o.type?function({from:r=0,velocity:i=0,min:a,max:t,power:o=.8,timeConstant:s=750,bounceStiffness:n=500,bounceDamping:l=10,restDelta:u=1,modifyTarget:c,driver:e,onUpdate:h,onComplete:d,onStop:f}){let p;function m(e){return void 0!==a&&e<a||void 0!==t&&t<e}function g(e){return void 0!==a&&(void 0===t||Math.abs(a-e)<Math.abs(t-e))?a:t}function v(n){null!==p&&void 0!==p&&p.stop(),p=cp(Object.assign(Object.assign({},n),{driver:e,onUpdate:e=>{var t;null!=h&&h(e),null!==(t=n.onUpdate)&&void 0!==t&&t.call(n,e)},onComplete:d,onStop:f}))}function y(e){v(Object.assign({type:"spring",stiffness:n,damping:l,restDelta:u},e))}if(m(r))y({from:r,velocity:i,to:g(r)});else{let e=o*i+r;void 0!==c&&(e=c(e));const b=g(e),w=b===a?-1:1;let t,n;v({type:"decay",from:r,velocity:i,timeConstant:s,power:o,restDelta:u,modifyTarget:c,onUpdate:m(e)?e=>{t=n,n=e,i=Ld(e-t,kd.delta),(1==w&&e>b||-1==w&&e<b)&&y({from:e,to:b,velocity:i})}:void 0})}return{stop:()=>null===p||void 0===p?void 0:p.stop()}}(qh(qh({},n),o)):cp(qh(qh({},qp(o,n,e)),{onUpdate:function(e){var t;n.onUpdate(e),null!==(t=o.onUpdate)&&void 0!==t&&t.call(o,e)},onComplete:function(){var e;n.onComplete(),null!==(e=o.onComplete)&&void 0!==e&&e.call(o)}}))}:function(){var e,t=Up(i);return r.set(t),a(),null!==(e=null==o?void 0:o.onUpdate)&&void 0!==e&&e.call(o,t),null!==(t=null==o?void 0:o.onComplete)&&void 0!==t&&t.call(o),{stop:function(){}}}}function Wp(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Kp(e){return"number"==typeof e?0:Fp("",e)}function $p(e,t){return e[t]||e.default||e}function Gp(o,s,l,u){return void 0===u&&(u={}),Vp.current&&(u={type:!1}),s.start(function(e){function t(){return r=i()}var n,r,i=Hp(o,s,l,u,e),a=null!==(a=null!==(e=($p(a=u,e=o)||{}).delay)&&void 0!==e?e:a.delay)&&void 0!==a?a:0;return a?n=setTimeout(t,1e3*a):t(),function(){clearTimeout(n),null!=r&&r.stop()}})}var Qp=["TopLeft","TopRight","BottomLeft","BottomRight"],Yp=Qp.length,Xp=function(e){return"string"==typeof e?parseFloat(e):e},Jp=function(e){return"number"==typeof e||Sf.test(e)};function Zp(e,t){return null!==(t=e[t])&&void 0!==t?t:e.borderRadius}var em=nm(0,.5,xd),tm=nm(.5,.95,tp);function nm(t,n,r){return function(e){return e<t?0:n<e?1:r(af(t,n,e))}}function rm(e,t){e.min=t.min,e.max=t.max}function im(e,t){rm(e.x,t.x),rm(e.y,t.y)}function am(e){return void 0===e||1===e}function om(e){var t=e.scale,n=e.scaleX,e=e.scaleY;return!am(t)||!am(n)||!am(e)}function sm(e){return om(e)||lm(e.x)||lm(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function lm(e){return e&&"0%"!==e}function um(e,t,n){return n+t*(e-n)}function cm(e,t,n,r,i){return void 0!==i&&(e=um(e,i,r)),um(e,n,r)+t}function hm(e,t,n,r,i){e.min=cm(e.min,t=void 0===t?0:t,n=void 0===n?1:n,r,i),e.max=cm(e.max,t,n,r,i)}function dm(e,t){var n=t.x,t=t.y;hm(e.x,n.translate,n.scale,n.originPoint),hm(e.y,t.translate,t.scale,t.originPoint)}function fm(e,t){e.min=e.min+t,e.max=e.max+t}function pm(e,t,n){var r=Kh(n,3),i=r[0],n=r[1],r=r[2],r=void 0!==t[r]?t[r]:.5,r=Pd(e.min,e.max,r);hm(e,t[i],t[n],r,t.scale)}var mm=["x","scaleX","originX"],gm=["y","scaleY","originY"];function vm(e,t){pm(e.x,t,mm),pm(e.y,t,gm)}const ym=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),bm=e=>ym(e)&&e.hasOwnProperty("z"),wm=(e,t)=>Math.abs(e-t);function Em(e,t){if(qf(e)&&qf(t))return wm(e,t);if(ym(e)&&ym(t)){var n=wm(e.x,t.x),r=wm(e.y,t.y),t=bm(e)&&bm(t)?wm(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(t,2))}}function km(e){return e.max-e.min}function Cm(e,t,n){return void 0===n&&(n=.01),Em(e,t=void 0===t?0:t)<n}function Sm(e,t,n,r){e.origin=r=void 0===r?.5:r,e.originPoint=Pd(t.min,t.max,e.origin),e.scale=km(n)/km(t),(Cm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Pd(n.min,n.max,e.origin)-e.originPoint,(Cm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xm(e,t,n,r){Sm(e.x,t.x,n.x,null==r?void 0:r.originX),Sm(e.y,t.y,n.y,null==r?void 0:r.originY)}function Tm(e,t,n){e.min=n.min+t.min,e.max=e.min+km(t)}function Im(e,t,n){e.min=t.min-n.min,e.max=e.min+km(t)}function Nm(e,t,n){Im(e.x,t.x,n.x),Im(e.y,t.y,n.y)}function Dm(e,t,n,r,i){return e=um(e-=t,1/n,r),e=void 0!==i?um(e,1/i,r):e}function Am(e,t,n,r,i){var a=Kh(n,3),o=a[0],n=a[1],a=a[2];e=e,o=t[o],n=t[n],a=t[a],t=t.scale,void 0===o&&(o=0),void 0===n&&(n=1),void 0===a&&(a=.5),void 0===(r=r)&&(r=e),void 0===(i=i)&&(i=e),Cf.test(o)&&(o=parseFloat(o),o=Pd(i.min,i.max,o/100)-i.min),"number"==typeof o&&(a=Pd(r.min,r.max,a),e===r&&(a-=o),e.min=Dm(e.min,o,n,a,t),e.max=Dm(e.max,o,n,a,t))}var _m=["x","scaleX","originX"],Pm=["y","scaleY","originY"];function Lm(e,t,n,r){Am(e.x,t,_m,null==n?void 0:n.x,null==r?void 0:r.x),Am(e.y,t,Pm,null==n?void 0:n.y,null==r?void 0:r.y)}var Rm=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Om=function(){return{x:Rm(),y:Rm()}},Mm=function(){return{min:0,max:0}},Fm=function(){return{x:Mm(),y:Mm()}};function Vm(e){return 0===e.translate&&1===e.scale}function jm(e){return Vm(e.x)&&Vm(e.y)}function Um(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Bm=(zm.prototype.add=function(e){Rd(this.members,e),e.scheduleRender()},zm.prototype.remove=function(e){Od(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e!==this.lead||(e=this.members[this.members.length-1])&&this.promote(e)},zm.prototype.relegate=function(t){var e,n=this.members.findIndex(function(e){return t===e});if(0===n)return!1;for(var r=n;0<=r;r--){var i=this.members[r];if(!1!==i.isPresent){e=i;break}}return!!e&&(this.promote(e),!0)},zm.prototype.promote=function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,(this.lead=e).show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues,e.snapshot.isShared=!0),null!==(t=e.root)&&void 0!==t&&t.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))},zm.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,n,r;null!==(n=(t=e.options).onExitComplete)&&void 0!==n&&n.call(t),null!==(e=null===(e=e.resumingFrom)||void 0===e?void 0:(r=e.options).onExitComplete)&&void 0!==e&&e.call(r)})},zm.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},zm.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},zm);function zm(){this.members=[]}var qm={};var Hm="translate3d(0px, 0px, 0) scale(1, 1)";function Wm(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,t="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");return n&&(r=n.rotate,i=n.rotateX,n=n.rotateY,r&&(t+="rotate(".concat(r,"deg) ")),i&&(t+="rotateX(".concat(i,"deg) ")),n&&(t+="rotateY(".concat(n,"deg) "))),(t+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))===Hm?"none":t}function Km(e){return[e("x"),e("y")]}var $m=["","X","Y","Z"],Gm=["transformPerspective","x","y","z"];function Qm(e,t){return Gm.indexOf(e)-Gm.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(t){return $m.forEach(function(e){return Gm.push(t+e)})});var Ym=new Set(Gm);function Xm(e){return Ym.has(e)}var Jm=new Set(["originX","originY","originZ"]);function Zm(e){return Jm.has(e)}function eg(e,t){return e.depth-t.depth}var tg=(ng.prototype.add=function(e){Rd(this.children,e),this.isDirty=!0},ng.prototype.remove=function(e){Od(this.children,e),this.isDirty=!0},ng.prototype.forEach=function(e){this.isDirty&&this.children.sort(eg),this.isDirty=!1,this.children.forEach(e)},ng);function ng(){this.children=[],this.isDirty=!1}function rg(e){e=Bd(e)?e.get():e;return jp(e)?e.toValue():e}var ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ag(e){var s=e.attachResizeListener,a=e.defaultParent,t=e.measureScroll,i=e.resetTransform;return n.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Md),this.eventHandlers.get(e).add(t)},n.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=this.eventHandlers.get(e);null!=e&&e.notify.apply(e,$h([],Kh(t),!1))},n.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},n.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},n.prototype.mount=function(e,t){var n,r,i,c,a,o,h=this;void 0===t&&(t=!1),this.instance||(this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e,r=(n=this.options).layoutId,i=n.layout,(c=n.visualElement)&&!c.getInstance()&&c.mount(e),this.root.nodes.add(this),null!==(n=this.parent)&&void 0!==n&&n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),t&&(i||r)&&(this.isLayoutDirty=!0),s&&(o=function(){return h.root.updateBlockedByResize=!1},s(e,function(){h.root.updateBlockedByResize=!0,clearTimeout(a),a=setTimeout(o,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,h.nodes.forEach(hg))})),r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&c&&(r||i)&&this.addEventListener("didUpdate",function(e){var t,n,r=e.delta,i=e.hasLayoutChanged,a=e.hasRelativeTargetChanged,o=e.layout;if(h.isTreeAnimationBlocked())return h.target=void 0,void(h.relativeTarget=void 0);var s=null!==(u=null!==(l=h.options.transition)&&void 0!==l?l:c.getDefaultTransition())&&void 0!==u?u:bg,e=c.getProps().onLayoutAnimationComplete,l=!h.targetLayout||!Um(h.targetLayout,o)||a,u=!i&&a;null!==(a=h.resumeFrom)&&void 0!==a&&a.instance||u||i&&(l||!h.currentAnimation)?(h.resumeFrom&&(h.resumingFrom=h.resumeFrom,h.resumingFrom.resumingFrom=void 0),h.setAnimationOrigin(r,u),h.startAnimation(qh(qh({},$p(s,"layout")),{onComplete:e}))):h.isLead()&&null!==(n=(t=h.options).onExitComplete)&&void 0!==n&&n.call(t),h.targetLayout=o}))},n.prototype.unmount=function(){var e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null!==(e=this.getStack())&&void 0!==e&&e.remove(this),null!==(e=this.parent)&&void 0!==e&&e.children.delete(this),this.instance=void 0,Td.preRender(this.updateProjection)},n.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},n.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},n.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},n.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},n.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null!==(e=this.nodes)&&void 0!==e&&e.forEach(pg))},n.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null!==(r=(i=this.options).onExitComplete)&&void 0!==r&&r.call(i);else if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll()}var r=this.options,i=r.layoutId,r=r.layout;void 0===i&&!r||(r=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate,this.prevTransformTemplateValue=null==r?void 0:r(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate"))}},n.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ug);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(wg),this.potentialNodes.clear()),this.nodes.forEach(cg),this.nodes.forEach(og),this.nodes.forEach(sg),this.clearAllSnapshots(),Id.update(),Id.preRender(),Id.render())},n.prototype.clearAllSnapshots=function(){this.nodes.forEach(lg),this.sharedNodes.forEach(mg)},n.prototype.scheduleUpdateProjection=function(){_d.preRender(this.updateProjection,!1,!0)},n.prototype.scheduleCheckAfterUnmount=function(){var e=this;_d.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},n.prototype.updateSnapshot=function(){var e,t;!this.snapshot&&this.instance&&(e=this.measure(),kg(t=this.removeTransform(this.removeElementScroll(e))),this.snapshot={measured:e,layout:t,latestValues:{}})},n.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++)this.path[e].updateScroll();var t=this.measure();kg(t);var n=this.layout;this.layout={measured:t,actual:this.removeElementScroll(t)},this.layoutCorrected=Fm(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null!==(t=this.options.visualElement)&&void 0!==t&&t.notifyLayoutMeasure(this.layout.actual,null==n?void 0:n.actual)}},n.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=t(this.instance))},n.prototype.resetTransform=function(){var e,t,n,r;i&&(e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!jm(this.projectionDelta),r=(n=null==(r=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate)?void 0:r(this.latestValues,""))!==this.prevTransformTemplateValue,e&&(t||sm(this.latestValues)||r)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender()))},n.prototype.measure=function(){var e=this.options.visualElement;if(!e)return Fm();var t=e.measureViewportBox(),e=this.root.scroll;return e&&(fm(t.x,e.x),fm(t.y,e.y)),t},n.prototype.removeElementScroll=function(e){var t=Fm();im(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&(fm(t.x,i.x),fm(t.y,i.y))}return t},n.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=Fm();im(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vm(n,{x:-i.scroll.x,y:-i.scroll.y}),sm(i.latestValues)&&vm(n,i.latestValues)}return sm(this.latestValues)&&vm(n,this.latestValues),n},n.prototype.removeTransform=function(e){var t=Fm();im(t,e);for(var n=0;n<this.path.length;n++){var r,i=this.path[n];i.instance&&sm(i.latestValues)&&(om(i.latestValues)&&i.updateSnapshot(),im(r=Fm(),i.measure()),Lm(t,i.latestValues,null===(i=i.snapshot)||void 0===i?void 0:i.layout,r))}return sm(this.latestValues)&&Lm(t,this.latestValues),t},n.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},n.prototype.setOptions=function(e){this.options=qh(qh(qh({},this.options),e),{crossfade:null===(e=e.crossfade)||void 0===e||e})},n.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},n.prototype.resolveTargetDelta=function(){var e,t=this.options,n=t.layout,t=t.layoutId;this.layout&&(n||t)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Fm(),this.relativeTargetOrigin=Fm(),Nm(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),im(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=Fm(),this.targetWithTransforms=Fm()),this.relativeTarget&&this.relativeTargetOrigin&&null!==(e=this.relativeParent)&&void 0!==e&&e.target?(n=this.target,t=this.relativeTarget,e=this.relativeParent.target,Tm(n.x,t.x,e.x),Tm(n.y,t.y,e.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):im(this.target,this.layout.actual),dm(this.target,this.targetDelta)):im(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Fm(),this.relativeTargetOrigin=Fm(),Nm(this.relativeTargetOrigin,this.target,this.relativeParent.target),im(this.relativeTarget,this.relativeTargetOrigin)))))},n.prototype.getClosestProjectingParent=function(){if(this.parent&&!sm(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},n.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)&&(t=this.getLead(),im(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i;void 0===r&&(r=!1);var a,o,s=n.length;if(s){t.x=t.y=1;for(var l=0;l<s;l++)o=(a=n[l]).projectionDelta,"contents"!==(null===(i=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===i?void 0:i.display)&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vm(e,{x:-a.scroll.x,y:-a.scroll.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dm(e,o)),r&&sm(a.latestValues)&&vm(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==t),(e=t.target)&&(this.projectionDelta||(this.projectionDelta=Om(),this.projectionDeltaWithTransform=Om()),n=this.treeScale.x,r=this.treeScale.y,t=this.projectionTransform,xm(this.projectionDelta,this.layoutCorrected,e,this.latestValues),this.projectionTransform=Wm(this.projectionDelta,this.treeScale),this.projectionTransform===t&&this.treeScale.x===n&&this.treeScale.y===r||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",e))))},n.prototype.hide=function(){this.isVisible=!1},n.prototype.show=function(){this.isVisible=!0},n.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null!==(n=(t=this.options).scheduleRender)&&void 0!==n&&n.call(t),e&&null!==(r=this.getStack())&&void 0!==r&&r.scheduleRender(),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},n.prototype.setAnimationOrigin=function(a,e){var o=this;void 0===e&&(e=!1);var t=this.snapshot,s=(null==t?void 0:t.latestValues)||{},l=qh({},this.latestValues),u=Om();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;var c=Fm(),h=null==t?void 0:t.isShared,d=((null===(t=this.getStack())||void 0===t?void 0:t.members.length)||0)<=1,f=Boolean(h&&!d&&!0===this.options.crossfade&&!this.path.some(yg));this.mixTargetDelta=function(e){var t,n,r,i=e/1e3;gg(u.x,a.x,i),gg(u.y,a.y,i),o.setTargetDelta(u),o.relativeTarget&&o.relativeTargetOrigin&&o.layout&&null!==(r=o.relativeParent)&&void 0!==r&&r.layout&&(Nm(c,o.layout.actual,o.relativeParent.layout.actual),t=o.relativeTarget,n=o.relativeTargetOrigin,e=c,r=i,vg(t.x,n.x,e.x,r),vg(t.y,n.y,e.y,r)),h&&function(e,t,n,r,i,a){i?(e.opacity=Pd(0,null!==(i=n.opacity)&&void 0!==i?i:1,em(r)),e.opacityExit=Pd(null!==(i=t.opacity)&&void 0!==i?i:1,0,tm(r))):a&&(e.opacity=Pd(null!==(a=t.opacity)&&void 0!==a?a:1,null!==(a=n.opacity)&&void 0!==a?a:1,r));for(var o=0;o<Yp;o++){var s="border".concat(Qp[o],"Radius"),l=Zp(t,s),u=Zp(n,s);void 0===l&&void 0===u||(u=u||0,0===(l=l||0)||0===u||Jp(l)===Jp(u)?(e[s]=Math.max(Pd(Xp(l),Xp(u),r),0),(Cf.test(u)||Cf.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=Pd(t.rotate||0,n.rotate||0,r))}(o.animationValues=l,s,o.latestValues,i,f,d),o.root.scheduleUpdateProjection(),o.scheduleRender()},this.mixTargetDelta(0)},n.prototype.startAnimation=function(n){var e,t,r=this;null!==(e=this.currentAnimation)&&void 0!==e&&e.stop(),this.resumingFrom&&null!==(t=this.resumingFrom.currentAnimation)&&void 0!==t&&t.stop(),this.pendingAnimation&&(Td.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_d.update(function(){ig.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=Bd(e)?e:Ud(e);return Gp("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,qh(qh({},n),{onUpdate:function(e){var t;r.mixTargetDelta(e),null!==(t=n.onUpdate)&&void 0!==t&&t.call(n,e)},onComplete:function(){var e;null!==(e=n.onComplete)&&void 0!==e&&e.call(n),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0})},n.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null!==(e=this.getStack())&&void 0!==e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},n.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null!==(e=this.mixTargetDelta)&&void 0!==e&&e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},n.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,e=e.latestValues;t&&n&&r&&(im(t,n),vm(t,e),xm(this.projectionDeltaWithTransform,this.layoutCorrected,t,e))},n.prototype.registerSharedNode=function(e,t){var n;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Bm),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(n=null===(e=t.options.initialPromotionConfig)||void 0===e?void 0:e.shouldPreserveFollowOpacity)||void 0===n?void 0:n.call(e,t)})},n.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},n.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},n.prototype.getPrevLead=function(){var e;return!this.options.layoutId||null===(e=this.getStack())||void 0===e?void 0:e.prevLead},n.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},n.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,e=t.preserveFollowOpacity,t=this.getStack();t&&t.promote(this,e),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},n.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},n.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<$m.length;r++){var i="rotate"+$m[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null!=e&&e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},n.prototype.getProjectionStyles=function(e){var t,n;void 0===e&&(e={});var r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=rg(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=null!==(t=this.latestValues.opacity)&&void 0!==t?t:1,o.pointerEvents=rg(e.pointerEvents)||""),this.hasProjected&&!sm(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=Wm(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var l,o=this.projectionDelta,i=o.x,o=o.y;for(l in r.transformOrigin="".concat(100*i.origin,"% ").concat(100*o.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(o=null!==(o=s.opacity)&&void 0!==o?o:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?null!==(n=s.opacity)&&void 0!==n?n:"":null!==(n=s.opacityExit)&&void 0!==n?n:0,qm)if(void 0!==s[l]){var u=qm[l],c=u.correct,h=u.applyTo,d=c(s[l],a);if(h)for(var f=h.length,p=0;p<f;p++)r[h[p]]=d;else r[l]=d}return this.options.layoutId&&(r.pointerEvents=a===this?rg(e.pointerEvents)||"":"none"),r},n.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},n.prototype.resetTree=function(){this.root.nodes.forEach(function(e){return null===(e=e.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(ug),this.root.sharedNodes.clear()},n;function n(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=null==a?void 0:a()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(dg),r.nodes.forEach(fg)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?$h($h([],Kh(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new tg)}}function og(e){e.updateLayout()}function sg(e){var t,n,r,i,a,o,s,l,u,c,h=null!==(u=null===(s=e.resumeFrom)||void 0===s?void 0:s.snapshot)&&void 0!==u?u:e.snapshot;e.isLead()&&e.layout&&h&&e.hasListeners("didUpdate")?(c=e.layout,r=c.actual,l=c.measured,"size"===e.options.animationType?Km(function(e){var t=(h.isShared?h.measured:h.layout)[e],n=km(t);t.min=r[e].min,t.max=t.min+n}):"position"===e.options.animationType&&Km(function(e){var t=(h.isShared?h.measured:h.layout)[e],e=km(r[e]);t.max=t.min+e}),xm(i=Om(),r,h.layout),a=Om(),h.isShared?xm(a,e.applyTransform(l,!0),h.measured):xm(a,r,h.layout),o=!jm(i),s=!1,e.resumeFrom||(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom&&(c=(u=e.relativeParent).snapshot,l=u.layout,c&&l&&(Nm(u=Fm(),h.layout,c.layout),Nm(c=Fm(),r,l.actual),Um(u,c)||(s=!0)))),e.notifyListeners("didUpdate",{layout:r,snapshot:h,delta:a,layoutDelta:i,hasLayoutChanged:o,hasRelativeTargetChanged:s})):e.isLead()&&null!==(n=(t=e.options).onExitComplete)&&void 0!==n&&n.call(t),e.options.transition=void 0}function lg(e){e.clearSnapshot()}function ug(e){e.clearMeasurements()}function cg(e){e.resetTransform()}function hg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function dg(e){e.resolveTargetDelta()}function fg(e){e.calcProjection()}function pg(e){e.resetRotation()}function mg(e){e.removeLeadSnapshot()}function gg(e,t,n){e.translate=Pd(t.translate,0,n),e.scale=Pd(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function vg(e,t,n,r){e.min=Pd(t.min,n.min,r),e.max=Pd(t.max,n.max,r)}function yg(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var bg={duration:.45,ease:[.4,0,.1,1]};function wg(e,t){for(var n=e.root,r=e.path.length-1;0<=r;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}t=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));t&&e.mount(t,!0)}function Eg(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function kg(e){Eg(e.x),Eg(e.y)}var Cg=1;var Sg=(0,S.createContext)({}),xg=(0,S.createContext)({});var Tg,Ig=(zh(Ng,Tg=S.Component),Ng.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},Ng.prototype.componentDidUpdate=function(){},Ng.prototype.updateProps=function(){var e=this.props,t=e.visualElement,e=e.props;t&&t.setProps(e)},Ng.prototype.render=function(){return this.props.children},Ng);function Ng(){return null!==Tg&&Tg.apply(this,arguments)||this}function Dg(e){var t=e.preloadedFeatures,b=e.createVisualElement,w=e.projectionNodeConstructor,E=e.useRender,k=e.useVisualState,C=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?Qh.projectionNodeConstructor=e[t]:Qh[t].Component=e[t])}(t),(0,S.forwardRef)(function(e,t){var n=(c=(u=e).layoutId,(u=null===(u=(0,S.useContext)(Sg))||void 0===u?void 0:u.id)&&void 0!==c?u+"-"+c:c);e=qh(qh({},e),{layoutId:n});var r,i,a,o,s,l,u,c,h,d,f,p=(0,S.useContext)(Zh),m=null,g=dd(e),v=p.isStatic?void 0:pd(function(){if(ig.hasEverUpdated)return Cg++}),y=k(e,p.isStatic);return!p.isStatic&&nd&&(g.visualElement=id(C,y,qh(qh({},p),e),b),r=v,i=e,a=g.visualElement,o=w||Qh.projectionNodeConstructor,s=i.layoutId,l=i.layout,u=i.drag,c=i.dragConstraints,n=i.layoutScroll,i=(0,S.useContext)(xg),!o||!a||null!=a&&a.projection||(a.projection=new o(r,a.getLatestValues(),null===(r=a.parent)||void 0===r?void 0:r.projection),a.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:Boolean(u)||c&&ad(c),visualElement:a,scheduleRender:function(){return a.scheduleRender()},animationType:"string"==typeof l?l:"both",initialPromotionConfig:i,layoutScroll:n})),m=function(e,t){var n=[];if((0,S.useContext)(Yh),!t)return null;for(var r=0;r<Jh;r++){var i=Xh[r],a=Qh[i],o=a.isEnabled,a=a.Component;o(e)&&a&&n.push(S.createElement(a,qh({key:i},e,{visualElement:t})))}return n}(e,g.visualElement)),S.createElement(Ig,{visualElement:g.visualElement,props:qh(qh({},p),e)},m,S.createElement(ed.Provider,{value:g},E(C,e,v,(h=y,d=g.visualElement,f=t,(0,S.useCallback)(function(e){var t;e&&null!==(t=h.mount)&&void 0!==t&&t.call(h,e),d&&(e?d.mount(e):d.unmount()),f&&("function"==typeof f?f(e):ad(f)&&(f.current=e))},[d])),y,p.isStatic,g.visualElement)))})}function Ag(n){function r(e,t){return Dg(n(e,t=void 0===t?{}:t))}if("undefined"==typeof Proxy)return r;var i=new Map;return new Proxy(r,{get:function(e,t){return i.has(t)||i.set(t,r(t)),i.get(t)}})}var _g=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Pg(e){return"string"==typeof e&&!e.includes("-")&&!!(-1<_g.indexOf(e)||/[A-Z]/.test(e))}function Lg(e,t){var n=t.layout,t=t.layoutId;return Xm(e)||Zm(e)||(n||void 0!==t)&&(qm[e]||"opacity"===e)}var Rg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Og(e){return e.startsWith("--")}var Mg=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function Fg(e,t,n,r){var i,a=e.style,o=e.vars,s=e.transform,l=e.transformKeys,u=e.transformOrigin,c=!1,h=!1,d=!(l.length=0);for(i in t){var f,p,m=t[i];Og(i)?o[i]=m:(f=Rp[i],p=Mg(m,f),Xm(i)?(c=!0,s[i]=p,l.push(i),d&&m!==(null!==(f=f.default)&&void 0!==f?f:0)&&(d=!1)):Zm(i)?(u[i]=p,h=!0):a[i]=p)}c?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,e=void 0===(e=t.enableHardwareAcceleration)||e,t=void 0===(t=t.allowTransformNone)||t,o="";a.sort(Qm);for(var s=!1,l=a.length,u=0;u<l;u++){var c=a[u];o+="".concat(Rg[c]||c,"(").concat(i[c],") "),"z"===c&&(s=!0)}return!s&&e?o+="translateZ(0)":o=o.trim(),r?o=r(i,n?"":o):t&&n&&(o="none"),o}(e,n,d,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),h&&(a.transformOrigin=(n=(e=u).originX,r=void 0===(r=e.originY)?"50%":r,e=void 0===(e=e.originZ)?0:e,"".concat(void 0===n?"50%":n," ").concat(r," ").concat(e)))}function Vg(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}function jg(e,t,n){for(var r in t)Bd(t[r])||Lg(r,n)||(e[r]=t[r])}function Ug(e,t,n){var r,i,a,o={};return jg(o,e.style||{},e),Object.assign(o,(r=t,i=n,a=e.transformTemplate,(0,S.useMemo)(function(){var e=Vg();Fg(e,r,{enableHardwareAcceleration:!i},a);var t=e.vars,e=e.style;return qh(qh({},t),e)},[r]))),o=e.transformValues?e.transformValues(o):o}function Bg(e,t,n){var r={},n=Ug(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=n,r}var zg=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function qg(e){return zg.has(e)}var Hg,Wg=function(e){return!qg(e)};try{(Hg=require("@emotion/is-prop-valid").default)&&(Wg=function(e){return e.startsWith("on")?!qg(e):Hg(e)})}catch(e){}function Kg(e,t,n){return"string"==typeof e?e:Sf.transform(t+n*e)}var $g={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gg={offset:"strokeDashoffset",array:"strokeDasharray"};function Qg(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,l=t.pathLength,u=t.pathSpacing,c=void 0===u?1:u,u=t.pathOffset,u=void 0===u?0:u;Fg(e,Hh(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var n=e.attrs,r=e.style,e=e.dimensions;n.transform&&(e&&(r.transform=n.transform),delete n.transform),e&&(void 0!==o||void 0!==s||r.transform)&&(r.transformOrigin=(s=void 0!==s?s:.5,o=Kg(o=void 0!==o?o:.5,(e=e).x,e.width),e=Kg(s,e.y,e.height),"".concat(o," ").concat(e))),void 0!==i&&(n.x=i),void 0!==a&&(n.y=a),void 0!==l&&(a=l,void 0===(l=c)&&(l=1),void 0===(c=u)&&(c=0),void 0===(u=!1)&&(u=!0),(n=n).pathLength=1,n[(u=u?$g:Gg).offset]=Sf.transform(-c),a=Sf.transform(a),l=Sf.transform(l),n[u.array]="".concat(a," ").concat(l))}function Yg(){return qh(qh({},Vg()),{attrs:{}})}function Xg(t,n){var e,r=(0,S.useMemo)(function(){var e=Yg();return Qg(e,n,{enableHardwareAcceleration:!1},t.transformTemplate),qh(qh({},e.attrs),{style:qh({},e.style)})},[n]);return t.style&&(jg(e={},t.style,t),r.style=qh(qh({},e),r.style)),r}function Jg(o){void 0===o&&(o=!1);return function(e,t,n,r,i,a){i=i.latestValues,a=(Pg(e)?Xg:Bg)(t,i,a),t=function(e,t,n){var r,i={};for(r in e)(Wg(r)||!0===n&&qg(r)||!t&&!qg(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,o),r=qh(qh(qh({},t),a),{ref:r});return n&&(r["data-projection-id"]=n),(0,S.createElement)(e,r)}}function Zg(e){return e.replace(e0,t0).toLowerCase()}var e0=/([a-z])([A-Z])/g,t0="$1-$2";function n0(e,t,n,r){var i,a=t.style,o=t.vars;for(i in Object.assign(e.style,a,r&&r.getProjectionStyles(n)),o)e.style.setProperty(i,o[i])}var r0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function i0(e,t){for(var n in n0(e,t),t.attrs)e.setAttribute(r0.has(n)?n:Zg(n),t.attrs[n])}function a0(e){var t,n=e.style,r={};for(t in n)(Bd(n[t])||Lg(t,e))&&(r[t]=n[t]);return r}function o0(e){var t,n=a0(e);for(t in e)Bd(e[t])&&(n["x"===t||"y"===t?"attr"+t.toUpperCase():t]=e[t]);return n}function s0(e){return"object"==typeof e&&"function"==typeof e.start}function l0(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:function(a,e,t,n){var r,o={},i=!1===(null==t?void 0:t.initial),s=n(a);for(r in s)o[r]=rg(s[r]);var l=a.initial,u=a.animate,t=cd(a),n=hd(a);e&&n&&!t&&!1!==a.inherit&&(null!=l||(l=e.initial),null!=u||(u=e.animate));var c=i||!1===l,l=c?u:l;l&&"boolean"!=typeof l&&!s0(l)&&(Array.isArray(l)?l:[l]).forEach(function(e){e=ld(a,e);if(e){var t=e.transitionEnd;e.transition;var n,r=Hh(e,["transitionEnd","transition"]);for(n in r){var i=r[n];null!==(i=Array.isArray(i)?i[c?i.length-1:0]:i)&&(o[n]=i)}for(n in t)o[n]=t[n]}});return o}(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}function u0(i){return function(e,t){var n=(0,S.useContext)(ed),r=(0,S.useContext)(td);return t?l0(i,e,n,r):pd(function(){return l0(i,e,n,r)})}}var c0,h0={useVisualState:u0({scrapeMotionValuesFromProps:o0,createRenderState:Yg,onMount:function(e,t,n){var r=n.renderState,n=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}Qg(r,n,{enableHardwareAcceleration:!1},e.transformTemplate),i0(t,r)}})},d0={useVisualState:u0({scrapeMotionValuesFromProps:a0,createRenderState:Vg})};function f0(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function p0(t,n,r,i){(0,S.useEffect)(function(){var e=t.current;if(r&&e)return f0(e,n,r,i)},[t,n,r,i])}function m0(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?"mouse"===e.pointerType:e instanceof MouseEvent}function g0(e){return!!e.touches}(Tt=c0=c0||{}).Animate="animate",Tt.Hover="whileHover",Tt.Tap="whileTap",Tt.Drag="whileDrag",Tt.Focus="whileFocus",Tt.InView="whileInView",Tt.Exit="exit";var v0={pageX:0,pageY:0};function y0(e,t){return void 0===t&&(t="page"),{point:g0(e)?(r=t,{x:(n=(n=e).touches[0]||n.changedTouches[0]||v0)[(r=void 0===r?"page":r)+"X"],y:n[r+"Y"]}):{x:e[(t=void 0===(t=t)?"page":t)+"X"],y:e[t+"Y"]}};var n,r}function b0(){return nd&&null===window.onpointerdown}function w0(){return nd&&null===window.ontouchstart}function E0(){return nd&&null===window.onmousedown}var k0=function(t,e){function n(e){return t(e,y0(e))}var r;return(e=void 0===e?!1:e)?(r=n,function(e){var t=e instanceof MouseEvent;t&&0!==e.button||r(e)}):n},C0={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},S0={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function x0(e){return b0()?e:w0()?S0[e]:E0()?C0[e]:e}function T0(e,t,n,r){return f0(e,x0(t),k0(n,"pointerdown"===t),r)}function I0(e,t,n,r){return p0(e,x0(t),n&&k0(n,"pointerdown"===t),r),0}function N0(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var D0=N0("dragHorizontal"),A0=N0("dragVertical");function _0(e){var t,n,r=!1;return"y"===e?r=A0():"x"===e?r=D0():(t=D0(),n=A0(),t&&n?r=function(){t(),n()}:(t&&t(),n&&n())),r}function P0(){var e=_0(!0);if(!e)return 1;e()}function L0(r,i,a){return function(e,t){var n;m0(e)&&!P0()&&(null!==(n=r.animationState)&&void 0!==n&&n.setActive(c0.Hover,i),null!=a&&a(e,t))}}var R0=function(e,t){return!!t&&(e===t||R0(e,t.parentElement))};function O0(e){return(0,S.useEffect)(function(){return function(){return e()}},[])}function M0(e){e.forEach(j0)}var F0=new WeakMap,V0=new WeakMap,j0=function(e){var t;null!==(t=F0.get(e.target))&&void 0!==t&&t(e)};function U0(e,t,n){var r,i,a,o=(i=(r=t).root,a=Hh(r,["root"]),t=i||document,V0.has(t)||V0.set(t,{}),r=V0.get(t),t=JSON.stringify(a),r[t]||(r[t]=new IntersectionObserver(M0,qh({root:i},a))),r[t]);return F0.set(e,n),o.observe(e),function(){F0.delete(e),o.unobserve(e)}}var B0={some:0,all:1};function z0(t,r,i,e){var n=e.root,a=e.margin,o=e.amount,s=void 0===o?"some":o,l=e.once;(0,S.useEffect)(function(){if(t){var e={root:null==n?void 0:n.current,rootMargin:a,threshold:"number"==typeof s?s:B0[s]};return U0(i.getInstance(),e,function(e){var t,n=e.isIntersecting;r.isInView!==n&&(r.isInView=n,l&&!n&&r.hasEnteredView||(n&&(r.hasEnteredView=!0),null!==(t=i.animationState)&&void 0!==t&&t.setActive(c0.InView,n),t=i.getProps(),null!=(t=n?t.onViewportEnter:t.onViewportLeave)&&t(e)))})}},[t,n,a,s])}function q0(e,t,n){(0,S.useEffect)(function(){e&&requestAnimationFrame(function(){t.hasEnteredView=!0;var e=n.getProps().onViewportEnter;null!=e&&e(null),null!==(e=n.animationState)&&void 0!==e&&e.setActive(c0.InView,!0)})},[e])}function H0(t){return function(e){return t(e),null}}xd={inView:H0(function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,e=void 0===(a=e.viewport)?{}:a,a=(0,S.useRef)({hasEnteredView:!1,isInView:!1}),i=Boolean(n||r||i);e.once&&a.current.hasEnteredView&&(i=!1),("undefined"==typeof IntersectionObserver?q0:z0)(i,a.current,t,e)}),tap:H0(function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,t=e.whileTap,a=e.visualElement,t=n||r||i||t,o=(0,S.useRef)(!1),s=(0,S.useRef)(null);function l(){var e;null!==(e=s.current)&&void 0!==e&&e.call(s),s.current=null}function u(){var e;return l(),o.current=!1,null!==(e=a.animationState)&&void 0!==e&&e.setActive(c0.Tap,!1),!P0()}function c(e,t){u()&&(R0(a.getInstance(),e.target)?null!=n&&n(e,t):null!=i&&i(e,t))}function h(e,t){u()&&null!=i&&i(e,t)}I0(a,"pointerdown",t?function(e,t){var n;l(),o.current||(o.current=!0,s.current=Wf(T0(window,"pointerup",c),T0(window,"pointercancel",h)),null!==(n=a.animationState)&&void 0!==n&&n.setActive(c0.Tap,!0),null!=r&&r(e,t))}:void 0),O0(l)}),focus:H0(function(e){var t=e.whileFocus,n=e.visualElement;p0(n,"focus",t?function(){var e;null!==(e=n.animationState)&&void 0!==e&&e.setActive(c0.Focus,!0)}:void 0),p0(n,"blur",t?function(){var e;null!==(e=n.animationState)&&void 0!==e&&e.setActive(c0.Focus,!1)}:void 0)}),hover:H0(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover;I0(e=e.visualElement,"pointerenter",t||r?L0(e,!0,t):void 0),I0(e,"pointerleave",n||r?L0(e,!1,n):void 0)})};function W0(){var e=(0,S.useContext)(td);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=pd($0);(0,S.useEffect)(function(){return r(i)},[]);return!t&&n?[!1,function(){return null==n?void 0:n(i)}]:[!0]}var K0=0,$0=function(){return K0++};function G0(e,t){if(Array.isArray(t)){var n=t.length;if(n===e.length){for(var r=0;r<n;r++)if(t[r]!==e[r])return;return 1}}}function Q0(e){return X0.find(Y0(e))}var Y0=function(t){return function(e){return e.test(t)}},X0=[df,Sf,Cf,kf,R,xf,{test:function(e){return"auto"===e},parse:function(e){return e}}],J0=$h($h([],Kh(X0),!1),[Of,zf],!1);function Z0(e,t){var n=ud(e,t),t=n?e.makeTargetAnimatable(n,!1):{},n=t.transitionEnd,n=void 0===n?{}:n;t.transition;var r,i,a,o=Hh(t,["transitionEnd","transition"]);for(r in o=qh(qh({},o),n)){var s=Up(o[r]);i=r,a=s,(s=e).hasValue(i)?s.getValue(i).set(a):s.addValue(i,Ud(a))}}function ev(t,e,n){var r=Object.keys(e).filter(function(e){return!t.hasValue(e)}),i=r.length;if(i)for(var a,o=0;o<i;o++){var s=r[o],l=e[s],u=null;null!=(u=null===(u=Array.isArray(l)?l[0]:u)?null!==(a=null!==(a=n[s])&&void 0!==a?a:t.readValue(s))&&void 0!==a?a:e[s]:u)&&("string"==typeof u&&(/^\-?\d*\.?\d+$/.test(u)||/^0[^.\s]+$/.test(u))?u=parseFloat(u):(a=u,!J0.find(Y0(a))&&zf.test(l)&&(u=Fp(s,l))),t.addValue(s,Ud(u)),null!==(l=n[s])&&void 0!==l||(n[s]=u),t.setBaseTarget(s,u))}}function tv(e,t,n){var r,i,a={};for(i in e)a[i]=null!==(r=function(e,t){if(t)return(t[e]||t.default||t).from}(i,t))&&void 0!==r?r:null===(r=n.getValue(i))||void 0===r?void 0:r.get();return a}function nv(i,a,o){var e=ud(i,a,(o=void 0===o?{}:o).custom),t=(e||{}).transition,s=void 0===t?i.getDefaultTransition()||{}:t;o.transitionOverride&&(s=o.transitionOverride);var n=e?function(){return rv(i,e,o)}:function(){return Promise.resolve()},r=null!==(l=i.variantChildren)&&void 0!==l&&l.size?function(e){var t=s.delayChildren,n=s.staggerChildren,r=s.staggerDirection;return function(e,n,r,t,i,a){void 0===r&&(r=0);void 0===t&&(t=0);void 0===i&&(i=1);var o=[],s=(e.variantChildren.size-1)*t,l=1===i?function(e){return(e=void 0===e?0:e)*t}:function(e){return s-(e=void 0===e?0:e)*t};return Array.from(e.variantChildren).sort(iv).forEach(function(e,t){o.push(nv(e,n,qh(qh({},a),{delay:r+l(t)})).then(function(){return e.notifyAnimationComplete(n)}))}),Promise.all(o)}(i,a,(void 0===t?0:t)+(e=void 0===e?0:e),n,r,o)}:function(){return Promise.resolve()},t=s.when;if(t){var l=Kh("beforeChildren"===t?[n,r]:[r,n],2),t=l[0],l=l[1];return t().then(l)}return Promise.all([n(),r(o.delay)])}function rv(e,t,n){var r=void 0===n?{}:n,i=r.delay,a=void 0===i?0:i,n=r.transitionOverride,i=r.type,r=e.makeTargetAnimatable(t),t=r.transition,o=void 0===t?e.getDefaultTransition():t,s=r.transitionEnd,l=Hh(r,["transition","transitionEnd"]);n&&(o=n);var u,c,h,d,f=[],p=i&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[i]);for(u in l){var m=e.getValue(u),g=l[u];!m||void 0===g||p&&(h=u,void 0,d=void 0,d=(c=p).protectedKeys,c=c.needsAnimating,d=d.hasOwnProperty(h)&&!0!==c[h],c[h]=!1,d)||(g=Gp(u,m,g,qh({delay:a},o)),f.push(g))}return Promise.all(f).then(function(){s&&Z0(e,s)})}function iv(e,t){return e.sortNodePosition(t)}var Tt=[c0.Animate,c0.InView,c0.Focus,c0.Hover,c0.Tap,c0.Drag,c0.Exit],av=$h([],Kh(Tt),!1).reverse(),ov=Tt.length;function sv(o){return function(e){return Promise.all(e.map(function(e){var t,n,r,i,a=e.animation,e=e.options;return n=a,void 0===(r=e)&&(r={}),(t=o).notifyAnimationStart(n),(Array.isArray(n)?(i=n.map(function(e){return nv(t,e,r)}),Promise.all(i)):"string"==typeof n?nv(t,n,r):(i="function"==typeof n?ud(t,n,r.custom):n,rv(t,i,r))).then(function(){return t.notifyAnimationComplete(n)})}))}}function lv(S){function x(e,t){var n=ud(S,t);return n&&(n.transition,t=n.transitionEnd,n=Hh(n,["transition","transitionEnd"]),e=qh(qh(qh({},e),n),t)),e}var e,i=sv(S),T=((e={})[c0.Animate]=uv(!0),e[c0.InView]=uv(),e[c0.Hover]=uv(),e[c0.Tap]=uv(),e[c0.Drag]=uv(),e[c0.Focus]=uv(),e[c0.Exit]=uv(),e),a={},I=!0;function o(m,g){for(var v,n,y=S.getProps(),b=S.getVariantContext(!0)||{},w=[],E=new Set,k={},C=1/0,e=function(e){var t=av[e],n=T[t],r=null!==(v=y[t])&&void 0!==v?v:b[t],i=sd(r),a=t===g?n.isActive:null;!1===a&&(C=e);var o=r===b[t]&&r!==y[t]&&i;if(o&&I&&S.manuallyAnimateOnMount&&(o=!1),n.protectedKeys=qh({},k),!n.isActive&&null===a||!r&&!n.prevProp||s0(r)||"boolean"==typeof r)return"continue";var s=function(e,t){{if("string"==typeof t)return t!==e;if(od(t))return!G0(t,e)}return!1}(n.prevProp,r),l=s||t===g&&n.isActive&&!o&&i||C<e&&i,i=Array.isArray(r)?r:[r],u=i.reduce(x,{});!1===a&&(u={});function c(e){l=!0,E.delete(e),n.needsAnimating[e]=!0}var h,a=n.prevResolvedValues,d=void 0===a?{}:a;for(h in qh(qh({},d),u)){var f=u[h],p=d[h];k.hasOwnProperty(h)||(f!==p?Ip(f)&&Ip(p)?!G0(f,p)||s?c(h):n.protectedKeys[h]=!0:void 0!==f?c(h):E.add(h):void 0!==f&&E.has(h)?c(h):n.protectedKeys[h]=!0)}n.prevProp=r,n.prevResolvedValues=u,n.isActive&&(k=qh(qh({},k),u)),(l=I&&S.blockInitialAnimation?!1:l)&&!o&&w.push.apply(w,$h([],Kh(i.map(function(e){return{animation:e,options:qh({type:t},m)}})),!1))},t=0;t<ov;t++)e(t);a=qh({},k),E.size&&(n={},E.forEach(function(e){var t=S.getBaseTarget(e);void 0!==t&&(n[e]=t)}),w.push({animation:n}));var r=Boolean(w.length);return I&&!1===y.initial&&!S.manuallyAnimateOnMount&&(r=!1),I=!1,r?i(w):Promise.resolve()}return{isAnimated:function(e){return void 0!==a[e]},animateChanges:o,setActive:function(t,n,e){var r;return T[t].isActive===n?Promise.resolve():(null!==(r=S.variantChildren)&&void 0!==r&&r.forEach(function(e){return null===(e=e.animationState)||void 0===e?void 0:e.setActive(t,n)}),T[t].isActive=n,o(e,t))},setAnimateFunction:function(e){i=e(S)},getState:function(){return T}}}function uv(e){return{isActive:e=void 0===e?!1:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var kf={animation:H0(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=lv(t)),s0(n)&&(0,S.useEffect)(function(){return n.subscribe(t)},[n])}),exit:H0(function(e){var n=e.custom,r=e.visualElement,e=Kh(W0(),2),i=e[0],a=e[1],o=(0,S.useContext)(td);(0,S.useEffect)(function(){var e;r.isPresent=i;var t=null===(e=r.animationState)||void 0===e?void 0:e.setActive(c0.Exit,!i,{custom:null!==(t=null==o?void 0:o.custom)&&void 0!==t?t:n});i||null==t||t.then(a)},[i])})},cv=(hv.prototype.updateHandlers=function(e){this.handlers=e},hv.prototype.end=function(){this.removeListeners&&this.removeListeners(),Td.update(this.updatePoint)},hv);function hv(e,t,n){var r,i=this,a=(void 0===n?{}:n).transformPagePoint;this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){var e,t,n,r;i.lastMoveEvent&&i.lastMoveEventInfo&&(e=pv(i.lastMoveEventInfo,i.history),t=null!==i.startEvent,n=3<=Em(e.offset,{x:0,y:0}),(t||n)&&(r=e.point,n=kd.timestamp,i.history.push(qh(qh({},r),{timestamp:n})),n=(r=i.handlers).onStart,r=r.onMove,t||(n&&n(i.lastMoveEvent,e),i.startEvent=i.lastMoveEvent),r&&r(i.lastMoveEvent,e)))},this.handlePointerMove=function(e,t){i.lastMoveEvent=e,i.lastMoveEventInfo=dv(t,i.transformPagePoint),m0(e)&&0===e.buttons?i.handlePointerUp(e,t):_d.update(i.updatePoint,!0)},this.handlePointerUp=function(e,t){i.end();var n=i.handlers,r=n.onEnd,n=n.onSessionEnd,t=pv(dv(t,i.transformPagePoint),i.history);i.startEvent&&r&&r(e,t),n&&n(e,t)},g0(e)&&1<e.touches.length||(this.handlers=t,this.transformPagePoint=a,n=(r=dv(y0(e),this.transformPagePoint)).point,a=kd.timestamp,this.history=[qh(qh({},n),{timestamp:a})],(t=t.onSessionStart)&&t(e,pv(r,this.history)),this.removeListeners=Wf(T0(window,"pointermove",this.handlePointerMove),T0(window,"pointerup",this.handlePointerUp),T0(window,"pointercancel",this.handlePointerUp)))}function dv(e,t){return t?{point:t(e.point)}:e}function fv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pv(e,t){e=e.point;return{point:e,delta:fv(e,mv(t)),offset:fv(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};var n=e.length-1,r=null,i=mv(e);for(;0<=n&&(r=e[n],!(i.timestamp-r.timestamp>1e3*t));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0==a)return{x:0,y:0};a={x:(i.x-r.x)/a,y:(i.y-r.y)/a};a.x===1/0&&(a.x=0);a.y===1/0&&(a.y=0);return a}(t,.1)}}function mv(e){return e[e.length-1]}function gv(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function vv(e,t){var n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=(e=Kh([r,n],2))[0],r=e[1]),{min:n,max:r}}function yv(e,t,n){return{min:bv(e,t),max:bv(e,n)}}function bv(e,t){return"number"==typeof e?e:null!==(t=e[t])&&void 0!==t?t:0}function wv(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Ev(e,t){return wv(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),e=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:e.y,right:e.x}}(e.getBoundingClientRect(),t))}var kv=new WeakMap,Cv=(Sv.prototype.start=function(e,t){var o=this,t=(void 0===t?{}:t).snapToCursor,n=void 0!==t&&t;!1!==this.visualElement.isPresent&&(this.panSession=new cv(e,{onSessionStart:function(e){o.stopAnimation(),n&&o.snapToCursor(y0(e,"page").point)},onStart:function(e,t){var n=o.getProps(),r=n.drag,i=n.dragPropagation,n=n.onDragStart;r&&!i&&(o.openGlobalLock&&o.openGlobalLock(),o.openGlobalLock=_0(r),!o.openGlobalLock)||(o.isDragging=!0,o.currentDirection=null,o.resolveConstraints(),o.visualElement.projection&&(o.visualElement.projection.isAnimationBlocked=!0,o.visualElement.projection.target=void 0),Km(function(e){var t,n=o.getAxisMotionValue(e).get()||0;!Cf.test(n)||(t=null===(t=null===(t=o.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===t?void 0:t.actual[e])&&(n=km(t)*(parseFloat(n)/100)),o.originPoint[e]=n}),null!=n&&n(e,t),null!==(t=o.visualElement.animationState)&&void 0!==t&&t.setActive(c0.Drag,!0))},onMove:function(e,t){var n=o.getProps(),r=n.dragPropagation,i=n.dragDirectionLock,a=n.onDirectionLock,n=n.onDrag;if(r||o.openGlobalLock){r=t.offset;if(i&&null===o.currentDirection)return o.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(r),void(null!==o.currentDirection&&null!=a&&a(o.currentDirection));o.updateAxis("x",t.point,r),o.updateAxis("y",t.point,r),o.visualElement.syncRender(),null!=n&&n(e,t)}},onSessionEnd:function(e,t){return o.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},Sv.prototype.stop=function(e,t){var n=this.isDragging;this.cancel(),n&&(n=t.velocity,this.startAnimation(n),null!=(n=this.getProps().onDragEnd)&&n(e,t))},Sv.prototype.cancel=function(){var e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null!==(e=this.panSession)&&void 0!==e&&e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null!==(e=this.visualElement.animationState)&&void 0!==e&&e.setActive(c0.Drag,!1)},Sv.prototype.updateAxis=function(e,t,n){var r,i,a,o=this.getProps().drag;n&&xv(e,o,this.currentDirection)&&(r=this.getAxisMotionValue(e),i=this.originPoint[e]+n[e],this.constraints&&this.constraints[e]&&(a=i,o=this.constraints[e],n=this.elastic[e],e=o.min,o=o.max,void 0!==e&&a<e?a=n?Pd(e,a,n.min):Math.max(a,e):void 0!==o&&o<a&&(a=n?Pd(o,a,n.max):Math.min(a,o)),i=a),r.set(i))},Sv.prototype.resolveConstraints=function(){var e,t,n,r,i=this,a=this.getProps(),o=a.dragConstraints,s=a.dragElastic,l=(this.visualElement.projection||{}).layout,u=this.constraints;o&&ad(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!o||!l)&&(e=l.actual,n=(t=o).top,r=o.left,a=o.bottom,t=o.right,{x:gv(e.x,r,t),y:gv(e.y,n,a)}),this.elastic=(!1===(s=void 0===(s=s)?.35:s)?s=0:!0===s&&(s=.35),{x:yv(s,"left","right"),y:yv(s,"top","bottom")}),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Km(function(e){var t,n;i.getAxisMotionValue(e)&&(i.constraints[e]=(t=l.actual[e],n=i.constraints[e],e={},void 0!==n.min&&(e.min=n.min-t.min),void 0!==n.max&&(e.max=n.max-t.min),e))})},Sv.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ad(t))return!1;var r=t.current;qd(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var r=(e=r,t=i.root,r=this.visualElement.getTransformPagePoint(),r=Ev(e,r),(t=t.scroll)&&(fm(r.x,t.x),fm(r.y,t.y)),r),i=(i=i.layout.actual,r=r,{x:vv(i.x,r.x),y:vv(i.y,r.y)});return n&&(n=n((n=(r=i).x,{top:(r=r.y).min,right:n.max,bottom:r.max,left:n.min})),this.hasMutatedConstraints=!!n,n&&(i=wv(n))),i},Sv.prototype.startAnimation=function(n){var r=this,e=this.getProps(),i=e.drag,a=e.dragMomentum,o=e.dragElastic,s=e.dragTransition,l=e.dragSnapToOrigin,t=e.onDragTransitionEnd,u=this.constraints||{},e=Km(function(e){if(xv(e,i,r.currentDirection)){var t=null!==(t=null===u?void 0:u[e])&&void 0!==t?t:{};l&&(t={min:0,max:0});t=qh(qh({type:"inertia",velocity:a?n[e]:0,bounceStiffness:o?200:1e6,bounceDamping:o?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},s),t);return r.startAxisValueAnimation(e,t)}});return Promise.all(e).then(t)},Sv.prototype.startAxisValueAnimation=function(e,t){return Gp(e,this.getAxisMotionValue(e),0,t)},Sv.prototype.stopAnimation=function(){var t=this;Km(function(e){return t.getAxisMotionValue(e).stop()})},Sv.prototype.getAxisMotionValue=function(e){var t="_drag"+e.toUpperCase(),t=this.visualElement.getProps()[t];return t||this.visualElement.getValue(e,null!==(e=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==e?e:0)},Sv.prototype.snapToCursor=function(i){var a=this;Km(function(e){var t,n,r;xv(e,a.getProps().drag,a.currentDirection)&&(n=a.visualElement.projection,t=a.getAxisMotionValue(e),n&&n.layout&&(n=(r=n.layout.actual[e]).min,r=r.max,t.set(i[e]-Pd(n,r,.5))))})},Sv.prototype.scalePositionWithinConstraints=function(){var a,o=this,e=this.getProps(),i=e.drag,t=e.dragConstraints,e=this.visualElement.projection;ad(t)&&e&&this.constraints&&(this.stopAnimation(),a={x:0,y:0},Km(function(e){var t,n,r,i=o.getAxisMotionValue(e);i&&(r=i.get(),a[e]=(t={min:r,max:r},n=o.constraints[e],i=.5,r=km(t),e=km(n),r<e?i=af(n.min,n.max-r,t.min):e<r&&(i=af(t.min,t.max-e,n.min)),Hd(0,1,i)))}),t=this.visualElement.getProps().transformTemplate,this.visualElement.getInstance().style.transform=t?t({},""):"none",null!==(t=e.root)&&void 0!==t&&t.updateScroll(),e.updateLayout(),this.resolveConstraints(),Km(function(e){var t,n,r;xv(e,i,null)&&(t=o.getAxisMotionValue(e),n=(r=o.constraints[e]).min,r=r.max,t.set(Pd(n,r,a[e])))}))},Sv.prototype.addListeners=function(){var e,r=this;kv.set(this.visualElement,this);function t(){ad(r.getProps().dragConstraints)&&(r.constraints=r.resolveRefConstraints())}var n=T0(this.visualElement.getInstance(),"pointerdown",function(e){var t=r.getProps(),n=t.drag,t=t.dragListener;n&&(void 0===t||t)&&r.start(e)}),i=this.visualElement.projection,a=i.addEventListener("measure",t);i&&!i.layout&&(null!==(e=i.root)&&void 0!==e&&e.updateScroll(),i.updateLayout()),t();var o=f0(window,"resize",function(){r.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(e){var n=e.delta,e=e.hasLayoutChanged;r.isDragging&&e&&(Km(function(e){var t=r.getAxisMotionValue(e);t&&(r.originPoint[e]+=n[e].translate,t.set(t.get()+n[e].translate))}),r.visualElement.syncRender())}),function(){o(),n(),a()}},Sv.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,t=e.dragConstraints,r=void 0!==t&&t,a=e.dragElastic,t=void 0===a?.35:a,a=e.dragMomentum,a=void 0===a||a;return qh(qh({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:r,dragElastic:t,dragMomentum:a})},Sv);function Sv(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fm(),this.visualElement=e}function xv(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var R={pan:H0(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,a=e.visualElement,e=t||n||r||i,o=(0,S.useRef)(null),s=(0,S.useContext)(Zh).transformPagePoint,l={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){o.current=null,r&&r(e,t)}};(0,S.useEffect)(function(){null!==o.current&&o.current.updateHandlers(l)}),I0(a,"pointerdown",e&&function(e){o.current=new cv(e,l,{transformPagePoint:s})}),O0(function(){return o.current&&o.current.end()})}),drag:H0(function(e){var t=e.dragControls,n=e.visualElement,r=pd(function(){return new Cv(n)});(0,S.useEffect)(function(){return t&&t.subscribe(r)},[r,t]),(0,S.useEffect)(function(){return r.addListeners()},[r])})},Tv=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Iv(e){var t=e.treeType,N=void 0===t?"":t,D=e.build,A=e.getBaseTarget,_=e.makeTargetAnimatable,P=e.measureViewportBox,L=e.render,R=e.readValueFromInstance,O=e.removeValueFromRenderState,M=e.sortNodePosition,F=e.scrapeMotionValuesFromProps;return function(e,n){var a=e.parent,o=e.props,t=e.presenceId,r=e.blockInitialAnimation,e=e.visualState;void 0===n&&(n={});var i,s,l,u,c,h=!1,d=e.latestValues,f=e.renderState,p=(s=Tv.map(function(){return new Md}),l={},u={clearAllListeners:function(){return s.forEach(function(e){return e.clear()})},updatePropListeners:function(i){Tv.forEach(function(e){var t,n="on"+e,r=i[n];null!==(t=l[e])&&void 0!==t&&t.call(l),r&&(l[e]=u[n](r))})}},s.forEach(function(n,e){u["on"+Tv[e]]=function(e){return n.add(e)},u["notify"+Tv[e]]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.notify.apply(n,$h([],Kh(e),!1))}}),u),m=new Map,g=new Map,v={},y=qh({},d);function b(){i&&h&&(w(),L(i,f,o.style,I.projection))}function w(){D(I,f,d,n,o)}function E(){p.notifyUpdate(d)}var k,C=F(o);for(k in C){var S=C[k];void 0!==d[k]&&Bd(S)&&S.set(d[k],!1)}var x=cd(o),T=hd(o),I=qh(qh({treeType:N,current:null,depth:a?a.depth+1:0,parent:a,children:new Set,presenceId:t,variantChildren:T?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==a?void 0:a.isMounted()),blockInitialAnimation:r,isMounted:function(){return Boolean(i)},mount:function(e){h=!0,i=I.current=e,I.projection&&I.projection.mount(e),T&&a&&!x&&(c=null==a?void 0:a.addVariantChild(I)),null!=a&&a.children.add(I),I.setProps(o)},unmount:function(){var e;null!==(e=I.projection)&&void 0!==e&&e.unmount(),Td.update(E),Td.render(b),g.forEach(function(e){return e()}),null!=c&&c(),null!=a&&a.children.delete(I),p.clearAllListeners(),i=void 0,h=!1},addVariantChild:function(e){var t,n=I.getClosestVariantNode();if(n)return null!==(t=n.variantChildren)&&void 0!==t&&t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return M&&N===e.treeType?M(I.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return T?I:null==a?void 0:a.getClosestVariantNode()},getLayoutId:function(){return o.layoutId},getInstance:function(){return i},getStaticValue:function(e){return d[e]},setStaticValue:function(e,t){return d[e]=t},getLatestValues:function(){return d},setVisibility:function(e){I.isVisible!==e&&(I.isVisible=e,I.scheduleRender())},makeTargetAnimatable:function(e,t){return _(I,e,o,t=void 0===t?!0:t)},measureViewportBox:function(){return P(i,o)},addValue:function(e,t){var n,r,i;I.hasValue(e)&&I.removeValue(e),m.set(e,t),d[e]=t.get(),n=e,r=(t=t).onChange(function(e){d[n]=e,o.onUpdate&&_d.update(E,!1,!0)}),i=t.onRenderRequest(I.scheduleRender),g.set(n,function(){r(),i()})},removeValue:function(e){var t;m.delete(e),null!==(t=g.get(e))&&void 0!==t&&t(),g.delete(e),delete d[e],O(e,f)},hasValue:function(e){return m.has(e)},getValue:function(e,t){var n=m.get(e);return void 0===n&&void 0!==t&&(n=Ud(t),I.addValue(e,n)),n},forEachValue:function(e){return m.forEach(e)},readValue:function(e){var t;return null!==(t=d[e])&&void 0!==t?t:R(i,e,n)},setBaseTarget:function(e,t){y[e]=t},getBaseTarget:function(e){if(A){var t=A(o,e);if(void 0!==t&&!Bd(t))return t}return y[e]}},p),{build:function(){return w(),f},scheduleRender:function(){_d.render(b,!1,!0)},syncRender:b,setProps:function(e){(e.transformTemplate||o.transformTemplate)&&I.scheduleRender(),o=e,p.updatePropListeners(e),v=function(e,t,n){for(var r in t){var i,a=t[r],o=n[r];Bd(a)?e.addValue(r,a):Bd(o)?e.addValue(r,Ud(a)):o!==a&&(e.hasValue(r)?(i=e.getValue(r)).hasAnimated||i.set(a):e.addValue(r,Ud(null!==(i=e.getStaticValue(r))&&void 0!==i?i:a)))}for(r in n)void 0===t[r]&&e.removeValue(r);return t}(I,F(o),v)},getProps:function(){return o},getVariant:function(e){var t;return null===(t=o.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return o.transition},getTransformPagePoint:function(){return o.transformPagePoint},getVariantContext:function(e){if(e=void 0===e?!1:e)return null==a?void 0:a.getVariantContext();if(!x){e=(null==a?void 0:a.getVariantContext())||{};return void 0!==o.initial&&(e.initial=o.initial),e}for(var t={},n=0;n<Dv;n++){var r=Nv[n],i=o[r];!sd(i)&&!1!==i||(t[r]=i)}return t}});return I}}var Nv=$h(["initial"],Kh(Tt),!1),Dv=Nv.length;function Av(e){return"string"==typeof e&&e.startsWith("var(--")}var _v=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var Pv=4;function Lv(e,t,n){qd((n=void 0===n?1:n)<=Pv,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var e=Kh((r=e,(r=_v.exec(r))?[(r=Kh(r,3))[1],r[2]]:[,]),2),r=e[0],e=e[1];if(r){r=window.getComputedStyle(t).getPropertyValue(r);return r?r.trim():Av(e)?Lv(e,t,n+1):e}}function Rv(e){return Fv.has(e)}function Ov(e,t){e.set(t,!1),e.set(t)}function Mv(e){return e===df||e===Sf}var Fv=new Set(["width","height","top","left","right","bottom","x","y"]),Vv=function(e){return Object.keys(e).some(Rv)};function jv(e,t){return parseFloat(e.split(", ")[t])}function Uv(r,i){return function(e,t){var n=t.transform;if("none"===n||!n)return 0;t=n.match(/^matrix3d\((.+)\)$/);if(t)return jv(t[1],i);n=n.match(/^matrix\((.+)\)$/);return n?jv(n[1],r):0}}var Bv=new Set(["x","y","z"]),zv=Gm.filter(function(e){return!Bv.has(e)});var qv={width:function(e,t){var n=e.x,e=t.paddingLeft,t=t.paddingRight,t=void 0===t?"0":t;return n.max-n.min-parseFloat(void 0===e?"0":e)-parseFloat(t)},height:function(e,t){var n=e.y,e=t.paddingTop,t=t.paddingBottom,t=void 0===t?"0":t;return n.max-n.min-parseFloat(void 0===e?"0":e)-parseFloat(t)},top:function(e,t){t=t.top;return parseFloat(t)},left:function(e,t){t=t.left;return parseFloat(t)},bottom:function(e,t){e=e.y,t=t.top;return parseFloat(t)+(e.max-e.min)},right:function(e,t){e=e.x,t=t.left;return parseFloat(t)+(e.max-e.min)},x:Uv(4,13),y:Uv(5,14)},Hv=function(h,d,f,p){void 0===f&&(f={}),void 0===p&&(p={}),d=qh({},d),p=qh({},p);var e=Object.keys(d).filter(Rv),m=[],g=!1,v=[];if(e.forEach(function(e){var t=h.getValue(e);if(h.hasValue(e)){var n,r,i,a=f[e],o=Q0(a),s=d[e];if(Ip(s))for(var l=s.length,u=null===s[0]?1:0,a=s[u],o=Q0(a),c=u;c<l;c++)n?qd(Q0(s[c])===n,"All keyframes must be of the same type"):(n=Q0(s[c]),qd(n===o||Mv(o)&&Mv(n),"Keyframes must be of the same dimension as the current value"));else n=Q0(s);o!==n&&(Mv(o)&&Mv(n)?("string"==typeof(u=t.get())&&t.set(parseFloat(u)),"string"==typeof s?d[e]=parseFloat(s):Array.isArray(s)&&n===Sf&&(d[e]=s.map(parseFloat))):null!=o&&o.transform&&null!=n&&n.transform&&(0===a||0===s)?0===a?t.set(n.transform(a)):d[e]=o.transform(s):(g||(r=h,i=[],zv.forEach(function(e){var t=r.getValue(e);void 0!==t&&(i.push([e,t.get()]),t.set(e.startsWith("scale")?1:0))}),i.length&&r.syncRender(),m=i,g=!0),v.push(e),p[e]=(void 0!==p[e]?p:d)[e],Ov(t,s)))}}),v.length){e=function(n,r,e){var t=r.measureViewportBox(),i=r.getInstance(),a=getComputedStyle(i),i=a.display,o={};"none"===i&&r.setStaticValue("display",n.display||"block"),e.forEach(function(e){o[e]=qv[e](t,a)}),r.syncRender();var s=r.measureViewportBox();return e.forEach(function(e){var t=r.getValue(e);Ov(t,o[e]),n[e]=qv[e](s,a)}),n}(d,h,v);return m.length&&m.forEach(function(e){var t=Kh(e,2),e=t[0],t=t[1];h.getValue(e).set(t)}),h.syncRender(),{target:e,transitionEnd:p}}return{target:d,transitionEnd:p}};function Wv(e,t,n,r){var i=function(e,t,n){var r,i=Hh(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(r in n=n&&qh({},n),e.forEachValue(function(e){var t=e.get();!Av(t)||(t=Lv(t,a))&&e.set(t)}),i){var o,s=i[r];Av(s)&&((o=Lv(s,a))&&(i[r]=o,n&&(null!==(o=n[r])&&void 0!==o||(n[r]=s))))}return{target:i,transitionEnd:n}}(e,t,r);return t=i.target,r=i.transitionEnd,e=e,n=n,r=r,Vv(t=t)?Hv(e,t,n,r):{target:t,transitionEnd:r}}function Kv(e,t){return Pg(e)?Gv(t,{enableHardwareAcceleration:!1}):$v(t,{enableHardwareAcceleration:!0})}var xf={treeType:"dom",readValueFromInstance:function(e,t){if(Xm(t)){var n=Mp(t);return n&&n.default||0}e=window.getComputedStyle(e);return(Og(t)?e.getPropertyValue(t):e[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){return null===(e=e.style)||void 0===e?void 0:e[t]},measureViewportBox:function(e,t){return Ev(e,t.transformPagePoint)},resetTransform:function(e,t,n){n=n.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,t=t.style;delete n[e],delete t[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,n=Hh(t,["transition","transitionEnd"]),t=tv(n,a||{},e);return i&&(o=o&&i(o),n=n&&i(n),t=t&&i(t)),r&&(ev(e,n,t),o=(t=Wv(e,n,t,o)).transitionEnd,n=t.target),qh({transition:a,transitionEnd:o},n)},scrapeMotionValuesFromProps:a0,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Fg(t,n,r,i.transformTemplate)},render:n0},$v=Iv(xf),Gv=Iv(qh(qh({},xf),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Xm(t)?(null===(n=Mp(t))||void 0===n?void 0:n.default)||0:(t=r0.has(t)?t:Zg(t),e.getAttribute(t))},scrapeMotionValuesFromProps:o0,build:function(e,t,n,r,i){Qg(t,n,r,i.transformTemplate)},render:i0}));function Qv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Yv,Tt={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!Sf.test(e))return e;e=parseFloat(e)}var n=Qv(e,t.target.x),t=Qv(e,t.target.y);return"".concat(n,"% ").concat(t,"%")}},xf={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(_v,function(e){return o.push(e),"_$css"}));var s=zf.parse(e);if(5<s.length)return i;t=zf.createTransformer(e),i="number"!=typeof s[0]?1:0,e=r.x.scale*n.x,n=r.y.scale*n.y;s[0+i]/=e,s[1+i]/=n;n=Pd(e,n,.5);"number"==typeof s[2+i]&&(s[2+i]/=n),"number"==typeof s[3+i]&&(s[3+i]/=n);var l,s=t(s);return a&&(l=0,s=s.replace("_$css",function(){var e=o[l];return l++,e})),s}},Xv=(zh(Jv,Yv=S.Component),Jv.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.visualElement,r=t.layoutGroup,i=t.switchLayoutGroup,t=t.layoutId,n=n.projection;Object.assign(qm,Zv),n&&(null!=r&&r.group&&r.group.add(n),null!=i&&i.register&&t&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",function(){e.safeToRemove()}),n.setOptions(qh(qh({},n.options),{onExitComplete:function(){return e.safeToRemove()}}))),ig.hasEverUpdated=!0},Jv.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,n=n.isPresent,o=i.projection;return o&&(o.isPresent=n,a||e.layoutDependency!==r||void 0===r?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||_d.postRender(function(){var e;null!==(e=o.getStack())&&void 0!==e&&e.members.length||t.safeToRemove()}))),null},Jv.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},Jv.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,e=e.switchLayoutGroup,t=t.projection;t&&(t.scheduleCheckAfterUnmount(),null!=n&&n.group&&n.group.remove(t),null!=e&&e.deregister&&e.deregister(t))},Jv.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null!=e&&e()},Jv.prototype.render=function(){return null},Jv);function Jv(){return null!==Yv&&Yv.apply(this,arguments)||this}var Zv={borderRadius:qh(qh({},Tt),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomLeftRadius:Tt,borderBottomRightRadius:Tt,boxShadow:xf},xf={measureLayout:function(e){var t=(r=Kh(W0(),2))[0],n=r[1],r=(0,S.useContext)(Sg);return S.createElement(Xv,qh({},e,{layoutGroup:r,switchLayoutGroup:(0,S.useContext)(xg),isPresent:t,safeToRemove:n}))}},ey=ag({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),ty={current:void 0},ny=ag({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){var e;return ty.current||((e=new ey(0,{})).mount(window),e.setOptions({layoutScroll:!0}),ty.current=e),ty.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"}}),ry=qh(qh(qh(qh({},kf),xd),R),xf),iy=Ag(function(e,t){return n=e,r=ry,i=Kv,a=ny,e=void 0!==(t=(e=t).forwardMotionProps)&&t,t=Pg(n)?h0:d0,qh(qh({},t),{preloadedFeatures:r,useRender:Jg(e),createVisualElement:i,projectionNodeConstructor:a,Component:n});var n,r,i,a});const ay=({handleClick:e,active:t,icon:n,title:r})=>S.createElement(iy.button,{onClick:e,whileTap:{scale:.93},className:"btet5v4"+(t?" active":"")},n,S.createElement("span",null,r));kb(632);const oy=e=>{const t=(0,S.useContext)(Oh).setStatusBar,n=(0,S.useRef)(null);return(0,S.useEffect)(()=>{setTimeout(()=>{n.current.animate([{transform:"translateY(0)"},{transform:"translateY(100%)"}],{duration:200,fill:"forwards"}).onfinish=()=>{t(!1)}},2e3)},[]),S.createElement("div",{className:"se0cvcg",ref:n},"sucsess"===e.type&&S.createElement("i",{className:"fas fa-check-circle sucsess"}),S.createElement("div",{className:"title"},e.title))};kb(350);const sy=({activeTab:e,setActiveTab:t,statusBar:n})=>S.createElement(S.Fragment,null,n&&S.createElement(oy,{title:n.title,type:n.type}),S.createElement("div",{className:"t1b6vpgv"},S.createElement(ay,{title:"",icon:S.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 28 28"},S.createElement("path",{d:"M15.1295491,2.69100093 L24.0662484,11.1808652 C24.6624397,11.747247 25,12.53353 25,13.3558635 L25,21.9972407 C25,23.3779526 23.8807119,24.4972407 22.5,24.4972407 L16.5,24.4972407 C15.9477153,24.4972407 15.5,24.0495254 15.5,23.4972407 L15.5,17.9971013 C15.5,17.1686742 14.8284271,16.4971013 14,16.4971013 C13.1715729,16.4971013 12.5,17.1686742 12.5,17.9971013 L12.5,23.4972407 C12.5,24.0495254 12.0522847,24.4972407 11.5,24.4972407 L5.5,24.4972407 C4.11928813,24.4972407 3,23.3779526 3,21.9972407 L3,13.3558635 C3,12.53353 3.33756025,11.747247 3.93375161,11.1808652 L12.8704509,2.69100093 C13.5034346,2.08966636 14.4965654,2.08966636 15.1295491,2.69100093 Z M14,4.37655211 L5.31125054,12.6308641 C5.11252008,12.819658 5,13.0817523 5,13.3558635 L5,21.9972407 C5,22.2733831 5.22385763,22.4972407 5.5,22.4972407 L10.5,22.4972407 L10.5,17.9971013 C10.5,16.0641047 12.0670034,14.4971013 14,14.4971013 C15.9329966,14.4971013 17.5,16.0641047 17.5,17.9971013 L17.5,22.4972407 L22.5,22.4972407 C22.7761424,22.4972407 23,22.2733831 23,21.9972407 L23,13.3558635 C23,13.0817523 22.8874799,12.819658 22.6887495,12.6308641 L14,4.37655211 Z",fill:"currentColor"})),handleClick:()=>t(1),active:1==e}),S.createElement(ay,{title:"",icon:S.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},S.createElement("path",{d:"M20.5216013,18.9659665 L24.2778174,22.7221826 C24.7073941,23.1517593 24.7073941,23.8482407 24.2778174,24.2778174 C23.8482407,24.7073941 23.1517593,24.7073941 22.7221826,24.2778174 L18.9659665,20.5216013 C17.3277266,21.8227597 15.2546304,22.5999999 13,22.5999999 C7.69806645,22.5999999 3.4000001,18.3019335 3.4000001,13 C3.4000001,7.69806645 7.69806645,3.4000001 13,3.4000001 C18.3019335,3.4000001 22.5999999,7.69806645 22.5999999,13 C22.5999999,15.2546304 21.8227597,17.3277266 20.5216013,18.9659665 Z M13,20.4000001 C17.0869072,20.4000001 20.4000001,17.0869072 20.4000001,13 C20.4000001,8.9130928 17.0869072,5.5999999 13,5.5999999 C8.9130928,5.5999999 5.5999999,8.9130928 5.5999999,13 C5.5999999,17.0869072 8.9130928,20.4000001 13,20.4000001 Z",fill:"currentColor"})),handleClick:()=>t(2),active:2==e}),S.createElement(ay,{title:"",icon:S.createElement("svg",{width:"32",height:"32",viewBox:"0 0 28 28"},S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4275 6.04347C13.0109 5.09342 14.9891 5.09342 16.5725 6.04346L23.2541 10.0524C23.5849 10.2509 23.5758 10.7333 23.2378 10.9192L16.4098 14.6748C14.9094 15.5001 13.091 15.5001 11.5905 14.6748L4.76228 10.9192C4.42426 10.7333 4.4152 10.2509 4.746 10.0524L11.4275 6.04347ZM17.6015 4.32847L24.2831 8.33741C25.9371 9.32979 25.8918 11.7421 24.2017 12.6717L17.3737 16.4272C15.2731 17.5826 12.7273 17.5826 10.6267 16.4272L3.79844 12.6717C2.10834 11.7421 2.06301 9.3298 3.717 8.3374L10.3985 4.32848C12.6153 2.99842 15.3847 2.99841 17.6015 4.32847Z",fill:"currentColor"}),S.createElement("path",{d:"M23.4999 10.5001C23.4999 9.94784 23.9476 9.50013 24.4999 9.50013C25.0521 9.50013 25.4999 9.94784 25.4999 10.5001V15.5001C25.4999 16.0524 25.0521 16.5001 24.4999 16.5001C23.9476 16.5001 23.4999 16.0524 23.4999 15.5001V10.5001Z",fill:"currentColor"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99985 13.0001V18.0001C7.99985 20.7616 10.2384 23.0001 12.9998 23.0001H14.9998C17.7613 23.0001 19.9998 20.7616 19.9998 18.0001V13.0001H21.9998V18.0001C21.9998 21.8661 18.8658 25.0001 14.9998 25.0001H12.9998C9.13386 25.0001 5.99985 21.8661 5.99985 18.0001V13.0001H7.99985Z",fill:"currentColor"})),handleClick:()=>t(3),active:3==e}),S.createElement(ay,{title:"",icon:S.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},S.createElement("path",{d:"M19,1 C19.5522847,1 20,1.44771525 20,2 L20.0007134,3.15981736 C20.840564,3.29343733 21.3843149,3.50927527 21.9305371,3.80139811 C22.9083149,4.32431939 23.6756806,5.09168511 24.1986019,6.06946289 C24.6736814,6.9577844 24.9469986,7.83956959 24.9930333,9.99907027 L25,10 L25,17.3083444 L24.9946707,17.9183846 C24.9538793,20.1381287 24.6796895,21.0309816 24.1986019,21.9305371 C23.6756806,22.9083149 22.9083149,23.6756806 21.9305371,24.1986019 C20.9527593,24.7215232 19.9829006,25 17.3083444,25 L10.6916556,25 L10.0816154,24.9946707 C7.8618713,24.9538793 6.96901844,24.6796895 6.06946289,24.1986019 C5.09168511,23.6756806 4.32431939,22.9083149 3.80139811,21.9305371 C3.29939368,20.9918704 3.02266926,20.060502 3.00133451,17.6212182 L3,10.6916556 L3,10 C3.05300141,7.83956959 3.32631857,6.9577844 3.80139811,6.06946289 C4.32431939,5.09168511 5.09168511,4.32431939 6.06946289,3.80139811 C6.61590733,3.50915642 7.15987843,3.29326172 8.00031181,3.15965432 L8,2 C8,1.44771525 8.44771525,1 9,1 C9.55228475,1 10,1.44771525 10,2 L9.99907027,3.00696674 C10.2165376,3.00233094 10.4469622,3 10.6916556,3 L17.3083444,3 C17.5534172,3 17.7841769,3.00233817 18.0019411,3.00698832 L18,2 C18,1.44771525 18.4477153,1 19,1 Z M22.999,12 L5,12 L5.0009221,17.591291 L5.00977072,18.1601475 C5.04864664,19.667315 5.20790244,20.3195792 5.56502451,20.9873394 C5.90154619,21.6165802 6.38341978,22.0984538 7.01266061,22.4349755 C7.75898085,22.8341119 8.48594441,22.9860867 10.408709,22.9990779 L17.591291,22.9990779 L18.1601475,22.9902293 C19.667315,22.9513534 20.3195792,22.7920976 20.9873394,22.4349755 C21.6165802,22.0984538 22.0984538,21.6165802 22.4349755,20.9873394 C22.8341119,20.2410191 22.9860867,19.5140556 22.9990779,17.591291 L22.999,12 Z M19.0460121,17 C19.478797,17 19.8195548,17.0812224 20.10474,17.2337411 C20.3899252,17.3862598 20.6137402,17.6100748 20.7662589,17.89526 C20.9187776,18.1804452 21,18.521203 21,18.9539879 L21,19.0460121 C21,19.478797 20.9187776,19.8195548 20.7662589,20.10474 C20.6137402,20.3899252 20.3899252,20.6137402 20.10474,20.7662589 C19.8195548,20.9187776 19.478797,21 19.0460121,21 L18.9539879,21 C18.521203,21 18.1804452,20.9187776 17.89526,20.7662589 C17.6100748,20.6137402 17.3862598,20.3899252 17.2337411,20.10474 C17.0812224,19.8195548 17,19.478797 17,19.0460121 L17,18.9539879 C17,18.521203 17.0812224,18.1804452 17.2337411,17.89526 C17.3862598,17.6100748 17.6100748,17.3862598 17.89526,17.2337411 C18.1804452,17.0812224 18.521203,17 18.9539879,17 L19.0460121,17 Z M17.591291,5.0009221 L10.408709,5.0009221 L10,5.006 L10,6 C10,6.55228475 9.55228475,7 9,7 C8.44771525,7 8,6.55228475 8,6 L7.99925005,5.19251184 C7.618557,5.28042372 7.31722055,5.40214407 7.01266061,5.56502451 C6.38341978,5.90154619 5.90154619,6.38341978 5.56502451,7.01266061 C5.19560369,7.70341749 5.03791225,8.37759259 5.00617938,9.99864362 L22.993,10 L22.9902293,9.83985252 C22.9513534,8.33268497 22.7920976,7.68042082 22.4349755,7.01266061 C22.0984538,6.38341978 21.6165802,5.90154619 20.9873394,5.56502451 C20.6828516,5.40218264 20.3815857,5.28048136 20.0010204,5.1925743 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 L18.0023619,5.00619909 C17.8716635,5.00363578 17.7348083,5.00189178 17.591291,5.0009221 Z",fill:"currentColor"})),handleClick:()=>t(5),active:5==e})));kb(771);const ly=()=>{const e=new Date;var t=e.getDay();return{dayNum:t,isWeekend:0==t||6==t}};const uy=()=>{const[t,n]=(0,S.useState)(ly());return(0,S.useEffect)(()=>{const e=setInterval(()=>{var e=ly();e.dayNum!==t.dayNum&&n(e)},1e3);return()=>clearInterval(e)},[]),t};const cy=r=>{const[i,a]=(0,S.useState)({});return(e,t,n)=>{r.current.animate([i,e],{duration:t.duration??500,fill:t.fill??"forwards",easing:t.easing??"ease-in-out"}).onfinish=n,a(e)}};var hy=kb(852);const dy=(0,S.forwardRef)(function(e,t){return(0,n.createPortal)(S.createElement(S.Fragment,null,e.children,S.createElement("div",{ref:t,onClick:e.onClick,className:e.active?"backdrop":""})),document.getElementById("modals-container"))});var fy=null;const py=t=>{const n=(0,S.useRef)(null),e=(0,S.useRef)(null);var r=(0,hy.useMediaQuery)({query:"(min-width: 700px) and (orientation: landscape)"})&&"split"==t.direction;const i=cy(n),[a,o]=(0,S.useState)(!0),[s,l]=(0,S.useState)(null);(0,S.useEffect)(()=>{e.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"})},[]);const u=()=>{t.direction&&"bottom"!==t.direction&&"split"!==t.direction&&"bottom-wide"!==t.direction?i({transform:"translateX(100%)"},{duration:220,easing:"ease-in"},t.handleClose):i({transform:"translateY(100vh) "+("left"==s?"translateX(-50%)":"right"==s?"translateX(50%)":"")},{duration:220,easing:"ease-in"},t.handleClose),e.current.animate([{opacity:1},{opacity:0}],{duration:320,fill:"forwards",easing:"ease-in-out"}),document.getElementById("modals-container").childElementCount<=2?document.body.classList.remove("mini-left","mini-right"):"left"==s?(document.body.classList.remove("mini-right"),document.body.classList.add("mini-left")):"right"==s&&(document.body.classList.remove("mini-left"),document.body.classList.add("mini-right"))};function c(e){n.current.style.width="50vw",i({transform:`translateX(${"left"==e?"-50%":"50%"})`,borderRadius:0,top:0},{duration:300,easing:"ease-out"}),document.getElementById("modals-container").childElementCount<=2&&(document.body.classList.remove("mini-left","mini-right"),document.body.classList.add("right"==e?"mini-left":"mini-right")),o(!1),l(e)}return S.createElement(dy,{active:a,ref:e,onClick:u},S.createElement("div",{ref:n,onTouchStart:t.scrollContainer?e=>{fy=e.touches[0].clientY}:null,onTouchMove:t.scrollContainer?e=>{null!=fy&&(e=e.touches[0].clientY,fy-e<-8&&0==t.scrollContainer.current.scrollTop&&u(),fy=null)}:null,className:"adaptive-panel"+("right"==t.direction?" fullscreen-right":" bottom")+("bottom-wide"==t.direction?" wide":"")},S.createElement("header",{style:{background:r||"right"==t.direction?"":"none"},className:"right"==t.direction?"fullscreen":""},r&&"left"!=s&&S.createElement("button",{className:"split-left",onClick:()=>c("left")},S.createElement("i",{className:"fas fa-caret-left"})),r&&"right"!=s&&S.createElement("button",{className:"split-right",onClick:()=>c("right")},S.createElement("i",{className:"fas fa-caret-right"})),"right"!==t.direction&&S.createElement("button",{className:"close",onClick:u},S.createElement("i",{className:"fa-solid fa-xmark"})),"right"==t.direction&&S.createElement("button",{className:"close-fullscreen",onClick:u},S.createElement("svg",{width:"44",height:"44",viewBox:"0 0 28 28",fill:"currentColor"},S.createElement("path",{d:"M8.34863 13.6543C8.34863 13.9619 8.46289 14.2256 8.70898 14.4541L15.5469 21.1514C15.7402 21.3447 15.9863 21.4502 16.2764 21.4502C16.8564 21.4502 17.3223 20.9932 17.3223 20.4043C17.3223 20.1143 17.1992 19.8594 17.0059 19.6572L10.8447 13.6543L17.0059 7.65137C17.1992 7.44922 17.3223 7.18555 17.3223 6.9043C17.3223 6.31543 16.8564 5.8584 16.2764 5.8584C15.9863 5.8584 15.7402 5.96387 15.5469 6.15723L8.70898 12.8457C8.46289 13.083 8.34863 13.3467 8.34863 13.6543Z"}))),"right"==t.direction&&S.createElement("div",{className:"header-title"},t.headerTitle)),t.children))};const my=({subjectInfo:t,startNum:e,onClose:n})=>{const[r,i]=(0,S.useState)(e);e=(0,S.useMemo)(()=>function(t,n){const r=[];if(t.section){const o=t.url.replace("*",n-(""==t.title?1:0));for(let e=1;e<10;e++){var i=o.replace("?",e);r.push(S.createElement("img",{key:i,src:i,width:"100%",onError:e=>e.target.style.display="none"}))}}else{var e=t.url.replace("?",n);if(r.push(S.createElement("img",{key:e,src:e,width:"100%",onError:e=>e.target.style.display="none"})),!t.full_img)for(let e=1;e<4;e++){var a=t.url.replace("?",n+"_"+e);r.push(S.createElement("img",{key:a,src:a,width:"100%",onError:e=>e.target.style.display="none"}))}}return r}(t,r),[t,r]);return S.createElement(S.Fragment,null,S.createElement("div",{className:"hwr-sol-tools"},t.alt_url&&S.createElement("button",{className:"alt-btn block",onClick:()=>{var e=t.alt_url.replace("?",t.section&&""==t.title?r+2:r);window.open(e,"_blank")}}," 2"),S.createElement("div",{className:"center-section block"},S.createElement("button",{onClick:()=>i(r-1)},S.createElement("i",{className:"fas fa-chevron-left fa-lg"})),S.createElement("button",{className:"num"},r),S.createElement("button",{onClick:()=>i(r+1)},S.createElement("i",{className:"fas fa-chevron-right fa-lg"}))),n&&S.createElement("button",{className:"block close-btn",onClick:n},S.createElement("i",{className:"fas fa-times fa-lg"}))),S.createElement("div",{className:"hwr-sol-imgs"},e))};const gy=({subjectInfo:n,toOpen:e,hwRaw:t})=>{const r=[];e.forEach((e,t)=>{e&&r.push(S.createElement(my,{key:t,subjectInfo:n,startNum:e}))});e={backgroundColor:n.color};return S.createElement(S.Fragment,null,S.createElement("div",{className:"sol-subj"},S.createElement("div",{className:"title block",style:e},n.title),S.createElement("div",{className:"homework block"},t)),S.createElement("div",{className:"sol-content"},r))};const vy=e=>{var t,n=(0,S.useContext)(Rh),r=(0,S.useRef)(null);const i=[];for(t in e.lessonsData){const s=e.lessonsData[t];var a,o=n[s.id];o.url&&(a=s.hw.replace(/ *\([^)]*\) */g,"").split(",").map(e=>parseInt(e.replace(/\D/g,""))),i.push(S.createElement(gy,{key:s.id,subjectInfo:o,toOpen:a,hwRaw:s.hw})))}return S.createElement(py,{handleClose:e.handleClose,direction:"split",scrollContainer:r},S.createElement("div",{className:"scroll-content hw-re",ref:r},i))},yy=()=>{const t=(0,S.useContext)(Oh).database.timetable;return e=>{!function(e,t,n,r){e=Ac(e,Lc);var i=Ac(e.firestore,Uc),a=th(i);let o;o="string"==typeof(t=d(t))||t instanceof Wc?lh(a,"updateDoc",e._key,t,n,r):sh(a,"updateDoc",e._key,t),_h(i,[o.toMutation(e._key,Va.exists(!0))])}(t,e,void 0,[])}},by={modal:"_7pWbXN9zgeDQ8AkE41oU","modal-in":"VLHTo0EcIi8haxHxJXvJ",inputField:"eBZaDptD9RKfW984ZZt2",actionButtons:"wzw105nRQKy24P4OFvYR"};function wy(){return(wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const Ey=S.useLayoutEffect;const ky=function(e){var t=(0,S.useRef)(e);return Ey(function(){t.current=e}),t};function Cy(e,t){"function"!=typeof e?e.current=t:e(t)}const Sy=function(t,n){var r=(0,S.useRef)();return(0,S.useCallback)(function(e){t.current=e,r.current&&Cy(r.current,null),(r.current=n)&&Cy(n,e)},[n])};var xy={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Ty=function(t){Object.keys(xy).forEach(function(e){t.style.setProperty(e,xy[e],"important")})},Iy=null,Ny=function(e,t){e=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?e+t.borderSize:e-t.paddingSize};function Dy(){}function Ay(e){var t=ky(e);(0,S.useLayoutEffect)(function(){function e(e){t.current(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])}var _y=function(e,n){return e.reduce(function(e,t){return e[t]=n[t],e},{})},Py=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Ly=!!document.documentElement.currentStyle;const Ry=(0,S.forwardRef)(function(e,t){var r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,n=e.onChange,o=void 0===n?Dy:n,n=e.onHeightChange,s=void 0===n?Dy:n,e=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);function l(){var e,t=c.current,n=r&&d.current?d.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;e=_y(Py,t),t=e.boxSizing;return""===t?null:(Ly&&"border-box"===t&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px"),{sizingStyle:e,paddingSize:parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),borderSize:parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth)})}(t);n&&(n=(e=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Iy||((Iy=document.createElement("textarea")).setAttribute("tabindex","-1"),Iy.setAttribute("aria-hidden","true"),Ty(Iy)),null===Iy.parentNode&&document.body.appendChild(Iy);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;return Object.keys(o).forEach(function(e){Iy.style[e]=o[e]}),Ty(Iy),Iy.value=t,t=Ny(Iy,e),Iy.value="x",e=Iy.scrollHeight-i,n*=e,"border-box"===s&&(n=n+i+a),t=Math.max(n,t),r*=e,"border-box"===s&&(r=r+i+a),[Math.min(r,t),e]}(d.current=n,t.value||t.placeholder||"x",a,i))[0],e=e[1],h.current!==n&&(h.current=n,t.style.setProperty("height",n+"px","important"),s(n,{rowHeight:e})))}var u=void 0!==e.value,c=(0,S.useRef)(null),t=Sy(c,t),h=(0,S.useRef)(0),d=(0,S.useRef)();return(0,S.useLayoutEffect)(l),Ay(l),(0,S.createElement)("textarea",wy({},e,{onChange:function(e){u||l(),o(e)},ref:t}))});const Oy=(e,t)=>{const[n,r]=(0,S.useState)(()=>((e,t)=>{e=localStorage.getItem(e);return e?JSON.parse(e):t})(e,t));return(0,S.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(n))},[n]),[n,r]};const My=e=>S.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 19 19",fill:"currentColor"},S.createElement("path",{d:"M9.49165 18.4297C14.2259 18.4297 18.1335 14.3164 18.1335 9.3418C18.1335 4.36719 14.2175 0.253906 9.4833 0.253906C4.75742 0.253906 0.858154 4.36719 0.858154 9.3418C0.858154 14.3164 4.76577 18.4297 9.49165 18.4297ZM5.45043 9.35059C5.45043 8.83203 5.80113 8.47168 6.2854 8.47168H8.66503V5.9668C8.66503 5.45703 8.99903 5.09668 9.47495 5.09668C9.96759 5.09668 10.3099 5.45703 10.3099 5.9668V8.47168H12.6979C13.1738 8.47168 13.5245 8.83203 13.5245 9.35059C13.5245 9.8516 13.1738 10.2119 12.6979 10.2119H10.3099V12.7168C10.3099 13.2178 9.96759 13.5869 9.47495 13.5869C8.99903 13.5869 8.66503 13.2178 8.66503 12.7168V10.2119H6.2854C5.80113 10.2119 5.45043 9.8516 5.45043 9.35059Z"}));let Fy=null;const Vy=(0,S.memo)(({setValue:r,focusOnTextarea:t})=>{const[e,i]=Oy("shortcuts",["(",")","","","","WB",""]);var n=e.map((n,e)=>{return S.createElement(iy.button,{key:e,className:"symbol",onClick:t,onPointerDown:()=>Fy=Date.now(),onPointerUp:()=>{var t;Fy&&(400<=Date.now()-Fy?(t=n,confirm(" "+t+"?")&&setTimeout(()=>{i(e=>e.filter(e=>e!==t))},30)):r(e=>e+n+" ")),Fy=null},whileTap:{scale:.9,filter:"brightness(1.6)"}},n)});return S.createElement("div",{className:"s1sqdyct"},n,S.createElement("button",{className:"symbol addBtn",onClick:()=>{const t=prompt("    '   '");t&&i(e=>[...e,t])}},S.createElement(My,{width:20,height:20})))});kb(508);const jy=({subject:e,date:t})=>S.createElement("header",{className:"sfkf68v"},S.createElement("div",{className:"subject",style:{backgroundColor:e.color}},e.full_title||e.title),S.createElement("div",{className:"date"},S.createElement("i",{className:"fas fa-calendar-day"}),t));kb(442);const Uy=({checked:e,onChange:t})=>S.createElement("label",{className:"ios7-switch"},S.createElement("input",{type:"checkbox",checked:e,onChange:t}),S.createElement("span",null));const By=({danger:e,handleDangerChange:t})=>S.createElement("div",{className:"sjgnw6i"},S.createElement("i",{className:"fas fa-exclamation-circle"}),S.createElement("span",null,",     /  "),S.createElement("div",{className:"checkbox"},S.createElement(Uy,{checked:e,onChange:t})));kb(464);const zy=({handleClose:e,handleSave:t,initialValue:n,lesson:r,handleDangerChange:i,date:a})=>{const o=(0,S.useContext)(Rh)[r.id],s=(0,S.useRef)(null),l=(0,S.useRef)(null),u=(0,S.useRef)(null),[c,h]=(0,S.useState)(n);(0,S.useEffect)(()=>{s.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"})},[]);const d=()=>{u.current.focus()},f=()=>{l.current&&s.current&&(l.current.animate([{transform:"translateY(0)"},{transform:"translateY(-100%)"}],{duration:500,fill:"forwards",easing:"cubic-bezier(0.38, 0.7, 0.125, 1)"}).onfinish=e,s.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"forwards"}))};return S.createElement(dy,{active:!0,ref:s,onClick:f},S.createElement("div",{className:by.modal,ref:l},S.createElement(jy,{subject:o,date:a}),S.createElement(Ry,{ref:u,autoFocus:!0,value:c,className:by.inputField,onChange:e=>{h(e.target.value)},spellCheck:"false",type:"number",maxRows:6,onFocus:e=>{e.target.setSelectionRange(c.length,c.length),setTimeout(()=>{e.target.style.caretColor=o.color},380)}}),S.createElement(Vy,{setValue:h,focusOnTextarea:d}),S.createElement(By,{danger:r.danger,handleDangerChange:i}),S.createElement("div",{className:by.actionButtons},S.createElement("button",{style:{color:"var(--red2)"},onClick:()=>{h(""),d()}},""),S.createElement("button",{onClick:f},""),S.createElement("button",{onClick:()=>{f(),t(c)}},""))))};const qy=({value:e,onSave:t,lesson:n,handleDangerChange:r,date:i})=>{const[a,o]=(0,S.useState)(!1);return S.createElement(S.Fragment,null,S.createElement("div",{className:"editable-field",onClick:()=>o(!0)},e),a&&S.createElement(zy,{date:i,initialValue:e,handleSave:t,handleClose:()=>{o(!1)},lesson:n,handleDangerChange:r}))};const Hy=({text:e})=>S.createElement("h1",{className:"H1"},e);const Wy=({title:e,icon:t,descr:n,checked:r,onChange:i,noPadding:a})=>S.createElement("div",{className:"_Switch"+(a?" noPadding":"")},t,S.createElement("div",{className:"label-block"},S.createElement("a",{className:"title"},e),S.createElement("a",{className:"descr"},n)),S.createElement("label",{className:"ios7-switch"},S.createElement("input",{type:"checkbox",checked:r,onChange:i}),S.createElement("span",null)));const Ky=({children:e,noPadding:t})=>S.createElement("div",{className:"_VerticalLayout"+(t?" noPadding":"")},e);var $y=0;function Gy(){var e=$y;return $y++,e}var Qy=function(e){var t=e.children,n=e.initial,r=e.isPresent,a=e.onExitComplete,i=e.custom,e=e.presenceAffectsLayout,o=pd(Yy),s=pd(Gy),e=(0,S.useMemo)(function(){return{id:s,initial:n,isPresent:r,custom:i,onExitComplete:function(e){var t,n;o.set(e,!0);try{for(var r=Wh(o.values()),i=r.next();!i.done;i=r.next())if(!i.value)return}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null!=a&&a()},register:function(e){return o.set(e,!1),function(){return o.delete(e)}}}},e?void 0:[r]);return(0,S.useMemo)(function(){o.forEach(function(e,t){return o.set(t,!1)})},[r]),S.useEffect(function(){r||o.size||null==a||a()},[r]),S.createElement(td.Provider,{value:e},t)};function Yy(){return new Map}function Xy(e){return e.key||""}function Jy(e){var t=e.children,r=e.custom,n=void 0===(a=e.initial)||a,i=e.onExitComplete,a=e.exitBeforeEnter,o=void 0===(e=e.presenceAffectsLayout)||e,s=Kh(function(){var e=(0,S.useRef)(!1),t=Kh((0,S.useState)(0),2),n=t[0],r=t[1];O0(function(){return e.current=!0});var i=(0,S.useCallback)(function(){e.current||r(n+1)},[n]);return[(0,S.useCallback)(function(){return _d.postRender(i)},[i]),n]}(),1)[0];(e=(0,S.useContext)(Sg).forceRender)&&(s=e);var e=(0,S.useRef)(!0),l=(0,S.useRef)(!0);(0,S.useEffect)(function(){return function(){l.current=!1}},[]);var u,c,h=(u=[],S.Children.forEach(t,function(e){(0,S.isValidElement)(e)&&u.push(e)}),u),d=(0,S.useRef)(h),f=(0,S.useRef)(new Map).current,p=(0,S.useRef)(new Set).current;if(c=f,h.forEach(function(e){var t=Xy(e);c.set(t,e)}),e.current)return e.current=!1,S.createElement(S.Fragment,null,h.map(function(e){return S.createElement(Qy,{key:Xy(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:o},e)}));for(var m=$h([],Kh(h),!1),g=d.current.map(Xy),v=h.map(Xy),y=g.length,b=0;b<y;b++){var w=g[b];-1===v.indexOf(w)?p.add(w):p.delete(w)}return a&&p.size&&(m=[]),p.forEach(function(t){var e,n;-1!==v.indexOf(t)||(e=f.get(t))&&(n=g.indexOf(t),m.splice(n,0,S.createElement(Qy,{key:Xy(e),isPresent:!1,onExitComplete:function(){f.delete(t),p.delete(t);var e=d.current.findIndex(function(e){return e.key===t});d.current.splice(e,1),p.size||(d.current=h,!1!==l.current&&(s(),i&&i()))},custom:r,presenceAffectsLayout:o},e)))}),m=m.map(function(e){var t=e.key;return p.has(t)?e:S.createElement(Qy,{key:Xy(e),isPresent:!0,presenceAffectsLayout:o},e)}),d.current=m,S.createElement(S.Fragment,null,p.size?m:m.map(function(e){return(0,S.cloneElement)(e)}))}const Zy=t=>{var e=[10,9,8,7,6,5,4,3,2,1].map(e=>S.createElement(iy.button,{className:"new-mark-btn",key:e,onClick:()=>t.handleMarkInput(e),whileTap:{scale:.9,filter:"brightness(1.7)"}},e));return S.createElement("div",{className:"marks-input-container"},e,t.onRemove&&S.createElement(iy.button,{onClick:t.onRemove,whileTap:{scale:.9}},S.createElement("svg",{width:"40",height:"40",viewBox:"0 0 28 28",fill:"currentColor"},S.createElement("path",{d:"M20.4775 21.8809C22.376 21.8809 23.3691 20.9756 23.3691 19.0947V8.31934C23.3691 6.42969 22.376 5.4541 20.4775 5.4541H12.875C11.6797 5.4541 10.8271 5.74414 10.0273 6.61426L5.07031 11.8877C4.42871 12.5908 4.18262 13.1006 4.18262 13.6543C4.18262 14.208 4.42871 14.7266 5.07031 15.4209L10.0361 20.668C10.8359 21.5381 11.6885 21.8721 12.8838 21.8721L20.4775 21.8809ZM12.4092 17.4951C11.9434 17.4951 11.5742 17.126 11.5742 16.6514C11.5742 16.4316 11.6621 16.2295 11.8203 16.0713L14.2197 13.6719L11.8203 11.2812C11.6621 11.123 11.5742 10.9121 11.5742 10.6924C11.5742 10.2266 11.9434 9.86621 12.4092 9.86621C12.6553 9.86621 12.8486 9.94531 13.0068 10.1035L15.3975 12.4941L17.8145 10.0947C17.9814 9.92773 18.1748 9.84863 18.4121 9.84863C18.8779 9.84863 19.2383 10.2178 19.2383 10.6836C19.2383 10.9033 19.1592 11.0967 18.9922 11.2725L16.5928 13.6719L18.9834 16.0625C19.1504 16.2295 19.2383 16.4316 19.2383 16.6514C19.2383 17.126 18.8691 17.4951 18.3945 17.4951C18.1572 17.4951 17.9463 17.4072 17.7881 17.249L15.3975 14.8584L13.0244 17.249C12.8574 17.416 12.6553 17.4951 12.4092 17.4951Z"}))))},e1=S.createContext(null),t1=({children:e,onClick:t})=>S.createElement(S.Fragment,null,S.createElement(iy.div,{className:"BackdropV2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,transition:{type:"tween",duration:.3}}),e);const n1=({onClose:r,children:e,bottomCloseBtn:t})=>(0,n.createPortal)(S.createElement(e1.Provider,{value:{close:r}},S.createElement(t1,{onClick:r},S.createElement(iy.div,{className:"ActionSheet",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.4,exit:{y:"calc(100% + 50px)",transitionEnd:{display:"none"},transition:{type:"tween",duration:.26}},initial:{y:"100%"},animate:{y:0},transition:{type:"spring",bounce:0,duration:.32},onDragEnd:(e,{offset:t,velocity:n})=>{1e4<(t=t.y,n=n.y,Math.abs(t)*n)&&r()}},e,t?S.createElement("div",{className:"ActionSheetCloseBtn",onClick:r},""):S.createElement("div",{className:"top-close-btn",onClick:r},S.createElement("i",{className:"fa-solid fa-xmark"}))))),document.getElementById("modals-container"));const r1=t=>{const n=(0,S.useContext)(e1)["close"],r=(0,S.useContext)(Oh);return S.createElement("div",{className:"MarksKeyboard"},S.createElement("header",{className:"mark-info"},S.createElement("h5",{className:"title"},t.title),S.createElement("div",{className:"subject"},t.descr)),S.createElement(Zy,{handleMarkInput:e=>{t.onSubmit(e),n(),t.statusBarAlert&&r.setStatusBar({title:t.statusBarAlert,type:"sucsess"})}}))},i1=(0,S.createContext)(null);const a1=r=>{const i=(0,S.useContext)(i1),a=(0,S.useContext)(Oh).database;return{updateMark:(t,n)=>{var e=i.map(e=>e.time==t.time?{...e,...n}:e);Dh(a.marks,{[r.id]:e},{merge:!0})},addQuarterMark:(e,t)=>{const n={mark:e,time:Date.now()};t&&(n.imp=t),Dh(a.marks,{[r.id]:(t=[n],new ah("arrayUnion",t))},{merge:!0})},removeQuarterMark:e=>{Dh(a.marks,{[r.id]:(e=[e],new oh("arrayRemove",e))},{merge:!0})},changeMarkTarget:e=>{Dh(a.marks,{marksTargets:{[r.id]:e}},{merge:!0})},setYearMark:(e,t)=>{Dh(a.yearMarks,{[r.id]:{[t]:e}},{merge:!0})},removeYearMark:e=>{Dh(a.yearMarks,{[r.id]:{[e]:null}},{merge:!0})}}};const o1=t=>{const[e,n]=(0,S.useState)(!1),{removeQuarterMark:r,updateMark:i,removeYearMark:a,setYearMark:o}=a1(t.subject);var s=new Date(t.mark.time).toLocaleString();return S.createElement(n1,{onClose:t.onClose},S.createElement("div",{className:"AboutMark"},S.createElement("div",{className:"modal-title"},""),S.createElement("div",{className:"info"},S.createElement("div",{className:"mark-num",style:t.markStyle},t.mark.mark),S.createElement("div",{className:"subject"},t.subject.full_title||t.subject.title),S.createElement("div",{className:"time"},S.createElement("i",{className:"fa-solid fa-calendar"}),t.yearMark?t.quarter+" ":s)),S.createElement("div",{className:"btns"},!t.yearMark&&!t.readOnly&&S.createElement("div",{className:"important-mark-switch"},S.createElement(Wy,{checked:t.mark.imp,onChange:e=>{i(t.mark,{imp:e.target.checked})},noPadding:!0,title:"",descr:"    /",icon:S.createElement("i",{className:"fa-solid fa-circle-exclamation"})})),!t.readOnly&&S.createElement(S.Fragment,null,S.createElement("button",{onClick:()=>n(!0)},S.createElement("i",{className:"fa-solid fa-pen"}),""),S.createElement("button",{className:"remove",onClick:()=>{t.onClose(),setTimeout(()=>{t.yearMark?a(t.quarter):r(t.mark)},200)}},S.createElement("i",{className:"fa-solid fa-trash-can"}),"")))),S.createElement(Jy,null,e&&S.createElement(n1,{bottomCloseBtn:!0,onClose:()=>n(!1)},S.createElement(r1,{onSubmit:e=>{t.yearMark?o(e,t.quarter):i(t.mark,{mark:e})},title:`  (${t.mark.mark})`+(t.yearMark?`  ${t.quarter} `:""),descr:t.subject.full_title||t.subject.title}))))},s1=(0,S.memo)(e=>{const[t,n]=(0,S.useState)(!1);var r=e.mark.mark;const i={};7<=r?(i.color="var(--mark-green)",i.background="var(--mark-green-bg)"):5<=r?(i.color="var(--mark-yellow)",i.background="var(--mark-yellow-bg)"):1<=r&&(i.color="var(--mark-red)",i.background="var(--mark-red-bg)"),e.mark.imp&&(i.border=i.color+" 2px solid");r=()=>{e.handleClick?e.handleClick():e.unclickable||n(!0)};return S.createElement(S.Fragment,null,e.animate?S.createElement(iy.div,{className:"Mark",style:i,initial:{scale:0},animate:{scale:1},exit:{scale:0},onClick:r},e.mark.mark):S.createElement("div",{className:"Mark",style:i,onClick:r},e.mark.mark),!e.unclickable&&S.createElement(Jy,null,t&&S.createElement(o1,{quarter:e.quarter,subject:e.subject,mark:e.mark,yearMark:e.yearMark,markStyle:i,onClose:()=>{n(!1)},readOnly:e.readOnly})))});const l1=e=>{const t=(0,S.useRef)(null);return(0,S.useEffect)(()=>{window.ios&&t?.current&&t.current},[]),S.createElement("div",{className:"VScroll__Wraper"},S.createElement("div",{className:"VScroll",ref:t},e.children))},u1={initial:()=>({opacity:0,y:-60,position:"static"}),animate:e=>({opacity:1,y:0,position:"static",color:["decrease"==e?"#ff3b30":"#34c759","#fff"],transition:{color:{delay:.3}}}),exit:{opacity:0,y:30,scale:.4,position:"absolute"}};const c1=({averageMark:e})=>{const t=(0,S.useRef)(null);var n=t.current>e?"decrease":"increase";return t.current=e,S.createElement("div",{className:"average-mark-wraper"},S.createElement(Jy,{initial:!1},S.createElement(iy.div,{key:e,custom:n,variants:u1,initial:"initial",animate:"animate",className:"average-mark",exit:"exit"},e)))};var h1=!0,d1="Invariant failed";var f1=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function p1(e,t){if(e.length!==t.length)return!1;for(var n,r,i=0;i<e.length;i++)if(n=e[i],r=t[i],n!==r&&(!f1(n)||!f1(r)))return!1;return!0}function m1(n){var e=(u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).initialScroll,t=void 0===e?null:e,r=void 0===(e=u.inaccuracy)?0:e,i=void 0===(u=u.runScroll)?v1(n):u,a=(0,S.useRef)(null),o=(0,S.useCallback)(function(){return null!==n.current&&Math.ceil(n.current.scrollTop)>=g1(n.current)-r},[r]);(0,S.useEffect)(function(){function t(){a.current=o()}return n.current.addEventListener("scroll",t),function(){var e;return null===(e=n.current)||void 0===e?void 0:e.removeEventListener("scroll",t)}},[]);var s=(0,S.useCallback)(function(e){!function(e,t){if(!e){if(h1)throw new Error(d1);t="function"==typeof t?t():t;throw new Error(t?d1+": "+t:d1)}}(null!==n.current,"Trying to scroll to the bottom, but no element was found.\n      Did you call this scrollBottom before the component with this hook finished mounting?");e=Math.min(g1(n.current),e);i(e)},[i]),l=(0,S.useCallback)(function(){s(1/0)},[s]),u=(0,S.useCallback)(function(){return a.current&&l(),a.current},[l]);return y1(function(){null!==t&&s(t),a.current=o()},[]),{scroll:s,stayScrolled:u,scrollBottom:l,isScrolled:o}}var g1=function(e){return e.scrollHeight-e.clientHeight},v1=function(r,i){void 0===i&&(i=p1);var a=null;function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(a&&a.lastThis===this&&i(e,a.lastArgs))return a.lastResult;var n=r.apply(this,e);return a={lastResult:n,lastArgs:e,lastThis:this},n}return e.clear=function(){a=null},e}(function(t){return function(e){t.current.scrollTop=e}}),y1="undefined"!=typeof window?S.useLayoutEffect:S.useEffect;const b1=e=>{var t=(0,S.useRef)(null);const n=m1(t)["stayScrolled"],[r,i]=(0,S.useState)([]);(0,S.useLayoutEffect)(()=>{n()},[r.length]);let a=0;var o=e.marks.map(e=>(a+=e.mark,S.createElement(s1,{mark:e,key:e.time,unclickable:!0}))),s=r.map(e=>(a+=e.mark,S.createElement(s1,{mark:e,key:e.time,handleClick:()=>(t=>{i(e=>{return e.filter(e=>e.time!==t.time)})})(e),animate:!0})));let l=a/(e.marks.length+r.length);return l=!isNaN(l)&&l<=10?Number(l.toFixed(2)):null,S.createElement("div",{className:"MarksCalculator"},S.createElement(c1,{averageMark:l}),S.createElement("div",{className:"marks-display"},S.createElement("div",{className:"info"},",   "),S.createElement("div",{className:"marks-container"},o),S.createElement("div",{className:"info"}," "),S.createElement("div",{className:"marks-container",ref:t},S.createElement(Jy,null,s))),S.createElement("div",{className:"marks-input-wrapper"},S.createElement(Zy,{handleMarkInput:t=>{i(e=>[...e,{mark:parseInt(t),time:Date.now()}])},onRemove:()=>{i(e=>e.slice(0,-1))}})))},w1=(e,n)=>{e=e.reduce((e,t)=>e+(n?Math.round(t.mark):t.mark),0)/e.length;return isNaN(e)?null:e};const E1=({marks:e,target:t,readOnly:n,openCalculator:r,openTargetDialog:i})=>{const a=w1(e),o={};a&&Math.round(a)<parseInt(t)&&(o.border="var(--mark-yellow) 2px solid");e=a?Number(a.toFixed(2)):null;return S.createElement("div",{className:"average-mark-tools"},S.createElement("div",{className:"average-mark",onClick:r,style:o},e||S.createElement("i",{className:"fa-solid fa-circle-question no-mark"})),S.createElement("div",{className:"mark-target",onClick:n?void 0:i},": ",t))},k1=(0,S.memo)(({addQuarterMark:t,subject:e})=>{const[n,r]=(0,S.useState)(!1);return S.createElement(S.Fragment,null,S.createElement(iy.div,{className:"Mark newMarkBtn",onClick:()=>r(!0),layout:"position",key:e.id},S.createElement(My,{width:18,height:18})),S.createElement(Jy,null,n&&S.createElement(n1,{bottomCloseBtn:!0,onClose:()=>r(!1)},S.createElement(r1,{withImportanceSwitch:!0,onSubmit:e=>{setTimeout(()=>{t(e)},90)},title:"    ",descr:e.full_title??e.title}))))}),C1=(0,S.memo)(({marks:e,subject:t,readOnly:n,addQuarterMark:r})=>{var i=e?.map(e=>S.createElement(s1,{mark:e,key:e.time,subject:t,readOnly:n}));return S.createElement(S.Fragment,null,0!=i.length&&S.createElement(i1.Provider,{value:e},i),!n&&S.createElement(k1,{subject:t,addQuarterMark:r}))}),S1=(0,S.memo)(({subject:e,marks:t,target:n,embedded:r,readOnly:i})=>{const[a,o]=(0,S.useState)(!1),[s,l]=(0,S.useState)(!1);var{changeMarkTarget:u,addQuarterMark:c}=a1(e);return S.createElement(S.Fragment,null,S.createElement("div",{className:"SubjectMarks"+(r?" embedded":"")},!r&&S.createElement("div",{className:"color-indicator",style:{backgroundColor:e.color,boxShadow:"0px 0px 2px "+e.color}}),S.createElement("div",{className:"main-content"},!r&&S.createElement("h5",{className:"subject-title"},e.full_title||e.title),S.createElement("div",{className:"marks-container"},S.createElement(C1,{marks:t,subject:e,readOnly:i,addQuarterMark:c}))),S.createElement(E1,{marks:t,target:n,readOnly:i,openCalculator:()=>o(!0),openTargetDialog:()=>l(!0)})),a&&S.createElement(py,{handleClose:()=>o(!1),direction:"right",headerTitle:""},S.createElement(b1,{marks:t})),!i&&S.createElement(Jy,null,s&&S.createElement(n1,{bottomCloseBtn:!0,onClose:()=>l(!1)},S.createElement(r1,{onSubmit:u,title:"    ",descr:e.full_title??e.title,statusBarAlert:" "}))))},(e,t)=>JSON.stringify(e?.marks)==JSON.stringify(t?.marks)&&e?.target==t?.target);const x1=e=>{var t=(0,S.useContext)(Fh)?.[e.lesson.id]??[];return S.createElement(py,{handleClose:e.handleClose},S.createElement(Ky,null,S.createElement(Hy,{text:e.subject.full_title||e.subject.title}),S.createElement("div",{className:"lesson-info-block"},S.createElement("div",{className:"title"},""),S.createElement("div",{className:"homework-view"},e.lesson.hw),e.lesson.changedBy&&S.createElement("div",{className:"last-changes-by"},": ",e.lesson.changedBy)),e.subject.marks&&S.createElement("div",{className:"lesson-info-block"},S.createElement("div",{className:"title"}," "),S.createElement("div",{className:"marks-list"},S.createElement(S1,{marks:t,subject:e.subject,embedded:!0}))),S.createElement(Wy,{checked:e.lesson.danger,onChange:e.handleDangerChange,title:" - ",icon:S.createElement("i",{className:"fas fa-skull-crossbones"}),descr:",     /  - "})))};const T1=e=>{const[t,n]=(0,S.useState)(!1),r=(0,S.useRef)();var i=()=>{r.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=()=>n(!1)};return S.createElement("div",{className:"context-menu"},S.createElement("button",{className:"context-menu-btn"+(t?" active":""),onClick:()=>{n(!0)},onBlur:i,onMouseOut:window.ios?i:null},e.icon??S.createElement("i",{className:"fas fa-ellipsis-v"})),t&&S.createElement("div",{className:"menu-items-wraper"},S.createElement("div",{className:"menu-items",ref:r},e.children)))};const I1=({onClick:e,title:t,icon:n})=>S.createElement("button",{className:"context-menu-variant",onClick:e},n,S.createElement("span",null,t)),N1=(0,S.memo)(({lesson:t,path:n,date:e})=>{const r=yy(),i=(0,S.useContext)(Oh).user;var a=(0,S.useContext)(Rh),o=a?.[t.id];const[s,l]=(0,S.useState)(t.hw),[u,c]=(0,S.useState)(!1),[h,d]=(0,S.useState)(!1),[f,p]=(0,S.useState)(!1);var m="alg"===t.id||"geom"===t.id;(0,S.useEffect)(()=>{l(t.hw)},[t.hw]);var g={backgroundColor:o?.color??"var(--bg3)"},v=e=>{r({[n+".danger"]:e.target.checked})};return S.createElement(S.Fragment,null,t.danger&&S.createElement("div",{className:"SubjectRow-danger-title",style:g},"   /  "),S.createElement("div",{className:"flexRow"+(t.danger?" SubjectRow-danger":"")},S.createElement("div",{className:"rowBlock medium",style:g},o?.title??S.createElement("i",{className:"fas fa-circle-notch fa-spin"})),S.createElement("div",{className:"rowBlock mainField"},S.createElement(qy,{date:e,value:s??"",onChange:l,onSave:e=>{s===t.hw&&s===e||r({[n+".hw"]:null==e?s:e,[n+".changedBy"]:i.first_name||i.last_name||i.username||i.id})},lesson:t,handleDangerChange:v})),S.createElement("div",{className:"rowBlock square"},S.createElement(T1,null,o?.url&&s&&S.createElement(I1,{onClick:()=>{c(!0)},title:"",icon:S.createElement("i",{className:"fas fa-book fa-xl"})}),(o?.marks||m)&&S.createElement(I1,{onClick:()=>d(!0),title:" ",icon:S.createElement("svg",{width:"18",height:"18",viewBox:"0 0 19 19",fill:"currentColor"},S.createElement("path",{d:"M9.49165 18.4297C14.2259 18.4297 18.1335 14.3164 18.1335 9.3418C18.1335 4.36719 14.2175 0.253906 9.4833 0.253906C4.75742 0.253906 0.858154 4.36719 0.858154 9.3418C0.858154 14.3164 4.76577 18.4297 9.49165 18.4297ZM5.45043 9.35059C5.45043 8.83203 5.80113 8.47168 6.2854 8.47168H8.66503V5.9668C8.66503 5.45703 8.99903 5.09668 9.47495 5.09668C9.96759 5.09668 10.3099 5.45703 10.3099 5.9668V8.47168H12.6979C13.1738 8.47168 13.5245 8.83203 13.5245 9.35059C13.5245 9.8516 13.1738 10.2119 12.6979 10.2119H10.3099V12.7168C10.3099 13.2178 9.96759 13.5869 9.47495 13.5869C8.99903 13.5869 8.66503 13.2178 8.66503 12.7168V10.2119H6.2854C5.80113 10.2119 5.45043 9.8516 5.45043 9.35059Z"}))}),S.createElement(I1,{onClick:()=>{p(!0)},title:" ",icon:S.createElement("i",{className:"fas fa-info-circle fa-xl"})})),u&&S.createElement(vy,{lessonsData:[t],handleClose:()=>{c(!1)}}),f&&S.createElement(x1,{handleDangerChange:v,lesson:m?{...t,id:"math"}:t,subject:m?a.math:o,handleClose:()=>{p(!1)}}),h&&S.createElement(n1,{onClose:()=>d(!1)},S.createElement(r1,{subjectInfo:m?a.math:o})))))}),D1={1:"",2:"",3:"",4:"",5:"",6:"",7:""};const A1=({dayNum:e,week:t,timetable:r,pathToDay:n})=>{const[i,a]=(0,S.useState)(!1),o=(0,S.useContext)(Oh),s=o.user.group,l=new Date;var u=l.getDay();let c=0;1==t?c=-7:3==t&&(c=7);u=e+c-(0!=u?u:7);l.setDate(l.getDate()+u);var h,d=l.toLocaleDateString("ru-RU",{day:"numeric",month:"numeric"});const f=[];for(h in r){var p=r[h];let e,t;if(p.groups){if(!p[s])break;e=p[s],t=`${n}.${h}.`+s}else e=p,t=n+"."+h;f.push(S.createElement(N1,{date:d,key:h,path:t,lesson:e}))}return S.createElement("div",{className:"content-card"},i&&S.createElement(vy,{lessonsData:i,handleClose:()=>a(!1)}),S.createElement("header",{className:"day-header"},S.createElement("div",{className:"day-title"},D1[e]),S.createElement("div",{className:"day-date"},d)),S.createElement("button",{className:"table-btn tool",onClick:()=>{const e=[];for(var t in r){var n=r[t];n.groups?!n[s]||(t=n[s]).hw&&e.push(t):n.hw&&e.push(n)}0!=e.length?a(e):o.setStatusBar({title:"  "})}},S.createElement("i",{className:"fas fa-book fa-lg"})),S.createElement("div",{className:"content"},f))};const _1=()=>{const[e,n]=(0,S.useState)(""),r={day:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"};return(0,S.useEffect)(()=>{var e=()=>{var e=(new Date).toLocaleString("ru",r);n(e)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),S.createElement("div",{className:"time"},e)},P1=["8.00 - 8.45","8.55 - 9.40","9.55 - 10.40","10.55 - 11.40","11.55 - 12.40","12.50 - 13.35","13.55 - 14.40"];const L1=()=>{var e=P1.map((e,t)=>S.createElement("div",{className:"rings-row",key:t},S.createElement("div",{className:"index"},t+1),S.createElement("div",{className:"content"},e)));return S.createElement(T1,{icon:S.createElement("i",{className:"fas fa-bell"})},e)};const R1=({items:e,activeItem:n,onChange:r})=>S.createElement(iy.ol,{className:"SegmentedControl",layout:!0},e.map(e=>{var t=e.id===n;return S.createElement(iy.li,{className:"item",whileTap:t?{scale:.95}:{opacity:.6},key:e.id},S.createElement("button",{onClick:()=>r(e.id),className:"button"},t&&S.createElement(iy.div,{layoutId:"active",className:"active",transition:{duration:.25}}),S.createElement("span",{className:"label"},e.title)))}));const O1=({text:e,onClick:t})=>S.createElement("button",{className:"_Button",onClick:t},e);const M1=()=>{const[e,t]=(0,S.useState)(!1),[n,r]=(0,S.useState)(!1);(0,S.useEffect)(()=>{try{const e=navigator.serviceWorker.addEventListener("message",e=>{e=e.data.type;t(!1),"update-complete"==e&&r(!0)});return()=>{navigator.serviceWorker.removeEventListener("message",e)}}catch(e){alert(": Cant find active SW")}},[]);return{updateFounded:n,checking:e,checkForUpdates:()=>{t(!0),navigator.serviceWorker.ready.then(e=>{e.active.postMessage({type:"run-updater"})})}}};const F1=()=>{var{checking:e,updateFounded:t,checkForUpdates:n}=M1();return S.createElement("div",{className:"Updater"},S.createElement("button",{className:"check-btn"+(e?" active":""),onClick:n},S.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},S.createElement("path",{d:"M13.7451 12.0986C14 12.0986 14.2021 12.0195 14.3604 11.8525L17.9639 8.22266C18.1572 8.0293 18.2451 7.81836 18.2451 7.57227C18.2451 7.33496 18.1484 7.10645 17.9639 6.93066L14.3604 3.26562C14.2021 3.08984 14 3.00195 13.7451 3.00195C13.2705 3.00195 12.8926 3.39746 12.8926 3.88086C12.8926 4.11816 12.9805 4.31152 13.1299 4.47852L15.2305 6.53516C14.8174 6.47363 14.3955 6.43848 13.9736 6.43848C9.62305 6.43848 6.14258 9.91895 6.14258 14.2783C6.14258 18.6377 9.64941 22.1445 14 22.1445C18.3594 22.1445 21.8574 18.6377 21.8574 14.2783C21.8574 13.751 21.4883 13.373 20.9609 13.373C20.4512 13.373 20.1084 13.751 20.1084 14.2783C20.1084 17.6709 17.3926 20.3955 14 20.3955C10.6162 20.3955 7.8916 17.6709 7.8916 14.2783C7.8916 10.8594 10.5898 8.15234 13.9736 8.15234C14.5449 8.15234 15.0723 8.19629 15.5381 8.27539L13.1387 10.6484C12.9805 10.8066 12.8926 11 12.8926 11.2373C12.8926 11.7207 13.2705 12.0986 13.7451 12.0986Z"}))),S.createElement("div",{className:"descr"},S.createElement("span",{className:"title"},t?" ":""),S.createElement("span",{className:"info"},e?"..":"")),t&&S.createElement("button",{className:"update-btn",onClick:()=>location.reload()},""),!t&&S.createElement("span",{className:"version"},"V1.6"))};const V1=()=>{const[e,t]=(0,S.useState)(()=>"true"==localStorage.getItem("inversion")??!1),[n,r]=(0,S.useState)(()=>localStorage.getItem("theme")??"dark");return S.createElement(Ky,null,S.createElement(Hy,{text:""}),S.createElement(R1,{activeItem:n,onChange:e=>(e=>{r(e),document.documentElement.setAttribute("theme",e);const t=document.querySelector("meta[name=theme-color]");t.content=getComputedStyle(document.documentElement).getPropertyValue("--bg2"),localStorage.setItem("theme",e)})(e),items:[{title:"",id:"dark"},{title:"",id:"light"}]}),S.createElement(F1,null),S.createElement(Wy,{title:" ",descr:"    ",icon:S.createElement("i",{className:"fas fa-moon"}),onChange:e=>(e=>{t(e),e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),localStorage.setItem("inversion",e)})(e.target.checked),checked:e}),S.createElement(O1,{text:"  ",onClick:()=>{localStorage.user=null,window.location.reload()}}))};const j1=()=>{const[e,t]=(0,S.useState)(!1);return S.createElement(S.Fragment,null,S.createElement("header",{className:"homescreen-header"},S.createElement(_1,null),S.createElement("button",{onClick:()=>t(!0)},S.createElement("i",{className:"fas fa-cog"})),S.createElement(L1,null)),e&&S.createElement(py,{handleClose:()=>t(!1)},S.createElement(V1,null)))},U1=[["8.00","8.45"],["8.55","9.40"],["9.55","10.40"],["10.55","11.40"],["11.55","12.40"],["12.50","13.35"],["13.55","14.40"]];function B1(){let t,n,r,i=null;for(let e=0;e<7;e++){const l=U1[e];var a=l[0].split("."),o=l[1].split("."),s=(new Date).setHours(a[0],a[1],0),a=(new Date).setHours(o[0],o[1],0),o=new Date;s<=o&&o<=a?(t=e+1,n=a-o,r="toEnd",i="2700000"):o<=s&&!t&&(t=e+1,n=s-o,r="toStart",i=1==e||5==e?6e5:6==e?12e5:9e5)}return{num:t,type:r,left:n,timeInterval:i}}const z1=({percents:e,size:t=82,timeLeft:n,strokeColor:r})=>{var i=Math.ceil(2*Math.PI*45),a=Math.abs(Math.ceil(i/100*(e-100))),o={duration:1,ease:"easeOut"},e={hidden:{strokeDashoffset:i,transition:o},show:{strokeDashoffset:a,transition:o}};return S.createElement("div",{className:"Progress"},S.createElement("div",{className:"countdown"},(o=n,n=Math.floor(o/6e4),o=(o%6e4/1e3).toFixed(0),n+":"+(o<10?"0":"")+o)),S.createElement("svg",{viewBox:"0 0 100 100",width:t,height:t},S.createElement("circle",{cx:"50",cy:"50",r:45,className:"circle",strokeWidth:7,stroke:"var(--bg2)",strokeOpacity:1,fill:"transparent"})),S.createElement("svg",{viewBox:"0 0 100 100",width:t,height:t,style:{position:"absolute",transform:"rotate(-90deg)",overflow:"visible",marginLeft:-t}},S.createElement(iy.circle,{cx:"50",cy:"50",r:45,strokeWidth:9,stroke:r,fill:"transparent",strokeDashoffset:a,strokeDasharray:i,variants:e,initial:"hidden",animate:"show"})))};const q1=e=>{var t=(0,S.useContext)(Rh),n=(0,S.useContext)(Fh);const r=(0,S.useContext)(Oh).user,i=yy(),[a,o]=(0,S.useState)(""),[s,l]=(0,S.useState)(!1),[u,c]=(0,S.useState)(!1);var h=function(){const[e,n]=(0,S.useState)(null);return(0,S.useEffect)(()=>{var e=()=>{n(B1)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),e}()??{},d=100-100/(h.timeInterval/h.left);let f=e.dayData[h.num]??{},p=e.pathToDay+"."+h.num;f.groups&&(f[r.group]?(f=f[r.group],p=`${e.pathToDay}.${h.num}.`+r.group):f=null);var m=t[f?.id]??{};if((0,S.useEffect)(()=>{f&&f.hw!==a&&o(f.hw)},[f]),!h.num||!f||!m.title)return null;e="alg"==f.id||"geom"==f.id;return S.createElement(S.Fragment,null,S.createElement(Jy,{initial:!1},S.createElement(iy.div,{key:f.id,className:"Now",exit:{x:"-100%",position:"absolute"},initial:{x:"100%",position:"absolute"},animate:{x:0,position:"static"}},S.createElement("div",{className:"actual-lesson-info"},S.createElement("div",{className:"left-block"},S.createElement("h5",{className:"block-title"},"toEnd"==h.type?"":" "),S.createElement("h3",{className:"subject-title"},m.full_title||m.title),S.createElement("div",{className:"homework"},S.createElement(qy,{value:a,onChange:o,onSave:e=>{e!==f.hw&&i({[p+".hw"]:e,[p+".changedBy"]:r.first_name||r.last_name||r.username||r.id})}}))),S.createElement("div",{className:"progress-wraper"},S.createElement(z1,{strokeColor:m.color,percents:d,timeLeft:h.left}))),S.createElement("div",{className:"tool-btns-wraper"},m.url&&f.hw&&S.createElement("button",{className:"tool-btn",onClick:()=>l(!0)},S.createElement("i",{className:"fas fa-book"}),""),(m?.url||m.marks||e)&&S.createElement("button",{className:"tool-btn",onClick:()=>c(!0)},S.createElement("i",{className:"fas fa-info-circle"})," ")),n&&S.createElement("div",{className:"marks-wraper"},S.createElement("h5",{className:"block-title"},""),S.createElement(S1,{marks:n?.[e?"math":f.id]??[],subject:e?t.math:m,target:n?.marksTargets?.[m.id],embedded:!0})))),s&&S.createElement(vy,{lessonsData:[f],handleClose:()=>l(!1)}),u&&S.createElement(x1,{update:i,path:p,lesson:e?{...f,id:"math"}:f,subject:e?t.math:m,handleClose:()=>c(!1)}))};const H1=e=>S.createElement(l1,null,S.createElement("div",{className:"tab-wraper",style:e.styles},e.children));const W1=({noteData:e,docRef:t})=>{const n=(0,S.useRef)(null),[r,i]=(0,S.useState)(e.text),a=e.isPinned;(0,S.useEffect)(()=>{i(e.text)},[e.text]);var o="note "+(a?"pinned":"");return S.createElement("div",{className:o},S.createElement(Ry,{maxRows:10,ref:n,value:r,placeholder:" ..",onBlur:function(){Dh(t,{text:r},{merge:!0})},onChange:function(){i(n.current.value)}}),S.createElement(T1,null,S.createElement(I1,{onClick:function(){Dh(t,{isPinned:!a},{merge:!0})},title:a?"":"",icon:S.createElement("i",{className:"fas fa-thumbtack fa-lg"})}),S.createElement(I1,{onClick:function(){var e;_h(Ac((e=t).firestore,Uc),[new Ya(e._key,Va.none())])},title:"",icon:S.createElement("i",{className:"fas fa-trash-alt fa-lg"})})))};const K1=()=>{const e=(0,S.useContext)(Oh),t=e.database,n=function(t){const[e,n]=(0,S.useState)([]);return(0,S.useEffect)(()=>{const e=Ah(t,e=>{n(e)});return()=>e()},[t]),e}(t.notes)?.docs??[],r=n.map(e=>S.createElement(W1,{docRef:e.ref,key:e.id,noteData:e.data()}));return S.createElement("div",{className:"content-card",id:"notes"},S.createElement("div",{className:"day-header"},S.createElement("div",{className:"day-title"},"")),S.createElement("button",{id:"add-note",onClick:()=>{r.length<=10?function(e,t){const n=Ac(e.firestore,Uc),r=Fc(e),i=Ih(e.converter,t);_h(n,[nh(th(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Va.exists(!1))]).then(()=>r)}(t.notes,{text:"",isPinned:!1}):e.setStatusBar({title:"   10 "})}},S.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},S.createElement("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM9.7373 13.6631C9.7373 13.1445 10.1064 12.7842 10.6162 12.7842H13.1211V10.2793C13.1211 9.76953 13.4727 9.40918 13.9736 9.40918C14.4922 9.40918 14.8525 9.76953 14.8525 10.2793V12.7842H17.3662C17.8672 12.7842 18.2363 13.1445 18.2363 13.6631C18.2363 14.1641 17.8672 14.5244 17.3662 14.5244H14.8525V17.0293C14.8525 17.5303 14.4922 17.8994 13.9736 17.8994C13.4727 17.8994 13.1211 17.5303 13.1211 17.0293V14.5244H10.6162C10.1064 14.5244 9.7373 14.1641 9.7373 13.6631Z"}))),S.createElement("div",{className:"content"},r))},$1=(0,S.memo)(()=>{const[e,t]=(0,S.useState)(!1);var n=(0,S.useContext)(Mh);let{dayNum:r,isWeekend:i}=uy();(0,S.useEffect)(()=>{var e=()=>{var e=(new Date).getHours();t(7<=e&&24!=e)};e(),setInterval(e,1e3)},[]);var a=(new Date).getHours();let o=!1;return i?(r=1,o=!0):15<a&&(5==r?(r=1,o=!0):r+=1),S.createElement(H1,null,S.createElement("div",{className:"HomeScreen"},S.createElement(j1,null),S.createElement("div",{id:"homescreen-layout"},S.createElement("div",{className:"side-left"},n?.[2]?.[r]&&!o&&e&&S.createElement(q1,{dayData:n[2][r],pathToDay:"2."+r}),S.createElement(K1,null)),S.createElement("div",{className:"side-right"},(n?.[2]||n?.[3])&&S.createElement(A1,{dayNum:r,week:o?3:2,timetable:n[o?3:2][r],pathToDay:(o?3:2)+"."+r})))))}),G1=(0,S.memo)(({week:e,prewWeek:t,nextWeek:n})=>{return S.createElement("header",{id:"week-header"},1<e?S.createElement("button",{onClick:t},S.createElement("i",{className:"fas fa-chevron-left fa-2x"})):S.createElement("button",{className:"unactive"},S.createElement("i",{className:"fas fa-chevron-left fa-2x"})),S.createElement("span",null,1==e?" ":2==e?" ":" "),e<3?S.createElement("button",{onClick:n},S.createElement("i",{className:"fas fa-chevron-right fa-2x"})):S.createElement("button",{className:"unactive"},S.createElement("i",{className:"fas fa-chevron-right fa-2x"})))}),Q1={enter:e=>({x:0<e?"100%":"-100%",position:"absolute"}),center:{x:0,position:"static"},exit:e=>({x:e<0?"100%":"-100%",position:"absolute",opacity:0})},Y1=(0,S.memo)(()=>{var e=uy()["isWeekend"];const t=(0,S.useRef)(2),[n,r]=(0,S.useState)(e?3:2);var i=(0,S.useContext)(Mh)?.[n];const a=[];let o;for(o in i)a.push(S.createElement(A1,{key:o,dayNum:parseInt(o),week:n,timetable:i[o],pathToDay:n+"."+o}));e=t.current<n?1:-1;return t.current=n,S.createElement(H1,null,S.createElement(G1,{week:n,prewWeek:()=>{r(n-1)},nextWeek:()=>{r(n+1)}}),S.createElement("div",{className:"week-wrapper"},S.createElement(Jy,{initial:!1,custom:e},S.createElement(iy.div,{className:"week-grid",key:n,custom:e,variants:Q1,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",duration:.38,bounce:.15,ease:"easeOut"}}},0!=a.length?a:S.createElement("div",{className:"no-timetable-alert content-card"}," )")))))});const X1=({notebook:e})=>S.createElement("div",{className:"Notebook",onClick:()=>window.open(e.url,"_blank")},S.createElement("img",{src:e.coverUrl})),J1=[{id:"engwb",url:"https://megaresheba.ru/publ/reshebnik/anglijskij/otvety_k_english_workbook_9_klass_lapickaja/42-1-0-1202",coverUrl:"./static/img/engwb.jpg"},{id:"phis",url:"https://superresheba.by/9-physics-wbook_25",coverUrl:"./static/img/phis.jpg"},{id:"bio",url:"https://superresheba.by/9-biology-wbook_24",coverUrl:"./static/img/bio.jpg"},{id:"him",url:"https://superresheba.by/9-chemistry-wbook_147",coverUrl:"./static/img/him.jpg"},{id:"geo",url:"https://superresheba.by/10-geography-wbook_6",coverUrl:"./static/img/geo.jpg"}];const Z1=()=>S.createElement("div",{className:"NotebooksWrapper"},S.createElement("div",{className:"Notebooks"},J1.map(e=>S.createElement(X1,{notebook:e,key:e.id}))));const eb=e=>{const n=(0,S.useContext)(Rh),[t,r]=(0,S.useState)("google"),[i,a]=(0,S.useState)(""),o=(0,S.useRef)();(0,S.useEffect)(()=>{"google"!==t&&o.current.focus()},[t]);const s=()=>{""!=i?("google"!==t?(e.addSolution(t,i),r("google")):window.open("https://www.google.com/search?q="+i,"_blank"),a("")):r("google")};var l=["eng","rus","bel","phis","alg","him","rus_lit","geom","bel_lit"].map(e=>{var t=n[e];return S.createElement("button",{key:e,style:{background:t.color},onClick:()=>r(e)},t.title)}),u="google"===t;return S.createElement("header",{id:"search-header"},S.createElement("div",{className:"search",style:{borderColor:n[t]?.color}},!u&&S.createElement("div",{className:"unit"},n[t]?.unit),S.createElement("input",{ref:o,value:i,onChange:e=>a(e.target.value),onBlur:s,onKeyPress:e=>{"Enter"==e.key&&""!==i&&s()},inputMode:u?"":"decimal",type:u?"text":"numbers",autoComplete:"off"})),S.createElement("div",{className:"wraper"},l),S.createElement(Z1,null))},tb=()=>{try{return JSON.parse(localStorage.openned_solutions)??[]}catch{return[]}},nb=(0,S.memo)(()=>{const t=(0,S.useContext)(Rh),[n,a]=(0,S.useState)(tb);(0,S.useEffect)(()=>{localStorage.setItem("openned_solutions",JSON.stringify(n))},[n]);const e=n.map(e=>S.createElement(my,{key:e.subjID+e.num,subjectInfo:t[e.subjID],startNum:e.num,onClose:()=>(e=>{e=n.indexOf(e);n.splice(e,1),a([...n])})(e)}));return S.createElement(H1,{styles:{padding:0,paddingBottom:100}},S.createElement(eb,{addSolution:(r,i)=>{var e;"rus_lit"!==r&&"bel_lit"!==r?a(e=>{const t=i.replace(/ *\([^)]*\) */g,"").split(",");var n=t.map(e=>(e=e.replace(/\D/g,""),{subjID:r,num:parseInt(e)}));return e.concat(n)}):(e=t[r].alt_url.replace("?",i.replace(/ *\([^)]*\) */g,"")),window.open(e,"_blank"))}}),S.createElement("div",{className:"viewers-wrapper"},e.reverse()))});const rb=({marks:e})=>{const t=(n=>{let e=0,t=0;const r=[];let i;for(var a in n)if("marksTargets"!=a){var o=w1(n[a]);o&&(r.push({subj:a,mark:o}),t+=1,e+=n[a].length)}else{let e=0,t=0;for(var s in n.marksTargets){s=n.marksTargets[s];e+=s,t++}a=e/t;i=isNaN(a)?null:a}return{averageOfQuarter:w1(r,!0),targetOfQuarter:i}})(e),n={};return t.averageOfQuarter&&t.targetOfQuarter&&t.averageOfQuarter<t.targetOfQuarter&&(n.border="var(--mark-yellow) 2px solid"),S.createElement("div",{className:"a1pjgcin"},S.createElement("div",{className:"info"},S.createElement("span",{className:"title"}," "),S.createElement("span",{className:"sub-title"},"3 ")),S.createElement("div",{className:"average"},S.createElement("div",{className:"average-mark",style:n},t.averageOfQuarter?.toFixed(2)),S.createElement("div",{className:"target"},": ",t.targetOfQuarter?.toFixed(2))))};kb(788);const ib=(0,S.memo)(e=>{var t,n=(0,S.useContext)(Rh);const r=[];for(t in n){const a=n[t];a.id=t;var i=e.marks.marksTargets?.[t];a.marks&&r.push(S.createElement(S1,{readOnly:e.readOnly,target:i,key:t,subject:a,marks:e.marks[t]??[]}))}return S.createElement("div",{className:"MarksView"},S.createElement("div",{className:"grid"},r),S.createElement(rb,{marks:e.marks}))});const ab=()=>{var e=(0,S.useContext)(Fh);return S.createElement("div",{className:"QuarterMarks"},S.createElement(ib,{marks:e??{}}))},ob=(0,S.memo)(({subject:t,marks:n})=>{const[r,i]=(0,S.useState)(null),a=a1(t)["setYearMark"];let o=0,s=0;const l=[];for(let e=1;e<=4;e++){var u=parseInt(n[e]);u?(o+=u,s++,l.push(S.createElement(s1,{mark:{mark:u},key:t.id+e,subject:t,yearMark:!0,quarter:e,animate:!0}))):l.push(S.createElement("div",{className:"Mark",onClick:()=>i(e),key:e},S.createElement(My,{width:18,height:18})))}let e=o/s;e=e?Math.round(Number(e.toFixed(2))):null;return S.createElement(S.Fragment,null,S.createElement("div",{className:"YearSubjectMarks",id:t.id},S.createElement("div",{className:"color-indicator",style:{backgroundColor:t.color}}),S.createElement("h5",{className:"subject-title"},t.title),l,S.createElement("div",{className:"year-mark"},S.createElement(s1,{mark:{mark:e},unclickable:!0}))),S.createElement(Jy,{initial:!1},r&&S.createElement(n1,{onClose:()=>i(!1),bottomCloseBtn:!0},S.createElement(r1,{onSubmit:e=>[a(e,r)],title:`     ${r} `,descr:t.full_title||t.title}))))});const sb=r=>{const i={},a={};let o=0,s=0;for(var l in r.marks){var u=r.marks[l];let t=0,n=0;for(let e=1;e<=4;e++)u[e]&&(t+=1,n+=u[e],i[e]=(i[e]??0)+u[e],a[e]=(a[e]??0)+1);let e=n/t;e&&(e=Math.round(Number(e.toFixed(2))),o+=e,s+=1)}const n=[];for(let t=1;t<=4;t++){let e=i[t]/a[t];e?(e=Number(e.toFixed(2)),n.push(S.createElement("div",{className:"Mark",key:t},e))):n.push(S.createElement("div",{key:t}))}let e=o/s;return e=isNaN(e)?null:parseInt(e.toFixed(2)),S.createElement("div",{className:"YearSubjectMarks average"},S.createElement("div",null),S.createElement("h5",{className:"subject-title"}," "),n,S.createElement("div",{className:"year-mark"},e))};const lb=e=>S.createElement("div",{className:"Loading",style:e.styles},S.createElement("div",{className:"loader"}));const ub=()=>{var e=(0,S.useContext)(Rh);const[t,n]=(0,S.useState)(!0);(0,S.useEffect)(()=>{setTimeout(()=>n(!1),250)});var r,i=Vh((0,S.useContext)(Oh).database.yearMarks);const a=[];for(r in e){const o=e[r];o.id=r,o.marks&&a.push(S.createElement(ob,{key:r,subject:o,marks:i?.[r]??{}}))}return S.createElement("div",{className:"YearMarks"},t?S.createElement(lb,null):S.createElement(S.Fragment,null,S.createElement("header",{className:"YearMarks-table-header"},S.createElement("div",{className:"subject"},""),S.createElement("div",null,"I"),S.createElement("div",null,"II"),S.createElement("div",null,"III"),S.createElement("div",null,"IV"),S.createElement("div",{className:"year"},"")),a,i&&S.createElement(sb,{marks:i})))};const cb=()=>{const[e,r]=(0,S.useState)(null),[t,i]=(0,S.useState)(null),u=(0,S.useContext)(Oh).user;return(0,S.useEffect)(()=>Ah(function(e,t){if(e=Ac(e,Pc),Tc("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new $r(Kr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rc(e,null,(t=t,new sa(fi.emptyPath(),t)))}(Lh,"userStorage"),e=>{const n=[];e.forEach(e=>{var t;"marks_new"!==e.id||(t=e.data())&&n.push({marks:t,userUUID:e.ref._key.path.segments[6]})});let s=0,l=0;const t=[];n.forEach(n=>{let r=0,i=0;for(var a in n.marks)try{if("marksTargets"==a)continue;s+=n.marks[a].length,n.userUUID==u.id&&(l+=n.marks[a].length);let e=0;for(var o of n.marks[a])e+=o.mark;let t=e/n.marks[a].length;!isNaN(t)&&t<=10?(t=Number(t.toFixed(0)),r+=t,i+=1):t=null}catch{continue}try{var e=(r/i).toFixed(2);isNaN(e)||t.push({rating:e,marks:n.marks,userUUID:n.userUUID})}catch{return}}),i({globalMarksCount:s,userMarksCounter:l}),r(t)}),[]),[e,t]},hb={hidden:{opacity:0,y:"100%"},visible:e=>{var t=.05*e.i,n=e.getDefaultBackground();return{opacity:1,y:0,transition:{y:{delay:t,type:"spring",duration:.6,bounce:0},opacity:{delay:t,duration:.4},backgroundColor:{duration:1.5,ontransitionend:{backgroundColor:void 0}}},backgroundColor:e.change?["decrease"==e.change?"#ff3b30":"#34c759",n]:void 0}}};const db=({user:e,percent:t,isOwn:n,userInfo:r,i})=>{const a=(0,S.useRef)(null),o=(0,S.useRef)(null),[s,l]=(0,S.useState)(!1);const u={i:i,getDefaultBackground:()=>getComputedStyle(a.current).getPropertyValue("background-color")};return o.current&&(o.current<e.rating?u.change="increase":o.current>e.rating&&(u.change="decrease")),o.current=e.rating,S.createElement(S.Fragment,null,S.createElement(iy.div,{className:"Marks__Rating__Chart_Column "+(n?"own":""),style:{height:t+"%"},onClick:()=>l(!0),variants:hb,custom:u,initial:"hidden",animate:"visible",layout:!0,whileTap:{filter:"brightness(1.5)"},ref:a},S.createElement("div",{className:"average-mark"},e.rating),S.createElement("div",{className:"username"},r?.first_name)),s&&S.createElement(py,{handleClose:()=>l(!1),direction:"bottom-wide"},S.createElement(l1,null,S.createElement(Ky,null,S.createElement(Hy,{text:r?.first_name}),S.createElement(ib,{marks:e.marks,readOnly:!n})))))};const fb=({usersRatings:e,user:r,usersInfo:i})=>{const[t,n]=(0,S.useState)(!0);(0,S.useEffect)(()=>{setTimeout(()=>n(!1),220)});e=e?.sort((e,t)=>t.rating-e.rating).map((e,t)=>{var n=e.rating/10*100;return S.createElement(db,{key:e.userUUID,percent:n,i:t,user:e,userInfo:i?.[e.userUUID],isOwn:r.id==e.userUUID})});return S.createElement("div",{className:"Rating__Chart__Wrapper"},t||!i?S.createElement(lb,null):S.createElement("div",{className:"Rating__Chart"},S.createElement(iy.div,{className:"data-wraper"},e)))};const pb=()=>{const[e,n]=(0,S.useState)(),t=(0,S.useContext)(Oh).database.users;return(0,S.useEffect)(()=>Ah(t,e=>{const t={};e.forEach(e=>{t[e.id]=e.data()}),n(t)}),[]),e};const mb=()=>{var[e,t]=cb(),n=pb(),r=(0,S.useContext)(Oh).user;return S.createElement("div",{className:"Rating"},S.createElement(fb,{usersRatings:e,user:r,usersInfo:n}),S.createElement("div",{className:"stat"},S.createElement("div",{className:"title"},"   "),S.createElement("div",{className:"num"},t?.userMarksCounter)),S.createElement("div",{className:"stat"},S.createElement("div",{className:"title"},"   "),S.createElement("div",{className:"num"},t?.globalMarksCount)))},gb=(0,S.memo)(()=>{var[e,t]=(0,S.useState)("quarter");return S.createElement(H1,{styles:{paddingLeft:0,paddingRight:0}},S.createElement("div",{className:"marks"},S.createElement("header",{className:"marks-header"},S.createElement("h1",{className:"marks-title"},""),S.createElement("div",{className:"tab-switcher"},S.createElement(R1,{onChange:t,activeItem:e,items:[{id:"quarter",title:""},{id:"year",title:""},{id:"rating",title:""}]}))),"quarter"==e&&S.createElement(ab,{key:"quarter"}),"year"==e&&S.createElement(ub,{key:"year"}),"rating"==e&&S.createElement(mb,{key:"rating"})))});const vb=({config:t})=>{var e=Vh(t.database.timetable),n=Vh(t.database.marks),r=function(){const[e,t]=(0,S.useState)(()=>{var e=localStorage.getItem("CACHED_MANIFEST");if(e)return JSON.parse(e)??null});return(0,S.useEffect)(()=>{fetch("https://rebot-f643e-default-rtdb.europe-west1.firebasedatabase.app/subjects-manifest.json").then(async e=>{e=await e.json();e?.error||(t(e),localStorage.setItem("CACHED_MANIFEST",JSON.stringify(e)))})},[]),e}(),[i,a]=(0,S.useState)(1);const[o,s]=(0,S.useState)(!1);(0,S.useEffect)(()=>{try{navigator.serviceWorker.addEventListener("message",e=>{"update-complete"==e.data.type&&Uh({type:"app-update-complete",user:t.user.first_name??t.user.id})}),navigator.serviceWorker.ready.then(e=>{e.active.postMessage({type:"run-updater"})})}catch(e){alert(e.message)}Uh({type:"app-openned",username:t.user.first_name??null,UUID:t.user.id}),window.addEventListener("error",e=>{Uh({type:"app-error",error:e.message,username:t.user.first_name??null,UUID:t.user.id})})},[]);var l=(0,S.useMemo)(()=>({...t,setStatusBar:s}),[t]);return r?S.createElement(Oh.Provider,{value:l},S.createElement("div",{id:"modals-container"}),S.createElement(sy,{activeTab:i,setActiveTab:a,statusBar:o}),S.createElement(Rh.Provider,{value:r},S.createElement(Fh.Provider,{value:n},S.createElement(Mh.Provider,{value:e},S.createElement("div",{className:"tab",hidden:1!=i},S.createElement($1,null)),5==i&&S.createElement("div",{className:"tab"},S.createElement(Y1,null))),3==i&&S.createElement("div",{className:"tab"},S.createElement(gb,null))),S.createElement("div",{className:"tab",hidden:2!=i},S.createElement(nb,null)))):null};var yb=kb(343);function bb({setUser:t}){const[e,n]=(0,S.useState)(1);return(0,S.useEffect)(()=>{navigator.serviceWorker.register("./sw.js")},[]),(0,S.useEffect)(()=>{localStorage.group=e},[e]),S.createElement("div",{className:"Login"},S.createElement("div",{className:"top-container"},S.createElement("header",null,S.createElement("div",{className:"logo"},S.createElement("img",{width:"36px",src:"static/icons/icon-128.png"})))),S.createElement("div",{className:"content"},S.createElement("div",{className:"block"},S.createElement("h5",{className:"group-title"},"  "),S.createElement("div",{className:"group"},S.createElement("button",{className:1==e?"active":"",onClick:()=>n(1)},"1"),S.createElement("button",{className:2==e?"active":"",onClick:()=>n(2)},"2"),S.createElement("button",{className:3==e?"active":"",onClick:()=>n(3)},"3")),S.createElement("div",{id:"auth"},S.createElement(yb.TLoginButton,{botName:"resh1_bot",buttonSize:yb.TLoginButtonSize.Large,lang:"ru",usePic:!0,cornerRadius:7,onAuthCallback:e=>{Dh(Fc(Lh,"users",""+e.id),e).then(()=>{t({...e,group:localStorage.group})}),localStorage.user=JSON.stringify({...e,group:localStorage.group})},requestAccess:"write"})))))}const wb=()=>S.createElement("div",{className:"FatalError-wraper"},S.createElement("div",{className:"FatalError"},S.createElement("svg",{width:"110",height:"110",viewBox:"0 0 28 28",fill:"currentColor"},S.createElement("path",{d:"M20.3281 20.6504C23.0703 20.6504 25.2324 18.6377 25.2324 16.124C25.2324 14.2607 24.1689 12.5996 22.4199 11.8701C22.4287 7.88867 19.5635 5.02344 15.8809 5.02344C13.543 5.02344 11.7852 6.23633 10.6865 7.82715C8.4541 7.22949 6.10742 8.89062 6.01953 11.3691C4.00684 11.7295 2.76758 13.54 2.76758 15.7373C2.76758 18.418 5.10547 20.6504 8.18164 20.6504H20.3281ZM12.2773 16.7041C11.9785 16.9941 11.5566 16.9414 11.2754 16.6777C11.0029 16.4229 10.959 15.9834 11.249 15.6846L12.9629 13.9531L11.249 12.2305C10.959 11.9316 11.0205 11.5098 11.2754 11.2373C11.5391 10.9561 11.9785 10.9121 12.2773 11.2109L14 12.9248L15.7227 11.2109C16.0303 10.9121 16.4521 10.9736 16.7246 11.2373C16.9971 11.4922 17.041 11.9316 16.751 12.2305L15.0371 13.9531L16.751 15.6846C17.041 15.9834 16.9883 16.4053 16.7246 16.6865C16.4609 16.959 16.0215 16.9941 15.7227 16.7041L14 14.9902L12.2773 16.7041Z"})),S.createElement("div",{className:"descr"},S.createElement("h1",null,"- "),S.createElement("p",null,"   ,    ")),S.createElement("button",{className:"reload",onClick:()=>location.reload()},"")));xf=/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;globalThis.ios=xf;class Eb extends S.Component{constructor(e){super(e),this.state={notAuthorized:!1,error:!1,database:null,user:null}}setAppConfig(e){var t=e.id.toString(),t={users:Mc(Lh,"users"),userInfo:Fc(Lh,"users",t),timetable:Fc(Lh,"timeTables","9D"),marks:Fc(Lh,"users",t,"userStorage","marks_new"),yearMarks:Fc(Lh,"users",t,"userStorage","marks_year"),notes:Mc(Lh,"users",t,"notes")};this.setState({user:e,database:t,notAuthorized:!1})}componentDidMount(){var e=localStorage.getItem("user");null!=e&&"null"!=e?this.setAppConfig(JSON.parse(e)):this.setState({notAuthorized:!0})}componentDidCatch(){this.setState({error:!0})}render(){return S.createElement(S.Fragment,null,!this.state.notAuthorized&&!this.state.error&&this.state.user&&this.state.database&&S.createElement(vb,{config:{database:this.state.database,user:this.state.user}}),this.state.notAuthorized&&S.createElement(bb,{setUser:this.setAppConfig}),this.state.error&&S.createElement(wb,null))}}(0,n.render)(S.createElement(Eb,null),document.getElementById("root")),navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js")})()})();
//# sourceMappingURL=bundle.js.map