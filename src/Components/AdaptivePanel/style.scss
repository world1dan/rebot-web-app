@keyframes adaptive-panel-in {
	from {
		transform: translateY(100vh);
	}

	to {
		transform: translateY(0);
	}
}

@keyframes adaptive-panel-in-fullscreen-right {
	from {
		transform: translateX(100%);
	}

	to {
		transform: translateX(0);
	}
}

.adaptive-panel {
	will-change: transform;
	position: fixed;
	bottom: 0;
	background-color: var(--bg2);
	touch-action: none;
	z-index: 999;
	overflow: hidden;
	color: var(--text1);
	right: 0;

	.close {
		font-size: 20px;
	}

	&.bottom {
		top: 80px;

		@media (max-height: 800px) {
			top: 52px;
		}

		@media (max-height: 400px) {
			top: 16px;
		}

		left: 0;
		border-radius: 13px 13px 0 0;
		transform: translateY(calc(100vh - 80px));
		animation: adaptive-panel-in 440ms cubic-bezier(0.38, 0.7, 0.125, 1) forwards;
	}

	&.fullscreen-right {
		top: 0;
		width: 100%;
		max-width: 500px;
		left: auto;
		transform: translateX(100%);
		animation: adaptive-panel-in-fullscreen-right 440ms cubic-bezier(0.38, 0.7, 0.125, 1) forwards;
	}

	@media (min-width: 700px) {
		margin: 0 auto;
		width: clamp(550px, 70%, 700px);

		&.wide {
			width: clamp(700px, 94%, 1000px);
		}

		&.splited {
			padding-top: env(safe-area-inset-top);

			header {
				padding-top: calc(env(safe-area-inset-top) + 10px);
			}
		}
	}

	header {
		padding: 7px;
		padding-bottom: 10px;
		position: absolute;
		display: flex;
		justify-content: flex-end;
		gap: 8px;
		left: 0;
		right: 0;
		top: 0;
		background: var(--bg2);
		z-index: 99;

		&.fullscreen {
			background: var(--bg3);
			position: static;
			width: 100%;
			height: 60px;

			display: grid;
			grid-template-columns: 40px 1fr;
			justify-content: center;
			align-items: center;

			.close-fullscreen {
				font-size: 18px;
				margin-left: 3px;
			}

			.header-title {
				margin-right: 40px;
				font-size: 19px;
				font-weight: 600;
				text-align: center;
			}
		}

		button {
			padding: 0;
			margin: 0;
			display: flex;
			justify-content: center;
			align-items: center;
			border-radius: 50%;
			height: 38px;
			width: 38px;
			background: var(--bg3);
			font-size: 26px;

			i {
				color: var(--text2);
			}
		}
	}

	.scroll-content {
		height: 100%;
		overflow-y: auto;
		padding-bottom: 130px;
		border-radius: 19px 19px 0 0;

		&::-webkit-scrollbar {
			width: 0;
		}
	}
}
