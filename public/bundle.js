/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,s=new Promise((function(s,a){n(i=e[t].apply(e,r)).then(s,a)}));return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function s(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function o(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function l(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}s(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(f,"_tx",["objectStoreNames","mode"]),o(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(d,"_db",["name","version","objectStoreNames"]),o(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),o(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})}))})),[u,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new d(s.result,e.oldVersion,s.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var a,o,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){o=t(a);for(var h=0;h<o.length;h++)r.call(a,o[h])&&(l[o[h]]=a[o[h]])}}return l}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(418),i=n(294),s=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,S=60106,k=60107,T=60108,_=60114,N=60109,I=60110,x=60112,L=60113,A=60120,D=60115,R=60116,O=60128,P=60129,M=60130,F=60131,j=60132;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;C=V("react.element"),S=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),_=V("react.profiler"),N=V("react.provider"),I=V("react.context"),x=V("react.forward_ref"),L=V("react.suspense"),A=V("react.suspense_list"),D=V("react.memo"),R=V("react.lazy"),V("react.scope"),O=V("react.opaque.id"),P=V("react.debug_trace_mode"),M=V("react.offscreen"),F=V("react.legacy_hidden"),j=V("react.cache")}var U,z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var $=!1;function H(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=o);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 1:return H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case A:return"SuspenseList";case j:return"Cache"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 23:return"LegacyHidden";case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?se(e,t.type,n):t.hasOwnProperty("defaultValue")&&se(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function se(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ae=Array.isArray;function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ae(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function he(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ce=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ne=null,Ie=null;function xe(e){if(e=Ei(e)){if("function"!=typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),_e(e.stateNode,e.type,t))}}function Le(e){Ne?Ie?Ie.push(e):Ie=[e]:Ne=e}function Ae(){if(Ne){var e=Ne,t=Ie;if(Ie=Ne=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function De(e,t){return e(t)}function Re(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return De(e,t,n)}finally{Oe=!1,(null!==Ne||null!==Ie)&&(Re(),Ae())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(h)try{var je={};Object.defineProperty(je,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(me){Fe=!1}function Ve(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ue=!1,ze=null,qe=!1,Be=null,$e={onError:function(e){Ue=!0,ze=e}};function He(e,t,n,r,i,s,a,o,l){Ue=!1,ze=null,Ve.apply($e,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(2050&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(Ke(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ge(i),e;if(s===r)return Ge(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ze=s.unstable_shouldYield,et=s.unstable_requestPaint,tt=s.unstable_now,nt=s.unstable_getCurrentPriorityLevel,rt=s.unstable_ImmediatePriority,it=s.unstable_UserBlockingPriority,st=s.unstable_NormalPriority,at=(s.unstable_LowPriority,s.unstable_IdlePriority),ot=null,lt=null,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!=(s&=a)&&(r=ht(s))}else 0!=(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-vt(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-vt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(bt(e)/wt|0)|0},bt=Math.log,wt=Math.LN2,Et=0;function Ct(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var St,kt,Tt,_t,Nt,It=!1,xt=[],Lt=null,At=null,Dt=null,Rt=new Map,Ot=new Map,Pt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function jt(e,t,n,r,i){if(e=Ft(e,t,n,r,i),xt.push(e),1===xt.length)for(;null!==e.blockedOn&&null!==(t=Ei(e.blockedOn))&&(St(t),null===e.blockedOn);)$t()}function Vt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ut(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=Ft(t,n,r,i,s),null!==t&&null!==(t=Ei(t))&&Tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=wi(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Nt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ei(n))&&Tt(t),e.blockedOn=n,!1;t.shift()}return!0}function Bt(e,t,n){qt(e)&&n.delete(t)}function $t(){for(It=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Ei(e.blockedOn))&&kt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&xt.shift()}null!==Lt&&qt(Lt)&&(Lt=null),null!==At&&qt(At)&&(At=null),null!==Dt&&qt(Dt)&&(Dt=null),Rt.forEach(Bt),Ot.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$t)))}function Kt(e){function t(t){return Ht(t,e)}if(0<xt.length){Ht(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Ht(Lt,e),null!==At&&Ht(At,e),null!==Dt&&Ht(Dt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)zt(n),null===n.blockedOn&&Pt.shift()}var Wt=E.ReactCurrentBatchConfig,Gt=!0;function Qt(e,t,n,r){var i=Et,s=Wt.transition;Wt.transition=0;try{Et=1,Xt(e,t,n,r)}finally{Et=i,Wt.transition=s}}function Yt(e,t,n,r){var i=Et,s=Wt.transition;Wt.transition=0;try{Et=4,Xt(e,t,n,r)}finally{Et=i,Wt.transition=s}}function Xt(e,t,n,r){if(Gt){var i=0==(4&t);if(i&&0<xt.length&&-1<Mt.indexOf(e))jt(null,e,t,n,r);else{var s=Jt(e,t,n,r);if(null===s)i&&Vt(e,r);else{if(i){if(-1<Mt.indexOf(e))return void jt(s,e,t,n,r);if(function(e,t,n,r,i){switch(t){case"focusin":return Lt=Ut(Lt,e,t,n,r,i),!0;case"dragenter":return At=Ut(At,e,t,n,r,i),!0;case"mouseover":return Dt=Ut(Dt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Ut(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Ut(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;Vt(e,r)}Wr(e,t,r,null,n)}}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=wi(i))){var s=Ke(i);if(null===s)i=null;else{var a=s.tag;if(13===a){if(null!==(i=We(s)))return i;i=null}else if(3===a){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wr(e,t,r,i,n),null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nt()){case rt:return 1;case it:return 4;default:return 16;case at:return 536870912}default:return 16}}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function ln(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(fn),pn=r({},fn,{view:0,detail:0}),mn=ln(pn),gn=r({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=ln(gn),vn=ln(r({},gn,{dataTransfer:0})),bn=ln(r({},pn,{relatedTarget:0})),wn=ln(r({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=r({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=ln(En),Sn=ln(r({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Nn}var xn=r({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=ln(xn),An=ln(r({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=ln(r({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=ln(r({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=r({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=ln(On),Mn=[9,13,27,32],Fn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Vn=h&&"TextEvent"in window&&!jn,Un=h&&(!Fn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Le(r),0<(t=Qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){zr(e,0)}function Jn(e){if(J(Ci(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"==typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",sr),Yn=Qn=null)}function sr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Gn(t,Yn,e,Te(e)),Pe(Xn,t)}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ir()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function lr(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function hr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!f.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function yr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&gr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dr(n,s);var a=dr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=h&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,Er=null,Cr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==br||br!==Z(r)||(r="selectionStart"in(r=br)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&hr(Er,r)||(Er=r,0<(r=Qr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Nr={};function Ir(e){if(_r[e])return _r[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return _r[e]=n[t];return e}h&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var xr=Ir("animationend"),Lr=Ir("animationiteration"),Ar=Ir("animationstart"),Dr=Ir("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Fr=Or[Mr];Pr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Lr,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(He.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=ze;Ue=!1,ze=null,qe||(qe=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,o,u),s=l}}}if(qe)throw e=Be,qe=!1,Be=null,e}function qr(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[$r]){e[$r]=!0,o.forEach((function(t){"selectionchange"!==t&&(Vr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Br("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Zt(t)){case 1:var i=Qt;break;case 4:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=wi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=s,i=Te(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=dn,u=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case xr:case Lr:case Ar:l=wn;break;case Dr:l=Rn;break;case"scroll":l=mn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Me(p,f))&&c.push(Gr(p,m,d))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!wi(u)&&!u[gi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?wi(u):null)&&(u!==(h=Ke(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=yn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?o:Ci(l),d=null==u?o:Ci(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=d,m=null,wi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Yr(d))p++;for(d=0,m=f;m;m=Yr(m))d++;for(;0<p-d;)c=Yr(c),p--;for(;0<d-p;)f=Yr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Yr(c),f=Yr(f)}c=null}else c=null;null!==l&&Xr(a,o,l,c,!1),null!==u&&null!==h&&Xr(a,h,u,c,!0)}if("select"===(l=(o=r?Ci(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Wn(o))if(er)g=ur;else{g=or;var y=ar}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=lr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&se(o,"number",o.value)),y=r?Ci(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(br=y,wr=r,Er=null);break;case"focusout":Er=wr=br=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Sr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(a,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Qr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=$n(n)))&&(b.data=v))),(v=Vn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Qr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}zr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Me(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Me(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Me(n,s))&&a.unshift(Gr(n,l,o)):i||null!=(l=Me(n,s))&&a.push(Gr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Jr(){}var Zr=null,ei=null;function ti(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,si="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Kt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Kt(t)}function ui(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t&&("$"===(t=e.data)||"$!"===t||"$?"===t))break}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=0,di=Math.random().toString(36).slice(2),pi="__reactFiber$"+di,mi="__reactProps$"+di,gi="__reactContainer$"+di,yi="__reactEvents$"+di,vi="__reactListeners$"+di,bi="__reactHandles$"+di;function wi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[pi])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function Ei(e){return!(e=e[pi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[mi]||null}var ki=[],Ti=-1;function _i(e){return{current:e}}function Ni(e){0>Ti||(e.current=ki[Ti],ki[Ti]=null,Ti--)}function Ii(e,t){Ti++,ki[Ti]=e.current,e.current=t}var xi={},Li=_i(xi),Ai=_i(!1),Di=xi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!=e.childContextTypes}function Pi(){Ni(Ai),Ni(Li)}function Mi(e,t,n){if(Li.current!==xi)throw Error(a(168));Ii(Li,t),Ii(Ai,n)}function Fi(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(a(108,G(e)||"Unknown",s));return r({},n,i)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Di=Li.current,Ii(Li,e),Ii(Ai,Ai.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ai),Ni(Li),Ii(Li,e)):Ni(Ai),Ii(Ai,n)}var Ui=null,zi=!1,qi=!1;function Bi(){if(!qi&&null!==Ui){qi=!0;var e=0,t=Et;try{var n=Ui;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,zi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Xe(rt,Bi),t}finally{Et=t,qi=!1}}return null}var $i=E.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=_i(null),Wi=null,Gi=null,Qi=null;function Yi(){Qi=Gi=Wi=null}function Xi(e){var t=Ki.current;Ni(Ki),e._currentValue=t}function Ji(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Zi(e,t){Wi=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ga=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Wi)throw Error(a(308));Gi=e,Wi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ts=null,ns=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Wo&&0!=(1&e.mode)&&0==(2&Ko)?(null===(e=n.interleaved)?(t.next=t,null===ts?ts=[n]:ts.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function us(e,t,n,i){var s=e.updateQueue;ns=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var h=e.alternate;null!==h&&(l=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===l?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u)}if(null!==a){var f=s.baseState;for(o=0,h=c=u=null,l=a;;){var d=l.lane,p=l.eventTime;if((i&d)===d){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(d=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=-32769&m.flags|128;case 0:if(null==(d="function"==typeof(m=g.payload)?m.call(p,f,d):m))break e;f=r({},f,d);break e;case 2:ns=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(c=h=p,u=f):h=h.next=p,o|=d;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(d=l).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===h&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);el|=o,e.lanes=o,e.memoizedState=f}}function cs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var hs=(new i.Component).refs;function fs(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ds={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ml(),i=gl(e),s=ss(r,i);s.payload=t,null!=n&&(s.callback=n),as(e,s),null!==(t=yl(e,i,r))&&os(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ml(),i=gl(e),s=ss(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),as(e,s),null!==(t=yl(e,i,r))&&os(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ml(),r=gl(e),i=ss(n,r);i.tag=2,null!=t&&(i.callback=t),as(e,i),null!==(t=yl(e,r,n))&&os(t,e,r)}};function ps(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function ms(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"==typeof s&&null!==s?s=es(s):(i=Oi(t)?Di:Li.current,s=(r=null!=(r=t.contextTypes))?Ri(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ds,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function gs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ds.enqueueReplaceState(t,t.state,null)}function ys(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hs,rs(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=es(s):(s=Oi(t)?Di:Li.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(fs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ds.enqueueReplaceState(i,i.state,null),us(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=1048580)}function vs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===hs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function Es(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===R&&ws(s)===t.type)?((r=i(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=Ql(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Jl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Ql(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case S:return(t=Zl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(ae(t)||q(t))return(t=Yl(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(ae(n)||q(n))return null!==i?null:h(e,t,n,r,null);bs(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(ae(r)||q(r))return h(t,e=e.get(n)||null,r,i,null);bs(t,r)}return null}function m(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),u;if(null===h){for(;m<o.length;m++)null!==(h=f(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,o,l,u){var c=q(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(i,v.value,u))&&(o=s(v,o,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function e(r,s,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case C:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===R&&ws(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=vs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((s=Yl(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Ql(a.type,a.key,a.props,null,r.mode,l)).ref=vs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Zl(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(c=a._init)(a._payload),l)}if(ae(a))return m(r,s,a,l);if(q(a))return g(r,s,a,l);bs(r,a)}return"string"==typeof a||"number"==typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Jl(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Cs=Es(!0),Ss=Es(!1),ks={},Ts=_i(ks),_s=_i(ks),Ns=_i(ks);function Is(e){if(e===ks)throw Error(a(174));return e}function xs(e,t){switch(Ii(Ns,t),Ii(_s,e),Ii(Ts,ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Ts),Ii(Ts,t)}function Ls(){Ni(Ts),Ni(_s),Ni(Ns)}function As(e){Is(Ns.current);var t=Is(Ts.current),n=de(t,e.type);t!==n&&(Ii(_s,e),Ii(Ts,n))}function Ds(e){_s.current===e&&(Ni(Ts),Ni(_s))}var Rs=_i(0);function Os(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ps=null,Ms=null,Fs=!1;function js(e,t){var n=Kl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Vs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,retryLane:1073741824},(n=Kl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,!0);default:return!1}}function Us(e){if(Fs){var t=Ms;if(t){var n=t;if(!Vs(e,t)){if(!(t=ci(n.nextSibling))||!Vs(e,t))return e.flags=-2049&e.flags|2,Fs=!1,void(Ps=e);js(Ps,n)}Ps=e,Ms=ci(t.firstChild)}else e.flags=-2049&e.flags|2,Fs=!1,Ps=e}}function zs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ps=e}function qs(e){if(e!==Ps)return!1;if(!Fs)return zs(e),Fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t)for(t=Ms;t;)js(e,t),t=ci(t.nextSibling);if(zs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ms=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ms=null}}else Ms=Ps?ci(e.stateNode.nextSibling):null;return!0}function Bs(){Ms=Ps=null,Fs=!1}var $s=[];function Hs(){for(var e=0;e<$s.length;e++)$s[e]._workInProgressVersionPrimary=null;$s.length=0}function Ks(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}var Ws=E.ReactCurrentDispatcher,Gs=E.ReactCurrentBatchConfig,Qs=0,Ys=null,Xs=null,Js=null,Zs=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,s){if(Qs=s,Ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=null===e||null===e.memoizedState?Ra:Oa,e=n(r,i),ea){s=0;do{if(ea=!1,!(25>s))throw Error(a(301));s+=1,Js=Xs=null,t.updateQueue=null,Ws.current=Pa,e=n(r,i)}while(ea)}if(Ws.current=Da,t=null!==Xs&&null!==Xs.next,Qs=0,Js=Xs=Ys=null,Zs=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Ys.memoizedState=Js=e:Js=Js.next=e,Js}function sa(){if(null===Xs){var e=Ys.alternate;e=null!==e?e.memoizedState:null}else e=Xs.next;var t=null===Js?Ys.memoizedState:Js.next;if(null!==t)Js=t,Xs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xs=e).memoizedState,baseState:Xs.baseState,baseQueue:Xs.baseQueue,queue:Xs.queue,next:null},null===Js?Ys.memoizedState=Js=e:Js=Js.next=e}return Js}function aa(e,t){return"function"==typeof t?t(e):t}function oa(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((Qs&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(l=u=f,o=r):u=u.next=f,Ys.lanes|=h,el|=h}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,cr(r,t.memoizedState)||(Ga=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Ys.lanes|=s,el|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function la(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);cr(s,t.memoizedState)||(Ga=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ua(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qs&e)===e)&&(t._workInProgressVersionPrimary=r,$s.push(t))),e)return n(t._source);throw $s.push(t),Error(a(350))}function ca(e,t,n,r){var i=Wo;if(null===i)throw Error(a(349));var s=t._getVersion,o=s(t._source),l=Ws.current,u=l.useState((function(){return ua(i,t,n)})),c=u[1],h=u[0];u=Js;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Ys;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=s(t._source);cr(o,e)||(e=n(t._source),cr(h,e)||(c(e),e=gl(g),i.mutableReadLanes|=e&i.pendingLanes),yt(i,i.mutableReadLanes))}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=gl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(f,r)||((e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=c=Aa.bind(null,Ys,e),u.queue=e,u.baseQueue=null,h=ua(i,t,n),u.memoizedState=u.baseState=h),h}function ha(e,t,n){return ca(sa(),e,t,n)}function fa(e,t){var n=Ys,r=ia(),i=t();r.memoizedState=i;var s={value:i,getSnapshot:t};if(r.queue=s,Ca(ma.bind(null,n,s,e),[e]),n.flags|=1024,va(5,pa.bind(null,n,s,i,t),void 0,null),null===Wo)throw Error(a(349));return 0!=(30&Qs)||da(n,t,i),i}function da(e,t,n){e.flags|=8192,e={getSnapshot:t,value:n},null===(t=Ys.updateQueue)?(t={lastEffect:null,stores:null},Ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function pa(e,t,n,r){t.value=n,t.getSnapshot=r,ga(t)&&yl(e,1,-1)}function ma(e,t,n){return n((function(){ga(t)&&yl(e,1,-1)}))}function ga(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(e){return!0}}function ya(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t.queue=e,e=e.dispatch=Aa.bind(null,Ys,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ys.updateQueue)?(t={lastEffect:null,stores:null},Ys.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ba(){return sa().memoizedState}function wa(e,t,n,r){var i=ia();Ys.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function Ea(e,t,n,r){var i=sa();r=void 0===r?null:r;var s=void 0;if(null!==Xs){var a=Xs.memoizedState;if(s=a.destroy,null!==r&&na(r,a.deps))return void(i.memoizedState=va(t,n,s,r))}Ys.flags|=e,i.memoizedState=va(1|t,n,s,r)}function Ca(e,t){return wa(2098176,4,e,t)}function Sa(e,t){return Ea(1024,4,e,t)}function ka(e,t){return Ea(4,2,e,t)}function Ta(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!=n?n.concat([e]):null,Ea(4,2,Ta.bind(null,t,e),n)}function Na(){}function Ia(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function La(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=Gs.transition;Gs.transition=1;try{e(!1),t()}finally{Et=n,Gs.transition=r}}function Aa(e,t,n){var r=ml(),i=gl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.alternate;if(e===Ys||null!==a&&a===Ys)ea=Zs=!0,null===(i=t.pending)?s.next=s:(s.next=i.next,i.next=s),t.pending=s;else{if(null!==Wo&&0!=(1&e.mode)&&0==(2&Ko)){var o=t.interleaved;null===o?(s.next=s,null===ts?ts=[t]:ts.push(t)):(s.next=o.next,o.next=s),t.interleaved=s}else null===(o=t.pending)?s.next=s:(s.next=o.next,o.next=s),t.pending=s;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=a(l,n);if(s.eagerReducer=a,s.eagerState=u,cr(u,l))return}catch(e){}s=yl(e,i,r),0!=(4194240&i)&&null!==s&&(e=t.lanes,i|=e&=s.pendingLanes,t.lanes=i,yt(s,i))}}var Da={readContext:es,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Ra={readContext:es,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:es,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wa(1048580,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(1048580,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Aa.bind(null,Ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ia().memoizedState=e},useState:ya,useDebugValue:Na,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return Ca((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return e=La.bind(null,e[1]),ia().memoizedState=e,[t,e]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(r,e,t,n)},useSyncExternalStore:fa,useOpaqueIdentifier:function(){if(Fs){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(fi++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0==(1&Ys.mode)&&(Ys.flags|=1024,va(5,(function(){n("r:"+(fi++).toString(36))}),void 0,null)),t}return ya(t="r:"+(fi++).toString(36)),t},unstable_isNewReconciler:!1},Oa={readContext:es,useCallback:Ia,useContext:es,useEffect:Sa,useImperativeHandle:_a,useLayoutEffect:ka,useMemo:xa,useReducer:oa,useRef:ba,useState:function(){return oa(aa)},useDebugValue:Na,useDeferredValue:function(e){var t=oa(aa),n=t[0],r=t[1];return Sa((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){return[oa(aa)[0],sa().memoizedState]},useMutableSource:ha,useSyncExternalStore:function(e,t){var n=Ys,r=sa(),i=t(),s=!cr(r.memoizedState,i);if(s&&(r.memoizedState=i,Ga=!0),r=r.queue,Sa(ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Js&&1&Js.memoizedState.tag){if(n.flags|=1024,va(5,pa.bind(null,n,r,i,t),void 0,null),null===Wo)throw Error(a(349));0!=(30&Qs)||da(n,t,i)}return i},useOpaqueIdentifier:function(){return oa(aa)[0]},unstable_isNewReconciler:!1},Pa={readContext:es,useCallback:Ia,useContext:es,useEffect:Sa,useImperativeHandle:_a,useLayoutEffect:ka,useMemo:xa,useReducer:la,useRef:ba,useState:function(){return la(aa)},useDebugValue:Na,useDeferredValue:function(e){var t=la(aa),n=t[0],r=t[1];return Sa((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){return[la(aa)[0],sa().memoizedState]},useMutableSource:ha,useSyncExternalStore:fa,useOpaqueIdentifier:function(){return la(aa)[0]},unstable_isNewReconciler:!1};function Ma(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Fa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ja,Va,Ua,za="function"==typeof WeakMap?WeakMap:Map;function qa(e,t,n){(n=ss(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sl||(sl=!0,al=r),Fa(0,t)},n}function Ba(e,t,n){(n=ss(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fa(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){Fa(0,t),"function"!=typeof r&&(null===ol?ol=new Set([this]):ol.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function $a(e,t){if(!Fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=3670016&i.subtreeFlags,r|=3670016&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Ha(t),null;case 3:return i=t.stateNode,Ls(),Ni(Ai),Ni(Li),Hs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(qs(t)?t.flags|=4:i.hydrate||(t.flags|=512)),Ha(t),null;case 5:Ds(t);var s=Is(Ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Va(e,t,n,i),e.ref!==t.ref&&(t.flags|=256,t.flags|=524288);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Ha(t),null}if(e=Is(Ts.current),qs(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[pi]=t,i[mi]=o,n){case"dialog":qr("cancel",i),qr("close",i);break;case"iframe":case"object":case"embed":qr("load",i);break;case"video":case"audio":for(e=0;e<jr.length;e++)qr(jr[e],i);break;case"source":qr("error",i);break;case"img":case"image":case"link":qr("error",i),qr("load",i);break;case"details":qr("toggle",i);break;case"input":te(i,o),qr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},qr("invalid",i);break;case"textarea":ue(i,o),qr("invalid",i)}for(var u in Se(n,o),e=null,o)o.hasOwnProperty(u)&&(s=o[u],"children"===u?"string"==typeof s?i.textContent!==s&&(e=["children",s]):"number"==typeof s&&i.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&qr("scroll",i));switch(n){case"input":X(i),ie(i,o,!0);break;case"textarea":X(i),he(i);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(i.onclick=Jr)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=fe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),"select"===n&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[pi]=t,e[mi]=i,ja(e,t),t.stateNode=e,u=ke(n,i),n){case"dialog":qr("cancel",e),qr("close",e),s=i;break;case"iframe":case"object":case"embed":qr("load",e),s=i;break;case"video":case"audio":for(s=0;s<jr.length;s++)qr(jr[s],e);s=i;break;case"source":qr("error",e),s=i;break;case"img":case"image":case"link":qr("error",e),qr("load",e),s=i;break;case"details":qr("toggle",e),s=i;break;case"input":te(e,i),s=ee(e,i),qr("invalid",e);break;default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=r({},i,{value:void 0}),qr("invalid",e);break;case"textarea":ue(e,i),s=le(e,i),qr("invalid",e)}Se(n,s);var c=s;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];"style"===o?Ee(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===o?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=h&&"onScroll"===o&&qr("scroll",e):null!=h&&w(e,o,h,u))}switch(n){case"input":X(e),ie(e,i,!1);break;case"textarea":X(e),he(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?oe(e,!!i.multiple,o,!1):null!=i.defaultValue&&oe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Jr)}ti(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=256,t.flags|=524288)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Ua(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=Is(Ns.current),Is(Ts.current),qs(t)?(i=t.stateNode,n=t.memoizedProps,i[pi]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[pi]=t,t.stateNode=i)}return Ha(t),null;case 13:if(Ni(Rs),null!==(i=t.memoizedState)&&null!==i.dehydrated){if(null===e){if(!qs(t))throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[pi]=t}else Bs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ha(t),null}return 0!=(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?qs(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=4096,0!=(1&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Rs.current)?0===Jo&&(Jo=3):Ll())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Ls(),null===e&&Hr(t.stateNode.containerInfo),Ha(t),null;case 10:return Xi(t.type._context),Ha(t),null;case 19:if(Ni(Rs),null===(o=t.memoizedState))return Ha(t),null;if(i=0!=(128&t.flags),null===(u=o.rendering))if(i)$a(o,!1);else{if(0!==Jo||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=Os(e))){for(t.flags|=128,$a(o,!1),null!==(i=u.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=3670018,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(Rs,1&Rs.current|2),t.child}e=e.sibling}null!==o.tail&&tt()>il&&(t.flags|=128,i=!0,$a(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Os(u))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$a(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Fs)return Ha(t),null}else 2*tt()-o.renderingStartTime>il&&1073741824!==n&&(t.flags|=128,i=!0,$a(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tt(),t.sibling=null,n=Rs.current,Ii(Rs,i?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return _l(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&"unstable-defer-without-hiding"!==i.mode&&23!==t.tag&&(t.flags|=4096),n&&0!=(1&t.mode)?0!=(1073741824&Yo)&&(Ha(t),23!==t.tag&&6&t.subtreeFlags&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4096)):Ha(t),null}throw Error(a(156,t.tag))}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Is(Ts.current);var a,o=null;switch(n){case"input":s=ee(e,s),i=ee(e,i),o=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),o=[];break;case"textarea":s=le(e,s),i=le(e,i),o=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(e.onclick=Jr)}for(h in Se(n,i),n=null,s)if(!i.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var c=i[h];if(u=null!=s?s[h]:void 0,i.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&qr("scroll",e),o||u===c||(o=[])):"object"==typeof c&&null!==c&&c.$$typeof===O?c.toString():(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},Ua=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa=E.ReactCurrentOwner,Ga=!1;function Qa(e,t,n,r){t.child=null===e?Ss(t,null,n,r):Cs(t,e.child,n,r)}function Ya(e,t,n,r,i){n=n.render;var s=t.ref;return Zi(t,i),r=ra(e,t,n,r,s,i),null===e||Ga?(t.flags|=1,Qa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,yo(e,t,i))}function Xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Wl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ql(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ja(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:hr)(a,r)&&e.ref===t.ref)return yo(e,t,i)}return t.flags|=1,(e=Gl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ja(e,t,n,r,i){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ga=!1,0==(e.lanes&i))return t.lanes=e.lanes,yo(e,t,i);0!=(65536&e.flags)&&(Ga=!0)}return to(e,t,n,r,i)}function Za(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ii(Xo,Yo),Yo|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ii(Xo,Yo),Yo|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,Ii(Xo,Yo),Yo|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Xo,Yo),Yo|=r;return Qa(e,t,i,n),t.child}function eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=256,t.flags|=524288)}function to(e,t,n,r,i){var s=Oi(n)?Di:Li.current;return s=Ri(t,s),Zi(t,i),n=ra(e,t,n,r,s,i),null===e||Ga?(t.flags|=1,Qa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,yo(e,t,i))}function no(e,t,n,r,i){if(Oi(n)){var s=!0;ji(t)}else s=!1;if(Zi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ms(t,n,r),ys(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?es(u):Ri(t,u=Oi(n)?Di:Li.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&gs(t,a,r,u),ns=!1;var f=t.memoizedState;a.state=f,us(t,r,a,i),l=t.memoizedState,o!==r||f!==l||Ai.current||ns?("function"==typeof c&&(fs(t,n,c,r),l=t.memoizedState),(o=ns||ps(t,n,o,r,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=1048580)):("function"==typeof a.componentDidMount&&(t.flags|=1048580),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=1048580),r=!1)}else{a=t.stateNode,is(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Hi(t.type,o),a.props=u,h=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?es(l):Ri(t,l=Oi(n)?Di:Li.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||f!==l)&&gs(t,a,r,l),ns=!1,f=t.memoizedState,a.state=f,us(t,r,a,i);var p=t.memoizedState;o!==h||f!==p||Ai.current||ns?("function"==typeof d&&(fs(t,n,d,r),p=t.memoizedState),(u=ns||ps(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=512)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=512),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=512),r=!1)}return ro(e,t,n,r,s,i)}function ro(e,t,n,r,i,s){eo(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&Vi(t,n,!1),yo(e,t,s);r=t.stateNode,Wa.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Cs(t,e.child,null,s),t.child=Cs(t,null,o,s)):Qa(e,t,o,s),t.memoizedState=r.state,i&&Vi(t,n,!0),t.child}function io(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),xs(e,t.containerInfo)}var so={dehydrated:null,retryLane:0};function ao(e){return{baseLanes:e,cachePool:null}}function oo(e,t,n){var r,i=t.pendingProps,s=Rs.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||!0===i.unstable_avoidThisFallback||(s|=1),Ii(Rs,1&s),null===e)return Us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(e=i.children,s=i.fallback,a?(e=uo(t,e,s,n),t.child.memoizedState=ao(n),t.memoizedState=so,e):"number"==typeof i.unstable_expectedLoadTime?(e=uo(t,e,s,n),t.child.memoizedState=ao(n),t.memoizedState=so,t.lanes=4194304,e):lo(t,e));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(o)return null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Xl({mode:"visible",children:i.children},s,0,null),(a=Yl(a,s,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!=(1&t.mode)&&Cs(t,e.child,null,n),t.child.memoizedState=ao(n),t.memoizedState=so,a);if(0!=(8&Ko)||0==(1&t.mode)||"$!"===r.data)t=fo(e,t,n);else if(i=0!=(n&e.childLanes),Ga||i){if(null!==(i=Wo)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(i=0!=(a&(i.suspendedLanes|n))?0:a)&&i!==s.retryLane&&(s.retryLane=i,yl(e,i,-1))}Ll(),t=fo(e,t,n)}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=ql.bind(null,e),r._reactRetry=t,t=null):(Ms=ci(r.nextSibling),zs(t),Fs=!0,(t=lo(t,t.pendingProps.children)).flags|=2048);return t}return a?(i=ho(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?ao(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=so,i):(n=co(e,t,i.children,n),t.memoizedState=null,n)}return a?(i=ho(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?ao(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=so,i):(n=co(e,t,i.children,n),t.memoizedState=null,n)}function lo(e,t){return(t=Xl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function uo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Xl(t,i,0,null),n=Yl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function co(e,t,n,r){var i=e.child;return e=i.sibling,n=Gl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ho(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Gl(e,o)).subtreeFlags=3670016&e.subtreeFlags,null!==a?r=Gl(a,r):(r=Yl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function fo(e,t,n){return Cs(t,e.child,null,n),(e=lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function po(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ji(e.return,t)}function mo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qa(e,t,r.children,n),0!=(2&(r=Rs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&po(e,n);else if(19===e.tag)po(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(Rs,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Os(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Os(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mo(t,!0,n,null,s);break;case"together":mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),el|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function vo(e){switch(e.tag){case 1:Oi(e.type)&&Pi();var t=e.flags;return 32768&t?(e.flags=-32769&t|128,e):null;case 3:if(Ls(),Ni(Ai),Ni(Li),Hs(),0!=(128&(t=e.flags)))throw Error(a(285));return e.flags=-32769&t|128,e;case 5:return Ds(e),null;case 13:if(Ni(Rs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));Bs()}return 32768&(t=e.flags)?(e.flags=-32769&t|128,e):null;case 19:return Ni(Rs),null;case 4:return Ls(),null;case 10:return Xi(e.type._context),null;case 22:case 23:return _l(),null;default:return null}}var bo=!1,wo=!1,Eo="function"==typeof WeakSet?WeakSet:Set,Co=null;function So(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Vl(e,t,n)}else n.current=null}var ko=!1;function To(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;if(i.destroy=void 0,void 0!==s){var a=t,o=n;try{s()}catch(e){Vl(a,o,e)}}}i=i.next}while(i!==r)}}function _o(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function No(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Io(e,t,n){if(lt&&"function"==typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(ot,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;if(i=i.tag,void 0!==s&&0!=(2&i)){i=t;var a=n;try{s()}catch(e){Vl(i,a,e)}}r=r.next}while(r!==e)}break;case 1:if(So(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Vl(t,n,e)}break;case 5:So(t,n);break;case 4:Oo(e,t,n)}}function xo(e){var t=e.alternate;null!==t&&(e.alternate=null,xo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pi],delete t[mi],delete t[yi],delete t[vi],delete t[bi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lo(e){return 5===e.tag||3===e.tag||4===e.tag}function Ao(e){e:{for(var t=e.return;null!==t;){if(Lo(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}32&n.flags&&(ye(t,""),n.flags&=-33);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Lo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Do(e,n,t):Ro(e,n,t)}function Do(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(Do(e,t,n),e=e.sibling;null!==e;)Do(e,t,n),e=e.sibling}function Ro(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ro(e,t,n),e=e.sibling;null!==e;)Ro(e,t,n),e=e.sibling}function Oo(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag){e:for(var l=e,u=s,c=n,h=u;;)if(Io(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=s.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(s.stateNode)}else if(18===s.tag)i?(l=r,u=s.stateNode,8===l.nodeType?li(l.parentNode,u):1===l.nodeType&&li(l,u),Kt(l)):li(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Io(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function Po(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return void To(3,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[mi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ne(n,r),ke(e,i),t=ke(e,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];"style"===o?Ee(n,l):"dangerouslySetInnerHTML"===o?ge(n,l):"children"===o?ye(n,l):w(n,o,l,t)}switch(e){case"input":re(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Kt(n.containerInfo)));case 13:case 19:return void function(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Eo),t.forEach((function(t){var r=Bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}(t)}throw Error(a(163))}function Mo(e,t,n){Co=e,Fo(e,t,n)}function Fo(e,t,n){for(var r=0!=(1&e.mode);null!==Co;){var i=Co,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||bo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||wo;o=bo;var u=wo;if(bo=a,(wo=l)&&!u)for(Co=i;null!==Co;)l=(a=Co).child,22===a.tag&&null!==a.memoizedState?Uo(i):null!==l?(l.return=a,Co=l):Uo(i);for(;null!==s;)Co=s,Fo(s,t,n),s=s.sibling;Co=i,bo=o,wo=u}jo(e)}else 0!=(4420&i.subtreeFlags)&&null!==s?(s.return=i,Co=s):jo(e)}}function jo(e){for(;null!==Co;){var t=Co;if(0!=(4420&t.flags)){var n=t.alternate;try{if(0!=(4420&t.flags))switch(t.tag){case 0:case 11:case 15:wo||_o(3,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!wo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&cs(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}cs(t,o,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&(n=l,ti(t.type,t.memoizedProps)&&n.focus());break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Kt(h)}}}break;default:throw Error(a(163))}wo||256&t.flags&&No(t)}catch(e){Vl(t,t.return,e)}}if(t===e){Co=null;break}if(null!==(n=t.sibling)){n.return=t.return,Co=n;break}Co=t.return}}function Vo(e){for(;null!==Co;){var t=Co;if(t===e){Co=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Co=n;break}Co=t.return}}function Uo(e){for(;null!==Co;){var t=Co;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_o(2,t)}catch(e){Vl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Vl(t,i,e)}}var s=t.return;try{No(t)}catch(e){Vl(t,s,e)}break;case 5:var a=t.return;try{No(t)}catch(e){Vl(t,a,e)}}}catch(e){Vl(t,t.return,e)}if(t===e){Co=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Co=o;break}Co=t.return}}var zo,qo=Math.ceil,Bo=E.ReactCurrentDispatcher,$o=E.ReactCurrentOwner,Ho=E.ReactCurrentBatchConfig,Ko=0,Wo=null,Go=null,Qo=0,Yo=0,Xo=_i(0),Jo=0,Zo=null,el=0,tl=0,nl=0,rl=0,il=1/0,sl=!1,al=null,ol=null,ll=!1,ul=null,cl=0,hl=0,fl=null,dl=-1,pl=0;function ml(){return 0!=(6&Ko)?tt():-1!==dl?dl:dl=tt()}function gl(e){return 0==(1&e.mode)?1:0!=(2&Ko)&&0!==Qo?Qo&-Qo:0!==$i.transition?(0===pl&&(e=ut,0==(4194240&(ut<<=1))&&(ut=64),pl=e),pl):0!==(e=Et)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function yl(e,t,n){if(50<hl)throw hl=0,fl=null,Error(a(185));var r=vl(e,t);return null===r?null:(gt(r,t,n),r===Wo&&(0==(2&Ko)&&(tl|=t),4===Jo&&Cl(r,Qo)),bl(r,n),1===t&&0===Ko&&0==(1&e.mode)&&(il=tt()+500,zi&&Bi()),r)}function vl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function bl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-vt(a),l=1<<o,u=s[o];-1===u?0!=(l&r)&&0==(l&i)||(s[o]=dt(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}if(0===(r=ft(e,e===Wo?Qo:0)))null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?(n=Sl.bind(null,e),zi=!0,null===Ui?Ui=[n]:Ui.push(n)):(n=Sl.bind(null,e),null===Ui?Ui=[n]:Ui.push(n)),ai(Bi),n=null;else{switch(Ct(r)){case 1:n=rt;break;case 4:n=it;break;default:n=st;break;case 536870912:n=at}n=$l(n,wl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wl(e,t){if(dl=-1,pl=0,0!=(6&Ko))throw Error(a(327));var n=e.callbackNode;if(Fl()&&e.callbackNode!==n)return null;var r=ft(e,e===Wo?Qo:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=Al(e,r);else{t=r;var i=Ko;Ko|=2;var s=xl();for(Wo===e&&Qo===t||(il=tt()+500,Nl(e,t));;)try{Rl();break}catch(t){Il(e,t)}Yi(),Bo.current=s,Ko=i,null!==Go?t=0:(Wo=null,Qo=0,t=Jo)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=El(e,i)),1===t)throw n=Zo,Nl(e,0),Cl(e,r),bl(e,tt()),n;if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(8192&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cr(s(),i))return!1}catch(e){return!1}}}if(n=t.child,8192&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Al(e,r))&&0!==(s=pt(e))&&(r=s,t=El(e,s)),1===t))throw n=Zo,Nl(e,0),Cl(e,r),bl(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ml(e);break;case 3:if(Cl(e,r),(130023424&r)===r&&10<(t=rl+500-tt())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ml(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ml.bind(null,e),t);break}Ml(e);break;case 4:if(Cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-vt(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=tt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qo(r/1960))-r)){e.timeoutHandle=ri(Ml.bind(null,e),r);break}Ml(e);break;default:throw Error(a(329))}}return bl(e,tt()),e.callbackNode===n?wl.bind(null,e):null}function El(e,t){var n=Ko;return Ko|=8,e.hydrate&&(e.hydrate=!1,ui(e.containerInfo)),e=Al(e,t),Ko=n,e}function Cl(e,t){for(t&=~nl,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Sl(e){if(0!=(6&Ko))throw Error(a(327));Fl();var t=ft(e,0);if(0==(1&t))return bl(e,tt()),null;var n=Al(e,t);if(0!==e.tag&&2===n){var r=Ko;Ko|=8,e.hydrate&&(e.hydrate=!1,ui(e.containerInfo));var i=pt(e);0!==i&&(n=Al(e,t=i)),Ko=r}if(1===n)throw n=Zo,Nl(e,0),Cl(e,t),bl(e,tt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),bl(e,tt()),null}function kl(e,t){var n=Ko;Ko|=1;try{return e(t)}finally{0===(Ko=n)&&(il=tt()+500,zi&&Bi())}}function Tl(e){null!==ul&&0===ul.tag&&0==(6&Ko)&&Fl();var t=Ko;Ko|=1;var n=Ho.transition,r=Et;try{if(Ho.transition=0,Et=1,e)return e()}finally{Et=r,Ho.transition=n,0==(6&(Ko=t))&&Bi()}}function _l(){Yo=Xo.current,Ni(Xo)}function Nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Go)for(n=Go.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pi();break;case 3:Ls(),Ni(Ai),Ni(Li),Hs();break;case 5:Ds(r);break;case 4:Ls();break;case 13:case 19:Ni(Rs);break;case 10:Xi(r.type._context);break;case 22:case 23:_l()}n=n.return}if(Wo=e,Go=Gl(e.current,null),Qo=Yo=t,Jo=0,Zo=null,nl=tl=el=0,null!==ts){for(e=0;e<ts.length;e++)if(null!==(n=(t=ts[e]).interleaved)){t.interleaved=null,r=n.next;var i=t.pending;if(null!==i){var s=i.next;i.next=r,n.next=s}t.pending=n}ts=null}}function Il(e,t){for(;;){var n=Go;try{if(Yi(),Ws.current=Da,Zs){for(var r=Ys.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zs=!1}if(Qs=0,Js=Xs=Ys=null,ea=!1,$o.current=null,null===n||null===n.return){Jo=1,Zo=t,Go=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Qo,o.flags|=16384,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o.tag;if(0==(1&o.mode)&&(0===c||11===c||15===c)){var h=o.alternate;h?(o.updateQueue=h.updateQueue,o.memoizedState=h.memoizedState,o.lanes=h.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=0!=(1&Rs.current),d=a;do{var p;if(p=13===d.tag){var m=d.memoizedState;p=null!==m?null!==m.dehydrated:!0!==d.memoizedProps.unstable_avoidThisFallback||!f}if(p){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0==(1&d.mode)&&d!==a){if(d.flags|=128,o.flags|=65536,o.flags&=-26437,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=ss(-1,1);v.tag=2,as(o,v)}o.lanes|=1;break e}l=void 0,o=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new za,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(o)){l.add(o);var w=Ul.bind(null,s,u,o);u.then(w,w)}d.flags|=32768,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(o)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Jo&&(Jo=2),l=Ma(l,o),d=a;do{switch(d.tag){case 3:s=l,d.flags|=32768,t&=-t,d.lanes|=t,ls(d,qa(0,s,t));break e;case 1:s=l;var E=d.type,C=d.stateNode;if(0==(128&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===ol||!ol.has(C)))){d.flags|=32768,t&=-t,d.lanes|=t,ls(d,Ba(d,s,t));break e}}d=d.return}while(null!==d)}Pl(n)}catch(e){t=e,Go===n&&null!==n&&(Go=n=n.return);continue}break}}function xl(){var e=Bo.current;return Bo.current=Da,null===e?Da:e}function Ll(){0!==Jo&&3!==Jo||(Jo=4),null===Wo||0==(268435455&el)&&0==(268435455&tl)||Cl(Wo,Qo)}function Al(e,t){var n=Ko;Ko|=2;var r=xl();for(Wo===e&&Qo===t||Nl(e,t);;)try{Dl();break}catch(t){Il(e,t)}if(Yi(),Ko=n,Bo.current=r,null!==Go)throw Error(a(261));return Wo=null,Qo=0,Jo}function Dl(){for(;null!==Go;)Ol(Go)}function Rl(){for(;null!==Go&&!Ze();)Ol(Go)}function Ol(e){var t=zo(e.alternate,e,Yo);e.memoizedProps=e.pendingProps,null===t?Pl(e):Go=t,$o.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(16384&t.flags)){if(null!==(n=Ka(n,t,Yo)))return void(Go=n)}else{if(null!==(n=vo(t)))return n.flags&=16383,void(Go=n);null!==e&&(e.flags|=16384,e.subtreeFlags=0,e.deletions=null)}if(null!==(t=t.sibling))return void(Go=t);Go=t=e}while(null!==t);0===Jo&&(Jo=5)}function Ml(e){var t=Et,n=Ho.transition;try{Ho.transition=0,Et=1,function(e,t){do{Fl()}while(null!==ul);if(0!=(6&Ko))throw Error(a(327));var n=e.finishedWork,r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,i),e===Wo&&(Go=Wo=null,Qo=0),0==(1040&n.subtreeFlags)&&0==(1040&n.flags)||ll||(ll=!0,$l(st,(function(){return Fl(),null}))),i=0!=(8054&n.flags),0!=(8054&n.subtreeFlags)||i){i=Ho.transition,Ho.transition=0;var s=Et;Et=1;var o=Ko;Ko|=4,$o.current=null,function(e,t){if(Zr=Gt,gr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=o+i),f!==s||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=o),d===s&&++h===r&&(u=o),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Gt=!1,Co=t;null!==Co;)if(e=(t=Co).child,0!=(516&t.subtreeFlags)&&null!==e)e.return=t,Co=e;else for(;null!==Co;){t=Co;try{var m=t.alternate;if(0!=(512&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Hi(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:ui(t.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(e){Vl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Co=e;break}Co=t.return}m=ko,ko=!1}(e,n),function(e,t){for(Co=t;null!==Co;){var n=(t=Co).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{Oo(e,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){Vl(i,t,e)}}if(n=t.child,0!=(6454&t.subtreeFlags)&&null!==n)n.return=t,Co=n;else for(;null!==Co;){t=Co;try{var a=t.flags;if(32&a&&ye(t.stateNode,""),256&a){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(4096&a)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(rl=tt())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,f=null!==h&&null!==h.memoizedState;e:{i=c;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var m=p.stateNode;if(i){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var y=p.stateNode,v=p.memoizedProps.style,b=null!=v&&v.hasOwnProperty("display")?v.display:null;y.style.display=we("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!f&&0!=(1&n.mode)){Co=n;for(var w=n.child;null!==w;){for(n=Co=w;null!==Co;){var E=(r=Co).child;switch(r.tag){case 0:case 11:case 14:case 15:To(2,r,r.return);break;case 1:So(r,r.return);var C=r.stateNode;if("function"==typeof C.componentWillUnmount){var S=r.return;try{C.props=r.memoizedProps,C.state=r.memoizedState,C.componentWillUnmount()}catch(e){Vl(r,S,e)}}break;case 5:So(r,r.return);break;case 22:if(null!==r.memoizedState){Vo(n);continue}}null!==E?(E.return=r,Co=E):Vo(n)}w=w.sibling}}}switch(2054&a){case 2:Ao(t),t.flags&=-3;break;case 6:Ao(t),t.flags&=-3,Po(t.alternate,t);break;case 2048:t.flags&=-2049;break;case 2052:t.flags&=-2049,Po(t.alternate,t);break;case 4:Po(t.alternate,t)}}catch(e){Vl(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,Co=n;break}Co=t.return}}}(e,n),yr(ei),Gt=!!Zr,ei=Zr=null,e.current=n,Mo(n,e,r),et(),Ko=o,Et=s,Ho.transition=i}else e.current=n;if(ll&&(ll=!1,ul=e,cl=r),0===(i=e.pendingLanes)&&(ol=null),function(e){if(lt&&"function"==typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(ot,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),bl(e,tt()),sl)throw sl=!1,e=al,al=null,e;0!=(1&cl)&&0!==e.tag&&Fl(),0!=(1&(i=e.pendingLanes))?e===fl?hl++:(hl=0,fl=e):hl=0,Bi()}(e)}finally{Ho.transition=n,Et=t}return null}function Fl(){if(null!==ul){var e=Ct(cl),t=Ho.transition,n=Et;try{if(Ho.transition=0,Et=16>e?16:e,null===ul)var r=!1;else{if(e=ul,ul=null,cl=0,0!=(6&Ko))throw Error(a(331));var i=Ko;for(Ko|=4,Co=e.current;null!==Co;){var s=Co,o=s.child;if(0!=(16&Co.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Co=c;null!==Co;){var h=Co;switch(h.tag){case 0:case 11:case 15:To(4,h,s)}var f=h.child;if(null!==f)f.return=h,Co=f;else for(;null!==Co;){var d=(h=Co).sibling,p=h.return;if(xo(h),h===c){Co=null;break}if(null!==d){d.return=p,Co=d;break}Co=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Co=s}}if(0!=(1040&s.subtreeFlags)&&null!==o)o.return=s,Co=o;else e:for(;null!==Co;){if(0!=(1024&(s=Co).flags))switch(s.tag){case 0:case 11:case 15:To(5,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Co=v;break e}Co=s.return}}var b=e.current;for(Co=b;null!==Co;){var w=(o=Co).child;if(0!=(1040&o.subtreeFlags)&&null!==w)w.return=o,Co=w;else e:for(o=b;null!==Co;){if(0!=(1024&(l=Co).flags))try{switch(l.tag){case 0:case 11:case 15:_o(5,l)}}catch(e){Vl(l,l.return,e)}if(l===o){Co=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Co=E;break e}Co=l.return}}if(Ko=i,Bi(),lt&&"function"==typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{Et=n,Ho.transition=t}}return!1}function jl(e,t,n){as(e,t=qa(0,t=Ma(n,t),1)),t=ml(),null!==(e=vl(e,1))&&(gt(e,1,t),bl(e,t))}function Vl(e,t,n){if(3===e.tag)jl(e,e,n);else for(t=e.return;null!==t;){if(3===t.tag){jl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ol||!ol.has(r))){as(t,e=Ba(t,e=Ma(n,e),1)),e=ml(),null!==(t=vl(t,1))&&(gt(t,1,e),bl(t,e));break}}t=t.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ml(),e.pingedLanes|=e.suspendedLanes&n,Wo===e&&(Qo&n)===n&&(4===Jo||3===Jo&&(130023424&Qo)===Qo&&500>tt()-rl?Nl(e,0):nl|=n),bl(e,t)}function zl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=ml();null!==(e=vl(e,t))&&(gt(e,t,n),bl(e,n))}function ql(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),zl(e,n)}function Bl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),zl(e,n)}function $l(e,t){return Xe(e,t)}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(e,t,n,r){return new Hl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var n=e.alternate;return null===n?((n=Kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=3670016&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Wl(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return Yl(n.children,i,s,t);case P:o=8,i|=4;break;case T:o=8,i|=8;break;case _:return(e=Kl(12,n,t,2|i)).elementType=_,e.lanes=s,e;case L:return(e=Kl(13,n,t,i)).elementType=L,e.lanes=s,e;case A:return(e=Kl(19,n,t,i)).elementType=A,e.lanes=s,e;case M:return Xl(n,i,s,t);case F:return(e=Kl(23,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case I:o=9;break e;case x:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Kl(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Yl(e,t,n,r){return(e=Kl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Kl(22,e,r,t)).elementType=M,e.lanes=n,e}function Jl(e,t,n){return(e=Kl(6,e,null,t)).lanes=n,e}function Zl(e,t,n){return(t=Kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.mutableSourceEagerHydrationData=null}function tu(e,t,n,r,i){return e=new eu(e,t,n),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Kl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:null},rs(i),e}function nu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ru(e,t,n,r){var i=t.current,s=ml(),o=gl(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Oi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(Oi(u)){n=Fi(n,u,l);break e}}n=l}else n=xi;return null===t.context?t.context=n:t.pendingContext=n,(t=ss(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),as(i,t),null!==(e=yl(i,o,s))&&os(e,i,o),o}function iu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function su(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function au(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function ou(e){this._internalRoot=e}function lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=iu(a);o.call(e)}}ru(t,a,e,i)}else{if(a=s=n._reactRootContainer=function(e,t){if(!t)for(var n;n=e.lastChild;)e.removeChild(n);return t=tu(e,0,t,0,!1),e[gi]=t.current,Hr(8===e.nodeType?e.parentNode:e),t}(n,r),"function"==typeof i){var l=i;i=function(){var e=iu(a);l.call(e)}}Tl((function(){ru(t,a,e,i)}))}return iu(a)}zo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Ga=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Ga=!1,function(e,t,n){switch(t.tag){case 3:io(t),Bs();break;case 5:As(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(Rs,1&Rs.current),t.flags|=128,null):0!=(n&t.child.childLanes)?oo(e,t,n):(Ii(Rs,1&Rs.current),null!==(e=yo(e,t,n))?e.sibling:null);Ii(Rs,1&Rs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(Rs,Rs.current),r)break;return null;case 22:case 23:return t.lanes=0,Za(e,t,n)}return yo(e,t,n)}(e,t,n);Ga=0!=(65536&e.flags)}else Ga=!1;switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Li.current);if(Zi(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)){var s=!0;ji(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,rs(t),i.updater=ds,t.stateNode=i,i._reactInternals=t,ys(t,r,e,n),t=ro(null,t,r,!0,s,n)}else t.tag=0,Qa(null,t,i,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Wl(e)?1:0;if(null!=e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=to(null,t,r,e,n);break e;case 1:t=no(null,t,r,e,n);break e;case 11:t=Ya(null,t,r,e,n);break e;case 14:t=Xa(null,t,r,Hi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,to(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,no(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(io(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=t.memoizedState.element,is(e,t),us(t,r,null,n),s=t.stateNode,(r=t.memoizedState.element)===i)Bs(),t=yo(e,t,n);else{if((i=s.hydrate)&&(Ms=ci(t.stateNode.containerInfo.firstChild),Ps=t,i=Fs=!0),i){if(null!=(e=s.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],$s.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|2048,n=n.sibling}else Qa(e,t,r,n),Bs();t=t.child}return t;case 5:As(t),null===e&&Us(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null;var o=i.children;return ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),eo(e,t),Qa(e,t,o,n),t.child;case 6:return null===e&&Us(t),null;case 13:return oo(e,t,n);case 4:return xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Cs(t,null,r,n):Qa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ya(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Qa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ii(Ki,r._currentValue),r._currentValue=o,null!==s)if(cr(s.value,o)){if(s.children===i.children&&!Ai.current){t=yo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=ss(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ji(s.return,n),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ji(o,n),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Qa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zi(t,n),r=r(i=es(i)),t.flags|=1,Qa(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),Xa(e,t,r,i=Hi(r.type,i),n);case 15:return Ja(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Zi(t,n),ms(t,r,i),ys(t,r,i,n),ro(null,t,r,!0,e,n);case 19:return go(e,t,n);case 22:case 23:return Za(e,t,n)}throw Error(a(156,t.tag))},ou.prototype.render=function(e){ru(e,this._internalRoot,null,null)},ou.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ru(null,e,null,(function(){t[gi]=null}))},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),bl(t,tt()),0==(6&Ko)&&(il=tt()+500,Bi()))}break;case 13:var r=ml();Tl((function(){return yl(e,1,r)})),au(e,1)}},kt=function(e){13===e.tag&&(yl(e,1,ml()),au(e,1))},Tt=function(e){13===e.tag&&(yl(e,134217728,ml()),au(e,134217728))},_t=function(e){if(13===e.tag){var t=ml(),n=gl(e);yl(e,n,t),au(e,n)}},Nt=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},_e=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));J(r),re(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=kl,Re=Tl;var hu={Events:[Ei,Ci,Si,Le,Ae,kl]},fu={findFiberByHostInstance:wi,bundleType:0,version:"18.0.0-fd5e01c2e-20210913",rendererPackageName:"react-dom"},du={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,getIsStrictMode:null,reconcilerVersion:"18.0.0-fd5e01c2e-20210913"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{ot=pu.inject(du),lt=pu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lu(t))throw Error(a(200));return nu(e,t,null,n)},t.createRoot=function(e,t){if(!uu(e))throw Error(a(299));var n=null!=t&&null!=t.hydrationOptions&&t.hydrationOptions.mutableSources||null;if(t=tu(e,1,null!=t&&!0===t.hydrate,null!=t&&t.hydrationOptions,null!=t&&!0===t.unstable_strictMode),e[gi]=t.current,Hr(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++)Ks(t,n[e]);return new ou(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return Tl(e)},t.hydrate=function(e,t,n){if(!uu(t))throw Error(a(200));return cu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!lu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null;if(n=tu(e,1,!0,0,null!=n&&!0===n.unstable_strictMode),e[gi]=n.current,Hr(e),r)for(e=0;e<r.length;e++)Ks(n,r[e]);return ru(t,n,null,null),new ou(n)},t.render=function(e,t,n){if(!uu(t))throw Error(a(200));return cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!uu(e))throw Error(a(40));return!!e._reactRootContainer&&(Tl((function(){cu(null,null,e,!1,(function(){e._reactRootContainer=null,e[gi]=null}))})),!0)},t.unstable_batchedUpdates=kl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return cu(e,t,n,!1,r)},t.version="18.0.0-fd5e01c2e-20210913"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},852:function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(294),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),s=r(n(8)),a=r(n(2)),o=n(10),l=r(n(3)),u=r(n(6)),c=function(e){if(!e)return null;var t=Object.keys(e);return 0===t.length?null:t.reduce((function(t,n){return t[(0,a.default)(n)]=e[n],t}),{})},h=function(){var e=i.default.useRef(!1);return i.default.useEffect((function(){e.current=!0}),[]),e.current},f=function(e){var t=function(){return function(e){return e.query||(0,l.default)(e)}(e)},n=i.default.useState(t),r=n[0],s=n[1];return i.default.useEffect((function(){var e=t();r!==e&&s(e)}),[e]),r};t.default=function(e,t,n){var r=function(e){var t=i.default.useContext(u.default),n=function(){return c(e)||c(t)||{}},r=i.default.useState(n),s=r[0],a=r[1];return i.default.useEffect((function(){var e=n();(0,o.shallowEqualObjects)(s,e)||a(e)}),[e,t]),s}(t),a=f(e);if(!a)throw new Error("Invalid or missing MediaQuery!");var l=function(e,t){var n=function(){return(0,s.default)(e,t)},r=i.default.useState(n),a=r[0],o=r[1],l=h();return i.default.useEffect((function(){if(l){var e=n();return o(e),function(){e&&e.dispose()}}}),[e,t]),a}(a,r),d=function(e){var t=i.default.useState(e.matches),n=t[0],r=t[1];return i.default.useEffect((function(){var t=function(){r(e.matches)};return e.addListener(t),t(),function(){e.removeListener(t)}}),[e]),n}(l),p=h();return i.default.useEffect((function(){p&&n&&n(d)}),[d]),i.default.useEffect((function(){return function(){l&&l.dispose()}}),[]),d}},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0});var i=/[A-Z]/g,s=/^ms-/,a={};t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(i,r);return a[e]=s.test(t)?"-"+t:t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),s=r(n(11));t.default=function(e){var t=[];return Object.keys(s.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(function(e,t){var n=(0,i.default)(e);return"number"==typeof t&&(t+="px"),!0===t?n:!1===t?"not "+n:"("+n+": "+t+")"}(n,r))})),t.join(" and ")}},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)).default.createContext({});t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n(0));t.useMediaQuery=i.default;var s=r(n(17));t.default=s.default;var a=r(n(3));t.toQuery=a.default;var o=r(n(6));t.Context=o.default},function(e,t,n){"use strict";function r(e,t,n){function r(e){a.matches=e.matches,a.media=e.media}var a=this;if(s&&!n){var o=s.call(window,e);this.matches=o.matches,this.media=o.media,o.addListener(r)}else this.matches=i(e,t),this.media=e;this.addListener=function(e){o&&o.addListener(e)},this.removeListener=function(e){o&&o.removeListener(e)},this.dispose=function(){o&&o.removeListener(r)}}var i=n(9).match,s="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,n){return new r(e,t,n)}},function(e,t,n){"use strict";function r(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(o),n=t[1],r=t[2],i=t[3]||"",s={};return s.inverse=!!n&&"not"===n.toLowerCase(),s.type=r?r.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],s.expressions=i.map((function(e){var t=e.match(l),n=t[1].toLowerCase().match(u);return{modifier:n[1],feature:n[2],value:t[2]}})),s}))}function i(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function s(e){var t=parseFloat(e);switch(String(e).match(h)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function a(e){var t=parseFloat(e);switch(String(e).match(c)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,t){return r(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var o=e.expressions.every((function(e){var n=e.feature,r=e.modifier,o=e.value,l=t[n];if(!l)return!1;switch(n){case"orientation":case"scan":return l.toLowerCase()===o.toLowerCase();case"width":case"height":case"device-width":case"device-height":o=a(o),l=a(l);break;case"resolution":o=s(o),l=s(l);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":o=i(o),l=i(l);break;case"grid":case"color":case"color-index":case"monochrome":o=parseInt(o,10)||1,l=parseInt(l,10)||0}switch(r){case"min":return l>=o;case"max":return l<=o;default:return l===o}}));return o&&!n||!o&&n}))},t.parse=r;var o=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,l=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"shallowEqualArrays",(function(){return i})),n.d(t,"shallowEqualObjects",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(12)),o=a.default.oneOfType([a.default.string,a.default.number]),l={all:a.default.bool,grid:a.default.bool,aural:a.default.bool,braille:a.default.bool,handheld:a.default.bool,print:a.default.bool,projection:a.default.bool,screen:a.default.bool,tty:a.default.bool,tv:a.default.bool,embossed:a.default.bool},u={orientation:a.default.oneOf(["portrait","landscape"]),scan:a.default.oneOf(["progressive","interlace"]),aspectRatio:a.default.string,deviceAspectRatio:a.default.string,height:o,deviceHeight:o,width:o,deviceWidth:o,color:a.default.bool,colorIndex:a.default.bool,monochrome:a.default.bool,resolution:o,type:Object.keys(l)},c=i(u,["type"]),h=r({minAspectRatio:a.default.string,maxAspectRatio:a.default.string,minDeviceAspectRatio:a.default.string,maxDeviceAspectRatio:a.default.string,minHeight:o,maxHeight:o,minDeviceHeight:o,maxDeviceHeight:o,minWidth:o,maxWidth:o,minDeviceWidth:o,maxDeviceWidth:o,minColor:a.default.number,maxColor:a.default.number,minColorIndex:a.default.number,maxColorIndex:a.default.number,minMonochrome:a.default.number,maxMonochrome:a.default.number,minResolution:o,maxResolution:o},c),f=r(r({},l),h);t.default={all:f,types:l,matchers:u,features:h}},function(e,t,n){var r=n(4);e.exports=n(14)(r.isElement,!0)},function(e,t,n){"use strict";!function(){function e(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:var n=e.type;switch(n){case h:case f:case a:case l:case o:case p:return n;default:var r=n&&n.$$typeof;switch(r){case c:case d:case y:case g:case u:return r;default:return t}}case s:return t}}}function n(t){return e(t)===f}var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119,C=h,S=f,k=c,T=u,_=i,N=d,I=a,x=y,L=g,A=s,D=l,R=o,O=p,P=!1;t.AsyncMode=C,t.ConcurrentMode=S,t.ContextConsumer=k,t.ContextProvider=T,t.Element=_,t.ForwardRef=N,t.Fragment=I,t.Lazy=x,t.Memo=L,t.Portal=A,t.Profiler=D,t.StrictMode=R,t.Suspense=O,t.isAsyncMode=function(t){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),n(t)||e(t)===h},t.isConcurrentMode=n,t.isContextConsumer=function(t){return e(t)===c},t.isContextProvider=function(t){return e(t)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(t){return e(t)===d},t.isFragment=function(t){return e(t)===a},t.isLazy=function(t){return e(t)===y},t.isMemo=function(t){return e(t)===g},t.isPortal=function(t){return e(t)===s},t.isProfiler=function(t){return e(t)===l},t.isStrictMode=function(t){return e(t)===o},t.isSuspense=function(t){return e(t)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===o||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===E||e.$$typeof===v)},t.typeOf=e}()},function(e,t,n){"use strict";function r(){return null}var i,s=n(4),a=n(15),o=n(5),l=n(16),u=Function.call.bind(Object.prototype.hasOwnProperty);i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function n(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function h(e){function n(n,a,l,u,h,f,d){if(u=u||b,f=f||l,d!==o){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("undefined"!=typeof console){var m=u+":"+l;!r[m]&&s<3&&(i("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[m]=!0,s++)}}return null==a[l]?n?new c(null===a[l]?"The "+h+" `"+f+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+h+" `"+f+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(a,l,u,h,f)}var r={},s=0,a=n.bind(null,!1);return a.isRequired=n.bind(null,!0),a}function f(e){return h((function(t,n,r,i,s,a){var o=t[n];return p(o)!==e?new c("Invalid "+i+" `"+s+"` of type `"+m(o)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var n=function(e){var t=e&&(y&&e[y]||e[v]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!d(r.value))return!1}else for(;!(r=i.next()).done;){var s=r.value;if(s&&!d(s[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function m(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}var y="function"==typeof Symbol&&Symbol.iterator,v="@@iterator",b="<<anonymous>>",w={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:h(r),arrayOf:function(e){return h((function(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+s+"` of type `"+p(a)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<a.length;l++){var u=e(a,l,r,i,s+"["+l+"]",o);if(u instanceof Error)return u}return null}))},element:h((function(t,n,r,i,s){var a=t[n];return e(a)?null:new c("Invalid "+i+" `"+s+"` of type `"+p(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:h((function(e,t,n,r,i){var a=e[t];return s.isValidElementType(a)?null:new c("Invalid "+r+" `"+i+"` of type `"+p(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return h((function(t,n,r,i,s){if(!(t[n]instanceof e)){var a=e.name||b;return new c("Invalid "+i+" `"+s+"` of type `"+(((o=t[n]).constructor&&o.constructor.name?o.constructor.name:b)+"` supplied to `")+r+"`, expected instance of `"+a+"`.")}var o;return null}))},node:h((function(e,t,n,r,i){return d(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return h((function(t,n,r,i,s){if("function"!=typeof e)return new c("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],l=p(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var h in a)if(u(a,h)){var f=e(a,h,r,i,s+"."+h,o);if(f instanceof Error)return f}return null}))},oneOf:function(e){function t(t,r,i,s,a){for(var o=t[r],l=0;l<e.length;l++)if(n(o,e[l]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===m(t)?String(t):t}));return new c("Invalid "+s+" `"+a+"` of value `"+String(o)+"` supplied to `"+i+"`, expected one of "+u+".")}return Array.isArray(e)?h(t):(i(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)},oneOfType:function(e){if(!Array.isArray(e))return i("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+g(n)+" at index "+t+"."),r}return h((function(t,n,r,i,s){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,s,o))return null;return new c("Invalid "+i+" `"+s+"` supplied to `"+r+"`.")}))},shape:function(e){return h((function(t,n,r,i,s){var a=t[n],l=p(a);if("object"!==l)return new c("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var h=e[u];if(h){var f=h(a,u,r,i,s+"."+u,o);if(f)return f}}return null}))},exact:function(e){return h((function(t,n,r,i,s){var l=t[n],u=p(l);if("object"!==u)return new c("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var h=a({},t[n],e);for(var f in h){var d=e[f];if(!d)return new c("Invalid "+i+" `"+s+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=d(l,f,r,i,s+"."+f,o);if(m)return m}return null}))}};return c.prototype=Error.prototype,w.checkPropTypes=l,w.resetWarningCache=l.resetWarningCache,w.PropTypes=w,w}},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,l=r(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))s.call(n,c)&&(l[c]=n[c]);if(i){o=i(n);for(var h=0;h<o.length;h++)a.call(n,o[h])&&(l[o[h]]=n[o[h]])}}return l}},function(e,t,n){"use strict";function r(e,t,n,r,l){for(var u in e)if(o(e,u)){var c;try{if("function"!=typeof e[u]){var h=Error((r||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[u]+"`.");throw h.name="Invariant Violation",h}c=e[u](t,u,r,n,null,s)}catch(e){c=e}if(!c||c instanceof Error||i((r||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=l?l():"";i("Failed "+n+" type: "+c.message+(null!=f?f:""))}}}var i=function(){},s=n(5),a={},o=Function.call.bind(Object.prototype.hasOwnProperty);i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},r.resetWarningCache=function(){a={}},e.exports=r},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0));t.default=function(e){var t=e.children,n=e.device,i=e.onChange,a=r(e,["children","device","onChange"]),o=(0,s.default)(a,n,i);return"function"==typeof t?t(o):o?t:null}}]))},343:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TLoginButton=t.TLoginButtonSize=void 0;var l,u=o(n(851)),c=n(851);(l=t.TLoginButtonSize||(t.TLoginButtonSize={})).Large="large",l.Medium="medium",l.Small="small";var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._containerRef=c.createRef(),t}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.botName,n=e.buttonSize,r=e.cornerRadius,i=e.requestAccess,s=e.usePic,a=e.onAuthCallback,o=e.redirectUrl,l=e.lang;null!=a&&(window.TelegramOnAuthCb=function(e){return a(e)});var u=document.createElement("script");u.src="https://telegram.org/js/telegram-widget.js?10",u.async=!0,u.setAttribute("data-telegram-login",t),null!=n&&u.setAttribute("data-size",n),null!=n&&u.setAttribute("data-radius",""+r),null!=s&&u.setAttribute("data-userpic",""+s),null!=l&&u.setAttribute("data-lang",l),null!=o&&u.setAttribute("data-auth-url",o),null!=a&&u.setAttribute("data-onauth","TelegramOnAuthCb(user)"),null!=i&&u.setAttribute("data-request-access",i),this._containerRef.current.appendChild(u)},t.prototype.render=function(){return u.createElement("div",{className:"tlogin-button",ref:this._containerRef})},t}(c.Component);t.TLoginButton=h},696:(e,t,n)=>{"use strict";var r=n(418),i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function E(){}function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=C.prototype=new E;S.constructor=C,r(S,w.prototype),S.isPureReactComponent=!0;var k={current:null},T=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:k.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var x=/\/+/g,L=[];function A(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case a:o=!0}}if(o)return n(r,e,""===t?"."+P(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+P(i=e[l],l);o+=R(i,u,n,r)}else if("function"==typeof(u=null===e||"object"!=typeof e?null:"function"==typeof(u=g&&e[g]||e["@@iterator"])?u:null))for(e=u.call(e),l=0;!(i=e.next()).done;)o+=R(i=i.value,u=t+P(i,l++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function O(e,t,n){return null==e?0:R(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var s="";null!=n&&(s=(""+n).replace(x,"$&/")+"/"),O(e,F,t=A(t,s,r,i)),D(t)}var V={current:null};function U(){var e=V.current;if(null===e)throw Error(y(321));return e}var z={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;O(e,M,t=A(null,null,t,n)),D(t)},count:function(e){return O(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=o,t.Profiler=u,t.PureComponent=C,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var i=r({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:s,type:e.type,key:a,ref:o,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},851:(e,t,n)=>{"use strict";e.exports=n(696)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,o=60110,l=60112;t.Suspense=60113,t.SuspenseList=60120;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),o=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),t.SuspenseList=h("react.suspense_list"),u=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:o,props:s,_owner:C.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return a=a(l=e),e=""===r?"."+N(l,0):r,w(a)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",w(e))for(var u=0;u<e.length;u++){var c=r+N(o=e[u],u);l+=I(o,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=I(o=o.value,t,n,c=r+N(o,u++),a);else if("object"===o)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:0},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:C,assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var s=r({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:a,ref:o,props:s,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition=1;try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error(d(406))},t.unstable_createMutableSource=function(e,t){return{_getVersion:t,_source:e,_workInProgressVersionPrimary:null,_workInProgressVersionSecondary:null}},t.unstable_useMutableSource=function(e,t,n){return A.current.useMutableSource(e,t,n)},t.unstable_useOpaqueIdentifier=function(){return A.current.useOpaqueIdentifier()},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fd5e01c2e-20210913"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(C);else{var t=r(c);null!==t&&O(E,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,v(_),_=-1),p=!0;var s=d;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!x());){var a=f.callback;if("function"==typeof a){f.callback=null,d=f.priorityLevel;var o=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?f.callback=o:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var h=r(c);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{f=null,d=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,_=-1,N=5,I=-1;function x(){return!(t.unstable_now()-I<N)}function L(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"==typeof b)S=function(){b(L)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=L,S=function(){D.postMessage(null)}}else S=function(){y(L,0)};function R(e){T=e,k||(k=!0,S())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(_),_=-1):g=!0,O(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R(C))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(294),t=n(935);function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function o(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class l extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(c,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new l(r,a,n)}}const c=/\{\$([^}]+)}/g;function h(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(f(n)&&f(s)){if(!h(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function f(e){return null!==e&&"object"==typeof e}function d(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function p(e){return e&&e._delegate?e._delegate:e}var m=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),g="[DEFAULT]",y=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:g})}catch(e){}try{for(var s=r(this.instancesDeferred.entries()),a=s.next();!a.done;a=s.next()){var o=i(a.value,2),l=o[0],u=o[1],c=this.normalizeInstanceIdentifier(l);try{var h=this.getOrInitializeService({instanceIdentifier:c});u.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=g),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=g),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=g),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var s=e.options,a=void 0===s?{}:s,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var u=r(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var h=i(c.value,2),f=h[0],d=h[1];o===this.normalizeInstanceIdentifier(f)&&d.resolve(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return l},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var a=r(s),o=a.next();!o.done;o=a.next()){var l=o.value;try{l(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===g?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=g),this.component?this.component.multipleInstances?e:g:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),v=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new y(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();const b=[];var w,E;(E=w||(w={}))[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT";const C={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},S=w.INFO,k={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},T=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=k[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class _{constructor(e){this.name=e,this._logLevel=S,this._logHandler=T,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in w))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?C[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...e),this._logHandler(this,w.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...e),this._logHandler(this,w.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,w.INFO,...e),this._logHandler(this,w.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,w.WARN,...e),this._logHandler(this,w.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...e),this._logHandler(this,w.ERROR,...e)}}class N{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const I="@firebase/app",x="0.7.4",L=new _("@firebase/app"),A={[I]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},D=new Map,R=new Map;function O(e,t){try{e.container.addComponent(t)}catch(n){L.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function P(e){const t=e.name;if(R.has(t))return L.debug(`There were multiple attempts to register component ${t}.`),!1;R.set(t,e);for(const t of D.values())O(t,e);return!0}function M(e,t){return e.container.getProvider(t)}const F=new u("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class j{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new m("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw F.create("app-deleted",{appName:this._name})}}function V(e="[DEFAULT]"){const t=D.get(e);if(!t)throw F.create("no-app",{appName:e});return t}function U(e,t,n){var r;let i=null!==(r=A[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void L.warn(e.join(" "))}P(new m(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}P(new m("platform-logger",(e=>new N(e)),"PRIVATE")),U(I,x,""),U(I,x,"esm2017"),U("fire-js","");var z,q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},B={},$=$||{},H=q||self;function K(){}function W(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function G(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Q="closure_uid_"+(1e9*Math.random()>>>0),Y=0;function X(e,t,n){return e.call.apply(e.bind,arguments)}function J(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Z(e,t,n){return(Z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:J).apply(null,arguments)}function ee(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function te(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ne(){this.s=this.s,this.o=this.o}var re={};ne.prototype.s=!1,ne.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Q)&&e[Q]||(e[Q]=++Y)}(this);delete re[e]}},ne.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ie=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},se=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function ae(e){return Array.prototype.concat.apply([],arguments)}function oe(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function le(e){return/^[\s\xa0]*$/.test(e)}var ue,ce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function he(e,t){return-1!=e.indexOf(t)}function fe(e,t){return e<t?-1:e>t?1:0}e:{var de=H.navigator;if(de){var pe=de.userAgent;if(pe){ue=pe;break e}}ue=""}function me(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ge(e){const t={};for(const n in e)t[n]=e[n];return t}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ye.length;t++)n=ye[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e){return be[" "](e),e}be[" "]=K;var we,Ee,Ce=he(ue,"Opera"),Se=he(ue,"Trident")||he(ue,"MSIE"),ke=he(ue,"Edge"),Te=ke||Se,_e=he(ue,"Gecko")&&!(he(ue.toLowerCase(),"webkit")&&!he(ue,"Edge"))&&!(he(ue,"Trident")||he(ue,"MSIE"))&&!he(ue,"Edge"),Ne=he(ue.toLowerCase(),"webkit")&&!he(ue,"Edge");function Ie(){var e=H.document;return e?e.documentMode:void 0}e:{var xe="",Le=(Ee=ue,_e?/rv:([^\);]+)(\)|;)/.exec(Ee):ke?/Edge\/([\d\.]+)/.exec(Ee):Se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ee):Ne?/WebKit\/(\S+)/.exec(Ee):Ce?/(?:Version)[ \/]?(\S+)/.exec(Ee):void 0);if(Le&&(xe=Le?Le[1]:""),Se){var Ae=Ie();if(null!=Ae&&Ae>parseFloat(xe)){we=String(Ae);break e}}we=xe}var De,Re={};function Oe(){return e=Re,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=ce(String(we)).split("."),n=ce("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=fe(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||fe(0==i[2].length,0==s[2].length)||fe(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}H.document&&Se?De=Ie()||parseInt(we,10)||void 0:De=void 0;var Pe=De,Me=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{H.addEventListener("test",K,t),H.removeEventListener("test",K,t)}catch(e){}return e}();function Fe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function je(e,t){if(Fe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_e){e:{try{be(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ve[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&je.Z.h.call(this)}}Fe.prototype.h=function(){this.defaultPrevented=!0},te(je,Fe);var Ve={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function qe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ze,this.ca=this.fa=!1}function Be(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function $e(e){this.src=e,this.g={},this.h=0}function He(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ie(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Be(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ke(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}$e.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Ke(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new qe(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var We="closure_lm_"+(1e6*Math.random()|0),Ge={};function Qe(e,t,n,r,i){if(r&&r.once)return Xe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Qe(e,t[s],n,r,i);return null}return n=it(n),e&&e[Ue]?e.N(t,n,G(r)?!!r.capture:!!r,i):Ye(e,t,n,!1,r,i)}function Ye(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=G(i)?!!i.capture:!!i,o=nt(e);if(o||(e[We]=o=new $e(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){var e=tt;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Me||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xe(e,t[s],n,r,i);return null}return n=it(n),e&&e[Ue]?e.O(t,n,G(r)?!!r.capture:!!r,i):Ye(e,t,n,!0,r,i)}function Je(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Je(e,t[s],n,r,i);else r=G(r)?!!r.capture:!!r,n=it(n),e&&e[Ue]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ke(s=e.g[t],n,r,i))&&(Be(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=nt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ke(t,n,r,i)),(n=-1<e?t[e]:null)&&Ze(n))}function Ze(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ue])He(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nt(t))?(He(n,e),0==n.h&&(n.src=null,t[We]=null)):Be(e)}}}function et(e){return e in Ge?Ge[e]:Ge[e]="on"+e}function tt(e,t){if(e.ca)e=!0;else{t=new je(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ze(e),e=n.call(r,t)}return e}function nt(e){return(e=e[We])instanceof $e?e:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(e){return"function"==typeof e?e:(e[rt]||(e[rt]=function(t){return e.handleEvent(t)}),e[rt])}function st(){ne.call(this),this.i=new $e(this),this.P=this,this.I=null}function at(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Fe(t,e);else if(t instanceof Fe)t.target=t.target||e;else{var i=t;ve(t=new Fe(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ot(a,r,!0,t)&&i}if(i=ot(a=t.g=e,r,!0,t)&&i,i=ot(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ot(a=t.g=n[s],r,!1,t)&&i}function ot(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,l=a.ia||a.src;a.fa&&He(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}te(st,ne),st.prototype[Ue]=!0,st.prototype.removeEventListener=function(e,t,n,r){Je(this,e,t,n,r)},st.prototype.M=function(){if(st.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Be(n[r]);delete t.g[e],t.h--}}this.I=null},st.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},st.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var lt=H.JSON.stringify;function ut(){var e=gt;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ct,ht=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ft),(e=>e.reset()));class ft{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dt(e){H.setTimeout((()=>{throw e}),0)}function pt(e,t){ct||function(){var e=H.Promise.resolve(void 0);ct=function(){e.then(yt)}}(),mt||(ct(),mt=!0),gt.add(e,t)}var mt=!1,gt=new class{constructor(){this.h=this.g=null}add(e,t){const n=ht.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function yt(){for(var e;e=ut();){try{e.h.call(e.g)}catch(e){dt(e)}var t=ht;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mt=!1}function vt(e,t){st.call(this),this.h=e||1,this.g=t||H,this.j=Z(this.kb,this),this.l=Date.now()}function bt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function wt(e,t,n){if("function"==typeof e)n&&(e=Z(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Z(e.handleEvent,e)}return 2147483647<Number(t)?-1:H.setTimeout(e,t||0)}function Et(e){e.g=wt((()=>{e.g=null,e.i&&(e.i=!1,Et(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}te(vt,st),(z=vt.prototype).da=!1,z.S=null,z.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),at(this,"tick"),this.da&&(bt(this),this.start()))}},z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){vt.Z.M.call(this),bt(this),delete this.g};class Ct extends ne{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Et(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(e){ne.call(this),this.h=e,this.g={}}te(St,ne);var kt=[];function Tt(e,t,n,r){Array.isArray(n)||(n&&(kt[0]=n.toString()),n=kt);for(var i=0;i<n.length;i++){var s=Qe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function _t(e){me(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ze(e)}),e),e.g={}}function Nt(){this.g=!0}function It(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return lt(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}St.prototype.M=function(){St.Z.M.call(this),_t(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nt.prototype.Aa=function(){this.g=!1},Nt.prototype.info=function(){};var xt={},Lt=null;function At(){return Lt=Lt||new st}function Dt(e){Fe.call(this,xt.Ma,e)}function Rt(e){const t=At();at(t,new Dt(t,e))}function Ot(e,t){Fe.call(this,xt.STAT_EVENT,e),this.stat=t}function Pt(e){const t=At();at(t,new Ot(t,e))}function Mt(e,t){Fe.call(this,xt.Na,e),this.size=t}function Ft(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return H.setTimeout((function(){e()}),t)}xt.Ma="serverreachability",te(Dt,Fe),xt.STAT_EVENT="statevent",te(Ot,Fe),xt.Na="timingevent",te(Mt,Fe);var jt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ut(){}function zt(e){return e.h||(e.h=e.i())}function qt(){}Ut.prototype.h=null;var Bt,$t={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ht(){Fe.call(this,"d")}function Kt(){Fe.call(this,"c")}function Wt(){}function Gt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new St(this),this.P=Yt,e=Te?125:void 0,this.W=new vt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}te(Ht,Fe),te(Kt,Fe),te(Wt,Ut),Wt.prototype.g=function(){return new XMLHttpRequest},Wt.prototype.i=function(){return{}},Bt=new Wt;var Yt=45e3,Xt={},Jt={};function Zt(e,t,n){e.K=1,e.v=Sn(yn(t)),e.s=n,e.U=!0,en(e,null)}function en(e,t){e.F=Date.now(),sn(e),e.A=yn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Qt,e.g=Mr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ct(Z(e.Ia,e,e.g),e.O)),Tt(e.V,e.g,"readystatechange",e.gb),t=e.H?ge(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Rt(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function tn(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function nn(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=rn(e,n),r==Jt){4==t&&(e.o=4,Pt(14),i=!1),It(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xt){e.o=4,Pt(15),It(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}It(e.j,e.m,r,null),cn(e,r)}tn(e)&&r!=Jt&&r!=Xt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ir(t),t.L=!0,Pt(11))):(It(e.j,e.m,n,"[Invalid Chunked Response]"),un(e),ln(e))}function rn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jt:(n=Number(t.substring(n,r)),isNaN(n)?Xt:(r+=1)+n>t.length?Jt:(t=t.substr(r,n),e.C=r+n,t))}function sn(e){e.Y=Date.now()+e.P,an(e,e.P)}function an(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ft(Z(e.eb,e),t)}function on(e){e.B&&(H.clearTimeout(e.B),e.B=null)}function ln(e){0==e.l.G||e.I||Ar(e.l,e)}function un(e){on(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bt(e.W),_t(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function cn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qn(n.i,e)))if(n.I=e.N,!e.J&&qn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Lr(n),br(n)}Nr(n),Pt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ft(Z(n.ab,n),6e3));if(1>=zn(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Rr(n,11)}else if((e.J||n.g==e)&&Lr(n),!le(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(he(e,"spdy")||he(e,"quic")||he(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Bn(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Cn(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((r=n).oa=Pr(r,r.H?r.la:null,r.W),a.J){$n(r.i,a);var o=a,l=r.K;l&&o.setTimeout(l),o.B&&(on(o),sn(o)),r.g=a}else _r(r);0<n.l.length&&Cr(n)}else"stop"!=u[0]&&"close"!=u[0]||Rr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Rr(n,7):vr(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Rt(4)}catch(e){}}function hn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(W(e)||"string"==typeof e)se(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(W(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(W(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function fn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];pn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)pn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(z=Gt.prototype).setTimeout=function(e){this.P=e},z.gb=function(e){e=e.target;const t=this.L;t&&3==dr(e)?t.l():this.Ia(e)},z.Ia=function(e){try{if(e==this.g)e:{const c=dr(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Te||this.g&&(this.h.h||this.g.ga()||pr(this.g)))){this.I||4!=c||7==t||Rt(8==t||0>=h?3:2),on(this);var n=this.g.ba();this.N=n;t:if(tn(this)){var r=pr(this.g);e="";var i=r.length,s=4==dr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){un(this),ln(this);var a="";break t}this.h.i=new H.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Pt(12),un(this),ln(this);break e}It(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cn(this,n)}this.U?(nn(this,c,a),Te&&this.i&&3==c&&(Tt(this.V,this.W,"tick",this.fb),this.W.start())):(It(this.j,this.m,a,null),cn(this,a)),4==c&&un(this),this.i&&!this.I&&(4==c?Ar(this.l,this):(this.i=!1,sn(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),un(this),ln(this)}}}catch(e){}},z.fb=function(){if(this.g){var e=dr(this.g),t=this.g.ga();this.C<t.length&&(on(this),nn(this,e,t),this.i&&4!=e&&sn(this))}},z.cancel=function(){this.I=!0,un(this)},z.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Rt(3),Pt(17)),un(this),this.o=2,ln(this)):an(this,this.Y-e)},(z=fn.prototype).R=function(){dn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},z.T=function(){return dn(this),this.g.concat()},z.get=function(e,t){return pn(this.h,e)?this.h[e]:t},z.set=function(e,t){pn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},z.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof gn){this.g=void 0!==t?t:e.g,vn(this,e.j),this.s=e.s,bn(this,e.i),wn(this,e.m),this.l=e.l,t=e.h;var n=new Dn;n.i=t.i,t.g&&(n.g=new fn(t.g),n.h=t.h),En(this,n),this.o=e.o}else e&&(n=String(e).match(mn))?(this.g=!!t,vn(this,n[1]||"",!0),this.s=kn(n[2]||""),bn(this,n[3]||"",!0),wn(this,n[4]),this.l=kn(n[5]||"",!0),En(this,n[6]||"",!0),this.o=kn(n[7]||"")):(this.g=!!t,this.h=new Dn(null,this.g))}function yn(e){return new gn(e)}function vn(e,t,n){e.j=n?kn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bn(e,t,n){e.i=n?kn(t,!0):t}function wn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function En(e,t,n){t instanceof Dn?(e.h=t,function(e,t){t&&!e.j&&(Rn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(On(this,t),Mn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Tn(t,Ln)),e.h=new Dn(t,e.g))}function Cn(e,t,n){e.h.set(t,n)}function Sn(e){return Cn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,_n),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _n(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tn(t,Nn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tn(t,Nn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tn(n,"/"==n.charAt(0)?xn:In,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tn(n,An)),e.join("")};var Nn=/[#\/\?@]/g,In=/[#\?:]/g,xn=/[#\?]/g,Ln=/[#\?@]/g,An=/#/g;function Dn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rn(e){e.g||(e.g=new fn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function On(e,t){Rn(e),t=Fn(e,t),pn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,pn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dn(e)))}function Pn(e,t){return Rn(e),t=Fn(e,t),pn(e.g.h,t)}function Mn(e,t,n){On(e,t),0<n.length&&(e.i=null,e.g.set(Fn(e,t),oe(n)),e.h+=n.length)}function Fn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jn(e){this.l=e||Vn,e=H.PerformanceNavigationTiming?0<(e=H.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=Dn.prototype).add=function(e,t){Rn(this),this.i=null,e=Fn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},z.forEach=function(e,t){Rn(this),this.g.forEach((function(n,r){se(n,(function(n){e.call(t,n,r,this)}),this)}),this)},z.T=function(){Rn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},z.R=function(e){Rn(this);var t=[];if("string"==typeof e)Pn(this,e)&&(t=ae(t,this.g.get(Fn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ae(t,e[n])}return t},z.set=function(e,t){return Rn(this),this.i=null,Pn(this,e=Fn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},z.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};var Vn=10;function Un(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zn(e){return e.h?1:e.g?e.g.size:0}function qn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bn(e,t){e.g?e.g.add(t):e.h=t}function $n(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return oe(e.i)}function Kn(){}function Wn(){this.g=new Kn}function Gn(e,t,n){const r=n||"";try{hn(e,(function(e,n){let i=e;G(e)&&(i=lt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Qn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Yn(e){this.l=e.$b||null,this.j=e.ib||!1}function Xn(e,t){st.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jn.prototype.cancel=function(){if(this.i=Hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Kn.prototype.stringify=function(e){return H.JSON.stringify(e,void 0)},Kn.prototype.parse=function(e){return H.JSON.parse(e,void 0)},te(Yn,Ut),Yn.prototype.g=function(){return new Xn(this.l,this.j)},Yn.prototype.i=function(e){return function(){return e}}({}),te(Xn,st);var Jn=0;function Zn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function er(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tr(e)}function tr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(z=Xn.prototype).open=function(e,t){if(this.readyState!=Jn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tr(this)},z.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||H).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,er(this)),this.readyState=Jn},z.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},z.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?er(this):tr(this),3==this.readyState&&Zn(this)}},z.Ua=function(e){this.g&&(this.response=this.responseText=e,er(this))},z.Ta=function(e){this.g&&(this.response=e,er(this))},z.ha=function(){this.g&&er(this)},z.setRequestHeader=function(e,t){this.v.append(e,t)},z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nr=H.JSON.parse;function rr(e){st.call(this),this.headers=new fn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ir,this.K=this.L=!1}te(rr,st);var ir="",sr=/^https?$/i,ar=["POST","PUT"];function or(e){return"content-type"==e.toLowerCase()}function lr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ur(e),hr(e)}function ur(e){e.D||(e.D=!0,at(e,"complete"),at(e,"error"))}function cr(e){if(e.h&&void 0!==$&&(!e.C[1]||4!=dr(e)||2!=e.ba()))if(e.v&&4==dr(e))wt(e.Fa,0,e);else if(at(e,"readystatechange"),4==dr(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(mn)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!sr.test(i?i.toLowerCase():"")}n=r}if(n)at(e,"complete"),at(e,"success");else{e.m=6;try{var a=2<dr(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",ur(e)}}finally{hr(e)}}}function hr(e,t){if(e.g){fr(e);const n=e.g,r=e.C[0]?K:null;e.g=null,e.C=null,t||at(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function fr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(H.clearTimeout(e.A),e.A=null)}function dr(e){return e.g?e.g.readyState:0}function pr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ir:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return me(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Cn(e,t,n))}function gr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yr(e){this.za=0,this.l=[],this.h=new Nt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gr("baseRetryDelayMs",5e3,e),this.$a=gr("retryDelaySeedMs",1e4,e),this.Ya=gr("forwardChannelMaxRetries",2,e),this.ra=gr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jn(e&&e.concurrentRequestLimit),this.Ca=new Wn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function vr(e){if(wr(e),3==e.G){var t=e.V++,n=yn(e.F);Cn(n,"SID",e.J),Cn(n,"RID",t),Cn(n,"TYPE","terminate"),kr(e,n),(t=new Gt(e,e.h,t,void 0)).K=2,t.v=Sn(yn(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(t.v.toString(),"")),!n&&H.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sn(t)}Or(e)}function br(e){e.g&&(Ir(e),e.g.cancel(),e.g=null)}function wr(e){br(e),e.u&&(H.clearTimeout(e.u),e.u=null),Lr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&H.clearTimeout(e.m),e.m=null)}function Er(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Cr(e)}function Cr(e){Un(e.i)||e.m||(e.m=!0,pt(e.Ha,e),e.C=0)}function Sr(e,t){var n;n=t?t.m:e.V++;const r=yn(e.F);Cn(r,"SID",e.J),Cn(r,"RID",n),Cn(r,"AID",e.U),kr(e,r),e.o&&e.s&&mr(r,e.o,e.s),n=new Gt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Tr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Bn(e.i,n),Zt(n,r,t)}function kr(e,t){e.j&&hn({},(function(e,n){Cn(t,n,e)}))}function Tr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Z(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const o=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{Gn(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function _r(e){e.g||e.u||(e.Y=1,pt(e.Ga,e),e.A=0)}function Nr(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Ft(Z(e.Ga,e),Dr(e,e.A)),e.A++,0))}function Ir(e){null!=e.B&&(H.clearTimeout(e.B),e.B=null)}function xr(e){e.g=new Gt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yn(e.oa);Cn(t,"RID","rpc"),Cn(t,"SID",e.J),Cn(t,"CI",e.N?"0":"1"),Cn(t,"AID",e.U),kr(e,t),Cn(t,"TYPE","xmlhttp"),e.o&&e.s&&mr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sn(yn(t)),n.s=null,n.U=!0,en(n,e)}function Lr(e){null!=e.v&&(H.clearTimeout(e.v),e.v=null)}function Ar(e,t){var n=null;if(e.g==t){Lr(e),Ir(e),e.g=null;var r=2}else{if(!qn(e.i,t))return;n=t.D,$n(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;at(r=At(),new Mt(r,n,t,i)),Cr(e)}else _r(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ft(Z(e.Ha,e,t),Dr(e,e.C)),e.C++,0)))}(e,t)||2==r&&Nr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Rr(e,5);break;case 4:Rr(e,10);break;case 3:Rr(e,6);break;default:Rr(e,2)}}function Dr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Z(e.jb,e);n||(n=new gn("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||vn(n,"https"),Sn(n)),function(e,t){const n=new Nt;if(H.Image){const r=new Image;r.onload=ee(Qn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ee(Qn,n,r,"TestLoadImage: error",!1,t),r.onabort=ee(Qn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ee(Qn,n,r,"TestLoadImage: timeout",!1,t),H.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pt(2);e.G=0,e.j&&e.j.va(t),Or(e),wr(e)}function Or(e){e.G=0,e.I=-1,e.j&&(0==Hn(e.i).length&&0==e.l.length||(e.i.i.length=0,oe(e.l),e.l.length=0),e.j.ua())}function Pr(e,t,n){let r=function(e){return e instanceof gn?yn(e):new gn(e,void 0)}(n);if(""!=r.i)t&&bn(r,t+"."+r.i),wn(r,r.m);else{const e=H.location;r=function(e,t,n,r){var i=new gn(null,void 0);return e&&vn(i,e),t&&bn(i,t),n&&wn(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&me(e.aa,(function(e,t){Cn(r,t,e)})),t=e.D,n=e.sa,t&&n&&Cn(r,t,n),Cn(r,"VER",e.ma),kr(e,r),r}function Mr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new rr(new Yn({ib:!0})):new rr(e.qa)).L=e.H,t}function Fr(){}function jr(){if(Se&&!(10<=Number(Pe)))throw Error("Environmental error: no available transport.")}function Vr(e,t){st.call(this),this.g=new yr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!le(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!le(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new qr(this)}function Ur(e){Ht.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zr(){Kt.call(this),this.status=1}function qr(e){this.g=e}(z=rr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bt.g(),this.C=this.u?zt(this.u):zt(Bt),this.g.onreadystatechange=Z(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void lr(this,e)}e=n||"";const i=new fn(this.headers);r&&hn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=or;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=H.FormData&&e instanceof H.FormData,!(0<=ie(ar,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fr(this),0<this.B&&((this.K=function(e){return Se&&Oe()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Z(this.pa,this)):this.A=wt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){lr(this,e)}},z.pa=function(){void 0!==$&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,at(this,"timeout"),this.abort(8))},z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,at(this,"complete"),at(this,"abort"),hr(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hr(this,!0)),rr.Z.M.call(this)},z.Fa=function(){this.s||(this.F||this.v||this.l?cr(this):this.cb())},z.cb=function(){cr(this)},z.ba=function(){try{return 2<dr(this)?this.g.status:-1}catch(e){return-1}},z.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},z.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nr(t)}},z.Da=function(){return this.m},z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=yr.prototype).ma=8,z.G=1,z.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},z.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Gt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=ge(s),ve(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Tr(this,i,t),Cn(n=yn(this.F),"RID",e),Cn(n,"CVER",22),this.D&&Cn(n,"X-HTTP-Session-Id",this.D),kr(this,n),this.o&&s&&mr(n,this.o,s),Bn(this.i,i),this.Ra&&Cn(n,"TYPE","init"),this.ja?(Cn(n,"$req",t),Cn(n,"SID","null"),i.$=!0,Zt(i,n,null)):Zt(i,n,t),this.G=2}}else 3==this.G&&(e?Sr(this,e):0==this.l.length||Un(this.i)||Sr(this))},z.Ga=function(){if(this.u=null,xr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ft(Z(this.bb,this),e)}},z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pt(10),br(this),xr(this))},z.ab=function(){null!=this.v&&(this.v=null,br(this),Nr(this),Pt(19))},z.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pt(2)):(this.h.info("Failed to ping google.com"),Pt(1))},(z=Fr.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Oa=function(){},jr.prototype.g=function(e,t){return new Vr(e,t)},te(Vr,st),Vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pt(Z(e.hb,e,t))),Pt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Pr(e,null,e.W),Cr(e)},Vr.prototype.close=function(){vr(this.g)},Vr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Er(this.g,t)}else this.v?((t={}).__data__=lt(e),Er(this.g,t)):Er(this.g,e)},Vr.prototype.M=function(){this.g.j=null,delete this.j,vr(this.g),delete this.g,Vr.Z.M.call(this)},te(Ur,Ht),te(zr,Kt),te(qr,Fr),qr.prototype.xa=function(){at(this.g,"a")},qr.prototype.wa=function(e){at(this.g,new Ur(e))},qr.prototype.va=function(e){at(this.g,new zr(e))},qr.prototype.ua=function(){at(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Vr.prototype.send=Vr.prototype.u,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,Vt.COMPLETE="complete",qt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",st.prototype.listen=st.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.La,rr.prototype.getLastErrorCode=rr.prototype.Da,rr.prototype.getStatus=rr.prototype.ba,rr.prototype.getResponseJson=rr.prototype.Qa,rr.prototype.getResponseText=rr.prototype.ga,rr.prototype.send=rr.prototype.ea;var Br=B.createWebChannelTransport=function(){return new jr},$r=B.getStatEventTarget=function(){return At()},Hr=B.ErrorCode=jt,Kr=B.EventType=Vt,Wr=B.Event=xt,Gr=B.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qr=B.FetchXmlHttpFactory=Yn,Yr=B.WebChannel=qt,Xr=B.XhrIo=rr;const Jr="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let ei="9.1.3";const ti=new _("@firebase/firestore");function ni(){return ti.logLevel}function ri(e,...t){if(ti.logLevel<=w.DEBUG){const n=t.map(ai);ti.debug(`Firestore (${ei}): ${e}`,...n)}}function ii(e,...t){if(ti.logLevel<=w.ERROR){const n=t.map(ai);ti.error(`Firestore (${ei}): ${e}`,...n)}}function si(e,...t){if(ti.logLevel<=w.WARN){const n=t.map(ai);ti.warn(`Firestore (${ei}): ${e}`,...n)}}function ai(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function oi(e="Unexpected state"){const t=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+e;throw ii(t),new Error(t)}function li(e,t){e||oi()}function ui(e,t){return e}const ci={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hi extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class di{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class pi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zr.UNAUTHENTICATED)))}shutdown(){}}class mi{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fi,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ri("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ri("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ri("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(li("string"==typeof t.accessToken),new di(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return li(null===e||"string"==typeof e),new Zr(e)}}class gi{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Zr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class yi{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new gi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Zr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function bi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}vi.T=-1;class wi{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=bi(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Ei(e,t){return e<t?-1:e>t?1:0}function Ci(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hi(ci.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hi(ci.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hi(ci.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hi(ci.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Si(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ei(this.nanoseconds,e.nanoseconds):Ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ki{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ki(e)}static min(){return new ki(new Si(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ti(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ni(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ii{constructor(e,t,n){void 0===t?t=0:t>e.length&&oi(),void 0===n?n=e.length-t:n>e.length-t&&oi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ii.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xi extends Ii{construct(e,t,n){return new xi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new hi(ci.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new xi(t)}static emptyPath(){return new xi([])}}const Li=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Ii{construct(e,t,n){return new Ai(e,t,n)}static isValidIdentifier(e){return Li.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new hi(ci.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hi(ci.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hi(ci.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new hi(ci.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}class Di{constructor(e){this.fields=e,e.sort(Ai.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ci(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ri(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ri(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const Oi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(e){if(li(!!e),"string"==typeof e){let t=0;const n=Oi.exec(e);if(li(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mi(e.seconds),nanos:Mi(e.nanos)}}function Mi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fi(e){return"string"==typeof e?Ri.fromBase64String(e):Ri.fromUint8Array(e)}function ji(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vi(e){const t=e.mapValue.fields.__previous_value__;return ji(t)?Vi(t):t}function Ui(e){const t=Pi(e.mapValue.fields.__local_write_time__.timestampValue);return new Si(t.seconds,t.nanos)}function zi(e){return null==e}function qi(e){return 0===e&&1/e==-1/0}class Bi{constructor(e){this.path=e}static fromPath(e){return new Bi(xi.fromString(e))}static fromName(e){return new Bi(xi.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===xi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bi(new xi(e.slice()))}}function $i(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ji(e)?4:10:oi()}function Hi(e,t){const n=$i(e);if(n!==$i(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ui(e).isEqual(Ui(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pi(e.timestampValue),r=Pi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fi(e.bytesValue).isEqual(Fi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mi(e.geoPointValue.latitude)===Mi(t.geoPointValue.latitude)&&Mi(e.geoPointValue.longitude)===Mi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mi(e.integerValue)===Mi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mi(e.doubleValue),r=Mi(t.doubleValue);return n===r?qi(n)===qi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ci(e.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ti(n)!==Ti(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Hi(n[e],r[e])))return!1;return!0}(e,t);default:return oi()}}function Ki(e,t){return void 0!==(e.values||[]).find((e=>Hi(e,t)))}function Wi(e,t){const n=$i(e),r=$i(t);if(n!==r)return Ei(n,r);switch(n){case 0:return 0;case 1:return Ei(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mi(e.integerValue||e.doubleValue),r=Mi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gi(e.timestampValue,t.timestampValue);case 4:return Gi(Ui(e),Ui(t));case 5:return Ei(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Fi(e),r=Fi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Ei(n[e],r[e]);if(0!==t)return t}return Ei(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ei(Mi(e.latitude),Mi(t.latitude));return 0!==n?n:Ei(Mi(e.longitude),Mi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Wi(n[e],r[e]);if(t)return t}return Ei(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Ei(r[e],s[e]);if(0!==t)return t;const a=Wi(n[r[e]],i[s[e]]);if(0!==a)return a}return Ei(r.length,s.length)}(e.mapValue,t.mapValue);default:throw oi()}}function Gi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ei(e,t);const n=Pi(e),r=Pi(t),i=Ei(n.seconds,r.seconds);return 0!==i?i:Ei(n.nanos,r.nanos)}function Qi(e){return Yi(e)}function Yi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bi.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yi(e.fields[i])}`;return n+"}"}(e.mapValue):oi();var t,n}function Xi(e){return!!e&&"integerValue"in e}function Ji(e){return!!e&&"arrayValue"in e}function Zi(e){return!!e&&"nullValue"in e}function es(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ts(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _i(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ns(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ts(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(t)}setAll(e){let t=Ai.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ns(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ts(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ts(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_i(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new rs(ns(this.value))}}function is(e){const t=[];return _i(e.fields,((e,n)=>{const r=new Ai([e]);if(ts(n)){const e=is(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Di(t)}class ss{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new ss(e,0,ki.min(),rs.empty(),0)}static newFoundDocument(e,t,n){return new ss(e,1,t,n,0)}static newNoDocument(e,t){return new ss(e,2,t,rs.empty(),0)}static newUnknownDocument(e,t){return new ss(e,3,t,rs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ss&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new ss(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class as{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.A=null}}function os(e,t=null,n=[],r=[],i=null,s=null,a=null){return new as(e,t,n,r,i,s,a)}function ls(e){const t=ui(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Qi(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Es(t.startAt)),t.endAt&&(e+="|ub:",e+=Es(t.endAt)),t.A=e}return t.A}function us(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ss(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Hi(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ts(e.startAt,t.startAt)&&Ts(e.endAt,t.endAt)}function cs(e){return Bi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hs extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new fs(e,t,n):"array-contains"===t?new gs(e,n):"in"===t?new ys(e,n):"not-in"===t?new vs(e,n):"array-contains-any"===t?new bs(e,n):new hs(e,t,n)}static R(e,t,n){return"in"===t?new ds(e,n):new ps(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Wi(t,this.value)):null!==t&&$i(this.value)===$i(t)&&this.P(Wi(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return oi()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fs extends hs{constructor(e,t,n){super(e,t,n),this.key=Bi.fromName(n.referenceValue)}matches(e){const t=Bi.comparator(e.key,this.key);return this.P(t)}}class ds extends hs{constructor(e,t){super(e,"in",t),this.keys=ms(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ps extends hs{constructor(e,t){super(e,"not-in",t),this.keys=ms(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ms(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Bi.fromName(e.referenceValue)))}class gs extends hs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ji(t)&&Ki(t.arrayValue,this.value)}}class ys extends hs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ki(this.value.arrayValue,t)}}class vs extends hs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ki(this.value.arrayValue,t)}}class bs extends hs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ji(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ki(this.value.arrayValue,e)))}}class ws{constructor(e,t){this.position=e,this.before=t}}function Es(e){return`${e.before?"b":"a"}:${e.position.map((e=>Qi(e))).join(",")}`}class Cs{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ss(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ks(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Bi.comparator(Bi.fromName(a.referenceValue),n.key):Wi(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ts(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hi(e.position[n],t.position[n]))return!1;return!0}class _s{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.V=null,this.S=null,this.startAt,this.endAt}}function Ns(e){return new _s(e)}function Is(e){return!zi(e.limit)&&"F"===e.limitType}function xs(e){return!zi(e.limit)&&"L"===e.limitType}function Ls(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function As(e){for(const t of e.filters)if(t.v())return t.field;return null}function Ds(e){const t=ui(e);if(null===t.V){t.V=[];const e=As(t),n=Ls(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Cs(e)),t.V.push(new Cs(Ai.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Cs(Ai.keyField(),e))}}}return t.V}function Rs(e){const t=ui(e);if(!t.S)if("F"===t.limitType)t.S=os(t.path,t.collectionGroup,Ds(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Ds(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Cs(n.field,t))}const n=t.endAt?new ws(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ws(t.startAt.position,!t.startAt.before):null;t.S=os(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Os(e,t,n){return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ps(e,t){return us(Rs(e),Rs(t))&&e.limitType===t.limitType}function Ms(e){return`${ls(Rs(e))}|lt:${e.limitType}`}function Fs(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Qi(t.value)}`;var t})).join(", ")}]`),zi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+Es(e.startAt)),e.endAt&&(t+=", endAt: "+Es(e.endAt)),`Target(${t})`}(Rs(e))}; limitType=${e.limitType})`}function js(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ks(e.startAt,Ds(e),t)||e.endAt&&ks(e.endAt,Ds(e),t))}(e,t)}function Vs(e){return(t,n)=>{let r=!1;for(const i of Ds(e)){const e=Us(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Us(e,t,n){const r=e.field.isKeyField()?Bi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wi(r,i):oi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return oi()}}function zs(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qi(t)?"-0":t}}function qs(e){return{integerValue:""+e}}function Bs(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?qs(t):zs(e,t)}class $s{constructor(){this._=void 0}}function Hs(e,t,n){return e instanceof Gs?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qs?Ys(e,t):e instanceof Xs?Js(e,t):function(e,t){const n=Ws(e,t),r=ea(n)+ea(e.C);return Xi(n)&&Xi(e.C)?qs(r):zs(e.N,r)}(e,t)}function Ks(e,t,n){return e instanceof Qs?Ys(e,t):e instanceof Xs?Js(e,t):n}function Ws(e,t){return e instanceof Zs?Xi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Gs extends $s{}class Qs extends $s{constructor(e){super(),this.elements=e}}function Ys(e,t){const n=ta(t);for(const t of e.elements)n.some((e=>Hi(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Xs extends $s{constructor(e){super(),this.elements=e}}function Js(e,t){let n=ta(t);for(const t of e.elements)n=n.filter((e=>!Hi(e,t)));return{arrayValue:{values:n}}}class Zs extends $s{constructor(e,t){super(),this.N=e,this.C=t}}function ea(e){return Mi(e.integerValue||e.doubleValue)}function ta(e){return Ji(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class na{constructor(e,t){this.field=e,this.transform=t}}class ra{constructor(e,t){this.version=e,this.transformResults=t}}class ia{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ia}static exists(e){return new ia(void 0,e)}static updateTime(e){return new ia(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class aa{}function oa(e,t,n){e instanceof fa?function(e,t,n){const r=e.value.clone(),i=ma(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof da?function(e,t,n){if(!sa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ma(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function la(e,t,n){e instanceof fa?function(e,t,n){if(!sa(e.precondition,t))return;const r=e.value.clone(),i=ga(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ha(t),r).setHasLocalMutations()}(e,t,n):e instanceof da?function(e,t,n){if(!sa(e.precondition,t))return;const r=ga(e.fieldTransforms,n,t),i=t.data;i.setAll(pa(e)),i.setAll(r),t.convertToFoundDocument(ha(t),i).setHasLocalMutations()}(e,t,n):function(e,t){sa(e.precondition,t)&&t.convertToNoDocument(ki.min())}(e,t)}function ua(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ws(r.transform,e||null);null!=i&&(null==n&&(n=rs.empty()),n.set(r.field,i))}return n||null}function ca(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ci(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qs&&t instanceof Qs||e instanceof Xs&&t instanceof Xs?Ci(e.elements,t.elements,Hi):e instanceof Zs&&t instanceof Zs?Hi(e.C,t.C):e instanceof Gs&&t instanceof Gs}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ha(e){return e.isFoundDocument()?e.version:ki.min()}class fa extends aa{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class da extends aa{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function pa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ma(e,t,n){const r=new Map;li(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Ks(a,o,n[i]))}return r}function ga(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Hs(e,s,t))}return r}class ya extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class va extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ba{constructor(e){this.count=e}}var wa,Ea;function Ca(e){if(void 0===e)return ii("GRPC error has no .code"),ci.UNKNOWN;switch(e){case wa.OK:return ci.OK;case wa.CANCELLED:return ci.CANCELLED;case wa.UNKNOWN:return ci.UNKNOWN;case wa.DEADLINE_EXCEEDED:return ci.DEADLINE_EXCEEDED;case wa.RESOURCE_EXHAUSTED:return ci.RESOURCE_EXHAUSTED;case wa.INTERNAL:return ci.INTERNAL;case wa.UNAVAILABLE:return ci.UNAVAILABLE;case wa.UNAUTHENTICATED:return ci.UNAUTHENTICATED;case wa.INVALID_ARGUMENT:return ci.INVALID_ARGUMENT;case wa.NOT_FOUND:return ci.NOT_FOUND;case wa.ALREADY_EXISTS:return ci.ALREADY_EXISTS;case wa.PERMISSION_DENIED:return ci.PERMISSION_DENIED;case wa.FAILED_PRECONDITION:return ci.FAILED_PRECONDITION;case wa.ABORTED:return ci.ABORTED;case wa.OUT_OF_RANGE:return ci.OUT_OF_RANGE;case wa.UNIMPLEMENTED:return ci.UNIMPLEMENTED;case wa.DATA_LOSS:return ci.DATA_LOSS;default:return oi()}}(Ea=wa||(wa={}))[Ea.OK=0]="OK",Ea[Ea.CANCELLED=1]="CANCELLED",Ea[Ea.UNKNOWN=2]="UNKNOWN",Ea[Ea.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ea[Ea.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ea[Ea.NOT_FOUND=5]="NOT_FOUND",Ea[Ea.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ea[Ea.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ea[Ea.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ea[Ea.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ea[Ea.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ea[Ea.ABORTED=10]="ABORTED",Ea[Ea.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ea[Ea.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ea[Ea.INTERNAL=13]="INTERNAL",Ea[Ea.UNAVAILABLE=14]="UNAVAILABLE",Ea[Ea.DATA_LOSS=15]="DATA_LOSS";class Sa{constructor(e,t){this.comparator=e,this.root=t||Ta.EMPTY}insert(e,t){return new Sa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ta.BLACK,null,null))}remove(e){return new Sa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ta{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ta.RED,this.left=null!=r?r:Ta.EMPTY,this.right=null!=i?i:Ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ta(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ta.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oi();if(this.right.isRed())throw oi();const e=this.left.check();if(e!==this.right.check())throw oi();return e+(this.isRed()?0:1)}}Ta.EMPTY=null,Ta.RED=!0,Ta.BLACK=!1,Ta.EMPTY=new class{constructor(){this.size=0}get key(){throw oi()}get value(){throw oi()}get color(){throw oi()}get left(){throw oi()}get right(){throw oi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ta(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _a{constructor(e){this.comparator=e,this.data=new Sa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Na(this.data.getIterator())}getIteratorFrom(e){return new Na(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof _a))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _a(this.comparator);return t.data=e,t}}class Na{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Ia=new Sa(Bi.comparator);function xa(){return Ia}const La=new Sa(Bi.comparator);function Aa(){return La}const Da=new Sa(Bi.comparator);const Ra=new _a(Bi.comparator);function Oa(...e){let t=Ra;for(const n of e)t=t.add(n);return t}const Pa=new _a(Ei);function Ma(){return Pa}class Fa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fa(ki.min(),n,Ma(),xa(),Oa())}}class ja{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ja(Ri.EMPTY_BYTE_STRING,t,Oa(),Oa(),Oa())}}class Va{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Ua{constructor(e,t){this.targetId=e,this.O=t}}class za{constructor(e,t,n=Ri.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qa{constructor(){this.F=0,this.M=Ha(),this.L=Ri.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Oa(),t=Oa(),n=Oa();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:oi()}})),new ja(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Ha()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ba{constructor(e){this.tt=e,this.et=new Map,this.nt=xa(),this.st=$a(),this.it=new _a(Ei)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:oi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(cs(e))if(0===n){const n=new Bi(e.path);this.at(t,n,ss.newNoDocument(n,ki.min()))}else li(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&cs(i.target)){const t=new Bi(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,ss.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=Oa();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Fa(e,t,this.it,this.nt,n);return this.nt=xa(),this.st=$a(),this.it=new _a(Ei),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new qa,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new _a(Ei),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||ri("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new qa),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function $a(){return new Sa(Bi.comparator)}function Ha(){return new Sa(Bi.comparator)}const Ka={asc:"ASCENDING",desc:"DESCENDING"},Wa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ga{constructor(e,t){this.databaseId=e,this.D=t}}function Qa(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ya(e,t){return e.D?t.toBase64():t.toUint8Array()}function Xa(e,t){return Qa(e,t.toTimestamp())}function Ja(e){return li(!!e),ki.fromTimestamp(function(e){const t=Pi(e);return new Si(t.seconds,t.nanos)}(e))}function Za(e,t){return function(e){return new xi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function eo(e){const t=xi.fromString(e);return li(Eo(t)),t}function to(e,t){return Za(e.databaseId,t.path)}function no(e,t){const n=eo(t);if(n.get(1)!==e.databaseId.projectId)throw new hi(ci.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hi(ci.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bi(so(n))}function ro(e,t){return Za(e.databaseId,t)}function io(e){return new xi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function so(e){return li(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ao(e,t,n){return{name:to(e,t),fields:n.value.mapValue.fields}}function oo(e,t){return{documents:[ro(e,t.path)]}}function lo(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ro(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ro(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(es(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NAN"}};if(Zi(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(es(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NAN"}};if(Zi(e.value))return{unaryFilter:{field:go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(e.field),op:mo(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:go(e.field),direction:po(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.D||zi(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ho(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ho(t.endAt)),n}function uo(e){let t=function(e){const t=eo(e);return 4===t.length?xi.emptyPath():so(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){li(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=co(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Cs(yo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,zi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=fo(n.startAt));let u=null;return n.endAt&&(u=fo(n.endAt)),function(e,t,n,r,i,s,a,o){return new _s(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,u)}function co(e){return e?void 0!==e.unaryFilter?[bo(e)]:void 0!==e.fieldFilter?[vo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>co(e))).reduce(((e,t)=>e.concat(t))):oi():[]}function ho(e){return{before:e.before,values:e.position}}function fo(e){const t=!!e.before,n=e.values||[];return new ws(n,t)}function po(e){return Ka[e]}function mo(e){return Wa[e]}function go(e){return{fieldPath:e.canonicalString()}}function yo(e){return Ai.fromServerFormat(e.fieldPath)}function vo(e){return hs.create(yo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oi()}}(e.fieldFilter.op),e.fieldFilter.value)}function bo(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yo(e.unaryFilter.field);return hs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=yo(e.unaryFilter.field);return hs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yo(e.unaryFilter.field);return hs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yo(e.unaryFilter.field);return hs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oi()}}function wo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Eo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Co(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ko(t)),t=So(e.get(n),t);return ko(t)}function So(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function ko(e){return e+""}class To{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}To.store="owner",To.key="owner";class _o{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}_o.store="mutationQueues",_o.keyPath="userId";class No{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}No.store="mutations",No.keyPath="batchId",No.userMutationsIndex="userMutationsIndex",No.userMutationsKeyPath=["userId","batchId"];class Io{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Co(t)]}static key(e,t,n){return[e,Co(t),n]}}Io.store="documentMutations",Io.PLACEHOLDER=new Io;class xo{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}xo.store="remoteDocuments",xo.readTimeIndex="readTimeIndex",xo.readTimeIndexPath="readTime",xo.collectionReadTimeIndex="collectionReadTimeIndex",xo.collectionReadTimeIndexPath=["parentPath","readTime"];class Lo{constructor(e){this.byteSize=e}}Lo.store="remoteDocumentGlobal",Lo.key="remoteDocumentGlobalKey";class Ao{constructor(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a}}Ao.store="targets",Ao.keyPath="targetId",Ao.queryTargetsIndexName="queryTargetsIndex",Ao.queryTargetsKeyPath=["canonicalId","targetId"];class Do{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Do.store="targetDocuments",Do.keyPath=["targetId","path"],Do.documentTargetsIndex="documentTargetsIndex",Do.documentTargetsKeyPath=["path","targetId"];class Ro{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ro.key="targetGlobalKey",Ro.store="targetGlobal";class Oo{constructor(e,t){this.collectionId=e,this.parent=t}}Oo.store="collectionParents",Oo.keyPath=["collectionId","parent"];class Po{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Po.store="clientMetadata",Po.keyPath="clientId";class Mo{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Mo.store="bundles",Mo.keyPath="bundleId";class Fo{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Fo.store="namedQueries",Fo.keyPath="name",_o.store,No.store,Io.store,xo.store,Ao.store,To.store,Ro.store,Do.store,Po.store,Lo.store,Oo.store,Mo.store,Fo.store;class jo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof jo?t:jo.resolve(t)}catch(e){return jo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.reject(t)}static resolve(e){return new jo(((t,n)=>{t(e)}))}static reject(e){return new jo(((t,n)=>{n(e)}))}static waitFor(e){return new jo(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=jo.resolve(!1);for(const n of e)t=t.next((e=>e?jo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function Vo(e){return"IndexedDbTransactionError"===e.name}class Uo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&oa(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&la(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&la(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ki.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oa())}isEqual(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,((e,t)=>ca(e,t)))&&Ci(this.baseMutations,e.baseMutations,((e,t)=>ca(e,t)))}}class zo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){li(e.mutations.length===n.length);let r=Da;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new zo(e,t,n,r)}}class qo{constructor(e,t,n,r,i=ki.min(),s=ki.min(),a=Ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Bo{constructor(e){this.Wt=e}}function $o(e){const t=uo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Os(t,t.limit,"L"):t}class Ho{constructor(){this.Gt=new Ko}addToCollectionParentIndex(e,t){return this.Gt.add(t),jo.resolve()}getCollectionParents(e,t){return jo.resolve(this.Gt.getEntries(t))}}class Ko{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _a(xi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _a(xi.comparator)).toArray()}}class Wo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Wo(e,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class Go{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Go(0)}static ie(){return new Go(-1)}}async function Qo(e){if(e.code!==ci.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;ri("LocalStore","Unexpectedly lost primary lease")}class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){_i(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Ni(this.inner)}}class Xo{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Bi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Bi(t)).next((e=>{let t=Aa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=Aa();return this.Ht.getCollectionParents(e,r).next((s=>jo.forEach(s,(s=>{const a=function(e,t){return new _s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=ss.newInvalidDocument(n),r=r.insert(n,i)),la(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{js(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=Oa();for(const e of t)for(const t of e.mutations)t instanceof da&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Jo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Oa(),r=Oa();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Jo(e,t.fromCache,n,r)}}class Zo{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ki.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const s=this.Mn(t,i);return(Is(t)||xs(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(ni()<=w.DEBUG&&ri("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fs(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new _a(Vs(e));return t.forEach(((t,r)=>{js(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return ni()<=w.DEBUG&&ri("QueryEngine","Using full collection scan to execute query:",Fs(t)),this.On.getDocumentsMatchingQuery(e,t,ki.min())}}class el{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Sa(Ei),this.qn=new Yo((e=>ls(e)),us),this.Kn=ki.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Xo(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}async function tl(e,t){const n=ui(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.In.getAllMutationBatches(e).next((a=>(s=a,r=n.persistence.getMutationQueue(t),i=new Xo(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let a=Oa();for(const e of s){n.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return i.Pn(e,a).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function nl(e){const t=ui(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function rl(e,t){const n=ui(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}async function il(e,t,n){const r=ui(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Vo(e))throw e;ri("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function sl(e,t,n){const r=ui(e);let i=ki.min(),s=Oa();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=ui(e),i=r.qn.get(n);return void 0!==i?jo.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Rs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:ki.min(),n?s:Oa()))).next((e=>({documents:e,Gn:s})))))}class al{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return jo.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ja(n.createTime)}),jo.resolve()}getNamedQuery(e,t){return jo.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:$o(e.bundledQuery),readTime:Ja(e.readTime)}}(t)),jo.resolve()}}class ol{constructor(){this.Zn=new _a(ll.ts),this.es=new _a(ll.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new ll(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new ll(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Bi(new xi([])),n=new ll(t,e),r=new ll(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Bi(new xi([])),n=new ll(t,e),r=new ll(t,e+1);let i=Oa();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ll(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ll{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Bi.comparator(e.key,t.key)||Ei(e.ls,t.ls)}static ns(e,t){return Ei(e.ls,t.ls)||Bi.comparator(e.key,t.key)}}class ul{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new _a(ll.ts)}checkEmpty(e){return jo.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new Uo(i,t,n,r);this.In.push(s);for(const t of r)this.ds=this.ds.add(new ll(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return jo.resolve(s)}lookupMutationBatch(e,t){return jo.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return jo.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return jo.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return jo.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ll(t,0),r=new ll(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),jo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _a(Ei);return t.forEach((e=>{const t=new ll(e,0),r=new ll(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),jo.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Bi.isDocumentKey(i)||(i=i.child(""));const s=new ll(new Bi(i),0);let a=new _a(Ei);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),s),jo.resolve(this.gs(a))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){li(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return jo.forEach(t.mutations,(r=>{const i=new ll(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new ll(t,0),r=this.ds.firstAfterOrEqual(n);return jo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,jo.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class cl{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Sa(Bi.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jo.resolve(n?n.document.clone():ss.newInvalidDocument(t))}getEntries(e,t){let n=xa();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():ss.newInvalidDocument(e))})),jo.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=xa();const i=new Bi(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:a}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;a.compareTo(n)<=0||js(t,i)&&(r=r.insert(i.key,i.clone()))}return jo.resolve(r)}Ts(e,t){return jo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new hl(this)}getSize(e){return jo.resolve(this.size)}}class hl extends class{constructor(){this.changes=new Yo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ki.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:ss.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jo.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),jo.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class fl{constructor(e){this.persistence=e,this.Es=new Yo((e=>ls(e)),us),this.lastRemoteSnapshotVersion=ki.min(),this.highestTargetId=0,this.Is=0,this.As=new ol,this.targetCount=0,this.Rs=Go.se()}forEachTarget(e,t){return this.Es.forEach(((e,n)=>t(n))),jo.resolve()}getLastRemoteSnapshotVersion(e){return jo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jo.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),jo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),jo.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,jo.resolve()}updateTargetData(e,t){return this.ae(t),jo.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,jo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),jo.waitFor(i).next((()=>r))}getTargetCount(e){return jo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return jo.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),jo.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),jo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),jo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return jo.resolve(n)}containsKey(e,t){return jo.resolve(this.As.containsKey(t))}}class dl{constructor(e,t){this.bs={},this.Le=new vi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new fl(this),this.Ht=new Ho,this.He=function(e,t){return new cl(e,t)}(this.Ht,(e=>this.referenceDelegate.Ps(e))),this.N=new Bo(t),this.Je=new al(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new ul(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){ri("MemoryPersistence","Starting transaction:",e);const r=new pl(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return jo.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class pl extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class ml{constructor(e){this.persistence=e,this.Ds=new ol,this.Cs=null}static Ns(e){return new ml(e)}get xs(){if(this.Cs)return this.Cs;throw oi()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),jo.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),jo.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),jo.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.xs,(n=>{const r=Bi.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return jo.or([()=>jo.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class gl{constructor(){this.activeTargetIds=Ma()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yl{constructor(){this.yi=new gl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new gl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class vl{Ti(e){}shutdown(){}}class bl{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){ri("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){ri("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class El{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Cl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);ri("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then((e=>(ri("RestConnection","Received: ",e),e)),(t=>{throw si("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=wl[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,s)=>{const a=new Xr;a.listenOnce(Kr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Hr.NO_ERROR:const t=a.getResponseJson();ri("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hr.TIMEOUT:ri("Connection",'RPC "'+e+'" timed out'),s(new hi(ci.DEADLINE_EXCEEDED,"Request time out"));break;case Hr.HTTP_ERROR:const n=a.getStatus();if(ri("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ci).indexOf(t)>=0?t:ci.UNKNOWN}(e.status);s(new hi(t,e.message))}else s(new hi(ci.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new hi(ci.UNAVAILABLE,"Connection failed."));break;default:oi()}}finally{ri("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Br(),i=$r(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Qr({})),this.Ui(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())||"object"==typeof navigator&&"ReactNative"===navigator.product||o().indexOf("Electron/")>=0||function(){const e=o();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||o().indexOf("MSAppHost/")>=0||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||(s.httpHeadersOverwriteParam="$httpHeaders");const a=n.join("");ri("Connection","Creating WebChannel: "+a,s);const l=r.createWebChannel(a,s);let u=!1,c=!1;const h=new El({vi:e=>{c?ri("Connection","Not sending because WebChannel is closed:",e):(u||(ri("Connection","Opening WebChannel transport."),l.open(),u=!0),ri("Connection","WebChannel sending:",e),l.send(e))},Vi:()=>l.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(l,Yr.EventType.OPEN,(()=>{c||ri("Connection","WebChannel transport opened.")})),f(l,Yr.EventType.CLOSE,(()=>{c||(c=!0,ri("Connection","WebChannel transport closed"),h.$i())})),f(l,Yr.EventType.ERROR,(e=>{c||(c=!0,si("Connection","WebChannel transport errored:",e),h.$i(new hi(ci.UNAVAILABLE,"The operation could not be completed")))})),f(l,Yr.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];li(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ri("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=wa[e];if(void 0!==t)return Ca(t)}(e),n=i.message;void 0===t&&(t=ci.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.$i(new hi(t,n)),l.close()}else ri("Connection","WebChannel received:",n),h.Oi(n)}})),f(i,Wr.STAT_EVENT,(e=>{e.stat===Gr.PROXY?ri("Connection","Detected buffering proxy"):e.stat===Gr.NOPROXY&&ri("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.ki()}),0),h}}function Sl(){return"undefined"!=typeof document?document:null}function kl(e){return new Ga(e,!0)}class Tl{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&ri("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class _l{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Tl(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===ci.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===ci.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new hi(ci.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return ri("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(ri("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nl extends _l{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:oi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(li(void 0===t||"string"==typeof t),Ri.fromBase64String(t||"")):(li(void 0===t||t instanceof Uint8Array),Ri.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ci.UNKNOWN:Ca(e.code);return new hi(t,e.message||"")}(a);n=new za(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=no(e,r.document.name),s=Ja(r.document.updateTime),a=new rs({mapValue:{fields:r.document.fields}}),o=ss.newFoundDocument(i,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Va(l,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=no(e,r.document),s=r.readTime?Ja(r.readTime):ki.min(),a=ss.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Va([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=no(e,r.document),s=r.removedTargetIds||[];n=new Va([],s,i,null)}else{if(!("filter"in t))return oi();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new ba(r),s=e.targetId;n=new Ua(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return ki.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ki.min():t.readTime?Ja(t.readTime):ki.min()}(e);return this.listener.Er(t,n)}Ir(e){const t={};t.database=io(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=cs(r)?{documents:oo(e,r)}:{query:lo(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ya(e,t.resumeToken):t.snapshotVersion.compareTo(ki.min())>0&&(n.readTime=Qa(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=io(this.N),t.removeTarget=e,this.wr(t)}}class Il extends _l{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(li(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ja(e.updateTime):Ja(t);return n.isEqual(ki.min())&&(n=Ja(t)),new ra(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ja(e.commitTime);return this.listener.vr(n,t)}return li(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=io(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof fa)n={update:ao(e,t.key,t.value)};else if(t instanceof ya)n={delete:to(e,t.key)};else if(t instanceof da)n={update:ao(e,t.key,t.data),updateMask:wo(t.fieldMask)};else{if(!(t instanceof va))return oi();n={verify:to(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Gs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zs)return{fieldPath:t.field.canonicalString(),increment:n.C};throw oi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:oi()}(e,t.precondition)),n}(this.N,e)))};this.wr(t)}}class xl extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new hi(ci.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ci.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new hi(ci.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ci.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new hi(ci.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class Ll{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ii(t),this.$r=!1):ri("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Al{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti((e=>{n.enqueueAndForget((async()=>{Ul(this)&&(ri("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ui(e);t.Kr.add(4),await Rl(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Dl(t)}(this))}))})),this.Wr=new Ll(n,r)}}async function Dl(e){if(Ul(e))for(const t of e.jr)await t(!0)}async function Rl(e){for(const t of e.jr)await t(!1)}function Ol(e,t){const n=ui(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Vl(n)?jl(n):nu(n).cr()&&Ml(n,t))}function Pl(e,t){const n=ui(e),r=nu(n);n.qr.delete(t),r.cr()&&Fl(n,t),0===n.qr.size&&(r.cr()?r.lr():Ul(n)&&n.Wr.set("Unknown"))}function Ml(e,t){e.Gr.Y(t.targetId),nu(e).Ir(t)}function Fl(e,t){e.Gr.Y(t),nu(e).Ar(t)}function jl(e){e.Gr=new Ba({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qr.get(t)||null}),nu(e).start(),e.Wr.Or()}function Vl(e){return Ul(e)&&!nu(e).ar()&&e.qr.size>0}function Ul(e){return 0===ui(e).Kr.size}function zl(e){e.Gr=void 0}async function ql(e){e.qr.forEach(((t,n)=>{Ml(e,t)}))}async function Bl(e,t){zl(e),Vl(e)?(e.Wr.Lr(t),jl(e)):e.Wr.set("Unknown")}async function $l(e,t,n){if(e.Wr.set("Online"),t instanceof za&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){ri("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Hl(e,n)}else if(t instanceof Va?e.Gr.rt(t):t instanceof Ua?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(ki.min()))try{const t=await nl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Ri.EMPTY_BYTE_STRING,n.snapshotVersion)),Fl(e,t);const r=new qo(n.target,t,1,n.sequenceNumber);Ml(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ri("RemoteStore","Failed to raise snapshot:",t),await Hl(e,t)}}async function Hl(e,t,n){if(!Vo(t))throw t;e.Kr.add(1),await Rl(e),e.Wr.set("Offline"),n||(n=()=>nl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ri("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Dl(e)}))}function Kl(e,t){return t().catch((n=>Hl(e,n,t)))}async function Wl(e){const t=ui(e),n=ru(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Gl(t);)try{const e=await rl(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,Ql(t,e)}catch(e){await Hl(t,e)}Yl(t)&&Xl(t)}function Gl(e){return Ul(e)&&e.Ur.length<10}function Ql(e,t){e.Ur.push(t);const n=ru(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Yl(e){return Ul(e)&&!ru(e).ar()&&e.Ur.length>0}function Xl(e){ru(e).start()}async function Jl(e){ru(e).Sr()}async function Zl(e){const t=ru(e);for(const n of e.Ur)t.Pr(n.mutations)}async function eu(e,t,n){const r=e.Ur.shift(),i=zo.from(r,t,n);await Kl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Wl(e)}async function tu(e,t){t&&ru(e).br&&await async function(e,t){if(function(e){switch(e){default:return oi();case ci.CANCELLED:case ci.UNKNOWN:case ci.DEADLINE_EXCEEDED:case ci.RESOURCE_EXHAUSTED:case ci.INTERNAL:case ci.UNAVAILABLE:case ci.UNAUTHENTICATED:return!1;case ci.INVALID_ARGUMENT:case ci.NOT_FOUND:case ci.ALREADY_EXISTS:case ci.PERMISSION_DENIED:case ci.FAILED_PRECONDITION:case ci.ABORTED:case ci.OUT_OF_RANGE:case ci.UNIMPLEMENTED:case ci.DATA_LOSS:return!0}}(n=t.code)&&n!==ci.ABORTED){const n=e.Ur.shift();ru(e).hr(),await Kl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Wl(e)}var n}(e,t),Yl(e)&&Xl(e)}function nu(e){return e.zr||(e.zr=function(e,t,n){const r=ui(e);return r.Cr(),new Nl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:ql.bind(null,e),Ci:Bl.bind(null,e),Er:$l.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),Vl(e)?jl(e):e.Wr.set("Unknown")):(await e.zr.stop(),zl(e))}))),e.zr}function ru(e){return e.Hr||(e.Hr=function(e,t,n){const r=ui(e);return r.Cr(),new Il(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Jl.bind(null,e),Ci:tu.bind(null,e),Vr:Zl.bind(null,e),vr:eu.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await Wl(e)):(await e.Hr.stop(),e.Ur.length>0&&(ri("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class iu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new iu(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hi(ci.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(e,t){if(ii("AsyncQueue",`${t}: ${e}`),Vo(e))return new hi(ci.UNAVAILABLE,`${t}: ${e}`);throw e}class au{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Bi.comparator(t.key,n.key):(e,t)=>Bi.comparator(e.key,t.key),this.keyedMap=Aa(),this.sortedSet=new Sa(this.comparator)}static emptySet(e){return new au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof au))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new au;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ou{constructor(){this.Jr=new Sa(Bi.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):oi():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lu{constructor(e,t,n,r,i,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new lu(e,t,au.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ps(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class uu{constructor(){this.Xr=void 0,this.listeners=[]}}class cu{constructor(){this.queries=new Yo((e=>Ms(e)),Ps),this.onlineState="Unknown",this.Zr=new Set}}function hu(e,t){const n=ui(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&du(n)}function fu(e,t,n){const r=ui(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function du(e){e.Zr.forEach((e=>{e.next()}))}class pu{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class mu{constructor(e){this.key=e}}class gu{constructor(e){this.key=e}}class yu{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Oa(),this.mutatedKeys=Oa(),this.po=Vs(e),this.To=new au(this.po)}get Eo(){return this._o}Io(e,t){const n=t?t.Ao:new ou,r=t?t.To:this.To;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o=Is(this.query)&&r.size===this.query.limit?r.last():null,l=xs(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=js(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),d=!0,(o&&this.po(c,o)>0||l&&this.po(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(o||l)&&(a=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Is(this.query)||xs(this.query))for(;s.size>this.query.limit;){const e=Is(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{To:s,Ao:n,Ln:a,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oi()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const s=t?this.Po():[],a=0===this.yo.size&&this.current?1:0,o=a!==this.mo;return this.mo=a,0!==i.length||o?{snapshot:new lu(this.query,e.To,r,i,e.mutatedKeys,0===a,o,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new ou,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Oa(),this.To.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new gu(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new mu(n))})),t}So(e){this._o=e.Gn,this.yo=Oa();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return lu.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class vu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bu{constructor(e){this.key=e,this.Co=!1}}class wu{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Yo((e=>Ms(e)),Ps),this.ko=new Map,this.$o=new Set,this.Oo=new Sa(Bi.comparator),this.Fo=new Map,this.Mo=new ol,this.Lo={},this.Bo=new Map,this.Uo=Go.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function Eu(e,t){const n=function(e){const t=ui(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Su.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tu.bind(null,t),t.No.Er=hu.bind(null,t.eventManager),t.No.jo=fu.bind(null,t.eventManager),t}(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await function(e,t){const n=ui(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,jo.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new qo(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}(n.localStore,Rs(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await sl(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Du(e,t.targetId,a.vo),a.snapshot}(e,t,n,r);const i=await sl(e.localStore,t,!0),s=new yu(t,i.Gn),a=s.Io(i.documents),o=ja.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,o);Du(e,n,l.vo);const u=new vu(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}(n,t,r,"current"===s),n.isPrimaryClient&&Ol(n.remoteStore,e)}return i}async function Cu(e,t){const n=ui(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Ps(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await il(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Pl(n.remoteStore,r.targetId),Lu(n,r.targetId)})).catch(Qo)):(Lu(n,r.targetId),await il(n.localStore,r.targetId,!0))}async function Su(e,t){const n=ui(e);try{const e=await function(e,t){const n=ui(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];t.targetChanges.forEach(((t,s)=>{const o=i.get(s);if(!o)return;a.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=o.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return li(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(o,u,t)&&a.push(n.ze.updateTargetData(e,u))}}));let o=xa();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n,r,i){let s=Oa();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=xa();return n.forEach(((n,a)=>{const o=e.get(n),l=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ki.min())?(t.removeEntry(n,l),s=s.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a,l),s=s.insert(n,a)):ri("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),s}))}(e,s,t.documentUpdates,r,void 0).next((e=>{o=e}))),!r.isEqual(ki.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return jo.waitFor(a).next((()=>s.apply(e))).next((()=>n.Qn.vn(e,o))).next((()=>o))})).then((e=>(n.Un=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(li(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?li(r.Co):e.removedDocuments.size>0&&(li(r.Co),r.Co=!1))})),await Pu(n,e,t)}catch(e){await Qo(e)}}function ku(e,t,n){const r=ui(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ui(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&du(n)}(r.eventManager,t),e.length&&r.No.Er(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Tu(e,t,n){const r=ui(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Sa(Bi.comparator);e=e.insert(s,ss.newNoDocument(s,ki.min()));const n=Oa().add(s),i=new Fa(ki.min(),new Map,new _a(Ei),e,n);await Su(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),Ou(r)}else await il(r.localStore,t,!1).then((()=>Lu(r,t,n))).catch(Qo)}async function _u(e,t){const n=ui(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ui(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=jo.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);li(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);xu(n,r,null),Iu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,e)}catch(e){await Qo(e)}}async function Nu(e,t,n){const r=ui(e);try{const e=await function(e,t){const n=ui(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(li(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);xu(r,t,n),Iu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pu(r,e)}catch(n){await Qo(n)}}function Iu(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function xu(e,t,n){const r=ui(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Lu(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||Au(e,t)}))}function Au(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Pl(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Ou(e))}function Du(e,t,n){for(const r of n)r instanceof mu?(e.Mo.addReference(r.key,t),Ru(e,r)):r instanceof gu?(ri("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||Au(e,r.key)):oi()}function Ru(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(ri("SyncEngine","New document in limbo: "+n),e.$o.add(r),Ou(e))}function Ou(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Bi(xi.fromString(t)),r=e.Uo.next();e.Fo.set(r,new bu(n)),e.Oo=e.Oo.insert(n,r),Ol(e.remoteStore,new qo(Rs(Ns(n.path)),r,2,vi.T))}}async function Pu(e,t,n){const r=ui(e),i=[],s=[],a=[];r.xo.isEmpty()||(r.xo.forEach(((e,o)=>{a.push(r.Ko(o,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Jo.kn(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.No.Er(i),await async function(e,t){const n=ui(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>jo.forEach(t,(t=>jo.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>jo.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Vo(e))throw e;ri("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function Mu(e,t){const n=ui(e);if(!n.currentUser.isEqual(t)){ri("SyncEngine","User change. New user:",t.toKey());const e=await tl(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new hi(ci.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pu(n,e.Wn)}}function Fu(e,t){const n=ui(e),r=n.Fo.get(t);if(r&&r.Co)return Oa().add(r.key);{let e=Oa();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.Eo)}return e}}function ju(e){const t=ui(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_u.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nu.bind(null,t),t}class Vu{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=kl(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return function(e,t,n,r){return new el(e,t,n,r)}(this.persistence,new Zo,e.initialUser,this.N)}Go(e){return new dl(ml.Ns,this.N)}Wo(e){return new yl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ku(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mu.bind(null,this.syncEngine),await async function(e,t){const n=ui(e);t?(n.Kr.delete(2),await Dl(n)):t||(n.Kr.add(2),await Rl(n),n.Wr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cu}createDatastore(e){const t=kl(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Cl(r));var r;return function(e,t,n){return new xl(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>ku(this.syncEngine,e,0),s=bl.bt()?new bl:new vl,new Al(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new wu(e,t,n,r,i,s);return a&&(o.qo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ui(e);ri("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Rl(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}class zu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class qu{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Zr.UNAUTHENTICATED,this.clientId=wi.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{ri("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new hi(ci.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=su(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(ri("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),ri("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new Vu)),e.offlineComponents}(e);ri("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=ui(e);n.asyncQueue.verifyOperationInProgress(),ri("RemoteStore","RemoteStore received new credentials");const r=Ul(n);n.Kr.add(3),await Rl(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Dl(n)}(t.remoteStore,e))),e.onlineComponents=t}async function $u(e){return e.onlineComponents||(ri("FirestoreClient","Using default OnlineComponentProvider"),await Bu(e,new Uu)),e.onlineComponents}async function Hu(e){const t=await $u(e),n=t.eventManager;return n.onListen=Eu.bind(null,t.syncEngine),n.onUnlisten=Cu.bind(null,t.syncEngine),n}class Ku{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Wu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}const Gu=new Map;function Qu(e,t,n){if(!n)throw new hi(ci.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Yu(e){if(!Bi.isDocumentKey(e))throw new hi(ci.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Xu(e){if(Bi.isDocumentKey(e))throw new hi(ci.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ju(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":oi()}function Zu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hi(ci.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ju(e);throw new hi(ci.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class ec{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new hi(ci.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hi(ci.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new hi(ci.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tc{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ec({}),this._settingsFrozen=!1,e instanceof Wu?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hi(ci.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(e.options.projectId)}(e))}get app(){if(!this._app)throw new hi(ci.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hi(ci.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ec(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new pi;switch(e.type){case"gapi":const t=e.client;return li(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yi(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new hi(ci.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gu.get(e);t&&(ri("ComponentProvider","Removing Datastore"),Gu.delete(e),t.terminate())}(this),Promise.resolve()}}class nc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nc(this.firestore,e,this._key)}}class rc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rc(this.firestore,e,this._query)}}class ic extends rc{constructor(e,t,n){super(e,t,Ns(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nc(this.firestore,null,new Bi(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function sc(e,t,...n){if(e=p(e),Qu("collection","path",t),e instanceof tc){const r=xi.fromString(t,...n);return Xu(r),new ic(e,null,r)}{if(!(e instanceof nc||e instanceof ic))throw new hi(ci.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xi.fromString(t,...n));return Xu(r),new ic(e.firestore,null,r)}}function ac(e,t,...n){if(e=p(e),1===arguments.length&&(t=wi.I()),Qu("doc","path",t),e instanceof tc){const r=xi.fromString(t,...n);return Yu(r),new nc(e,null,new Bi(r))}{if(!(e instanceof nc||e instanceof ic))throw new hi(ci.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xi.fromString(t,...n));return Yu(r),new nc(e.firestore,e instanceof ic?e.converter:null,new Bi(r))}}class oc{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Tl(this,"async_queue_retry"),this.Ta=()=>{const e=Sl();e&&ri("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Sl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Sl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise((()=>{}));const t=new fi;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!Vo(e))throw e;ri("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{this.ma=e,this.ga=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ii("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const r=iu.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ea(){this.ma&&oi()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function lc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class uc extends tc{constructor(e,t){super(e,t),this.type="firestore",this._queue=new oc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hc(this),this._firestoreClient.terminate()}}function cc(e){return e._firestoreClient||hc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hc(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Ku(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qu(e._credentials,e._queue,r)}class fc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new hi(ci.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(Ri.fromBase64String(e))}catch(e){throw new hi(ci.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dc(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pc{constructor(e){this._methodName=e}}class mc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hi(ci.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hi(ci.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ei(this._lat,e._lat)||Ei(this._long,e._long)}}const gc=/^__.*__$/;class yc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new fa(e,this.data,t,this.fieldTransforms)}}class vc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oi()}}class wc{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Rc(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(bc(this.Da)&&gc.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Ec{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||kl(e)}Ba(e,t,n,r=!1){return new wc({Da:e,methodName:t,La:n,path:Ai.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Cc(e){const t=e._freezeSettings(),n=kl(e._databaseId);return new Ec(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sc(e,t,n,r,i,s={}){const a=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);xc("Data must be an object, but it was:",a,r);const o=Nc(r,a);let l,u;if(s.merge)l=new Di(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Lc(t,r,n);if(!a.contains(i))throw new hi(ci.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Oc(e,i)||e.push(i)}l=new Di(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new yc(new rs(o),l,u)}class kc extends pc{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}class Tc extends pc{_toFieldTransform(e){return new na(e.path,new Gs)}isEqual(e){return e instanceof Tc}}function _c(e,t){if(Ic(e=p(e)))return xc("Unsupported field value:",t,e),Nc(e,t);if(e instanceof pc)return function(e,t){if(!bc(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_c(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=p(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bs(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Si.fromDate(e);return{timestampValue:Qa(t.N,n)}}if(e instanceof Si){const n=new Si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qa(t.N,n)}}if(e instanceof mc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dc)return{bytesValue:Ya(t.N,e._byteString)};if(e instanceof nc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Za(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${Ju(e)}`)}(e,t)}function Nc(e,t){const n={};return Ni(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_i(e,((e,r)=>{const i=_c(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ic(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Si||e instanceof mc||e instanceof dc||e instanceof nc||e instanceof pc)}function xc(e,t,n){if(!Ic(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ju(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Lc(e,t,n){if((t=p(t))instanceof fc)return t._internalPath;if("string"==typeof t)return Dc(e,t);throw Rc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Ac=new RegExp("[~\\*/\\[\\]]");function Dc(e,t,n){if(t.search(Ac)>=0)throw Rc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fc(...t.split("."))._internalPath}catch(r){throw Rc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rc(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new hi(ci.INVALID_ARGUMENT,o+e+l)}function Oc(e,t){return e.some((e=>e.isEqual(t)))}class Pc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mc extends Pc{data(){return super.data()}}function Fc(e,t){return"string"==typeof t?Dc(e,t):t instanceof fc?t._internalPath:t._delegate._internalPath}class jc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends Pc{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Uc extends Vc{data(e={}){return super.data(e)}}class zc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Uc(this._firestore,this._userDataWriter,n.key,n,new jc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hi(ci.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Uc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Uc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:qc(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oi()}}class Bc{}class $c extends Bc{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new hi(ci.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hi(ci.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Cs(t,n);return function(e,t){if(null===Ls(e)){const n=As(e);null!==n&&function(e,t,n){if(!n.isEqual(t))throw new hi(ci.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new rc(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Hc extends Bc{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new rc(e.firestore,e.converter,Os(e._query,this.Ga,this.za))}}function Kc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wc extends class{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw oi()}}convertObject(e,t){const n={};return _i(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new mc(Mi(e.latitude),Mi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ui(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=xi.fromString(e);li(Eo(n));const r=new Wu(n.get(1),n.get(3)),i=new Bi(n.popFirst(5));return r.isEqual(t)||ii(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nc(this.firestore,null,t)}}function Gc(e,t,n){e=Zu(e,nc);const r=Zu(e.firestore,uc),i=Kc(e.converter,t,n);return Jc(r,[Sc(Cc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ia.none())])}function Qc(e){return Jc(Zu(e.firestore,uc),[new ya(e._key,ia.none())])}function Yc(e,t){const n=Zu(e.firestore,uc),r=ac(e),i=Kc(e.converter,t);return Jc(n,[Sc(Cc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ia.exists(!1))]).then((()=>r))}function Xc(e,...t){var n,r,i;e=p(e);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||lc(t[a])||(s=t[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges};if(lc(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof nc)u=Zu(e.firestore,uc),c=Ns(e._key.path),l={next:n=>{t[a]&&t[a](function(e,t,n){const r=n.docs.get(t._key),i=new Wc(e);return new Vc(e,i,t._key,r,new jc(n.hasPendingWrites,n.fromCache),t.converter)}(u,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Zu(e,rc);u=Zu(n.firestore,uc),c=n._query;const r=new Wc(u);l={next:e=>{t[a]&&t[a](new zc(u,r,n,e))},error:t[a+1],complete:t[a+2]},function(e){if(xs(e)&&0===e.explicitOrderBy.length)throw new hi(ci.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new zu(r),s=new pu(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=ui(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new uu),i)try{s.Xr=await n.onListen(r)}catch(e){const n=su(e,`Initialization of query '${Fs(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&du(n)}(await Hu(e),s))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=ui(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await Hu(e),s)))}}(cc(u),c,o,l)}function Jc(e,t){return function(e,t){const n=new fi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ju(e);try{const e=await function(e,t){const n=ui(e),r=Si.now(),i=t.reduce(((e,t)=>e.add(t.key)),Oa());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{s=i;const a=[];for(const e of t){const t=ua(e,s.get(e.key));null!=t&&a.push(new da(e.key,t,is(t.value.mapValue),ia.exists(!0)))}return n.In.addMutationBatch(e,r,a,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Sa(Ei)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pu(r,e.changes),await Wl(r.remoteStore)}catch(e){const t=su(e,"Failed to persist write");n.reject(t)}}(await function(e){return $u(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(cc(e),t)}ei="9.1.3",P(new m("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new uc(n,new mi(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),U(Jr,"3.1.1",void 0),U(Jr,"3.1.1","esm2017"),U("firebase","9.1.3","app");var Zc=n(676);const eh="@firebase/installations",th="0.5.2",nh="w:0.5.2",rh=new u("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ih(e){return e instanceof l&&e.code.includes("request-failed")}function sh({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function ah(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function oh(e,t){const n=(await t.json()).error;return rh.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function lh({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function uh(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ch(e){return new Promise((t=>{setTimeout(t,e)}))}const hh=/^[cdef][\w-]{21}$/;function fh(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return hh.test(t)?t:""}catch(e){return""}}function dh(e){return`${e.appName}!${e.appId}`}const ph=new Map;function mh(e,t){const n=dh(e);gh(n,t),function(e,t){const n=(!yh&&"BroadcastChannel"in self&&(yh=new BroadcastChannel("[Firebase] FID Change"),yh.onmessage=e=>{gh(e.data.key,e.data.fid)}),yh);n&&n.postMessage({key:e,fid:t}),0===ph.size&&yh&&(yh.close(),yh=null)}(n,t)}function gh(e,t){const n=ph.get(e);if(n)for(const e of n)e(t)}let yh=null;const vh="firebase-installations-store";let bh=null;function wh(){return bh||(bh=(0,Zc.openDb)("firebase-installations-database",1,(e=>{0===e.oldVersion&&e.createObjectStore(vh)}))),bh}async function Eh(e,t){const n=dh(e),r=(await wh()).transaction(vh,"readwrite"),i=r.objectStore(vh),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||mh(e,t.fid),t}async function Ch(e){const t=dh(e),n=(await wh()).transaction(vh,"readwrite");await n.objectStore(vh).delete(t),await n.complete}async function Sh(e,t){const n=dh(e),r=(await wh()).transaction(vh,"readwrite"),i=r.objectStore(vh),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.complete,!a||s&&s.fid===a.fid||mh(e,a.fid),a}async function kh(e){let t;const n=await Sh(e,(n=>{const r=function(e){return Nh(e||{fid:fh(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(rh.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=sh(e),r=lh(e),i={fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:nh},s={method:"POST",headers:r,body:JSON.stringify(i)},a=await uh((()=>fetch(n,s)));if(a.ok){const e=await a.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:ah(e.authToken)}}throw await oh("Create Installation",a)}(e,t);return Eh(e,n)}catch(n){throw ih(n)&&409===n.customData.serverCode?await Ch(e):await Eh(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Th(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Th(e){let t=await _h(e);for(;1===t.registrationStatus;)await ch(100),t=await _h(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await kh(e);return n||t}return t}function _h(e){return Sh(e,(e=>{if(!e)throw rh.create("installation-not-found");return Nh(e)}))}function Nh(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ih({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${sh(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=lh(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={installation:{sdkVersion:nh}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await uh((()=>fetch(r,o)));if(l.ok)return ah(await l.json());throw await oh("Generate Auth Token",l)}async function xh(e,t=!1){let n;const r=await Sh(e.appConfig,(r=>{if(!Ah(r))throw rh.create("not-registered");const i=r.authToken;if(!t&&(2===(s=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(s)))return r;var s;if(1===i.requestStatus)return n=async function(e,t){let n=await Lh(e.appConfig);for(;1===n.authToken.requestStatus;)await ch(100),n=await Lh(e.appConfig);const r=n.authToken;return 0===r.requestStatus?xh(e,t):r}(e,t),r;{if(!navigator.onLine)throw rh.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Ih(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Eh(e.appConfig,r),n}catch(n){if(!ih(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Eh(e.appConfig,n)}else await Ch(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Lh(e){return Sh(e,(e=>{if(!Ah(e))throw rh.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function Ah(e){return void 0!==e&&2===e.registrationStatus}function Dh(e){return rh.create("missing-app-config-values",{valueName:e})}const Rh="installations";P(new m(Rh,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Dh("App Configuration");if(!e.name)throw Dh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Dh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:M(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),P(new m("installations-internal",(e=>{const t=M(e.getProvider("app").getImmediate(),Rh).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await kh(t.appConfig);return r?r.catch(console.error):xh(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await kh(e);t&&await t}(n.appConfig),(await xh(n,t)).token}(t,e)}}),"PRIVATE")),U(eh,th),U(eh,th,"esm2017");const Oh="@firebase/remote-config",Ph="0.3.1";class Mh{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}const Fh="remote-config",jh=new u("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),Vh=["1","true","t","yes","y","on"];class Uh{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&Vh.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}class zh{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}function qh(e=navigator){return e.languages&&e.languages[0]||e.language}class Bh{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,i={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:qh()},a={method:"POST",headers:i,body:JSON.stringify(s)},o=fetch(r,a),l=new Promise(((t,n)=>{e.signal.addEventListener((()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))}));let u;try{await Promise.race([o,l]),u=await o}catch(e){let t="fetch-client-network";throw"AbortError"===e.name&&(t="fetch-timeout"),jh.create(t,{originalErrorMessage:e.message})}let c=u.status;const h=u.headers.get("ETag")||void 0;let f,d;if(200===u.status){let e;try{e=await u.json()}catch(e){throw jh.create("fetch-client-parse",{originalErrorMessage:e.message})}f=e.entries,d=e.state}if("INSTANCE_STATE_UNSPECIFIED"===d?c=500:"NO_CHANGE"===d?c=304:"NO_TEMPLATE"!==d&&"EMPTY_CONFIG"!==d||(f={}),304!==c&&200!==c)throw jh.create("fetch-status",{httpStatus:c});return{status:c,eTag:h,config:f}}}class $h{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(jh.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(t){if(!function(e){if(!(e instanceof l&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t))throw t;const r={throttleEndTimeMillis:Date.now()+d(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(e,r)}}}class Hh{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kh(e,t){const n=e.target.error||void 0;return jh.create(t,{originalErrorMessage:n&&n.message})}const Wh="app_namespace_store";class Gh{constructor(e,t,n,r=function(){return new Promise(((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Kh(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Wh,{keyPath:"compositeKey"})}}catch(e){t(jh.create("storage-open",{originalErrorMessage:e}))}}))}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([Wh],"readonly").objectStore(Wh),s=this.createCompositeKey(e);try{const e=i.get(s);e.onerror=e=>{r(Kh(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(e){r(jh.create("storage-get",{originalErrorMessage:e&&e.message}))}}))}async set(e,t){const n=await this.openDbPromise;return new Promise(((r,i)=>{const s=n.transaction([Wh],"readwrite").objectStore(Wh),a=this.createCompositeKey(e);try{const e=s.put({compositeKey:a,value:t});e.onerror=e=>{i(Kh(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(e){i(jh.create("storage-set",{originalErrorMessage:e&&e.message}))}}))}async delete(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([Wh],"readwrite").objectStore(Wh),s=this.createCompositeKey(e);try{const e=i.delete(s);e.onerror=e=>{r(Kh(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(e){r(jh.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Qh{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const s=await n;s&&(this.activeConfig=s)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}async function Yh(e){return e=p(e),await async function(e){const t=p(e),n=new Mh;setTimeout((async()=>{n.abort()}),t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n}),await t._storageCache.setLastFetchStatus("success")}catch(e){const n=function(e,t){return e instanceof l&&-1!==e.code.indexOf("fetch-throttle")}(e)?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(n),e}}(e),async function(e){const t=p(e),[n,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)}(e)}P(new m(Fh,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jh.create("registration-window");if("object"!=typeof indexedDB)throw jh.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:a}=n.options;if(!i)throw jh.create("registration-project-id");if(!s)throw jh.create("registration-api-key");if(!a)throw jh.create("registration-app-id");t=t||"firebase";const o=new Gh(a,n.name,t),l=new Qh(o),u=new _(Oh);u.logLevel=w.ERROR;const c=new Bh(r,"9.1.3",t,i,s,a),h=new $h(c,o),f=new zh(h,o,l,u),d=new Hh(n,f,l,o,u);return function(e){const t=p(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((()=>{t._isInitializationComplete=!0}))),t._initializePromise}(d),d}),"PUBLIC").setMultipleInstances(!0)),U(Oh,Ph),U(Oh,Ph,"esm2017"),function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw F.create("bad-app-name",{appName:String(r)});const i=D.get(r);if(i){if(h(e,i.options)&&h(n,i.config))return i;throw F.create("duplicate-app",{appName:r})}const s=new v(r);for(const e of R.values())s.addComponent(e);const a=new j(e,n,s);D.set(r,a)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",authDomain:"rebot-f643e.firebaseapp.com",databaseURL:"https://rebot-f643e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rebot-f643e",storageBucket:"rebot-f643e.appspot.com",messagingSenderId:"329205426356",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1",measurementId:"G-R054X17WD2"});const Xh=function(e=V()){return M(e,"firestore").getImmediate()}(),Jh=function(e=V()){return M(e=p(e),Fh).getImmediate()}();Jh.settings.minimumFetchIntervalMillis=24e5;const Zh=(0,e.createContext)(null),ef=(0,e.createContext)(null),tf=(0,e.createContext)(null);var nf=n(697),rf=n.n(nf);function sf(t){const[n,r]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=Xc(t,(e=>{r(e.data())}));return()=>e()}),[t]),n}class af{constructor(e){this.manifest=e,this.box_container=document.querySelector("#boxes"),this.viewbox_template=document.querySelector(".template #viewbox"),this.status_title=document.querySelector("#current-subj"),this.search=document.querySelector(".search input"),document.querySelectorAll("#rebot header button").forEach((e=>{"brainly"!=e.id&&"math"!=e.id&&(e.onclick=()=>{((e,t)=>{const n=document.querySelector("#rebot .search"),r=n.querySelector("input.rebot"),i=n.querySelector("input.google"),s=n.querySelector("img.google"),a=n.querySelector("img.rebot");r.classList.add("active"),i.classList.remove("active"),r.focus(),s.classList.remove("active"),a.classList.add("active"),r.addEventListener("keydown",(function n(i){if("Enter"==i.key){const i=r.value.replace(" ","").split(",");e(t,i),r.value="",r.blur(),r.removeEventListener("keydown",n)}})),r.addEventListener("blur",(function n(){const o=r.value.replace(" ","").split(",");r.value?(e(t,o),r.value=""):r.value="",r.classList.remove("active"),i.classList.add("active"),a.classList.remove("active"),s.classList.add("active"),r.removeEventListener("blur",n)}),{once:!0})})(((e,t)=>{this.open(e,t)}),e.id)})})),this.search.addEventListener("keydown",(e=>{"Enter"==e.key&&(window.open("https://www.google.com/search?q="+this.search.value,"_blank"),this.search.value="",this.search.blur())}))}open(e,t){let n;if(null==t){if(n=prompt("Введи номер или номера через запятую:"),!n)return;n=n.split(",")}else n=t;const r=this.manifest[e];this.status_title.textContent=r.title;for(let t of n){if(!t)continue;if(this.box_container.querySelector(`.viewbox[num='${t}']`))continue;let n=this.viewbox_template.cloneNode(!0);if(r.section){n.querySelector("#prew").remove(),n.querySelector("#next").remove(),n.querySelector("#alt-re").remove(),n.querySelector("#view").src=r.url.replace("*",t-("Химия"==r.title?1:0)).replace("?",1);let e,i=2;for(;i<12;)e=n.querySelector("#view").cloneNode(!0),e.onerror=function(){this.remove()},e.src=r.url.replace("*",t-("Химия"==r.title?1:0)).replace("?",i),n.querySelector(".viewbox-content").append(e),i++}else n.querySelector("#view").src=r.url.replace("?",t),r.full_img||(n.querySelector("#view2").src=r.url.replace("?",t+"_2"),n.querySelector("#view3").src=r.url.replace("?",t+"_3"));this.box_container.prepend(n),n.querySelector(".num").textContent=t,n.setAttribute("num",t),n.setAttribute("subj_id",e)}}change_num(e,t){const n=e.parentNode.parentNode;let r=this.manifest[n.getAttribute("subj_id")],i=parseInt(n.getAttribute("num"))+t;if(n.querySelector("#view").src=r.url.replace("?",i),0==r.full_img){const e=n.querySelector("#view2"),t=n.querySelector("#view3");e.style.display="",t.style.display="",e.src=r.url.replace("?",i+"_2"),t.src=r.url.replace("?",i+"_3")}n.setAttribute("num",i),n.querySelector(".num").textContent=i}remove(e){e.remove(),0==this.box_container.childElementCount&&(this.status_title.textContent="ReBot")}open_alt(e){const t=e.getAttribute("num"),n=this.manifest[e.getAttribute("subj_id")];if(n.alt_url){const e=n.alt_url.replace("?",t);window.open(e,"_blank")}else alert("Для этого предмета нет другого решебника")}}var of=n(852);const lf=(0,e.forwardRef)((function(t,n){return e.createElement(e.Fragment,null,t.children,e.createElement("div",{ref:n,onClick:t.onClick,className:t.active?"backdrop":""}))}));var uf=null;function cf(t){const n=(0,e.useRef)(),r=(0,e.useRef)(),i=(0,of.useMediaQuery)({query:"(min-width: 700px) and (orientation: landscape)"})&&"split"==t.direction,s=(t=>{const[n,r]=(0,e.useState)({});return(e,i,s)=>{t.current.animate([n,e],{duration:i.duration??500,fill:i.fill??"forwards",easing:i.easing??"ease-in-out"}).onfinish=s,r(e)}})(n),[a,o]=(0,e.useState)(!0),[l,u]=(0,e.useState)(null);(0,e.useEffect)((()=>{r.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"})}),[]);const c=()=>{s({transform:"translateY(100vh) "+("left"==l?"translateX(-50%)":"right"==l?"translateX(50%)":"")},{duration:220,easing:"ease-in"},t.handleClose),r.current.animate([{opacity:1},{opacity:0}],{duration:320,fill:"forwards",easing:"ease-in-out"}),document.getElementById("hw-re-container").childElementCount<=2?document.body.classList.remove("mini-left","mini-right"):"left"==l?(document.body.classList.remove("mini-right"),document.body.classList.add("mini-left")):"right"==l&&(document.body.classList.remove("mini-left"),document.body.classList.add("mini-right"))};function h(e){n.current.style.width="50vw",s(function(e){return{transform:`translateX(${"left"==e?"-50%":"50%"})`,borderRadius:0,top:0}}(e),{duration:300,easing:"ease-out"}),document.getElementById("hw-re-container").childElementCount<=2&&(document.body.classList.remove("mini-left","mini-right"),document.body.classList.add("right"==e?"mini-left":"mini-right")),o(!1),u(e)}return e.createElement(lf,{active:a,ref:r,onClick:c},e.createElement("div",{ref:n,onTouchStart:e=>{uf=e.touches[0].clientY},onTouchMove:e=>{if(null==uf)return;const n=e.touches[0].clientY;uf-n<-8&&0==t.scrollContainer.current.scrollTop&&c(),uf=null},className:"adaptive-panel"},e.createElement("header",{style:{background:i?"":"none"}},i&&"left"!=l&&e.createElement("button",{className:"split-left",onClick:()=>h("left")},e.createElement("i",{className:"fas fa-caret-left"})),i&&"right"!=l&&e.createElement("button",{className:"split-right",onClick:()=>h("right")},e.createElement("i",{className:"fas fa-caret-right"})),e.createElement("button",{className:"close",onClick:c},e.createElement("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"var(--text2)"},e.createElement("path",{d:"M0.32373 11.209C0.0161133 11.5166 0.00146484 12.0659 0.331055 12.3882C0.65332 12.7104 1.20264 12.7031 1.51025 12.3955L5.99268 7.90576L10.4824 12.3955C10.7974 12.7104 11.3394 12.7104 11.6616 12.3882C11.9766 12.0586 11.9839 11.5239 11.6616 11.209L7.1792 6.71924L11.6616 2.23682C11.9839 1.92188 11.9839 1.37988 11.6616 1.05762C11.332 0.742676 10.7974 0.735352 10.4824 1.05029L5.99268 5.54004L1.51025 1.05029C1.20264 0.742676 0.645996 0.728027 0.331055 1.05762C0.00878906 1.37988 0.0161133 1.9292 0.32373 2.23682L4.81348 6.71924L0.32373 11.209Z"})))),t.children))}cf.propTypes={handleClose:rf().func.isRequired,direction:rf().string,scrollContainer:rf().oneOfType([rf().func,rf().shape({current:rf().elementType})]),children:rf().node};const hf=cf,ff=({text:t})=>e.createElement("h1",{className:"H1"},t),df=({title:t,icon:n,descr:r,checked:i,onChange:s})=>e.createElement("div",{className:"_Switch"},n,e.createElement("div",{className:"label-block"},e.createElement("a",{className:"title"},t),e.createElement("a",{className:"descr"},r)),e.createElement("label",{className:"ios7-switch"},e.createElement("input",{type:"checkbox",checked:i,onChange:s}),e.createElement("span",null)));df.propTypes={title:rf().string.isRequired,descr:rf().string,icon:rf().element,checked:rf().bool,onChange:rf().func};const pf=df,mf=({title:t,id:n,onSelect:r,selected:i})=>e.createElement("button",{className:"Item"+(i?" selected":""),onClick:r},t),gf=({children:t,variants:n,defaultState:r,onChange:i})=>{const[s,a]=(0,e.useState)(r);(0,e.useEffect)((()=>{a(r)}),[r]);const o=[];return n.forEach((t=>{o.push(e.createElement(mf,{key:t.id,selected:t.id==s,title:t.title,onSelect:()=>(e=>{a(e),i(e)})(t.id)}))})),e.createElement("div",{className:"_Radio"},o)},yf=({children:t})=>e.createElement("div",{className:"_VerticalLayout"},t),vf=({text:t,onClick:n})=>e.createElement("button",{className:"_Button",onClick:n},t),bf=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{if(navigator.serviceWorker){const e=navigator.serviceWorker.addEventListener("message",(e=>{"soft-update-complete"==e.data.type&&setTimeout((()=>{n(!0),i(!1)}),950)}));return()=>{navigator.serviceWorker.removeEventListener("message",e)}}}),[]),e.createElement("div",{className:"Updater"},e.createElement("button",{className:"check-btn"+(r?" active":""),onClick:()=>{r||(i(!0),(async()=>{var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache");var t={method:"GET",headers:e},n=new Request("updates.json");const r=await fetch(n,t),i=await r.json();return localStorage.getItem("appVersion")!=i.version&&(localStorage.appVersion=i.version,!0)})().then((e=>{e?navigator.serviceWorker.ready.then((e=>{e.active.postMessage({type:"do-soft-update"})})):setTimeout((()=>i(!1)),1e3)})))}},e.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M13.7451 12.0986C14 12.0986 14.2021 12.0195 14.3604 11.8525L17.9639 8.22266C18.1572 8.0293 18.2451 7.81836 18.2451 7.57227C18.2451 7.33496 18.1484 7.10645 17.9639 6.93066L14.3604 3.26562C14.2021 3.08984 14 3.00195 13.7451 3.00195C13.2705 3.00195 12.8926 3.39746 12.8926 3.88086C12.8926 4.11816 12.9805 4.31152 13.1299 4.47852L15.2305 6.53516C14.8174 6.47363 14.3955 6.43848 13.9736 6.43848C9.62305 6.43848 6.14258 9.91895 6.14258 14.2783C6.14258 18.6377 9.64941 22.1445 14 22.1445C18.3594 22.1445 21.8574 18.6377 21.8574 14.2783C21.8574 13.751 21.4883 13.373 20.9609 13.373C20.4512 13.373 20.1084 13.751 20.1084 14.2783C20.1084 17.6709 17.3926 20.3955 14 20.3955C10.6162 20.3955 7.8916 17.6709 7.8916 14.2783C7.8916 10.8594 10.5898 8.15234 13.9736 8.15234C14.5449 8.15234 15.0723 8.19629 15.5381 8.27539L13.1387 10.6484C12.9805 10.8066 12.8926 11 12.8926 11.2373C12.8926 11.7207 13.2705 12.0986 13.7451 12.0986Z"}))),e.createElement("div",{className:"descr"},e.createElement("span",{className:"title"},t?"Доступно обновление":"Обновления"),e.createElement("span",{className:"info"},r?"Проверка..":"Последняя проверка: 18:30")),t&&e.createElement("button",{className:"update-btn",onClick:()=>location.reload()},"Обновить"),!t&&e.createElement("span",{className:"version"},"V1.0.3"))},wf=({inversion:t,changeInversion:n,theme:r,changeTheme:i,logout:s,chat:a,changeChat:o})=>e.createElement(yf,null,e.createElement(ff,{text:"Настройки"}),e.createElement(gf,{defaultState:r,onChange:e=>i(e),variants:[{title:"Темная",id:"dark"},{title:"Светлая",id:"light"}]}),e.createElement(bf,null),e.createElement(pf,{title:"Затемнять решения",descr:"Светлый текст на темном фоне",icon:e.createElement("i",{className:"fas fa-moon"}),onChange:e=>n(e.target.checked),checked:t}),e.createElement(pf,{title:"Чат (бета)",descr:"Может сломать приложение :)",icon:e.createElement("i",{className:"fas fa-moon"}),onChange:e=>o(e.target.checked),checked:a}),e.createElement(vf,{text:"Выйти из аккаунта",onClick:s}));wf.propTypes={};const Ef=wf,Cf=()=>{const[t,n]=(0,e.useState)(),[r,i]=(0,e.useState)(),[s,a]=(0,e.useState)();return(0,e.useEffect)((()=>{const e=localStorage.theme??"dark";a(e);const t="true"==localStorage.inversion,r="true"==localStorage.chat;t?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),n(t),i(r)}),[]),e.createElement(Ef,{changeChat:e=>{localStorage.chat=e,location.reload()},chat:r,logout:()=>{localStorage.user=null,window.location.reload()},inversion:t,theme:s,changeInversion:e=>{e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),localStorage.setItem("inversion",e),n(e)},changeTheme:e=>{a(e),document.documentElement.setAttribute("theme",e),document.querySelector("meta[name=theme-color]").content=getComputedStyle(document.documentElement).getPropertyValue("--bg2"),localStorage.theme=e}})};function Sf(){return Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}function kf(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Tf(e,t){return Tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tf(e,t)}function _f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tf(e,t)}function Nf(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const If=e.createContext(null);var xf="unmounted",Lf="exited",Af="entering",Df="entered",Rf="exiting",Of=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,s=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(i=Lf,r.appearStatus=Af):i=Df:i=e.unmountOnExit||e.mountOnEnter?xf:Lf,r.state={status:i},r.nextCallback=null,r}_f(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===xf?{status:Lf}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Af&&n!==Df&&(t=Af):n!==Af&&n!==Df||(t=Rf)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Af?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Lf&&this.setState({status:xf})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,s=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=s[0],o=s[1],l=this.getTimeouts(),u=i?l.appear:l.enter;e||r?(this.props.onEnter(a,o),this.safeSetState({status:Af},(function(){n.props.onEntering(a,o),n.onTransitionEnd(u,(function(){n.safeSetState({status:Df},(function(){n.props.onEntered(a,o)}))}))}))):this.safeSetState({status:Df},(function(){n.props.onEntered(a)}))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n?(this.props.onExit(i),this.safeSetState({status:Rf},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Lf},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Lf},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=s[0],o=s[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===xf)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,kf(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(If.Provider,{value:null},"function"==typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function Pf(){}Of.contextType=If,Of.propTypes={},Of.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pf,onEntering:Pf,onEntered:Pf,onExit:Pf,onExiting:Pf,onExited:Pf},Of.UNMOUNTED=xf,Of.EXITED=Lf,Of.ENTERING=Af,Of.ENTERED=Df,Of.EXITING=Rf;const Mf=Of;var Ff=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Nf(n.className,r):n.setAttribute("class",Nf(n.className&&n.className.baseVal||"",r)));var n,r}))},jf=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1];e.removeClasses(i,"exit"),e.addClass(i,s?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1]?"appear":"enter";e.addClass(i,s,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1]?"appear":"enter";e.removeClasses(i,s),e.addClass(i,s,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}_f(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&Ff(e,r),i&&Ff(e,i),s&&Ff(e,s)},r.render=function(){var t=this.props,n=(t.classNames,kf(t,["classNames"]));return e.createElement(Mf,Sf({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);jf.defaultProps={classNames:""},jf.propTypes={};const Vf=jf,Uf=function(t){const n=t.currentPanel==t.id;return e.createElement(Vf,{in:n,timeout:500,classNames:"main"==t.id?"view-panel-main":"view-panel",unmountOnExit:!0},e.createElement("div",{className:"view-panel"},t.children))},zf=function(t){return e.createElement("div",{className:"notebook",onClick:t.onClick},e.createElement("img",{src:t.img}))};function qf(t){return e.createElement("div",{className:"panel-header"},t.backButton&&e.createElement("button",{onClick:t.onBack},e.createElement("i",{className:"fas fa-chevron-left"})),t.icon&&e.createElement("div",{className:"panel-header-icon"},t.icon),e.createElement("div",{className:"title"},t.title))}qf.propTypes={backButton:rf().bool,onBack:rf().func,title:rf().string,icon:rf().element};const Bf=qf;function $f(t){const n=(0,e.useRef)(null),r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{t.currentPanel==t.id&&setTimeout((()=>{r.current.style.display="none",n.current.style.display="block"}),450)}),[t.currentPanel,t.id]),e.createElement(Uf,{currentPanel:t.currentPanel,id:t.id},e.createElement(Bf,{title:t.title,backButton:!0,onBack:()=>t.setCurrentPanel("main")}),e.createElement("div",{className:"notebook-loader",ref:r},e.createElement("i",{className:"fas fa-spinner fa-spin fa-2x"})),e.createElement("iframe",{ref:n,style:{display:"none"},frameBorder:"0",src:t.url,className:"notebook-iframe",sandbox:t.scripts?"allow-same-origin allow-scripts":"allow-same-origin"}))}const Hf=function(){const[t,n]=(0,e.useState)("main");return e.createElement(e.Fragment,null,e.createElement(Uf,{currentPanel:t,id:"main"},e.createElement("div",{className:"notebooks-grid"},e.createElement(zf,{onClick:()=>n("phis"),img:"./static/img/phis.webp"}),e.createElement(zf,{onClick:()=>n("bio"),img:"./static/img/bio.webp"}),e.createElement(zf,{onClick:()=>n("him"),img:"./static/img/him.webp"}),e.createElement(zf,{onClick:()=>n("eng"),img:"./static/img/engwb.webp"}),e.createElement(zf,{onClick:()=>n("geo"),img:"./static/img/geo.webp"}))),e.createElement($f,{id:"phis",setCurrentPanel:n,currentPanel:t,url:"https://superresheba.by/9-physics-wbook_25",title:"Физика",scripts:!0}),e.createElement($f,{id:"bio",setCurrentPanel:n,currentPanel:t,url:"https://superresheba.by/9-biology-wbook_24",title:"Биология"}),e.createElement($f,{id:"him",setCurrentPanel:n,currentPanel:t,url:"https://superresheba.by/9-chemistry-wbook_147",title:"Химия"}),e.createElement($f,{id:"eng",setCurrentPanel:n,currentPanel:t,url:"https://megaresheba.ru/publ/reshebnik/anglijskij/otvety_k_english_workbook_9_klass_lapickaja/42-1-0-1202",title:"Английский WB"}),e.createElement($f,{id:"geo",setCurrentPanel:n,currentPanel:t,url:"https://superresheba.by/10-geography-wbook_6",title:"География"}))},Kf=({setActiveTab:t,isActive:n,icon:r,title:i})=>e.createElement("button",{onClick:t,className:"NavButton "+(n?"active":"")},r,e.createElement("span",null,i));Kf.propTypes={setActiveTab:rf().func.isRequired,isActive:rf().bool,icon:rf().node.isRequired,title:rf().string.isRequired};const Wf=Kf,Gf=({activeTab:t,setActiveTab:n})=>{const r=(0,e.useContext)(ef);return e.createElement("div",{className:"bottom-nav"},e.createElement(Wf,{title:"Главная",icon:e.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},e.createElement("path",{d:"M15.1295491,2.69100093 L24.0662484,11.1808652 C24.6624397,11.747247 25,12.53353 25,13.3558635 L25,21.9972407 C25,23.3779526 23.8807119,24.4972407 22.5,24.4972407 L16.5,24.4972407 C15.9477153,24.4972407 15.5,24.0495254 15.5,23.4972407 L15.5,17.9971013 C15.5,17.1686742 14.8284271,16.4971013 14,16.4971013 C13.1715729,16.4971013 12.5,17.1686742 12.5,17.9971013 L12.5,23.4972407 C12.5,24.0495254 12.0522847,24.4972407 11.5,24.4972407 L5.5,24.4972407 C4.11928813,24.4972407 3,23.3779526 3,21.9972407 L3,13.3558635 C3,12.53353 3.33756025,11.747247 3.93375161,11.1808652 L12.8704509,2.69100093 C13.5034346,2.08966636 14.4965654,2.08966636 15.1295491,2.69100093 Z M14,4.37655211 L5.31125054,12.6308641 C5.11252008,12.819658 5,13.0817523 5,13.3558635 L5,21.9972407 C5,22.2733831 5.22385763,22.4972407 5.5,22.4972407 L10.5,22.4972407 L10.5,17.9971013 C10.5,16.0641047 12.0670034,14.4971013 14,14.4971013 C15.9329966,14.4971013 17.5,16.0641047 17.5,17.9971013 L17.5,22.4972407 L22.5,22.4972407 C22.7761424,22.4972407 23,22.2733831 23,21.9972407 L23,13.3558635 C23,13.0817523 22.8874799,12.819658 22.6887495,12.6308641 L14,4.37655211 Z",fill:"currentColor"})),setActiveTab:()=>n(1),isActive:1==t}),e.createElement(Wf,{title:"Поиск",icon:e.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},e.createElement("path",{d:"M20.5216013,18.9659665 L24.2778174,22.7221826 C24.7073941,23.1517593 24.7073941,23.8482407 24.2778174,24.2778174 C23.8482407,24.7073941 23.1517593,24.7073941 22.7221826,24.2778174 L18.9659665,20.5216013 C17.3277266,21.8227597 15.2546304,22.5999999 13,22.5999999 C7.69806645,22.5999999 3.4000001,18.3019335 3.4000001,13 C3.4000001,7.69806645 7.69806645,3.4000001 13,3.4000001 C18.3019335,3.4000001 22.5999999,7.69806645 22.5999999,13 C22.5999999,15.2546304 21.8227597,17.3277266 20.5216013,18.9659665 Z M13,20.4000001 C17.0869072,20.4000001 20.4000001,17.0869072 20.4000001,13 C20.4000001,8.9130928 17.0869072,5.5999999 13,5.5999999 C8.9130928,5.5999999 5.5999999,8.9130928 5.5999999,13 C5.5999999,17.0869072 8.9130928,20.4000001 13,20.4000001 Z",fill:"currentColor"})),setActiveTab:()=>n(2),isActive:2==t}),r.chat&&e.createElement(Wf,{title:"Чат",icon:e.createElement("svg",{width:"38",height:"38",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M7.79492 23.2168C9.0166 23.2168 11.4863 22.0303 13.3496 20.7031C19.5547 20.8174 24.1953 17.2314 24.1953 12.5205C24.1953 7.97656 19.6514 4.32031 13.9912 4.32031C8.33105 4.32031 3.7959 7.97656 3.7959 12.5205C3.7959 15.4121 5.58887 17.9873 8.33984 19.332C7.96191 20.0439 7.29395 21.0195 6.91602 21.5293C6.35352 22.2764 6.74023 23.2168 7.79492 23.2168ZM8.8584 21.3975C8.74414 21.4414 8.7002 21.3799 8.7793 21.2832C9.22754 20.7383 9.88672 19.8682 10.2119 19.2529C10.4756 18.7695 10.3877 18.3477 9.8252 18.084C7.14453 16.8271 5.58887 14.8145 5.58887 12.5205C5.58887 8.9873 9.31543 6.11328 13.9912 6.11328C18.667 6.11328 22.3936 8.9873 22.3936 12.5205C22.3936 16.0537 18.667 18.9365 13.9912 18.9365C13.833 18.9365 13.5869 18.9277 13.2881 18.9277C12.9102 18.9189 12.6289 19.0332 12.2773 19.3057C11.2139 20.0967 9.64062 21.0811 8.8584 21.3975Z"})),setActiveTab:()=>n(3),isActive:3==t}),e.createElement(Wf,{title:"Оценки",icon:e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 28 28"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4275 6.04347C13.0109 5.09342 14.9891 5.09342 16.5725 6.04346L23.2541 10.0524C23.5849 10.2509 23.5758 10.7333 23.2378 10.9192L16.4098 14.6748C14.9094 15.5001 13.091 15.5001 11.5905 14.6748L4.76228 10.9192C4.42426 10.7333 4.4152 10.2509 4.746 10.0524L11.4275 6.04347ZM17.6015 4.32847L24.2831 8.33741C25.9371 9.32979 25.8918 11.7421 24.2017 12.6717L17.3737 16.4272C15.2731 17.5826 12.7273 17.5826 10.6267 16.4272L3.79844 12.6717C2.10834 11.7421 2.06301 9.3298 3.717 8.3374L10.3985 4.32848C12.6153 2.99842 15.3847 2.99841 17.6015 4.32847Z",fill:"currentColor"}),e.createElement("path",{d:"M23.4999 10.5001C23.4999 9.94784 23.9476 9.50013 24.4999 9.50013C25.0521 9.50013 25.4999 9.94784 25.4999 10.5001V15.5001C25.4999 16.0524 25.0521 16.5001 24.4999 16.5001C23.9476 16.5001 23.4999 16.0524 23.4999 15.5001V10.5001Z",fill:"currentColor"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99985 13.0001V18.0001C7.99985 20.7616 10.2384 23.0001 12.9998 23.0001H14.9998C17.7613 23.0001 19.9998 20.7616 19.9998 18.0001V13.0001H21.9998V18.0001C21.9998 21.8661 18.8658 25.0001 14.9998 25.0001H12.9998C9.13386 25.0001 5.99985 21.8661 5.99985 18.0001V13.0001H7.99985Z",fill:"currentColor"})),setActiveTab:()=>n(4),isActive:4==t}),e.createElement(Wf,{title:"Неделя",icon:e.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},e.createElement("path",{d:"M19,1 C19.5522847,1 20,1.44771525 20,2 L20.0007134,3.15981736 C20.840564,3.29343733 21.3843149,3.50927527 21.9305371,3.80139811 C22.9083149,4.32431939 23.6756806,5.09168511 24.1986019,6.06946289 C24.6736814,6.9577844 24.9469986,7.83956959 24.9930333,9.99907027 L25,10 L25,17.3083444 L24.9946707,17.9183846 C24.9538793,20.1381287 24.6796895,21.0309816 24.1986019,21.9305371 C23.6756806,22.9083149 22.9083149,23.6756806 21.9305371,24.1986019 C20.9527593,24.7215232 19.9829006,25 17.3083444,25 L10.6916556,25 L10.0816154,24.9946707 C7.8618713,24.9538793 6.96901844,24.6796895 6.06946289,24.1986019 C5.09168511,23.6756806 4.32431939,22.9083149 3.80139811,21.9305371 C3.29939368,20.9918704 3.02266926,20.060502 3.00133451,17.6212182 L3,10.6916556 L3,10 C3.05300141,7.83956959 3.32631857,6.9577844 3.80139811,6.06946289 C4.32431939,5.09168511 5.09168511,4.32431939 6.06946289,3.80139811 C6.61590733,3.50915642 7.15987843,3.29326172 8.00031181,3.15965432 L8,2 C8,1.44771525 8.44771525,1 9,1 C9.55228475,1 10,1.44771525 10,2 L9.99907027,3.00696674 C10.2165376,3.00233094 10.4469622,3 10.6916556,3 L17.3083444,3 C17.5534172,3 17.7841769,3.00233817 18.0019411,3.00698832 L18,2 C18,1.44771525 18.4477153,1 19,1 Z M22.999,12 L5,12 L5.0009221,17.591291 L5.00977072,18.1601475 C5.04864664,19.667315 5.20790244,20.3195792 5.56502451,20.9873394 C5.90154619,21.6165802 6.38341978,22.0984538 7.01266061,22.4349755 C7.75898085,22.8341119 8.48594441,22.9860867 10.408709,22.9990779 L17.591291,22.9990779 L18.1601475,22.9902293 C19.667315,22.9513534 20.3195792,22.7920976 20.9873394,22.4349755 C21.6165802,22.0984538 22.0984538,21.6165802 22.4349755,20.9873394 C22.8341119,20.2410191 22.9860867,19.5140556 22.9990779,17.591291 L22.999,12 Z M19.0460121,17 C19.478797,17 19.8195548,17.0812224 20.10474,17.2337411 C20.3899252,17.3862598 20.6137402,17.6100748 20.7662589,17.89526 C20.9187776,18.1804452 21,18.521203 21,18.9539879 L21,19.0460121 C21,19.478797 20.9187776,19.8195548 20.7662589,20.10474 C20.6137402,20.3899252 20.3899252,20.6137402 20.10474,20.7662589 C19.8195548,20.9187776 19.478797,21 19.0460121,21 L18.9539879,21 C18.521203,21 18.1804452,20.9187776 17.89526,20.7662589 C17.6100748,20.6137402 17.3862598,20.3899252 17.2337411,20.10474 C17.0812224,19.8195548 17,19.478797 17,19.0460121 L17,18.9539879 C17,18.521203 17.0812224,18.1804452 17.2337411,17.89526 C17.3862598,17.6100748 17.6100748,17.3862598 17.89526,17.2337411 C18.1804452,17.0812224 18.521203,17 18.9539879,17 L19.0460121,17 Z M17.591291,5.0009221 L10.408709,5.0009221 L10,5.006 L10,6 C10,6.55228475 9.55228475,7 9,7 C8.44771525,7 8,6.55228475 8,6 L7.99925005,5.19251184 C7.618557,5.28042372 7.31722055,5.40214407 7.01266061,5.56502451 C6.38341978,5.90154619 5.90154619,6.38341978 5.56502451,7.01266061 C5.19560369,7.70341749 5.03791225,8.37759259 5.00617938,9.99864362 L22.993,10 L22.9902293,9.83985252 C22.9513534,8.33268497 22.7920976,7.68042082 22.4349755,7.01266061 C22.0984538,6.38341978 21.6165802,5.90154619 20.9873394,5.56502451 C20.6828516,5.40218264 20.3815857,5.28048136 20.0010204,5.1925743 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 L18.0023619,5.00619909 C17.8716635,5.00363578 17.7348083,5.00189178 17.591291,5.0009221 Z",fill:"currentColor"})),setActiveTab:()=>n(5),isActive:5==t}))};Gf.propTypes={activeTab:rf().number.isRequired,setActiveTab:rf().func.isRequired};const Qf=Gf,Yf=()=>{const e=(new Date).getDay();return{dayNum:e,isWeekend:0==e||6==e}},Xf=()=>{const[t,n]=(0,e.useState)(Yf());return(0,e.useEffect)((()=>{const e=setInterval((()=>{const e=Yf();e.dayNum!==t.dayNum&&n(e)}),1e3);return()=>clearInterval(e)}),[]),t},Jf=e=>{const t=document.querySelector(".alert");t.textContent=e,t.style="display: block; animation: alert 0.45s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",globalThis.active_timeout&&clearTimeout(globalThis.active_timeout),globalThis.active_timeout=setTimeout((()=>{t.style="display: block; animation: alert-down 0.4s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",t.addEventListener("animationend",(()=>{t.style=""}),{once:!0}),globalThis.active_timeout=null}),1400)},Zf=({subjectInfo:t,startNum:n})=>{const[r,i]=(0,e.useState)(n),s=(0,e.useMemo)((()=>function(t,n){const r=[];if(t.section){const i=t.url.replace("*",n-("Химия"==t.title?1:0));for(let t=1;t<10;t++){const n=i.replace("?",t);r.push(e.createElement("img",{key:n,src:n,width:"100%",onError:e=>e.target.style.display="none"}))}}else{const i=t.url.replace("?",n);if(t.full_img)r.push(e.createElement("img",{key:i,src:i,width:"100%",onError:e=>e.target.style.display="none"}));else{r.push(e.createElement("img",{key:i,src:i,width:"100%",onError:e=>e.target.style.display="none"}));for(let i=1;i<4;i++){const s=t.url.replace("?",n+"_"+i);r.push(e.createElement("img",{key:s,src:s,width:"100%",onError:e=>e.target.style.display="none"}))}}}return r}(t,r)),[t,r]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"hwr-sol-tools"},e.createElement("button",{className:"alt block",onClick:()=>{const e=t.alt_url.replace("?",t.section&&"Физика"==t.title?r+2:r);window.open(e,"_blank")}},"Решебник 2"),e.createElement("div",{className:"center-section"},e.createElement("button",{className:"block",onClick:()=>i(r-1)},e.createElement("i",{className:"fas fa-chevron-left fa-lg"})),e.createElement("button",{className:"num block"},r),e.createElement("button",{className:"block",onClick:()=>i(r+1)},e.createElement("i",{className:"fas fa-chevron-right fa-lg"})))),e.createElement("div",{className:"hwr-sol-imgs"},s))};Zf.propTypes={subjectInfo:rf().object.isRequired,startNum:rf().number.isRequired};const ed=Zf,td=({subjectInfo:t,toOpen:n,hwRaw:r})=>{const i=[];n.forEach(((n,r)=>{n&&i.push(e.createElement(ed,{key:r,subjectInfo:t,startNum:n}))}));const s={backgroundColor:t.color};return e.createElement(e.Fragment,null,e.createElement("div",{className:"sol-subj"},e.createElement("div",{className:"title block",style:s},t.title),e.createElement("div",{className:"homework block"},r)),e.createElement("div",{className:"sol-content"},i))};td.propTypes={subjectInfo:rf().object.isRequired,toOpen:rf().array.isRequired,hwRaw:rf().string};const nd=td;var rd=null;function id(e){e.addEventListener("touchstart",(e=>{rd=e.touches[0].clientY}),{passive:!1}),e.addEventListener("touchmove",(t=>{if(null===rd)return;const n=t.touches[0].clientY;rd-n>0?e.scrollHeight-e.scrollTop<=e.clientHeight&&t.preventDefault():0==e.scrollTop&&t.preventDefault(),rd=null}),{passive:!1})}const sd=n=>{const r=(0,e.useContext)(Zh),i=(0,e.useRef)(null);(0,e.useEffect)((()=>{globalThis.ios&&id(i.current)}),[]);const s=[];for(let t in n.lessonsData){const i=n.lessonsData[t],a=r[i.id];if(!a.url)continue;const o=i.hw.replace(/ *\([^)]*\) */g,"").split(",").map((e=>(e=e.replace(/\D/g,""),parseInt(e))));s.push(e.createElement(nd,{key:i.id,subjectInfo:a,toOpen:o,hwRaw:i.hw}))}return t.createPortal(e.createElement(hf,{handleClose:n.handleClose,direction:"split",scrollContainer:i},e.createElement("div",{className:"scroll-content hw-re",ref:i},s)),document.getElementById("hw-re-container"))};sd.propTypes={handleClose:rf().func.isRequired};const ad=sd,od=()=>{const t=(0,e.useContext)(ef).database.timetable;return e=>{!function(e,t,n,...r){e=Zu(e,nc);const i=Zu(e.firestore,uc),s=Cc(i);let a;a="string"==typeof(t=p(t))||t instanceof fc?function(e,t,n,r,i,s){const a=e.Ba(1,t,n),o=[Lc(t,r,n)],l=[i];if(s.length%2!=0)throw new hi(ci.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(Lc(t,s[e])),l.push(s[e+1]);const u=[],c=rs.empty();for(let e=o.length-1;e>=0;--e)if(!Oc(u,o[e])){const t=o[e];let n=l[e];n=p(n);const r=a.$a(t);if(n instanceof kc)u.push(t);else{const e=_c(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Di(u);return new vc(c,h,a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Ba(1,t,n);xc("Data must be an object, but it was:",i,r);const s=[],a=rs.empty();_i(r,((e,r)=>{const o=Dc(t,e,n);r=p(r);const l=i.$a(o);if(r instanceof kc)s.push(o);else{const e=_c(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Di(s);return new vc(a,o,i.fieldTransforms)}(s,"updateDoc",e._key,t),Jc(i,[a.toMutation(e._key,ia.exists(!0))])}(t,e)}},ld=(0,e.forwardRef)((({value:t,onSave:n,onChange:r},i)=>{const[s,a]=(0,e.useState)(!1),o=(0,e.useRef)(null),l=e=>{13==e.keyCode&&o.current.blur()};return(0,e.useEffect)((()=>{s?(o.current.addEventListener("keydown",l),document.body.classList.add("keyboard-active")):document.body.classList.remove("keyboard-active")}),[s]),(0,e.useImperativeHandle)(i,(()=>({focus(){a(!0)}}))),e.createElement("div",{className:"editable-field",onClick:()=>a(!0)},s?e.createElement("input",{type:"text",value:t,onChange:()=>{r(o.current.value)},onBlur:()=>{n(o.current.value),a(!1)},ref:o,autoFocus:!0,autoComplete:"off",spellCheck:"false"}):t)}));ld.displayName="EditableField",ld.propTypes={value:rf().string.isRequired,onSave:rf().func,onChange:rf().func};const ud=ld;function cd(t){const[n,r]=(0,e.useState)(!1),i=(0,e.useRef)(null),s=()=>{i.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=()=>r(!1)};return e.createElement("div",{className:"dropdown "+(t.custom?"custom":"")},e.createElement("button",{className:"menuBtn",onClick:()=>{r(!0)},onBlur:s,onMouseOut:window.ios?s:()=>{}},t.icon??e.createElement("i",{className:"fas fa-ellipsis-v"})),n&&e.createElement("div",{className:"dropdown-content",ref:i},t.children))}const hd=({onClick:t,title:n,icon:r})=>e.createElement("button",{className:"withIcon",onClick:t},r,e.createElement("span",null,n)),fd=({lesson:t,path:n})=>{var r;const i=od(),s=null===(r=(0,e.useContext)(Zh))||void 0===r?void 0:r[t.id],[a,o]=(0,e.useState)(t.hw),[l,u]=(0,e.useState)(!1);(0,e.useEffect)((()=>{o(t.hw)}),[t.hw]);const c=(null==s?void 0:s.title)??e.createElement("i",{className:"fas fa-circle-notch fa-spin"}),h={backgroundColor:(null==s?void 0:s.color)??"var(--bg3)"};return e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"rowBlock medium colored",style:h},c),e.createElement("div",{className:"rowBlock mainField"},e.createElement(ud,{value:a??"",onChange:o,onSave:()=>{a!==t.hw&&i({[n+".hw"]:a})}})),e.createElement("div",{className:"rowBlock square"},e.createElement(cd,null,(null==s?void 0:s.url)&&e.createElement(hd,{onClick:()=>{u(!0)},title:"Решение",icon:e.createElement("i",{className:"fas fa-book"})}),e.createElement(hd,{onClick:()=>{try{navigator.clipboard.writeText(a).then((()=>{Jf("Скопировано")}))}catch{Jf("Ошибка")}},title:"Скопировать",icon:e.createElement("i",{className:"fas fa-clone"})})),l&&e.createElement(ad,{lessonsData:[t],handleClose:()=>{u(!1)}})))};fd.propTypes={lesson:rf().shape({id:rf().string,hw:rf().string}).isRequired,path:rf().string.isRequired};const dd=(0,e.memo)(fd),pd={1:"Понедельник",2:"Вторник",3:"Среда",4:"Четверг",5:"Пятница",6:"Суббота",7:"Воскресенье"},md=({dayNum:t,week:n,timetable:r,pathToDay:i})=>{const[s,a]=(0,e.useState)(!1),o=(0,e.useContext)(ef).user.group,l=new Date,u=l.getDay();let c=0;1==n?c=-7:3==n&&(c=7);const h=t+c-(0!=u?u:7);l.setDate(l.getDate()+h);const f=l.toLocaleDateString("ru-RU",{day:"numeric",month:"numeric"}),d=[];for(let t in r){const n=r[t];let s,a;if(n.groups){if(!n[o])break;s=n[o],a=`${i}.${t}.${o}`}else s=n,a=`${i}.${t}`;d.push(e.createElement(dd,{key:t,path:a,lesson:s}))}return e.createElement("div",{className:"content-card"},s&&e.createElement(ad,{lessonsData:s,handleClose:()=>a(!1)}),e.createElement("header",{className:"day-header"},e.createElement("div",{className:"day-title"},pd[t]),e.createElement("div",{className:"day-date"},f)),e.createElement("button",{className:"table-btn tool",onClick:()=>{const e=[];for(let t in r){const n=r[t];if(n.groups){if(n[o]){let t=n[o];t.hw&&e.push(t)}}else n.hw&&e.push(n)}0!=e.length?a(e):Jf("Решебники не найдены")}},e.createElement("i",{className:"fas fa-book fa-lg"})),e.createElement("div",{className:"content"},d))};md.propTypes={dayNum:rf().number.isRequired,week:rf().number.isRequired,timetable:rf().object.isRequired,pathToDay:rf().string.isRequired,afterTitle:rf().string};const gd=md,yd=()=>{const[t,n]=(0,e.useState)(""),r={day:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"};return(0,e.useEffect)((()=>{const e=()=>{const e=(new Date).toLocaleString("ru",r);n(e)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]),e.createElement("div",{className:"time"},t)},vd=["8.00 - 8.45","8.55 - 9.40","9.55 - 10.40","10.55 - 11.40","11.55 - 12.40","12.50 - 13.35","13.55 - 14.40"],bd=()=>{const t=vd.map(((t,n)=>e.createElement("div",{className:"rings-row",key:n},e.createElement("span",{className:"index"},n+1),e.createElement("span",{className:"content"},t))));return e.createElement(cd,{custom:!0,icon:e.createElement("i",{className:"fas fa-bell"})},t)},wd=t=>e.createElement("header",{className:"homescreen-header"},e.createElement(yd,null),e.createElement("button",{onClick:()=>t.setSettingsOpen(!0)},e.createElement("i",{className:"fas fa-cog"})),e.createElement(bd,null));wd.propTypes={setSettingsOpen:rf().func.isRequired};const Ed=wd,Cd=[["8.00","8.45"],["8.55","9.40"],["9.55","10.40"],["10.55","11.40"],["11.55","12.40"],["12.50","13.35"],["13.55","14.40"]];function Sd(e){const t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}const kd=({day_data:t,pathToDay:n})=>{const r=(0,e.useContext)(ef).user.group,[i,s]=(0,e.useState)(null),[a,o]=(0,e.useState)("");function l(){const[e,t]=function(){let e=null,t=null;return Cd.forEach(((n,r)=>{const i=n[0].split("."),s=n[1].split("."),a=new Date;a.setHours(i[0],i[1],0);const o=new Date;o.setHours(s[0],s[1],0);const l=new Date;a<=l&&l<=o?(e=r+1,t="До конца осталось: "+Sd(o-l)):a>=l&&!e&&(e=r+1,t="До начала осталось: "+Sd(a-l))})),[e,t]}();e?e!=i&&t!=a&&(s(e),o(t)):(s(null),o(""))}let u,c;if((0,e.useEffect)((()=>{l(),setInterval(l,1e3)}),[]),i&&t[i]){if(t[i].groups){if(!t[i][r])return null;u=t[i][r],c=`${n}.${i}.${r}`}else u=t[i],c=`${n}.${i}`;return i&&e.createElement("div",{className:"content-card Now"},e.createElement(dd,{lesson:u,path:c}),e.createElement("div",{className:"info"}," ",a))}return null};kd.propTypes={day_data:rf().object.isRequired,pathToDay:rf().object.isRequired};const Td=kd,_d=(0,e.forwardRef)((({children:t,reversed:n,returnBtn:r},i)=>{const[s,a]=(0,e.useState)(r),o=(0,e.useRef)(),l=(0,e.useRef)(),u=(0,e.useContext)(ef);(0,e.useEffect)((()=>{u.IS_SAFARI&&id(o.current)}),[]);const c=e=>{n?o.current.scrollTo({top:o.current.scrollHeight,...e}):o.current.scrollTo({top:0,...e})};return(0,e.useImperativeHandle)(i,(()=>({scrollToStart:c}))),e.createElement("div",{className:"VScroll__Wraper"},e.createElement("div",{className:"VScroll",ref:o,onScroll:r?()=>{const e=o.current;e.scrollHeight-e.scrollTop>e.clientHeight?a(!0):s&&(l.current.animate([{opacity:1},{opacity:0}],{duration:150,fill:"both"}).onfinish=()=>a(!1))}:null},t),s&&e.createElement("button",{className:"returnBtn",onClick:()=>c({behavior:"smooth"}),ref:l},e.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentcolor"},e.createElement("path",{d:"M14 18.4883C14.3076 18.4795 14.5889 18.3652 14.8174 18.1191L21.4971 11.2812C21.6904 11.0879 21.7959 10.8418 21.7959 10.5518C21.7959 9.97168 21.3389 9.50586 20.7588 9.50586C20.4775 9.50586 20.2051 9.62012 20.0029 9.82227L14.0088 15.9834L7.99707 9.82227C7.79492 9.62891 7.53125 9.50586 7.24121 9.50586C6.66113 9.50586 6.2041 9.97168 6.2041 10.5518C6.2041 10.8418 6.30957 11.0879 6.50293 11.2812L13.1914 18.1191C13.4287 18.3652 13.6924 18.4883 14 18.4883Z"}))))}));_d.displayName="VScroll",_d.propTypes={children:rf().node,reversed:rf().bool,returnBtn:rf().bool};const Nd=_d,Id=({children:t,styles:n})=>e.createElement(Nd,null,e.createElement("div",{className:"Wraper",style:n},t)),xd=e.useLayoutEffect;var Ld=function(e,t){"function"!=typeof e?e.current=t:e(t)};var Ad={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Dd=function(e){Object.keys(Ad).forEach((function(t){e.style.setProperty(t,Ad[t],"important")}))},Rd=null,Od=function(){},Pd=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Md=!!document.documentElement.currentStyle,Fd=function(t,n){var r,i=t.cacheMeasurements,s=t.maxRows,a=t.minRows,o=t.onChange,l=void 0===o?Od:o,u=t.onHeightChange,c=void 0===u?Od:u,h=kf(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=void 0!==h.value,d=(0,e.useRef)(null),p=function(t,n){var r=(0,e.useRef)();return(0,e.useCallback)((function(e){t.current=e,r.current&&Ld(r.current,null),r.current=n,n&&Ld(n,e)}),[n])}(d,n),m=(0,e.useRef)(0),g=(0,e.useRef)(),y=function(){var e=d.current,t=i&&g.current?g.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,Pd.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(Md&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){g.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Rd||((Rd=document.createElement("textarea")).setAttribute("tabindex","-1"),Rd.setAttribute("aria-hidden","true"),Dd(Rd)),null===Rd.parentNode&&document.body.appendChild(Rd);var i=e.paddingSize,s=e.borderSize,a=e.sizingStyle,o=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;Rd.style[t]=a[t]})),Dd(Rd),Rd.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(Rd,e);Rd.value="x";var u=Rd.scrollHeight-i,c=u*n;"border-box"===o&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return"border-box"===o&&(h=h+i+s),[l=Math.min(h,l),u]}(t,e.value||e.placeholder||"x",a,s),r=n[0],o=n[1];m.current!==r&&(m.current=r,e.style.setProperty("height",r+"px","important"),c(r,{rowHeight:o}))}};return(0,e.useLayoutEffect)(y),r=function(t){var n=(0,e.useRef)(t);return xd((function(){n.current=t})),n}(y),(0,e.useLayoutEffect)((function(){var e=function(e){r.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,e.createElement)("textarea",Sf({},h,{onChange:function(e){f||y(),l(e)},ref:p}))};const jd=(0,e.forwardRef)(Fd),Vd=({noteData:t,docRef:n})=>{const r=(0,e.useRef)(),[i,s]=(0,e.useState)(t.text),a=t.isPinned;(0,e.useEffect)((()=>{s(t.text)}),[t.text]);const o="note "+(a?"pinned":"");return e.createElement("div",{className:o},e.createElement(jd,{maxRows:10,ref:r,value:i,placeholder:"Новая заметка..",onBlur:function(){Gc(n,{text:i},{merge:!0})},onChange:function(){s(r.current.value)}}),e.createElement(cd,null,e.createElement("button",{className:"withIcon",onClick:function(){Gc(n,{isPinned:!a},{merge:!0})}},e.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M7.04785 16.3613C7.04785 17.1611 7.59277 17.6885 8.42773 17.6885H13.1211V21.8545C13.1211 23.0762 13.7539 24.333 14 24.333C14.2373 24.333 14.8701 23.0762 14.8701 21.8545V17.6885H19.5723C20.4072 17.6885 20.9434 17.1611 20.9434 16.3613C20.9434 14.4629 19.4404 12.5205 16.9531 11.6064L16.6719 7.51074C17.9814 6.77246 19.0186 5.95508 19.4668 5.36621C19.7129 5.05859 19.8271 4.7334 19.8271 4.45215C19.8271 3.87207 19.3877 3.44141 18.7197 3.44141H9.27148C8.6123 3.44141 8.16406 3.87207 8.16406 4.45215C8.16406 4.7334 8.27832 5.05859 8.52441 5.36621C8.97266 5.95508 10.0098 6.77246 11.3193 7.51074L11.0381 11.6064C8.55078 12.5205 7.04785 14.4629 7.04785 16.3613Z"})),e.createElement("span",null,a?"Открепить":"Закрепить")),e.createElement("button",{className:"withIcon",onClick:function(){navigator.clipboard.writeText(i).then((()=>{Jf("Скопировано")}))}},e.createElement("i",{className:"fas fa-clone"}),e.createElement("span",null,"Скопировать")),e.createElement("button",{className:"withIcon danger",onClick:function(){Qc(n)}},e.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M9.84277 22.4785H18.166C19.3701 22.4785 20.0732 21.8369 20.126 20.6416L20.6797 7.94141H21.8926C22.3408 7.94141 22.6836 7.58984 22.6836 7.15039C22.6836 6.71094 22.332 6.37695 21.8926 6.37695H18.0781V5.05859C18.0781 3.65234 17.1729 2.81738 15.6611 2.81738H12.3213C10.8096 2.81738 9.9043 3.65234 9.9043 5.05859V6.37695H6.10742C5.66797 6.37695 5.31641 6.71973 5.31641 7.15039C5.31641 7.59863 5.66797 7.94141 6.10742 7.94141H7.3291L7.8916 20.6416C7.93555 21.8369 8.63867 22.4785 9.84277 22.4785ZM11.7324 5.1377C11.7324 4.74219 12.0049 4.4873 12.4443 4.4873H15.5469C15.9863 4.4873 16.2588 4.74219 16.2588 5.1377V6.37695H11.7324V5.1377ZM11.1787 19.7803C10.8271 19.7803 10.5811 19.5518 10.5723 19.2002L10.3086 9.86621C10.2998 9.51465 10.5459 9.27734 10.915 9.27734C11.2666 9.27734 11.5127 9.50586 11.5215 9.85742L11.7852 19.1914C11.8027 19.543 11.5566 19.7803 11.1787 19.7803ZM14 19.7803C13.6309 19.7803 13.3848 19.5518 13.3848 19.2002V9.85742C13.3848 9.51465 13.6309 9.27734 14 9.27734C14.3691 9.27734 14.624 9.51465 14.624 9.85742V19.2002C14.624 19.5518 14.3691 19.7803 14 19.7803ZM16.8213 19.7891C16.4434 19.7891 16.1973 19.543 16.2148 19.2002L16.4785 9.85742C16.4873 9.50586 16.7334 9.27734 17.085 9.27734C17.4541 9.27734 17.7002 9.51465 17.6914 9.86621L17.4277 19.2002C17.4189 19.5518 17.1729 19.7891 16.8213 19.7891Z"})),e.createElement("span",null,"Удалить"))))};Vd.propTypes={noteData:rf().object.isRequired,docRef:rf().object.isRequired};const Ud=Vd,zd=()=>{var t;const n=(0,e.useContext)(ef).database,r=((null===(t=function(t){const[n,r]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=Xc(t,(e=>{r(e)}));return()=>e()}),[t]),n}(n.notes))||void 0===t?void 0:t.docs)??[]).map((t=>e.createElement(Ud,{docRef:t.ref,key:t.id,noteData:t.data()})));return e.createElement("div",{className:"content-card",id:"notes"},e.createElement("h1",null,"Заметки"),e.createElement("button",{id:"add-note",onClick:()=>{r.length<=10?Yc(n.notes,{text:"",isPinned:!1}):Jf("Нельзя добавить больше 10 заметок")}},e.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM9.7373 13.6631C9.7373 13.1445 10.1064 12.7842 10.6162 12.7842H13.1211V10.2793C13.1211 9.76953 13.4727 9.40918 13.9736 9.40918C14.4922 9.40918 14.8525 9.76953 14.8525 10.2793V12.7842H17.3662C17.8672 12.7842 18.2363 13.1445 18.2363 13.6631C18.2363 14.1641 17.8672 14.5244 17.3662 14.5244H14.8525V17.0293C14.8525 17.5303 14.4922 17.8994 13.9736 17.8994C13.4727 17.8994 13.1211 17.5303 13.1211 17.0293V14.5244H10.6162C10.1064 14.5244 9.7373 14.1641 9.7373 13.6631Z"}))),e.createElement("div",{className:"content"},r))},qd=t=>{const[n,r]=(0,e.useState)(!1),i=(0,e.useContext)(tf);let{dayNum:s,isWeekend:a}=Xf();(0,e.useEffect)((()=>{const e=()=>{const e=(new Date).getHours();r(e>=7&&24!=e)};e(),setInterval(e,1e3)}),[]);let o=null;const l=(new Date).getHours();return a?(o="",s=1):l>15&&(5==s?(o="",s=1):(o="",s+=1)),e.createElement(Id,null,e.createElement("div",{className:"HomeScreen"},e.createElement(Ed,{setSettingsOpen:t.setSettingsOpen}),i&&!a&&n&&e.createElement(Td,{day_data:i[2][s],pathToDay:"2."+s}),e.createElement("div",{id:"homescreen-layout"},e.createElement("div",{className:"side-left"},e.createElement(zd,null)),e.createElement("div",{className:"side-right"},i&&e.createElement(gd,{dayNum:s,week:a?3:2,timetable:i[a?3:2][s],pathToDay:(a?3:2)+"."+s,afterTitle:o})))))};qd.propTypes={setSettingsOpen:rf().func.isRequired};const Bd=(0,e.memo)(qd),$d=()=>{var t;const{isWeekend:n}=Xf(),[r,i]=(0,e.useState)(n?3:2),s=null===(t=(0,e.useContext)(tf))||void 0===t?void 0:t[r],a=(0,e.useRef)(null),o=1==r?"Прошлая неделя":2==r?"Эта неделя":"Следующая неделя",l=[];let u;for(u in s)l.push(e.createElement(gd,{key:u,dayNum:parseInt(u),week:r,timetable:s[u],pathToDay:r+"."+u}));const c=()=>{a.current.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(2%)",opacity:.5},{transform:"translateY(0)",opacity:1}],{ease:"ease-in-out",duration:280})};return e.createElement(Id,null,e.createElement("header",{id:"week-header"},r>1?e.createElement("button",{onClick:()=>{i(r-1),c()}},e.createElement("i",{className:"fas fa-chevron-left fa-2x"})):e.createElement("button",{className:"unactive"},e.createElement("i",{className:"fas fa-chevron-left fa-2x"})),e.createElement("span",null,o),r<3?e.createElement("button",{onClick:()=>{i(r+1),c()}},e.createElement("i",{className:"fas fa-chevron-right fa-2x"})):e.createElement("button",{className:"unactive"},e.createElement("i",{className:"fas fa-chevron-right fa-2x"}))),e.createElement("div",{className:"week-grid",ref:a},0!=l.length?l:e.createElement("div",{className:"no-timetable-alert content-card"},"Расписания пока нет")))},Hd=(0,e.memo)($d);function Kd(t){function n(e){globalThis.ios?open(e):Jf("Пока это работает только на iOS")}return e.createElement(Id,{styles:{padding:0,maxWidth:600,paddingBottom:100}},e.createElement("header",null,e.createElement("div",{className:"search"},e.createElement("img",{className:"google active",width:"20px",src:"static/icons/google.svg"}),e.createElement("img",{className:"rebot",width:"10px",src:"static/icons/resheba.svg"}),e.createElement("input",{className:"google active",type:"text",autoComplete:"off"}),e.createElement("input",{step:"1",inputMode:"decimal",className:"rebot",autoComplete:"off"})),e.createElement("div",{className:"wraper"},e.createElement("button",{id:"eng"},"Английский"),e.createElement("button",{id:"rus"},"Рус яз"),e.createElement("button",{id:"bel"},"Бел яз"),e.createElement("button",{id:"phis"},"Физика"),e.createElement("button",{id:"alg"},"Алгебра"),e.createElement("button",{id:"him"},"Химия"),e.createElement("button",{id:"brainly",onClick:()=>n("brainly://")},"Brainly"),e.createElement("button",{id:"geom"},"Геометрия"),e.createElement("button",{id:"math",onClick:()=>n("photomath://")},"Photomath"))),e.createElement("div",{className:"tool-bar"},e.createElement("button",{onClick:()=>t.setNotebooksOpen(!0)},e.createElement("svg",{width:"32",height:"32",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M9.5791 20.7207C11.1172 20.720 12.1807 21.2744 12.6553 21.5996C12.8223 21.6875 13.2617 21.96 13.376 21.9863V7.37891C12.7168 6.23633 10.915 5.33984 9.07812 5.33984C6.64355 5.33984 4.65723 6.71094 4.13867 7.74805V21.0283C4.14746 21.8105 4.58691 22.127 5.13184 22.127C5.53613 22.127 5.79102 21.9863 6.06348 21.7754C6.62598 21.3184 7.91797 20.7207 9.5791 20.7207ZM18.4209 20.7207C20.082 20.7207 21.3652 21.3184 21.9277 21.7754C22.2002 21.9863 22.4551 22.127 22.8506 22.127C23.3955 22.127 23.8525 21.8105 23.8525 21.0283V7.74805C23.334 6.71094 21.3477 5.33984 18.9219 5.33984C17.085 5.33984 15.2744 6.23633 14.624 7.37891V22.0039C14.7295 21.9775 15.1689 21.6963 15.3447 21.5996C15.8193 21.2744 16.8828 20.7207 18.4209 20.7207Z"}))),e.createElement("span",{id:"current-subj"},"ReBot"),e.createElement("button",{onClick:()=>t.setSettingsOpen(!0)},e.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M13.2002 23.0059H14.8086C15.3359 23.0059 15.7314 22.6895 15.8457 22.1709L16.2852 20.3164C16.584 20.2109 16.8652 20.0967 17.1289 19.9736L18.7549 20.9756C19.1855 21.248 19.7041 21.2041 20.0645 20.8438L21.1982 19.71C21.5586 19.3496 21.6113 18.8135 21.3213 18.374L20.3281 16.7656C20.4512 16.502 20.5654 16.2207 20.6533 15.9482L22.5254 15.5088C23.0439 15.3945 23.3516 14.999 23.3516 14.4717V12.8896C23.3516 12.3711 23.0439 11.9668 22.5254 11.8525L20.6709 11.4043C20.5742 11.0967 20.4512 10.8242 20.3457 10.5869L21.3389 8.94336C21.6201 8.49512 21.585 7.99414 21.207 7.625L20.0645 6.49121C19.6953 6.15723 19.2295 6.0957 18.7812 6.3418L17.1289 7.36133C16.874 7.23828 16.5928 7.12402 16.2939 7.01855L15.8457 5.1377C15.7314 4.61914 15.3359 4.30273 14.8086 4.30273H13.2002C12.6641 4.30273 12.2686 4.61914 12.1543 5.1377L11.7148 7.00977C11.416 7.10645 11.126 7.2207 10.8623 7.35254L9.21875 6.3418C8.77051 6.0957 8.31348 6.14844 7.93555 6.49121L6.79297 7.625C6.41504 7.99414 6.37988 8.49512 6.66113 8.94336L7.6543 10.5869C7.54883 10.8242 7.43457 11.0967 7.3291 11.4043L5.47461 11.8525C4.95605 11.9668 4.64844 12.3711 4.64844 12.8896V14.4717C4.64844 14.999 4.95605 15.3945 5.47461 15.5088L7.34668 15.9482C7.43457 16.2207 7.54883 16.502 7.67188 16.7656L6.67871 18.374C6.38867 18.8135 6.44141 19.3496 6.81055 19.71L7.93555 20.8438C8.2959 21.2041 8.81445 21.248 9.25391 20.9756L10.8711 19.9736C11.1348 20.0967 11.416 20.2109 11.7148 20.3164L12.1543 22.1709C12.2686 22.6895 12.6641 23.0059 13.2002 23.0059ZM14 16.7305C12.3125 16.7305 10.9326 15.3418 10.9326 13.6455C10.9326 11.9668 12.3125 10.5869 14 10.5869C15.6963 10.5869 17.0762 11.9668 17.0762 13.6455C17.0762 15.3418 15.6963 16.7305 14 16.7305Z"})))),e.createElement("div",{id:"boxes"}))}const Wd=({subject:t,marksDefault:n})=>{const r=(0,e.useContext)(ef).database,i=(0,e.useRef)(null),[s,a]=(0,e.useState)(n);(0,e.useEffect)((()=>{a(n)}),[n]);let o=0,l=0,u=null;return s&&(s.split(",").map((e=>{let t=parseInt(e);t&&(o+=t,l++)})),u=o/l,u=!isNaN(u)&&u<=10?Number(u.toFixed(1)):null),e.createElement("div",{className:"flexRow"},e.createElement("div",{className:"rowBlock medium colored",style:{backgroundColor:t.color}},t.title),e.createElement("div",{className:"rowBlock mainField"},e.createElement(ud,{ref:i,value:s,onChange:function(e){a(e)},onSave:function(){Gc(r.marks,{[t.id]:s},{merge:!0})}})),s&&u&&e.createElement("div",{className:"rowBlock square"},u),e.createElement("div",{className:"rowBlock square",onClick:function(){i.current.focus(),","!=s.trim().slice(-1)&&""!=s&&a(s+", ")}},e.createElement("i",{className:"fas fa-plus"})))};Wd.propTypes={subject:rf().object,marksDefault:rf().string};const Gd=(0,e.memo)(Wd),Qd=()=>{const t=(0,e.useContext)(ef).database,n=(0,e.useContext)(Zh);let r=sf(t.marks);r&&(r=Object.fromEntries(Object.entries(r).sort()));const i=[];for(let t in n){const s=n[t];s.id=t,s.marks&&i.push(e.createElement(Gd,{key:t,subject:s,marksDefault:r&&r[t]?r[t]:""}))}return e.createElement(Id,null,e.createElement("div",{className:"content-card"},e.createElement("header",{className:"day-header"},e.createElement("div",{className:"day-title"},"Оценки")),e.createElement("div",{className:"marks-grid"},i),e.createElement("div",{className:"info",style:{marginTop:10}},"Нужно разделять запятой, справа - средний балл")))},Yd=(0,e.memo)(Qd);function Xd(t,n){const[r,i]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=Xc(t,(e=>{i(e.docs),e.docChanges().forEach((t=>{"added"!==t.type||e.metadata.fromCache||t.doc.metadata.hasPendingWrites||n&&n(t.doc.data())}))}));return()=>e()}),[t]),r}const Jd=(t,n)=>{const{chatRef:r,membersRef:i,messagesRef:s,messagesQuery:a}=(0,e.useMemo)((()=>{const e=ac(Xh,"chats",t),n=sc(Xh,"users"),r=sc(Xh,"chats",t,"messages"),i=function(e,...t){for(const n of t)e=n._apply(e);return e}(r,function(e,t="asc"){const n=t,r=Fc("orderBy","time");return new $c(r,n)}(),(function(e,t){if(t<=0)throw new hi(ci.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limitToLast",30),new Hc("limitToLast",30,"L")));return{chatRef:e,membersRef:n,messagesRef:r,messagesQuery:i}}),[t]),o=Xd(a,n),l=function(t){const[n,r]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=Xc(t,(e=>{r({...e.data(),docId:e.id})}));return()=>e()}),[t]),n}(r),u=Xd(i),c={};return u.forEach((e=>{c[e.id]=e.data()})),{chatInfo:l,members:c,messages:u?o:[],sendText:(e,t)=>{var n;n={time:new Tc("serverTimestamp"),text:e,sender:t},Yc(s,n)},deleteMessage:e=>{Qc(ac(Xh,"chats",t,"messages",e))}}},Zd=(0,e.createContext)(null);let ep=null;const tp=n=>(0,t.createPortal)(e.createElement("div",{className:"Notification",onTouchStart:e=>{ep=e.touches[0].clientY},onTouchMove:e=>{if(null===ep)return;const t=e.touches[0].clientY;ep-t>0&&(e.currentTarget.animate([{transform:"translateY(-120px)"}],{duration:400,ease:"cubic-bezier(0.075, 0.82, 0.165, 1)",fill:"both"}).onfinish=n.handleClose),ep=null}},e.createElement("div",{className:"appIcon"}," ",n.appIcon," "),e.createElement("div",{className:"content"},e.createElement("div",{className:"title"},n.title),e.createElement("div",{className:"text"},n.text)),e.createElement("div",{className:"slider"})),document.getElementById("root"));tp.propTypes={handleClose:rf().func.isRequired,title:rf().string.isRequired,text:rf().string,appIcon:rf().node,appName:rf().string};const np=tp,rp=({sendText:t,user:n})=>{const[r,i]=(0,e.useState)(""),s=(0,e.useRef)(null),[a,o]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{a?document.body.classList.add("keyboard-active"):document.body.classList.remove("keyboard-active")}),[a]),e.createElement("div",{className:"Chat__Sender"},e.createElement(jd,{placeholder:"Сообщение..",className:"Chat__Sender__Input",value:r,minRows:1,ref:s,onFocus:()=>o(!0),onBlur:()=>o(!1),onChange:e=>{i(e.target.value)}}),""!==r&&e.createElement("button",{className:"Chat__Sender__SendBtn",onClick:()=>{s.current.focus(),t(r,n.id),i("")}},e.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentcolor"},e.createElement("path",{d:"M15.3359 23.4102C16.0215 23.4102 16.4961 22.8564 16.8213 22.0127L22.6221 6.83398C22.7715 6.44727 22.8594 6.10449 22.8594 5.80566C22.8594 5.18164 22.4639 4.78613 21.8311 4.78613C21.541 4.78613 21.1895 4.86523 20.8027 5.01465L5.5625 10.8506C4.80664 11.1406 4.23535 11.6152 4.23535 12.3008C4.23535 13.1357 4.85938 13.4521 5.7207 13.7158L10.2734 15.1045C10.8887 15.2979 11.249 15.2891 11.6797 14.8848L21.4707 5.81445C21.5938 5.7002 21.7432 5.71777 21.8398 5.80566C21.9365 5.89355 21.9365 6.05176 21.8311 6.16602L12.7783 15.9746C12.4092 16.3877 12.374 16.7744 12.5586 17.3896L13.9121 21.8545C14.1758 22.751 14.4922 23.4102 15.3359 23.4102Z"}))))};function ip(t){const n=(0,e.useRef)(null);return e.createElement(lf,{onClick:()=>{n.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=t.onClose},active:!0},e.createElement("div",{className:"ContextMenu",ref:n},t.children))}const sp=({onClick:t,title:n,icon:r})=>e.createElement("button",{className:"ContextMenu__Button",onClick:t},r,e.createElement("span",null,n)),ap=({messageData:t,needSenderTitle:n,deleteMessage:r,own:i,sender:s,setUserModal:a})=>{const[o,l]=(0,e.useState)(!1),u=0===(null==t?void 0:t.text).replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|[\ud83c[\ude50\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"").length;let c;try{c=null==t?void 0:t.time.toDate().toLocaleString("ru",{hour:"numeric",minute:"numeric"})}catch{c=""}let h="Chat__Message";function f(){l(!1)}return h+=i?" outcoming":" incoming",n&&(h+=" with-sender-title"),u&&(h+=" emoji"),e.createElement("div",{className:h},e.createElement("span",{className:"time"},""!=c?c:e.createElement("i",{className:"fas fa-circle-notch fa-spin fa-lg",style:{marginLeft:6}})),n&&(null==s?void 0:s.photo_url)&&e.createElement("div",{className:"avatar",onClick:()=>a(s)},e.createElement("img",{width:"32",height:"32",src:s.photo_url})),n&&e.createElement("span",{className:"sender"},null==s?void 0:s.first_name),e.createElement("div",{className:"message-text",onClick:o?f:()=>{l(!0)},onContextMenu:e=>{e.preventDefault(),l(!0)}},null==t?void 0:t.text),o&&e.createElement(ip,{onClose:f},i&&e.createElement(sp,{title:"Удалить",onClick:()=>{r(t.id)},icon:e.createElement("i",{className:"fas fa-book"})}),e.createElement(sp,{title:"Скопировать",icon:e.createElement("i",{className:"fas fa-clone"}),onClick:()=>{try{navigator.clipboard.writeText(t.text).then((()=>{Jf("Скопировано")}))}catch{Jf("Ошибка")}}})))};ap.propTypes={messageData:rf().object,needSenderTitle:rf().bool,deleteMessage:rf().func,own:rf().bool,sender:rf().object,setUserModal:rf().func};const op=(0,e.memo)(ap),lp=({user:t,handleClose:n})=>e.createElement(hf,{handleClose:()=>n(!1)},e.createElement(yf,null,e.createElement("div",{className:"UserProfileHeader"},e.createElement("img",{className:"avatar",src:t.photo_url}),e.createElement("h3",{className:"name"},t.first_name))));lp.propTypes={user:rf().object.isRequired,handleClose:rf().func.isRequired};const up=lp,cp=({defaultValue:t,onSave:n})=>{const[r,i]=(0,e.useState)(t);return e.createElement("div",{className:"_EditForm"},e.createElement(ud,{value:r,onChange:i,onSave:n}))},hp=({handleClose:t,chatID:n,chatInfo:r})=>e.createElement(hf,{handleClose:()=>t(!1)},e.createElement(yf,null,e.createElement(ff,{text:"Настройки чата"}),e.createElement(cp,{onSave:e=>{Gc(ac(Xh,"chats",n),{title:e},{merge:!0})},defaultValue:null==r?void 0:r.title})));hp.propTypes={user:rf().object.isRequired,handleClose:rf().func.isRequired};const fp=hp,dp=({setChatSettings:t,chatTitle:n})=>e.createElement("div",{className:"ChatHeader"},e.createElement("button",null),e.createElement("div",{className:"chat-title"},n),e.createElement("button",{className:"chat-settings-button",onClick:()=>t(!0)},e.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},e.createElement("path",{d:"M13.2002 23.0059H14.8086C15.3359 23.0059 15.7314 22.6895 15.8457 22.1709L16.2852 20.3164C16.584 20.2109 16.8652 20.0967 17.1289 19.9736L18.7549 20.9756C19.1855 21.248 19.7041 21.2041 20.0645 20.8438L21.1982 19.71C21.5586 19.3496 21.6113 18.8135 21.3213 18.374L20.3281 16.7656C20.4512 16.502 20.5654 16.2207 20.6533 15.9482L22.5254 15.5088C23.0439 15.3945 23.3516 14.999 23.3516 14.4717V12.8896C23.3516 12.3711 23.0439 11.9668 22.5254 11.8525L20.6709 11.4043C20.5742 11.0967 20.4512 10.8242 20.3457 10.5869L21.3389 8.94336C21.6201 8.49512 21.585 7.99414 21.207 7.625L20.0645 6.49121C19.6953 6.15723 19.2295 6.0957 18.7812 6.3418L17.1289 7.36133C16.874 7.23828 16.5928 7.12402 16.2939 7.01855L15.8457 5.1377C15.7314 4.61914 15.3359 4.30273 14.8086 4.30273H13.2002C12.6641 4.30273 12.2686 4.61914 12.1543 5.1377L11.7148 7.00977C11.416 7.10645 11.126 7.2207 10.8623 7.35254L9.21875 6.3418C8.77051 6.0957 8.31348 6.14844 7.93555 6.49121L6.79297 7.625C6.41504 7.99414 6.37988 8.49512 6.66113 8.94336L7.6543 10.5869C7.54883 10.8242 7.43457 11.0967 7.3291 11.4043L5.47461 11.8525C4.95605 11.9668 4.64844 12.3711 4.64844 12.8896V14.4717C4.64844 14.999 4.95605 15.3945 5.47461 15.5088L7.34668 15.9482C7.43457 16.2207 7.54883 16.502 7.67188 16.7656L6.67871 18.374C6.38867 18.8135 6.44141 19.3496 6.81055 19.71L7.93555 20.8438C8.2959 21.2041 8.81445 21.248 9.25391 20.9756L10.8711 19.9736C11.1348 20.0967 11.416 20.2109 11.7148 20.3164L12.1543 22.1709C12.2686 22.6895 12.6641 23.0059 13.2002 23.0059ZM14 16.7305C12.3125 16.7305 10.9326 15.3418 10.9326 13.6455C10.9326 11.9668 12.3125 10.5869 14 10.5869C15.6963 10.5869 17.0762 11.9668 17.0762 13.6455C17.0762 15.3418 15.6963 16.7305 14 16.7305Z"}))));dp.propTypes={setChatSettings:rf().func.isRequired};const pp=dp;function mp(){return mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}const gp=({chatID:t})=>{const[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),[a,o]=(0,e.useState)(null),l=(0,e.useRef)(),u=(0,e.useContext)(ef).user,{chatInfo:c,messages:h,members:f,sendText:d,deleteMessage:p}=Jd(t),m=[];let g=null;h&&h.forEach((t=>{const n=t.data();m.push(e.createElement(op,{key:t.id,setUserModal:r,messageData:{...n,id:t.id},deleteMessage:p,sender:null==f?void 0:f[n.sender],own:n.sender==u.id,needSenderTitle:g!=n.sender&&n.sender!=u.id})),g=n.sender})),(0,e.useLayoutEffect)((()=>{l.current.scrollIntoView({behavior:"smooth"})})),(0,e.useEffect)((()=>{}),[h]);const y={...c,user:u,members:f};return e.createElement(e.Fragment,null,e.createElement(Zd.Provider,{value:y},e.createElement("div",{className:"Chat"},e.createElement(Nd,{reversed:!0,returnBtn:!0},e.createElement("div",{className:"Chat__Messages__Wraper"},m,e.createElement("span",{ref:l}))),e.createElement(pp,{chatTitle:null==c?void 0:c.title,setChatSettings:s,chatID:t}),e.createElement(rp,{sendText:d,user:u}))),n&&e.createElement(up,{user:n,handleClose:()=>r(!1)}),i&&e.createElement(fp,{chatID:t,chatInfo:c,handleClose:()=>s(!1)}),a&&e.createElement(np,mp({},a,{handleClose:()=>o(null)})))};gp.propTypes={chatID:rf().string.isRequired};const yp=gp,vp=()=>e.createElement(yp,{chatID:"test"}),bp=({config:t})=>{const[n,r]=(0,e.useState)(1),i=function(t,n){const[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=localStorage.getItem("RC_CACHED_"+t);e&&i(JSON.parse(e)),Yh(Jh).then((()=>{const e=function(e,t){const n=p(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new Uh("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new Uh("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new Uh("static"))}(Jh,t).asString(),n=JSON.parse(e);localStorage.setItem("RC_CACHED_"+t,e),i(n)}))}),[t]),(0,e.useEffect)((()=>{r&&n&&n(r)}),[r,n]),r}("subjectsManifest",(e=>{globalThis.ReBot=new af(e)})),s=sf(t.database.timetable),[a,o]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1);return e.createElement(ef.Provider,{value:t},e.createElement("div",{id:"hw-re-container"}),e.createElement("div",{id:"notifications-container"}),e.createElement(Zh.Provider,{value:i},e.createElement(tf.Provider,{value:s},e.createElement(Qf,{activeTab:n,setActiveTab:r}),e.createElement("div",{className:"Tab",hidden:1!=n},e.createElement(Bd,{setSettingsOpen:u})),t.chat&&e.createElement("div",{className:"Tab Messenger",hidden:3!=n},e.createElement(vp,null)),e.createElement("div",{className:"Tab",hidden:4!=n},e.createElement(Yd,null)),e.createElement("div",{className:"Tab",hidden:5!=n},e.createElement(Hd,null)),e.createElement("div",{className:"Tab",id:"rebot",hidden:2!=n},e.createElement(Kd,{setNotebooksOpen:o,setSettingsOpen:u})))),a&&e.createElement(hf,{handleClose:()=>o(!1),direction:"split"},e.createElement("div",{className:"scroll-content",style:{marginTop:60}},e.createElement(Hf,null))),l&&e.createElement(hf,{handleClose:()=>u(!1)},e.createElement(Cf,null)))};bp.propTypes={config:rf().object.isRequired};const wp=bp;var Ep=n(343);const Cp=function({setUser:t}){const[n,r]=(0,e.useState)(1);return(0,e.useEffect)((()=>{navigator.serviceWorker.register("./sw.js")}),[]),(0,e.useEffect)((()=>{localStorage.group=n}),[n]),e.createElement("div",{className:"Login"},e.createElement("div",{className:"top-container"},e.createElement("header",null,e.createElement("div",{className:"logo"},e.createElement("img",{width:"36px",src:"static/icons/icon-128.png"})))),e.createElement("div",{className:"content"},e.createElement("div",{className:"block"},e.createElement("h5",{className:"group-title"},"Группа по английскому"),e.createElement("div",{className:"group"},e.createElement("button",{className:1==n?"active":"",onClick:()=>r(1)},"1"),e.createElement("button",{className:2==n?"active":"",onClick:()=>r(2)},"2"),e.createElement("button",{className:3==n?"active":"",onClick:()=>r(3)},"3")),e.createElement("div",{id:"auth"},e.createElement(Ep.TLoginButton,{botName:"resh1_bot",buttonSize:Ep.TLoginButtonSize.Large,lang:"ru",usePic:!0,cornerRadius:7,onAuthCallback:e=>{Gc(ac(Xh,"users",`${e.id}`),e).then((()=>{t({...e,group:localStorage.group})})),localStorage.user=JSON.stringify({...e,group:localStorage.group})},requestAccess:"write"})))))},Sp=/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;globalThis.ios=Sp;const kp=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(null);function s(e){const t=`${e.id}`,r={timetable:ac(Xh,"timeTables","9D"),marks:ac(Xh,"users",t,"userStorage","marks"),notes:sc(Xh,"users",t,"notes")};n(e),i(r)}return(0,e.useEffect)((()=>{const e=localStorage.getItem("user");null!=e&&"null"!=e?s(JSON.parse(e)):n("login")}),[]),t&&r?e.createElement(wp,{config:{database:r,user:t,IS_SAFARI:window.ios,chat:localStorage.chat}}):"login"==t&&e.createElement(Cp,{setUser:s})};t.createRoot(document.getElementById("root")).render(e.createElement(kp,null)),navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js")})()})();