var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,l=s(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(n){a=n(o);for(var h=0;h<a.length;h++)i.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l},a=o,l=60103,u=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var c=60109,h=60110,f=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var m=Symbol.for;l=m("react.element"),u=m("react.portal"),t.Fragment=m("react.fragment"),t.StrictMode=m("react.strict_mode"),t.Profiler=m("react.profiler"),c=m("react.provider"),h=m("react.context"),f=m("react.forward_ref"),t.Suspense=m("react.suspense"),d=m("react.memo"),p=m("react.lazy")}var g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var k=S.prototype=new E;k.constructor=S,a(k,w.prototype),k.isPureReactComponent=!0;var T={current:null},x=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:l,type:e,key:s,ref:o,props:i,_owner:T.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var N=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case l:case u:o=!0}}if(o)return i=i(o=e),e=""===r?"."+D(o,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),A(i,t,n,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){var c=r+D(s=e[a],a);o+=A(s,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),a=0;!(s=e.next()).done;)o+=A(s=s.value,t,n,c=r+D(s,a++),i);else if("object"===s)throw t=""+e,Error(y(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function P(){var e=O.current;if(null===e)throw Error(y(321));return e}var M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(y(143));return e}},t.Component=w,t.PureComponent=S,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=a({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=T.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:l,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,U={exports:{}},V={},j={exports:{}},z={};!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(c,0),e}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,m=null,g=-1,y=5,v=0;e.unstable_shouldYield=function(){return e.unstable_now()>=v},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();v=t+y;try{m(!0,t)?w.postMessage(null):(p=!1,m=null)}catch(e){throw w.postMessage(null),e}}else p=!1},t=function(e){m=e,p||(p=!0,w.postMessage(null))},n=function(t,n){g=h((function(){t(e.unstable_now())}),n)},r=function(){f(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],I=[],C=1,_=null,N=3,D=!1,A=!1,R=!1;function L(e){for(var t=S(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,E(x,t)}t=S(I)}}function O(e){if(R=!1,L(e),!A)if(null!==S(x))A=!0,t(P);else{var r=S(I);null!==r&&n(O,r.startTime-e)}}function P(t,i){A=!1,R&&(R=!1,r()),D=!0;var s=N;try{for(L(i),_=S(x);null!==_&&(!(_.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=_.callback;if("function"==typeof o){_.callback=null,N=_.priorityLevel;var a=o(_.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?_.callback=a:_===S(x)&&k(x),L(i)}else k(x);_=S(x)}if(null!==_)var l=!0;else{var u=S(I);null!==u&&n(O,u.startTime-i),l=!1}return l}finally{_=null,N=s,D=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){A||D||(A=!0,t(P))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return S(x)},e.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_scheduleCallback=function(i,s,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:C++,callback:s,priorityLevel:i,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(i.sortIndex=o,E(I,i),null===S(x)&&i===S(I)&&(R?r():R=!0,n(O,o-a))):(i.sortIndex=l,E(x,i),A||D||(A=!0,t(P))),i},e.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}}(z),j.exports=z;var B=e.exports,q=o,$=j.exports;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B)throw Error(K(227));var H=new Set,W={};function G(e,t){Q(e,t),Q(e+"Capture",t)}function Q(e,t){for(W[e]=t,e=0;e<t.length;e++)H.add(t[e])}var X=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function se(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!J.call(ee,e)||!J.call(Z,e)&&(Y.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var oe=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=60103,le=60106,ue=60107,ce=60108,he=60114,fe=60109,de=60110,pe=60112,me=60113,ge=60120,ye=60115,ve=60116,be=60121,we=60128,Ee=60129,Se=60130,ke=60131;if("function"==typeof Symbol&&Symbol.for){var Te=Symbol.for;ae=Te("react.element"),le=Te("react.portal"),ue=Te("react.fragment"),ce=Te("react.strict_mode"),he=Te("react.profiler"),fe=Te("react.provider"),de=Te("react.context"),pe=Te("react.forward_ref"),me=Te("react.suspense"),ge=Te("react.suspense_list"),ye=Te("react.memo"),ve=Te("react.lazy"),be=Te("react.block"),Te("react.scope"),we=Te("react.opaque.id"),Ee=Te("react.debug_trace_mode"),Se=Te("react.offscreen"),ke=Te("react.legacy_hidden")}var xe,Ie="function"==typeof Symbol&&Symbol.iterator;function Ce(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ie&&e[Ie]||e["@@iterator"])?e:null}function _e(e){if(void 0===xe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||""}return"\n"+xe+e}var Ne=!1;function De(e,t){if(!e||Ne)return"";Ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{Ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_e(e):""}function Ae(e){switch(e.tag){case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return _e("Suspense");case 19:return _e("SuspenseList");case 0:case 2:case 15:return e=De(e.type,!1);case 11:return e=De(e.type.render,!1);case 22:return e=De(e.type._render,!1);case 1:return e=De(e.type,!0);default:return""}}function Re(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ue:return"Fragment";case le:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case me:return"Suspense";case ge:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ye:return Re(e.type);case be:return Re(e._render);case ve:t=e._payload,e=e._init;try{return Re(e(t))}catch(e){}}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Pe(e){e._valueTracker||(e._valueTracker=function(e){var t=Oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ve(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Le(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){null!=(t=t.checked)&&se(e,"checked",t,!1)}function ze(e,t){je(e,t);var n=Le(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?qe(e,t.type,n):t.hasOwnProperty("defaultValue")&&qe(e,t.type,Le(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function qe(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function $e(e,t){return e=q({children:void 0},t),(t=function(e){var t="";return B.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ke(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function He(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(K(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function We(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(K(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(K(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Le(n)}}function Ge(e,t){var n=Le(t.value),r=Le(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Xe="http://www.w3.org/1999/xhtml",Ye="http://www.w3.org/2000/svg";function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Ye||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];function ot(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function at(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ot(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){st.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var lt=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(lt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(K(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(K(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(K(62))}}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,dt=null,pt=null;function mt(e){if(e=Vi(e)){if("function"!=typeof ft)throw Error(K(280));var t=e.stateNode;t&&(t=zi(t),ft(e.stateNode,e.type,t))}}function gt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function yt(){if(dt){var e=dt,t=pt;if(pt=dt=null,mt(e),t)for(e=0;e<t.length;e++)mt(t[e])}}function vt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var Et=vt,St=!1,kt=!1;function Tt(){null===dt&&null===pt||(wt(),yt())}function xt(e,t){var n=e.stateNode;if(null===n)return null;var r=zi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(K(231,t,typeof n));return n}var It=!1;if(X)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){It=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch(tt){It=!1}function _t(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Nt=!1,Dt=null,At=!1,Rt=null,Lt={onError:function(e){Nt=!0,Dt=e}};function Ot(e,t,n,r,i,s,o,a,l){Nt=!1,Dt=null,_t.apply(Lt,arguments)}function Pt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(Pt(e)!==e)throw Error(K(188))}function Ut(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Pt(e)))throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ft(i),e;if(s===r)return Ft(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(3!==n.tag)throw Error(K(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Vt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var jt,zt,Bt,qt,$t=!1,Kt=[],Ht=null,Wt=null,Gt=null,Qt=new Map,Xt=new Map,Yt=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Qt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function tn(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=Zt(t,n,r,i,s),null!==t&&(null!==(t=Vi(t))&&zt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Ui(e.target);if(null!==t){var n=Pt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mt(n)))return e.blockedOn=t,void qt(e.lanePriority,(function(){$.unstable_runWithPriority(e.priority,(function(){Bt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Vi(n))&&zt(t),e.blockedOn=n,!1;t.shift()}return!0}function sn(e,t,n){rn(e)&&n.delete(t)}function on(){for($t=!1;0<Kt.length;){var e=Kt[0];if(null!==e.blockedOn){null!==(e=Vi(e.blockedOn))&&jt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Vn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Kt.shift()}null!==Ht&&rn(Ht)&&(Ht=null),null!==Wt&&rn(Wt)&&(Wt=null),null!==Gt&&rn(Gt)&&(Gt=null),Qt.forEach(sn),Xt.forEach(sn)}function an(e,t){e.blockedOn===t&&(e.blockedOn=null,$t||($t=!0,$.unstable_scheduleCallback($.unstable_NormalPriority,on)))}function ln(e){function t(t){return an(t,e)}if(0<Kt.length){an(Kt[0],e);for(var n=1;n<Kt.length;n++){var r=Kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ht&&an(Ht,e),null!==Wt&&an(Wt,e),null!==Gt&&an(Gt,e),Qt.forEach(t),Xt.forEach(t),n=0;n<Yt.length;n++)(r=Yt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&null===(n=Yt[0]).blockedOn;)nn(n),null===n.blockedOn&&Yt.shift()}function un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionend:un("Transition","TransitionEnd")},hn={},fn={};function dn(e){if(hn[e])return hn[e];if(!cn[e])return e;var t,n=cn[e];for(t in n)if(n.hasOwnProperty(t)&&t in fn)return hn[e]=n[t];return e}X&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var pn=dn("animationend"),mn=dn("animationiteration"),gn=dn("animationstart"),yn=dn("transitionend"),vn=new Map,bn=new Map,wn=["abort","abort",pn,"animationEnd",mn,"animationIteration",gn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yn,"transitionEnd","waiting","waiting"];function En(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),vn.set(r,i),G(i,[r])}}(0,$.unstable_now)();var Sn=8;function kn(e){if(0!=(1&e))return Sn=15,1;if(0!=(2&e))return Sn=14,2;if(0!=(4&e))return Sn=13,4;var t=24&e;return 0!==t?(Sn=12,t):0!=(32&e)?(Sn=11,32):0!==(t=192&e)?(Sn=10,t):0!=(256&e)?(Sn=9,256):0!==(t=3584&e)?(Sn=8,t):0!=(4096&e)?(Sn=7,4096):0!==(t=4186112&e)?(Sn=6,t):0!==(t=62914560&e)?(Sn=5,t):67108864&e?(Sn=4,67108864):0!=(134217728&e)?(Sn=3,134217728):0!==(t=805306368&e)?(Sn=2,t):0!=(1073741824&e)?(Sn=1,1073741824):(Sn=8,e)}function Tn(e,t){var n=e.pendingLanes;if(0===n)return Sn=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Sn=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=kn(l),i=Sn):0!==(a&=s)&&(r=kn(a),i=Sn)}else 0!==(s=n&~o)?(r=kn(s),i=Sn):0!==a&&(r=kn(a),i=Sn);if(0===r)return 0;if(r=n&((0>(r=31-Dn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(kn(t),i<=Sn)return t;Sn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Dn(t)),r|=e[n],t&=~i;return r}function xn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function In(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Cn(24&~t))?In(10,t):e;case 10:return 0===(e=Cn(192&~t))?In(8,t):e;case 8:return 0===(e=Cn(3584&~t))&&(0===(e=Cn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Cn(805306368&~t))&&(t=268435456),t}throw Error(K(358,e))}function Cn(e){return e&-e}function _n(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Dn(t)]=n}var Dn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(An(e)/Rn|0)|0},An=Math.log,Rn=Math.LN2;var Ln=$.unstable_UserBlockingPriority,On=$.unstable_runWithPriority,Pn=!0;function Mn(e,t,n,r){St||wt();var i=Un,s=St;St=!0;try{bt(i,e,t,n,r)}finally{(St=s)||Tt()}}function Fn(e,t,n,r){On(Ln,Un.bind(null,e,t,n,r))}function Un(e,t,n,r){var i;if(Pn)if((i=0==(4&t))&&0<Kt.length&&-1<Jt.indexOf(e))e=Zt(null,e,t,n,r),Kt.push(e);else{var s=Vn(e,t,n,r);if(null===s)i&&en(e,r);else{if(i){if(-1<Jt.indexOf(e))return e=Zt(s,e,t,n,r),void Kt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Ht=tn(Ht,e,t,n,r,i),!0;case"dragenter":return Wt=tn(Wt,e,t,n,r,i),!0;case"mouseover":return Gt=tn(Gt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qt.set(s,tn(Qt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xt.set(s,tn(Xt.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;en(e,r)}yi(e,t,r,null,n)}}}function Vn(e,t,n,r){var i=ht(r);if(null!==(i=Ui(i))){var s=Pt(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Mt(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yi(e,t,r,i,n),null}var jn=null,zn=null,Bn=null;function qn(){if(Bn)return Bn;var e,t,n=zn,r=n.length,i="value"in jn?jn.value:jn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function $n(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kn(){return!0}function Hn(){return!1}function Wn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kn:Hn,this.isPropagationStopped=Hn,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),t}var Gn,Qn,Xn,Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=Wn(Yn),Zn=q({},Yn,{view:0,detail:0}),er=Wn(Zn),tr=q({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&"mousemove"===e.type?(Gn=e.screenX-Xn.screenX,Qn=e.screenY-Xn.screenY):Qn=Gn=0,Xn=e),Gn)},movementY:function(e){return"movementY"in e?e.movementY:Qn}}),nr=Wn(tr),rr=Wn(q({},tr,{dataTransfer:0})),ir=Wn(q({},Zn,{relatedTarget:0})),sr=Wn(q({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Wn(q({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ar=Wn(q({},Yn,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=cr[e])&&!!t[e]}function fr(){return hr}var dr=Wn(q({},Zn,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$n(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?$n(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$n(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Wn(q({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mr=Wn(q({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),gr=Wn(q({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),yr=Wn(q({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vr=[9,13,27,32],br=X&&"CompositionEvent"in window,wr=null;X&&"documentMode"in document&&(wr=document.documentMode);var Er=X&&"TextEvent"in window&&!wr,Sr=X&&(!br||wr&&8<wr&&11>=wr),kr=String.fromCharCode(32),Tr=!1;function xr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_r[e.type]:"textarea"===t}function Dr(e,t,n,r){gt(r),0<(t=bi(t,"onChange")).length&&(n=new Jn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,Rr=null;function Lr(e){hi(e,0)}function Or(e){if(Me(ji(e)))return e}function Pr(e,t){if("change"===e)return t}var Mr=!1;if(X){var Fr;if(X){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"==typeof Vr.oninput}Fr=Ur}else Fr=!1;Mr=Fr&&(!document.documentMode||9<document.documentMode)}function jr(){Ar&&(Ar.detachEvent("onpropertychange",zr),Rr=Ar=null)}function zr(e){if("value"===e.propertyName&&Or(Rr)){var t=[];if(Dr(t,Rr,e,ht(e)),e=Lr,St)e(t);else{St=!0;try{vt(e,t)}finally{St=!1,Tt()}}}}function Br(e,t,n){"focusin"===e?(jr(),Rr=n,(Ar=t).attachEvent("onpropertychange",zr)):"focusout"===e&&jr()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Or(Rr)}function $r(e,t){if("click"===e)return Or(t)}function Kr(e,t){if("input"===e||"change"===e)return Or(t)}var Hr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Wr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Hr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var n,r=Qr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qr(r)}}function Yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=X&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function si(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Gr(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Jn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}En("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),En("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),En(wn,2);for(var oi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ai=0;ai<oi.length;ai++)bn.set(oi[ai],0);Q("onMouseEnter",["mouseout","mouseover"]),Q("onMouseLeave",["mouseout","mouseover"]),Q("onPointerEnter",["pointerout","pointerover"]),Q("onPointerLeave",["pointerout","pointerover"]),G("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),G("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),G("onBeforeInput",["compositionend","keypress","textInput","paste"]),G("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(Ot.apply(this,arguments),Nt){if(!Nt)throw Error(K(198));var u=Dt;Nt=!1,Dt=null,At||(At=!0,Rt=u)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ci(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ci(i,a,u),s=l}}}if(At)throw e=Rt,At=!1,Rt=null,e}function fi(e,t){var n=Bi(t),r=e+"__bubble";n.has(r)||(gi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,H.forEach((function(t){ui.has(t)||mi(t,!1,e,null),mi(t,!0,e,null)})))}function mi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&ui.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=Bi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),gi(s,e,i,t),o.add(a))}function gi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Mn;break;case 1:i=Fn;break;default:i=Un}n=i.bind(null,t,n,e),i=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function yi(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ui(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(kt)return e(t,n);kt=!0;try{Et(e,t,n)}finally{kt=!1,Tt()}}((function(){var r=s,i=ht(n),o=[];e:{var a=vn.get(e);if(void 0!==a){var l=Jn,u=e;switch(e){case"keypress":if(0===$n(n))break e;case"keydown":case"keyup":l=dr;break;case"focusin":u="focus",l=ir;break;case"focusout":u="blur",l=ir;break;case"beforeblur":case"afterblur":l=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mr;break;case pn:case mn:case gn:l=sr;break;case yn:l=gr;break;case"scroll":l=er;break;case"wheel":l=yr;break;case"copy":case"cut":case"paste":l=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pr}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=xt(p,f))&&c.push(vi(p,m,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Ui(u)&&!u[Mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ui(u):null)&&(u!==(h=Pt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=nr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=pr,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:ji(l),d=null==u?a:ji(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=d,m=null,Ui(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=wi(d))p++;for(d=0,m=f;m;m=wi(m))d++;for(;0<p-d;)c=wi(c),p--;for(;0<d-p;)f=wi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=wi(c),f=wi(f)}c=null}else c=null;null!==l&&Ei(o,a,l,c,!1),null!==u&&null!==h&&Ei(o,h,u,c,!0)}if("select"===(l=(a=r?ji(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Pr;else if(Nr(a))if(Mr)g=Kr;else{g=qr;var y=Br}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=$r);switch(g&&(g=g(e,r))?Dr(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&qe(a,"number",a.value)),y=r?ji(r):window,e){case"focusin":(Nr(y)||"true"===y.contentEditable)&&(ti=y,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,si(o,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":si(o,n,i)}var v;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cr?xr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sr&&"ko"!==n.locale&&(Cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cr&&(v=qn()):(zn="value"in(jn=i)?jn.value:jn.textContent,Cr=!0)),0<(y=bi(r,b)).length&&(b=new ar(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Ir(n))&&(b.data=v))),(v=Er?function(e,t){switch(e){case"compositionend":return Ir(t);case"keypress":return 32!==t.which?null:(Tr=!0,kr);case"textInput":return(e=t.data)===kr&&Tr?null:e;default:return null}}(e,n):function(e,t){if(Cr)return"compositionend"===e||!br&&xr(e,t)?(e=qn(),Bn=zn=jn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new ar("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}hi(o,t)}))}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=xt(e,n))&&r.unshift(vi(e,s,i)),null!=(s=xt(e,t))&&r.push(vi(e,s,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ei(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=xt(n,s))&&o.unshift(vi(n,l,a)):i||null!=(l=xt(n,s))&&o.push(vi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Si(){}var ki=null,Ti=null;function xi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ii(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"==typeof setTimeout?setTimeout:void 0,_i="function"==typeof clearTimeout?clearTimeout:void 0;function Ni(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ri=0;var Li=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Li,Pi="__reactProps$"+Li,Mi="__reactContainer$"+Li,Fi="__reactEvents$"+Li;function Ui(e){var t=e[Oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ai(e);null!==e;){if(n=e[Oi])return n;e=Ai(e)}return t}n=(e=n).parentNode}return null}function Vi(e){return!(e=e[Oi]||e[Mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ji(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(K(33))}function zi(e){return e[Pi]||null}function Bi(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var qi=[],$i=-1;function Ki(e){return{current:e}}function Hi(e){0>$i||(e.current=qi[$i],qi[$i]=null,$i--)}function Wi(e,t){$i++,qi[$i]=e.current,e.current=t}var Gi={},Qi=Ki(Gi),Xi=Ki(!1),Yi=Gi;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Zi(e){return null!=(e=e.childContextTypes)}function es(){Hi(Xi),Hi(Qi)}function ts(e,t,n){if(Qi.current!==Gi)throw Error(K(168));Wi(Qi,t),Wi(Xi,n)}function ns(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(K(108,Re(t)||"Unknown",i));return q({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,Yi=Qi.current,Wi(Qi,e),Wi(Xi,Xi.current),!0}function is(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=ns(e,t,Yi),r.__reactInternalMemoizedMergedChildContext=e,Hi(Xi),Hi(Qi),Wi(Qi,e)):Hi(Xi),Wi(Xi,n)}var ss=null,os=null,as=$.unstable_runWithPriority,ls=$.unstable_scheduleCallback,us=$.unstable_cancelCallback,cs=$.unstable_shouldYield,hs=$.unstable_requestPaint,fs=$.unstable_now,ds=$.unstable_getCurrentPriorityLevel,ps=$.unstable_ImmediatePriority,ms=$.unstable_UserBlockingPriority,gs=$.unstable_NormalPriority,ys=$.unstable_LowPriority,vs=$.unstable_IdlePriority,bs={},ws=void 0!==hs?hs:function(){},Es=null,Ss=null,ks=!1,Ts=fs(),xs=1e4>Ts?fs:function(){return fs()-Ts};function Is(){switch(ds()){case ps:return 99;case ms:return 98;case gs:return 97;case ys:return 96;case vs:return 95;default:throw Error(K(332))}}function Cs(e){switch(e){case 99:return ps;case 98:return ms;case 97:return gs;case 96:return ys;case 95:return vs;default:throw Error(K(332))}}function _s(e,t){return e=Cs(e),as(e,t)}function Ns(e,t,n){return e=Cs(e),ls(e,t,n)}function Ds(){if(null!==Ss){var e=Ss;Ss=null,us(e)}As()}function As(){if(!ks&&null!==Es){ks=!0;var e=0;try{var t=Es;_s(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Es=null}catch(t){throw null!==Es&&(Es=Es.slice(e+1)),ls(ps,Ds),t}finally{ks=!1}}}var Rs=oe.ReactCurrentBatchConfig;function Ls(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Os=Ki(null),Ps=null,Ms=null,Fs=null;function Us(){Fs=Ms=Ps=null}function Vs(e){var t=Os.current;Hi(Os),e.type._context._currentValue=t}function js(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function zs(e,t){Ps=e,Fs=Ms=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Bs(e,t){if(Fs!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Fs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ms){if(null===Ps)throw Error(K(308));Ms=t,Ps.dependencies={lanes:0,firstContext:t,responders:null}}else Ms=Ms.next=t;return e._currentValue}var qs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Gs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var i=e.updateQueue;qs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var h=(c=c.updateQueue).lastBaseUpdate;h!==o&&(null===h?c.firstBaseUpdate=u:h.next=u,c.lastBaseUpdate=l)}}if(null!==s){for(h=i.baseState,o=0,c=u=l=null;;){a=s.lane;var f=s.eventTime;if((r&a)===a){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=e,p=s;switch(a=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,a);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(a="function"==typeof(d=p.payload)?d.call(f,h,a):d))break e;h=q({},h,a);break e;case 2:qs=!0}}null!==s.callback&&(e.flags|=32,null===(a=i.effects)?i.effects=[s]:a.push(s))}else f={eventTime:f,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=a;if(null===(s=s.next)){if(null===(a=i.shared.pending))break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,kl|=o,e.lanes=o,e.memoizedState=h}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(K(191,i));i.call(r)}}}var Ys=(new B.Component).refs;function Js(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return!!(e=e._reactInternals)&&Pt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gl(),i=Ql(e),s=Hs(r,i);s.payload=t,null!=n&&(s.callback=n),Ws(e,s),Xl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gl(),i=Ql(e),s=Hs(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),Ws(e,s),Xl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gl(),r=Ql(e),i=Hs(n,r);i.tag=2,null!=t&&(i.callback=t),Ws(e,i),Xl(e,r,n)}};function eo(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,s))}function to(e,t,n){var r=!1,i=Gi,s=t.contextType;return"object"==typeof s&&null!==s?s=Bs(s):(i=Zi(t)?Yi:Qi.current,s=(r=null!=(r=t.contextTypes))?Ji(e,i):Gi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function no(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ys,$s(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Bs(s):(s=Zi(t)?Yi:Qi.current,i.context=Ji(e,s)),Qs(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Js(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Zs.enqueueReplaceState(i,i.state,null),Qs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var io=Array.isArray;function so(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ys&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function oo(e,t){if("textarea"!==e.type)throw Error(K(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_u(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Ru(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=so(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=so(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=Du(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ru(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ae:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=so(e,null,t),n.return=e,n;case le:return(t=Lu(t,e.mode,n)).return=e,t}if(io(t)||Ce(t))return(t=Du(t,e.mode,n,null)).return=e,t;oo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ae:return n.key===i?n.type===ue?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case le:return n.key===i?u(e,t,n,r):null}if(io(n)||Ce(n))return null!==i?null:c(e,t,n,r,null);oo(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ae:return e=e.get(null===r.key?n:r.key)||null,r.type===ue?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case le:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(io(r)||Ce(r))return c(t,e=e.get(n)||null,r,i,null);oo(t,r)}return null}function p(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=f(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),u;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<a.length;m++)null!==(g=d(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}function m(i,o,a,l){var u=Ce(a);if("function"!=typeof u)throw Error(K(150));if(null==(a=u.call(a)))throw Error(K(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=f(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=h(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=d(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),u}return function(e,r,s,a){var l="object"==typeof s&&null!==s&&s.type===ue&&null===s.key;l&&(s=s.props.children);var u="object"==typeof s&&null!==s;if(u)switch(s.$$typeof){case ae:e:{for(u=s.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(s.type===ue){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}break;default:if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=so(e,l,s),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}s.type===ue?((r=Du(s.props.children,e.mode,a,s.key)).return=e,e=r):((a=Nu(s.type,s.key,s.props,null,e.mode,a)).ref=so(e,r,s),a.return=e,e=a)}return o(e);case le:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Lu(s,e.mode,a)).return=e,e=r}return o(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Ru(s,e.mode,a)).return=e,e=r),o(e);if(io(s))return p(e,r,s,a);if(Ce(s))return m(e,r,s,a);if(u&&oo(e,s),void 0===s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(K(152,Re(e.type)||"Component"))}return n(e,r)}}var lo=ao(!0),uo=ao(!1),co={},ho=Ki(co),fo=Ki(co),po=Ki(co);function mo(e){if(e===co)throw Error(K(174));return e}function go(e,t){switch(Wi(po,t),Wi(fo,e),Wi(ho,co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Hi(ho),Wi(ho,t)}function yo(){Hi(ho),Hi(fo),Hi(po)}function vo(e){mo(po.current);var t=mo(ho.current),n=Ze(t,e.type);t!==n&&(Wi(fo,e),Wi(ho,n))}function bo(e){fo.current===e&&(Hi(ho),Hi(fo))}var wo=Ki(0);function Eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=null,ko=null,To=!1;function xo(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Co(e){if(To){var t=ko;if(t){var n=t;if(!Io(e,t)){if(!(t=Di(n.nextSibling))||!Io(e,t))return e.flags=-1025&e.flags|2,To=!1,void(So=e);xo(So,n)}So=e,ko=Di(t.firstChild)}else e.flags=-1025&e.flags|2,To=!1,So=e}}function _o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;So=e}function No(e){if(e!==So)return!1;if(!To)return _o(e),To=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ii(t,e.memoizedProps))for(t=ko;t;)xo(e,t),t=Di(t.nextSibling);if(_o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ko=Di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ko=null}}else ko=So?Di(e.stateNode.nextSibling):null;return!0}function Do(){ko=So=null,To=!1}var Ao=[];function Ro(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}var Lo=oe.ReactCurrentDispatcher,Oo=oe.ReactCurrentBatchConfig,Po=0,Mo=null,Fo=null,Uo=null,Vo=!1,jo=!1;function zo(){throw Error(K(321))}function Bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function qo(e,t,n,r,i,s){if(Po=s,Mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lo.current=null===e||null===e.memoizedState?ma:ga,e=n(r,i),jo){s=0;do{if(jo=!1,!(25>s))throw Error(K(301));s+=1,Uo=Fo=null,t.updateQueue=null,Lo.current=ya,e=n(r,i)}while(jo)}if(Lo.current=pa,t=null!==Fo&&null!==Fo.next,Po=0,Uo=Fo=Mo=null,Vo=!1,t)throw Error(K(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Uo?Mo.memoizedState=Uo=e:Uo=Uo.next=e,Uo}function Ko(){if(null===Fo){var e=Mo.alternate;e=null!==e?e.memoizedState:null}else e=Fo.next;var t=null===Uo?Mo.memoizedState:Uo.next;if(null!==t)Uo=t,Fo=e;else{if(null===e)throw Error(K(310));e={memoizedState:(Fo=e).memoizedState,baseState:Fo.baseState,baseQueue:Fo.baseQueue,queue:Fo.queue,next:null},null===Uo?Mo.memoizedState=Uo=e:Uo=Uo.next=e}return Uo}function Ho(e,t){return"function"==typeof t?t(e):t}function Wo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(K(311));n.lastRenderedReducer=e;var r=Fo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((Po&u)===u)null!==a&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(o=a=c,s=r):a=a.next=c,Mo.lanes|=u,kl|=u}l=l.next}while(null!==l&&l!==i);null===a?s=r:a.next=o,Hr(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Go(e){var t=Ko(),n=t.queue;if(null===n)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Hr(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Po&e)===e)&&(t._workInProgressVersionPrimary=r,Ao.push(t))),e)return n(t._source);throw Ao.push(t),Error(K(350))}function Xo(e,t,n,r){var i=ml;if(null===i)throw Error(K(349));var s=t._getVersion,o=s(t._source),a=Lo.current,l=a.useState((function(){return Qo(i,t,n)})),u=l[1],c=l[0];l=Uo;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var m=Mo;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!Hr(o,e)){e=n(t._source),Hr(c,e)||(u(e),e=Ql(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Dn(a),h=1<<l;r[l]|=e,a&=~h}}}),[n,t,r]),a.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Ql(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Hr(d,n)&&Hr(p,t)&&Hr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:c}).dispatch=u=da.bind(null,Mo,e),l.queue=e,l.baseQueue=null,c=Qo(i,t,n),l.memoizedState=l.baseState=c),c}function Yo(e,t,n){return Xo(Ko(),e,t,n)}function Jo(e){var t=$o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e}).dispatch=da.bind(null,Mo,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Mo.updateQueue)?(t={lastEffect:null},Mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ea(e){return e={current:e},$o().memoizedState=e}function ta(){return Ko().memoizedState}function na(e,t,n,r){var i=$o();Mo.flags|=e,i.memoizedState=Zo(1|t,n,void 0,void 0===r?null:r)}function ra(e,t,n,r){var i=Ko();r=void 0===r?null:r;var s=void 0;if(null!==Fo){var o=Fo.memoizedState;if(s=o.destroy,null!==r&&Bo(r,o.deps))return void Zo(t,n,s,r)}Mo.flags|=e,i.memoizedState=Zo(1|t,n,s,r)}function ia(e,t){return na(516,4,e,t)}function sa(e,t){return ra(516,4,e,t)}function oa(e,t){return ra(4,2,e,t)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,aa.bind(null,t,e),n)}function ua(){}function ca(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t){var n=Is();_s(98>n?98:n,(function(){e(!0)})),_s(97<n?97:n,(function(){var n=Oo.transition;Oo.transition=1;try{e(!1),t()}finally{Oo.transition=n}}))}function da(e,t,n){var r=Gl(),i=Ql(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Mo||null!==o&&o===Mo)jo=Vo=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Hr(l,a))return}catch(e){}Xl(e,i,r)}}var pa={readContext:Bs,useCallback:zo,useContext:zo,useEffect:zo,useImperativeHandle:zo,useLayoutEffect:zo,useMemo:zo,useReducer:zo,useRef:zo,useState:zo,useDebugValue:zo,useDeferredValue:zo,useTransition:zo,useMutableSource:zo,useOpaqueIdentifier:zo,unstable_isNewReconciler:!1},ma={readContext:Bs,useCallback:function(e,t){return $o().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=da.bind(null,Mo,e),[r.memoizedState,e]},useRef:ea,useState:Jo,useDebugValue:ua,useDeferredValue:function(e){var t=Jo(e),n=t[0],r=t[1];return ia((function(){var t=Oo.transition;Oo.transition=1;try{r(e)}finally{Oo.transition=t}}),[e]),n},useTransition:function(){var e=Jo(!1),t=e[0];return ea(e=fa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=$o();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Xo(r,e,t,n)},useOpaqueIdentifier:function(){if(To){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ri++).toString(36))),Error(K(355))})),n=Jo(t)[1];return 0==(2&Mo.mode)&&(Mo.flags|=516,Zo(5,(function(){n("r:"+(Ri++).toString(36))}),void 0,null)),t}return Jo(t="r:"+(Ri++).toString(36)),t},unstable_isNewReconciler:!1},ga={readContext:Bs,useCallback:ca,useContext:Bs,useEffect:sa,useImperativeHandle:la,useLayoutEffect:oa,useMemo:ha,useReducer:Wo,useRef:ta,useState:function(){return Wo(Ho)},useDebugValue:ua,useDeferredValue:function(e){var t=Wo(Ho),n=t[0],r=t[1];return sa((function(){var t=Oo.transition;Oo.transition=1;try{r(e)}finally{Oo.transition=t}}),[e]),n},useTransition:function(){var e=Wo(Ho)[0];return[ta().current,e]},useMutableSource:Yo,useOpaqueIdentifier:function(){return Wo(Ho)[0]},unstable_isNewReconciler:!1},ya={readContext:Bs,useCallback:ca,useContext:Bs,useEffect:sa,useImperativeHandle:la,useLayoutEffect:oa,useMemo:ha,useReducer:Go,useRef:ta,useState:function(){return Go(Ho)},useDebugValue:ua,useDeferredValue:function(e){var t=Go(Ho),n=t[0],r=t[1];return sa((function(){var t=Oo.transition;Oo.transition=1;try{r(e)}finally{Oo.transition=t}}),[e]),n},useTransition:function(){var e=Go(Ho)[0];return[ta().current,e]},useMutableSource:Yo,useOpaqueIdentifier:function(){return Go(Ho)[0]},unstable_isNewReconciler:!1},va=oe.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?uo(t,null,n,r):lo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return zs(t,i),r=qo(e,t,n,r,s,i),null===e||ba?(t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,za(e,t,i))}function Sa(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||Cu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?za(e,t,s):(t.flags|=1,(e=_u(o,r)).ref=t.ref,e.return=t,t.child=e)}function ka(e,t,n,r,i,s){if(null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref){if(ba=!1,0==(s&i))return t.lanes=e.lanes,za(e,t,s);0!=(16384&e.flags)&&(ba=!0)}return Ia(e,t,n,r,s)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},iu(t,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},iu(t,e),null;t.memoizedState={baseLanes:0},iu(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,iu(t,r);return wa(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ia(e,t,n,r,i){var s=Zi(n)?Yi:Qi.current;return s=Ji(t,s),zs(t,i),n=qo(e,t,n,r,s,i),null===e||ba?(t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,za(e,t,i))}function Ca(e,t,n,r,i){if(Zi(n)){var s=!0;rs(t)}else s=!1;if(zs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),to(t,n,r),ro(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Bs(u):u=Ji(t,u=Zi(n)?Yi:Qi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&no(t,o,r,u),qs=!1;var f=t.memoizedState;o.state=f,Qs(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Xi.current||qs?("function"==typeof c&&(Js(t,n,c,r),l=t.memoizedState),(a=qs||eo(t,n,a,r,f,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Ks(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ls(t.type,a),o.props=u,h=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Bs(l):l=Ji(t,l=Zi(n)?Yi:Qi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||f!==l)&&no(t,o,r,l),qs=!1,f=t.memoizedState,o.state=f,Qs(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||Xi.current||qs?("function"==typeof d&&(Js(t,n,d,r),p=t.memoizedState),(u=qs||eo(t,n,u,r,f,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return _a(e,t,n,r,s,i)}function _a(e,t,n,r,i,s){xa(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&is(t,n,!1),za(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=lo(t,e.child,null,s),t.child=lo(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&is(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?ts(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ts(0,t.context,!1),go(e,t.containerInfo)}var Da,Aa,Ra,La={dehydrated:null,retryLane:0};function Oa(e,t,n){var r,i=t.pendingProps,s=wo.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),Wi(wo,1&s),null===e?(void 0!==i.fallback&&Co(t),e=i.children,s=i.fallback,o?(e=Pa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=La,e):"number"==typeof i.unstable_expectedLoadTime?(e=Pa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=La,t.lanes=33554432,e):((n=Au({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Fa(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=La,i):(n=Ma(e,t,i.children,n),t.memoizedState=null,n))}function Pa(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Au(t,i,0,null),n=Du(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Ma(e,t,n,r){var i=e.child;return e=i.sibling,n=_u(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fa(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=_u(o,a),null!==e?r=_u(e,r):(r=Du(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ua(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),js(e.return,t)}function Va(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!=(2&(r=wo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n);else if(19===e.tag)Ua(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wi(wo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s,t.lastEffect);break;case"together":Va(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kl|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(K(153));if(null!==t.child){for(n=_u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Ba(e,t){if(!To)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&es(),null;case 3:return yo(),Hi(Xi),Hi(Qi),Ro(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(No(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:bo(t);var i=mo(po.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(K(166));return null}if(e=mo(ho.current),No(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Oi]=t,r[Pi]=s,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(e=0;e<li.length;e++)fi(li[e],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":Ve(r,s),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fi("invalid",r);break;case"textarea":We(r,s),fi("invalid",r)}for(var o in ut(n,s),e=null,s)s.hasOwnProperty(o)&&(i=s[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):W.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&fi("scroll",r));switch(n){case"input":Pe(r),Be(r,s,!0);break;case"textarea":Pe(r),Qe(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Si)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,e===Xe&&(e=Je(n)),e===Xe?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Oi]=t,e[Pi]=r,Da(e,t),t.stateNode=e,o=ct(n,r),n){case"dialog":fi("cancel",e),fi("close",e),i=r;break;case"iframe":case"object":case"embed":fi("load",e),i=r;break;case"video":case"audio":for(i=0;i<li.length;i++)fi(li[i],e);i=r;break;case"source":fi("error",e),i=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),i=r;break;case"details":fi("toggle",e),i=r;break;case"input":Ve(e,r),i=Ue(e,r),fi("invalid",e);break;case"option":i=$e(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),fi("invalid",e);break;case"textarea":We(e,r),i=He(e,r),fi("invalid",e);break;default:i=r}ut(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?at(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&nt(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&rt(e,l):"number"==typeof l&&rt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(W.hasOwnProperty(s)?null!=l&&"onScroll"===s&&fi("scroll",e):null!=l&&se(e,s,l,o))}switch(n){case"input":Pe(e),Be(e,r,!1);break;case"textarea":Pe(e),Qe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Le(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Ke(e,!!r.multiple,s,!1):null!=r.defaultValue&&Ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Si)}xi(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ra(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(K(166));n=mo(po.current),mo(ho.current),No(t)?(r=t.stateNode,n=t.memoizedProps,r[Oi]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Oi]=t,t.stateNode=r)}return null;case 13:return Hi(wo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&No(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&wo.current)?0===wl&&(wl=3):(0!==wl&&3!==wl||(wl=4),null===ml||0==(134217727&kl)&&0==(134217727&Tl)||eu(ml,yl))),(r||n)&&(t.flags|=4),null);case 4:return yo(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return Vs(t),null;case 17:return Zi(t.type)&&es(),null;case 19:if(Hi(wo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(o=r.rendering))if(s)Ba(r,!1);else{if(0!==wl||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Eo(e))){for(t.flags|=64,Ba(r,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wi(wo,1&wo.current|2),t.child}e=e.sibling}null!==r.tail&&xs()>_l&&(t.flags|=64,s=!0,Ba(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Eo(o))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ba(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!To)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*xs()-r.renderingStartTime>_l&&1073741824!==n&&(t.flags|=64,s=!0,Ba(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=xs(),n.sibling=null,t=wo.current,Wi(wo,s?1&t|2:1&t),n):null;case 23:case 24:return su(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(K(156,t.tag))}function $a(e){switch(e.tag){case 1:Zi(e.type)&&es();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(yo(),Hi(Xi),Hi(Qi),Ro(),0!=(64&(t=e.flags)))throw Error(K(285));return e.flags=-4097&t|64,e;case 5:return bo(e),null;case 13:return Hi(wo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Hi(wo),null;case 4:return yo(),null;case 10:return Vs(e),null;case 23:case 24:return su(),null;default:return null}}function Ka(e,t){try{var n="",r=t;do{n+=Ae(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Ha(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mo(ho.current);var s,o=null;switch(n){case"input":i=Ue(e,i),r=Ue(e,r),o=[];break;case"option":i=$e(e,i),r=$e(e,r),o=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),o=[];break;case"textarea":i=He(e,i),r=He(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Si)}for(u in ut(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(W.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(W.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&fi("scroll",e),o||a===l||(o=[])):"object"==typeof l&&null!==l&&l.$$typeof===we?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa="function"==typeof WeakMap?WeakMap:Map;function Ga(e,t,n){(n=Hs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Ll=r),Ha(0,t)},n}function Qa(e,t,n){(n=Hs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ha(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ol?Ol=new Set([this]):Ol.add(this),Ha(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Xa="function"==typeof WeakSet?WeakSet:Set;function Ya(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Su(e,t)}else t.current=null}function Ja(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ls(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ni(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(K(163))}function Za(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bu(n,e),vu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ls(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Xs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&xi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ln(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(K(163))}function el(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ot("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tl(e,t){if(os&&"function"==typeof os.onCommitFiberUnmount)try{os.onCommitFiberUnmount(ss,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bu(t,n);else{r=t;try{i()}catch(e){Su(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Ya(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Su(t,e)}break;case 5:Ya(t);break;case 4:al(e,t)}}function nl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:{for(var t=e.return;null!==t;){if(rl(t))break e;t=t.return}throw Error(K(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(K(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||rl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?sl(e,n,t):ol(e,n,t)}function sl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Si));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function al(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(K(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var o=e,a=i,l=a;;)if(tl(o,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===a)break e;for(;null===l.sibling;){if(null===l.return||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(o=n,a=i.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(tl(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function ll(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Pi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&je(n,r),ct(e,i),t=ct(e,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];"style"===o?at(n,a):"dangerouslySetInnerHTML"===o?nt(n,a):"children"===o?rt(n,a):se(n,o,a,t)}switch(e){case"input":ze(n,r);break;case"textarea":Ge(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?Ke(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ke(n,!!r.multiple,r.defaultValue,!0):Ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(K(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,ln(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Cl=xs(),el(t.child,!0)),void ul(t);case 19:return void ul(t);case 17:return;case 23:case 24:return void el(t,null!==t.memoizedState)}throw Error(K(163))}function ul(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function cl(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var hl=Math.ceil,fl=oe.ReactCurrentDispatcher,dl=oe.ReactCurrentOwner,pl=0,ml=null,gl=null,yl=0,vl=0,bl=Ki(0),wl=0,El=null,Sl=0,kl=0,Tl=0,xl=0,Il=null,Cl=0,_l=1/0;function Nl(){_l=xs()+500}var Dl,Al=null,Rl=!1,Ll=null,Ol=null,Pl=!1,Ml=null,Fl=90,Ul=[],Vl=[],jl=null,zl=0,Bl=null,ql=-1,$l=0,Kl=0,Hl=null,Wl=!1;function Gl(){return 0!=(48&pl)?xs():-1!==ql?ql:ql=xs()}function Ql(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Is()?1:2;if(0===$l&&($l=Sl),0!==Rs.transition){0!==Kl&&(Kl=null!==Il?Il.pendingLanes:0),e=$l;var t=4186112&~Kl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Is(),0!=(4&pl)&&98===e?e=In(12,$l):e=In(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),$l),e}function Xl(e,t,n){if(50<zl)throw zl=0,Bl=null,Error(K(185));if(null===(e=Yl(e,t)))return null;Nn(e,t,n),e===ml&&(Tl|=t,4===wl&&eu(e,yl));var r=Is();1===t?0!=(8&pl)&&0==(48&pl)?tu(e):(Jl(e,n),0===pl&&(Nl(),Ds())):(0==(4&pl)||98!==r&&99!==r||(null===jl?jl=new Set([e]):jl.add(e)),Jl(e,n)),Il=e}function Yl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Jl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Dn(o),l=1<<a,u=s[a];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,kn(l);var c=Sn;s[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);o&=~l}if(r=Tn(e,e===ml?yl:0),t=Sn,0===r)null!==n&&(n!==bs&&us(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==bs&&us(n)}15===t?(n=tu.bind(null,e),null===Es?(Es=[n],Ss=ls(ps,As)):Es.push(n),n=bs):14===t?n=Ns(99,tu.bind(null,e)):n=Ns(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(K(358,e))}}(t),Zl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zl(e){if(ql=-1,Kl=$l=0,0!=(48&pl))throw Error(K(327));var t=e.callbackNode;if(yu()&&e.callbackNode!==t)return null;var n=Tn(e,e===ml?yl:0);if(0===n)return null;var r=n,i=pl;pl|=16;var s=lu();for(ml===e&&yl===r||(Nl(),ou(e,r));;)try{hu();break}catch(t){au(e,t)}if(Us(),fl.current=s,pl=i,null!==gl?r=0:(ml=null,yl=0,r=wl),0!=(Sl&Tl))ou(e,0);else if(0!==r){if(2===r&&(pl|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(n=xn(e))&&(r=uu(e,n))),1===r)throw t=El,ou(e,0),eu(e,n),Jl(e,xs()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(K(345));case 2:pu(e);break;case 3:if(eu(e,n),(62914560&n)===n&&10<(r=Cl+500-xs())){if(0!==Tn(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Gl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ci(pu.bind(null,e),r);break}pu(e);break;case 4:if(eu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Dn(n);s=1<<o,(o=r[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=xs()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hl(n/1960))-n)){e.timeoutHandle=Ci(pu.bind(null,e),n);break}pu(e);break;case 5:pu(e);break;default:throw Error(K(329))}}return Jl(e,xs()),e.callbackNode===t?Zl.bind(null,e):null}function eu(e,t){for(t&=~xl,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if(0!=(48&pl))throw Error(K(327));if(yu(),e===ml&&0!=(e.expiredLanes&yl)){var t=yl,n=uu(e,t);0!=(Sl&Tl)&&(n=uu(e,t=Tn(e,t)))}else n=uu(e,t=Tn(e,0));if(0!==e.tag&&2===n&&(pl|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(t=xn(e))&&(n=uu(e,t))),1===n)throw n=El,ou(e,0),eu(e,t),Jl(e,xs()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,pu(e),Jl(e,xs()),null}function nu(e,t){var n=pl;pl|=1;try{return e(t)}finally{0===(pl=n)&&(Nl(),Ds())}}function ru(e,t){var n=pl;pl&=-2,pl|=8;try{return e(t)}finally{0===(pl=n)&&(Nl(),Ds())}}function iu(e,t){Wi(bl,vl),vl|=t,Sl|=t}function su(){vl=bl.current,Hi(bl)}function ou(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_i(n)),null!==gl)for(n=gl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&es();break;case 3:yo(),Hi(Xi),Hi(Qi),Ro();break;case 5:bo(r);break;case 4:yo();break;case 13:case 19:Hi(wo);break;case 10:Vs(r);break;case 23:case 24:su()}n=n.return}ml=e,gl=_u(e.current,null),yl=vl=Sl=t,wl=0,El=null,xl=Tl=kl=0}function au(e,t){for(;;){var n=gl;try{if(Us(),Lo.current=pa,Vo){for(var r=Mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Vo=!1}if(Po=0,Uo=Fo=Mo=null,jo=!1,dl.current=null,null===n||null===n.return){wl=1,El=t,gl=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=yl,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&wo.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(u),f.updateQueue=y}else g.add(u);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Hs(-1,1);v.tag=2,Ws(a,v)}a.lanes|=1;break e}l=void 0,a=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new Wa,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(a)){l.add(a);var w=ku.bind(null,s,u,a);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((Re(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wl&&(wl=2),l=Ka(l,a),f=o;do{switch(f.tag){case 3:s=l,f.flags|=4096,t&=-t,f.lanes|=t,Gs(f,Ga(0,s,t));break e;case 1:s=l;var E=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ol||!Ol.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,Gs(f,Qa(f,s,t));break e}}f=f.return}while(null!==f)}du(n)}catch(e){t=e,gl===n&&null!==n&&(gl=n=n.return);continue}break}}function lu(){var e=fl.current;return fl.current=pa,null===e?pa:e}function uu(e,t){var n=pl;pl|=16;var r=lu();for(ml===e&&yl===t||ou(e,t);;)try{cu();break}catch(t){au(e,t)}if(Us(),pl=n,fl.current=r,null!==gl)throw Error(K(261));return ml=null,yl=0,wl}function cu(){for(;null!==gl;)fu(gl)}function hu(){for(;null!==gl&&!cs();)fu(gl)}function fu(e){var t=Dl(e.alternate,e,vl);e.memoizedProps=e.pendingProps,null===t?du(e):gl=t,dl.current=null}function du(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=qa(n,t,vl)))return void(gl=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&vl)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=$a(t)))return n.flags&=2047,void(gl=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===wl&&(wl=5)}function pu(e){var t=Is();return _s(99,mu.bind(null,e,t)),null}function mu(e,t){do{yu()}while(null!==Ml);if(0!=(48&pl))throw Error(K(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,a=e.expirationTimes;0<s;){var l=31-Dn(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(null!==jl&&0==(24&r)&&jl.has(e)&&jl.delete(e),e===ml&&(gl=ml=null,yl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=pl,pl|=32,dl.current=null,ki=Pn,Zr(o=Jr())){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&0!==u.rangeCount){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch(e){a=null;break e}var c=0,h=-1,f=-1,d=0,p=0,m=o,g=null;t:for(;;){for(var y;m!==a||0!==s&&3!==m.nodeType||(h=c+s),m!==l||0!==u&&3!==m.nodeType||(f=c+u),3===m.nodeType&&(c+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===o)break t;if(g===a&&++d===s&&(h=c),g===l&&++p===u&&(f=c),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}a=-1===h||-1===f?null:{start:h,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;Ti={focusedElem:o,selectionRange:a},Pn=!1,Hl=null,Wl=!1,Al=r;do{try{gu()}catch(e){if(null===Al)throw Error(K(330));Su(Al,e),Al=Al.nextEffect}}while(null!==Al);Hl=null,Al=r;do{try{for(o=e;null!==Al;){var v=Al.flags;if(16&v&&rt(Al.stateNode,""),128&v){var b=Al.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&v){case 2:il(Al),Al.flags&=-3;break;case 6:il(Al),Al.flags&=-3,ll(Al.alternate,Al);break;case 1024:Al.flags&=-1025;break;case 1028:Al.flags&=-1025,ll(Al.alternate,Al);break;case 4:ll(Al.alternate,Al);break;case 8:al(o,a=Al);var E=a.alternate;nl(a),null!==E&&nl(E)}Al=Al.nextEffect}}catch(e){if(null===Al)throw Error(K(330));Su(Al,e),Al=Al.nextEffect}}while(null!==Al);if(w=Ti,b=Jr(),v=w.focusedElem,o=w.selectionRange,b!==v&&v&&v.ownerDocument&&Yr(v.ownerDocument.documentElement,v)){null!==o&&Zr(v)&&(b=o.start,void 0===(w=o.end)&&(w=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(w,v.value.length)):(w=(b=v.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),a=v.textContent.length,E=Math.min(o.start,a),o=void 0===o.end?E:Math.min(o.end,a),!w.extend&&E>o&&(a=o,o=E,E=a),a=Xr(v,E),s=Xr(v,o),a&&s&&(1!==w.rangeCount||w.anchorNode!==a.node||w.anchorOffset!==a.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((b=b.createRange()).setStart(a.node,a.offset),w.removeAllRanges(),E>o?(w.addRange(b),w.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),w.addRange(b))))),b=[];for(w=v;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<b.length;v++)(w=b[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Pn=!!ki,Ti=ki=null,e.current=n,Al=r;do{try{for(v=e;null!==Al;){var S=Al.flags;if(36&S&&Za(v,Al.alternate,Al),128&S){b=void 0;var k=Al.ref;if(null!==k){var T=Al.stateNode;switch(Al.tag){case 5:b=T;break;default:b=T}"function"==typeof k?k(b):k.current=b}}Al=Al.nextEffect}}catch(e){if(null===Al)throw Error(K(330));Su(Al,e),Al=Al.nextEffect}}while(null!==Al);Al=null,ws(),pl=i}else e.current=n;if(Pl)Pl=!1,Ml=e,Fl=t;else for(Al=r;null!==Al;)t=Al.nextEffect,Al.nextEffect=null,8&Al.flags&&((S=Al).sibling=null,S.stateNode=null),Al=t;if(0===(r=e.pendingLanes)&&(Ol=null),1===r?e===Bl?zl++:(zl=0,Bl=e):zl=0,n=n.stateNode,os&&"function"==typeof os.onCommitFiberRoot)try{os.onCommitFiberRoot(ss,n,void 0,64==(64&n.current.flags))}catch(e){}if(Jl(e,xs()),Rl)throw Rl=!1,e=Ll,Ll=null,e;return 0!=(8&pl)||Ds(),null}function gu(){for(;null!==Al;){var e=Al.alternate;Wl||null===Hl||(0!=(8&Al.flags)?Vt(Al,Hl)&&(Wl=!0):13===Al.tag&&cl(e,Al)&&Vt(Al,Hl)&&(Wl=!0));var t=Al.flags;0!=(256&t)&&Ja(e,Al),0==(512&t)||Pl||(Pl=!0,Ns(97,(function(){return yu(),null}))),Al=Al.nextEffect}}function yu(){if(90!==Fl){var e=97<Fl?97:Fl;return Fl=90,_s(e,wu)}return!1}function vu(e,t){Ul.push(t,e),Pl||(Pl=!0,Ns(97,(function(){return yu(),null})))}function bu(e,t){Vl.push(t,e),Pl||(Pl=!0,Ns(97,(function(){return yu(),null})))}function wu(){if(null===Ml)return!1;var e=Ml;if(Ml=null,0!=(48&pl))throw Error(K(331));var t=pl;pl|=32;var n=Vl;Vl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(e){if(null===s)throw Error(K(330));Su(s,e)}}for(n=Ul,Ul=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(e){if(null===s)throw Error(K(330));Su(s,e)}}for(a=e.current.firstEffect;null!==a;)e=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=e;return pl=t,Ds(),!0}function Eu(e,t,n){Ws(e,t=Ga(0,t=Ka(n,t),1)),t=Gl(),null!==(e=Yl(e,1))&&(Nn(e,1,t),Jl(e,t))}function Su(e,t){if(3===e.tag)Eu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Eu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ol||!Ol.has(r))){var i=Qa(n,e=Ka(t,e),1);if(Ws(n,i),i=Gl(),null!==(n=Yl(n,1)))Nn(n,1,i),Jl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ol||!Ol.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Gl(),e.pingedLanes|=e.suspendedLanes&n,ml===e&&(yl&n)===n&&(4===wl||3===wl&&(62914560&yl)===yl&&500>xs()-Cl?ou(e,0):xl|=n),Jl(e,t)}function Tu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Is()?1:2:(0===$l&&($l=Sl),0===(t=Cn(62914560&~$l))&&(t=4194304))),n=Gl(),null!==(e=Yl(e,t))&&(Nn(e,t,n),Jl(e,n))}function xu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new xu(e,t,n,r)}function Cu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _u(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Cu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case ue:return Du(n.children,i,s,t);case Ee:o=8,i|=16;break;case ce:o=8,i|=1;break;case he:return(e=Iu(12,n,t,8|i)).elementType=he,e.type=he,e.lanes=s,e;case me:return(e=Iu(13,n,t,i)).type=me,e.elementType=me,e.lanes=s,e;case ge:return(e=Iu(19,n,t,i)).elementType=ge,e.lanes=s,e;case Se:return Au(n,i,s,t);case ke:return(e=Iu(24,n,t,i)).elementType=ke,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fe:o=10;break e;case de:o=9;break e;case pe:o=11;break e;case ye:o=14;break e;case ve:o=16,r=null;break e;case be:o=22;break e}throw Error(K(130,null==e?e:typeof e,""))}return(t=Iu(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Du(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=Iu(23,e,r,t)).elementType=Se,e.lanes=n,e}function Ru(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_n(0),this.expirationTimes=_n(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.mutableSourceEagerHydrationData=null}function Pu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:le,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mu(e,t,n,r){var i=t.current,s=Gl(),o=Ql(i);e:if(n){t:{if(Pt(n=n._reactInternals)!==n||1!==n.tag)throw Error(K(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Zi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(K(171))}if(1===n.tag){var l=n.type;if(Zi(l)){n=ns(n,l,a);break e}}n=a}else n=Gi;return null===t.context?t.context=n:t.pendingContext=n,(t=Hs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ws(i,t),Xl(i,o,s),o}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Uu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ou(e,t,null!=n&&!0===n.hydrate),t=Iu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,$s(t),e[Mi]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Fu(o);a.call(e)}}Mu(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ju(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Fu(o);l.call(e)}}ru((function(){Mu(t,o,e,i)}))}return Fu(o)}function qu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zu(t))throw Error(K(200));return Pu(e,t,null,n)}Dl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Xi.current)ba=!0;else{if(0==(n&r)){switch(ba=!1,t.tag){case 3:Na(t),Do();break;case 5:vo(t);break;case 1:Zi(t.type)&&rs(t);break;case 4:go(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Wi(Os,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Oa(e,t,n):(Wi(wo,1&wo.current),null!==(t=za(e,t,n))?t.sibling:null);Wi(wo,1&wo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wi(wo,wo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ta(e,t,n)}return za(e,t,n)}ba=0!=(16384&e.flags)}else ba=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ji(t,Qi.current),zs(t,n),i=qo(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var s=!0;rs(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&Js(t,r,o,e),i.updater=Zs,t.stateNode=i,i._reactInternals=t,ro(t,r,e,n),t=_a(null,t,r,!0,s,n)}else t.tag=0,wa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return Cu(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===ye)return 14}return 2}(i),e=Ls(i,e),s){case 0:t=Ia(null,t,i,e,n);break e;case 1:t=Ca(null,t,i,e,n);break e;case 11:t=Ea(null,t,i,e,n);break e;case 14:t=Sa(null,t,i,Ls(i.type,e),r,n);break e}throw Error(K(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Ls(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:Ls(r,i),n);case 3:if(Na(t),r=t.updateQueue,null===e||null===r)throw Error(K(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Ks(e,t),Qs(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=za(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(ko=Di(t.stateNode.containerInfo.firstChild),So=t,s=To=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ao.push(s);for(n=uo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else wa(e,t,r,n),Do();t=t.child}return t;case 5:return vo(t),null===e&&Co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,Ii(r,i)?o=null:null!==s&&Ii(r,s)&&(t.flags|=16),xa(e,t),wa(e,t,o,n),t.child;case 6:return null===e&&Co(t),null;case 13:return Oa(e,t,n);case 4:return go(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=lo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:Ls(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var a=t.type._context;if(Wi(Os,a._currentValue),a._currentValue=s,null!==o)if(a=o.value,0===(s=Hr(a,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,s):1073741823))){if(o.children===i.children&&!Xi.current){t=za(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&s)){1===a.tag&&((u=Hs(-1,n&-n)).tag=2,Ws(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),js(a.return,n),l.lanes|=n;break}u=u.next}}else o=10===a.tag&&a.type===t.type?null:a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,zs(t,n),r=r(i=Bs(i,s.unstable_observedBits)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=Ls(i=t.type,t.pendingProps),Sa(e,t,i,s=Ls(i.type,s),r,n);case 15:return ka(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ls(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,rs(t)):e=!1,zs(t,n),to(t,r,i),ro(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 23:case 24:return Ta(e,t,n)}throw Error(K(156,t.tag))},ju.prototype.render=function(e){Mu(e,this._internalRoot,null,null)},ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Mu(null,e,null,(function(){t[Mi]=null}))},jt=function(e){13===e.tag&&(Xl(e,4,Gl()),Vu(e,4))},zt=function(e){13===e.tag&&(Xl(e,67108864,Gl()),Vu(e,67108864))},Bt=function(e){if(13===e.tag){var t=Gl(),n=Ql(e);Xl(e,n,t),Vu(e,n)}},qt=function(e,t){return t()},ft=function(e,t,n){switch(t){case"input":if(ze(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zi(r);if(!i)throw Error(K(90));Me(r),ze(r,i)}}}break;case"textarea":Ge(e,n);break;case"select":null!=(t=n.value)&&Ke(e,!!n.multiple,t,!1)}},vt=nu,bt=function(e,t,n,r,i){var s=pl;pl|=4;try{return _s(98,e.bind(null,t,n,r,i))}finally{0===(pl=s)&&(Nl(),Ds())}},wt=function(){0==(49&pl)&&(function(){if(null!==jl){var e=jl;jl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Jl(e,xs())}))}Ds()}(),yu())},Et=function(e,t){var n=pl;pl|=2;try{return e(t)}finally{0===(pl=n)&&(Nl(),Ds())}};var $u={Events:[Vi,ji,zi,gt,yt,yu,{current:!1}]},Ku={findFiberByHostInstance:Ui,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hu={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ut(e))?null:e.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{ss=Wu.inject(Hu),os=Wu}catch(tt){}}V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,V.createPortal=qu,V.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(K(188));throw Error(K(268,Object.keys(e)))}return e=null===(e=Ut(t))?null:e.stateNode},V.flushSync=function(e,t){var n=pl;if(0!=(48&n))return e(t);pl|=1;try{if(e)return _s(99,e.bind(null,t))}finally{pl=n,Ds()}},V.hydrate=function(e,t,n){if(!zu(t))throw Error(K(200));return Bu(null,e,t,!0,n)},V.render=function(e,t,n){if(!zu(t))throw Error(K(200));return Bu(null,e,t,!1,n)},V.unmountComponentAtNode=function(e){if(!zu(e))throw Error(K(40));return!!e._reactRootContainer&&(ru((function(){Bu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mi]=null}))})),!0)},V.unstable_batchedUpdates=nu,V.unstable_createPortal=function(e,t){return qu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},V.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zu(n))throw Error(K(200));if(null==e||void 0===e._reactInternals)throw Error(K(38));return Bu(e,t,n,!1,r)},V.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),U.exports=V;var Gu=U.exports,Qu=function(e,t){return(Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Xu(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function Yu(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function Ju(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function ec(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}var tc=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function nc(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rc(){return!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ic=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,sc.prototype.create),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),sc=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?oc(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new ic(i,a,r);return l},e}();function oc(e,t){return e.replace(ac,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var ac=/\{\$([^}]+)}/g;function lc(e){return e&&e._delegate?e._delegate:e}var uc=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),cc=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new tc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}try{for(var r=Ju(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=Zu(i.value,2),o=s[0],a=s[1],l=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Xu(this,void 0,void 0,(function(){var e;return Yu(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(ec(ec([],Zu(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Zu(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var a=Ju(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var u=Zu(l.value,2),c=u[0],h=u[1];s===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=Ju(i),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var hc,fc,dc=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new cc(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function pc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fc||(fc={}));var mc={debug:fc.DEBUG,verbose:fc.VERBOSE,info:fc.INFO,warn:fc.WARN,error:fc.ERROR,silent:fc.SILENT},gc=fc.INFO,yc=((hc={})[fc.DEBUG]="log",hc[fc.VERBOSE]="log",hc[fc.INFO]="info",hc[fc.WARN]="warn",hc[fc.ERROR]="error",hc),vc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=yc[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,pc(["["+i+"]  "+e.name+":"],n))}},bc=function(){function e(e){this.name=e,this._logLevel=gc,this._logHandler=vc,this._userLogHandler=null}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in fc))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?mc[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,pc([this,fc.DEBUG],e)),this._logHandler.apply(this,pc([this,fc.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,pc([this,fc.VERBOSE],e)),this._logHandler.apply(this,pc([this,fc.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,pc([this,fc.INFO],e)),this._logHandler.apply(this,pc([this,fc.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,pc([this,fc.WARN],e)),this._logHandler.apply(this,pc([this,fc.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,pc([this,fc.ERROR],e)),this._logHandler.apply(this,pc([this,fc.ERROR],e))},e}();class wc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ec=new bc("@firebase/app"),Sc={"@firebase/app-exp":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics-exp":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check-exp":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth-exp":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions-exp":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations-exp":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging-exp":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance-exp":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config-exp":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js","firebase-exp":"fire-js-all"},kc=new Map,Tc=new Map;function xc(e,t){try{e.container.addComponent(t)}catch(n){Ec.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ic(e){const t=e.name;if(Tc.has(t))return Ec.debug(`There were multiple attempts to register component ${t}.`),!1;Tc.set(t,e);for(const t of kc.values())xc(t,e);return!0}const Cc=new sc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _c{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uc("app-exp",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cc.create("app-deleted",{appName:this._name})}}function Nc(e,t,n){var r;let i=null!==(r=Sc[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ec.warn(e.join(" "))}Ic(new uc(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}var Dc;Ic(new uc("platform-logger",(e=>new wc(e)),"PRIVATE")),Nc("@firebase/app-exp","0.0.900-exp.6ef484a04",Dc),Nc("fire-js","");var Ac=function(e,t){return(Ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Rc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Lc,Oc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pc=Pc||{},Mc=Oc||self;function Fc(){}function Uc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jc="closure_uid_"+(1e9*Math.random()>>>0),zc=0;function Bc(e,t,n){return e.call.apply(e.bind,arguments)}function qc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $c(e,t,n){return($c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bc:qc).apply(null,arguments)}function Kc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Wc(){this.s=this.s,this.o=this.o}var Gc={};Wc.prototype.s=!1,Wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jc)&&e[jc]||(e[jc]=++zc)}(this);delete Gc[e]}},Wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Xc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Yc(e){return Array.prototype.concat.apply([],arguments)}function Jc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zc(e){return/^[\s\xa0]*$/.test(e)}var eh,th=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nh(e,t){return-1!=e.indexOf(t)}function rh(e,t){return e<t?-1:e>t?1:0}e:{var ih=Mc.navigator;if(ih){var sh=ih.userAgent;if(sh){eh=sh;break e}}eh=""}function oh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ah(e){var t={};for(var n in e)t[n]=e[n];return t}var lh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<lh.length;s++)n=lh[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ch(e){return ch[" "](e),e}ch[" "]=Fc;var hh,fh=nh(eh,"Opera"),dh=nh(eh,"Trident")||nh(eh,"MSIE"),ph=nh(eh,"Edge"),mh=ph||dh,gh=nh(eh,"Gecko")&&!(nh(eh.toLowerCase(),"webkit")&&!nh(eh,"Edge"))&&!(nh(eh,"Trident")||nh(eh,"MSIE"))&&!nh(eh,"Edge"),yh=nh(eh.toLowerCase(),"webkit")&&!nh(eh,"Edge");function vh(){var e=Mc.document;return e?e.documentMode:void 0}e:{var bh="",wh=function(){var e=eh;return gh?/rv:([^\);]+)(\)|;)/.exec(e):ph?/Edge\/([\d\.]+)/.exec(e):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yh?/WebKit\/(\S+)/.exec(e):fh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wh&&(bh=wh?wh[1]:""),dh){var Eh=vh();if(null!=Eh&&Eh>parseFloat(bh)){hh=String(Eh);break e}}hh=bh}var Sh,kh={};function Th(){return function(e){var t=kh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=th(String(hh)).split("."),n=th("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=rh(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||rh(0==s[2].length,0==o[2].length)||rh(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}))}if(Mc.document&&dh){var xh=vh();Sh=xh||(parseInt(hh,10)||void 0)}else Sh=void 0;var Ih=Sh,Ch=function(){if(!Mc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mc.addEventListener("test",Fc,t),Mc.removeEventListener("test",Fc,t)}catch(e){}return e}();function _h(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Nh(e,t){if(_h.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gh){e:{try{ch(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Dh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Nh.Z.h.call(this)}}_h.prototype.h=function(){this.defaultPrevented=!0},Hc(Nh,_h);var Dh={2:"touch",3:"pen",4:"mouse"};Nh.prototype.h=function(){Nh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),Rh=0;function Lh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Rh,this.ca=this.fa=!1}function Oh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ph(e){this.src=e,this.g={},this.h=0}function Mh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Qc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Oh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ph.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Fh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Lh(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Uh="closure_lm_"+(1e6*Math.random()|0),Vh={};function jh(e,t,n,r,i){if(r&&r.once)return Bh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)jh(e,t[s],n,r,i);return null}return n=Qh(n),e&&e[Ah]?e.N(t,n,Vc(r)?!!r.capture:!!r,i):zh(e,t,n,!1,r,i)}function zh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Vc(i)?!!i.capture:!!i,a=Wh(e);if(a||(e[Uh]=a=new Ph(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Hh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ch||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Kh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Bh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Bh(e,t[s],n,r,i);return null}return n=Qh(n),e&&e[Ah]?e.O(t,n,Vc(r)?!!r.capture:!!r,i):zh(e,t,n,!0,r,i)}function qh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)qh(e,t[s],n,r,i);else r=Vc(r)?!!r.capture:!!r,n=Qh(n),e&&e[Ah]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fh(s=e.g[t],n,r,i))&&(Oh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Wh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fh(t,n,r,i)),(n=-1<e?t[e]:null)&&$h(n))}function $h(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ah])Mh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Kh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wh(t))?(Mh(n,e),0==n.h&&(n.src=null,t[Uh]=null)):Oh(e)}}}function Kh(e){return e in Vh?Vh[e]:Vh[e]="on"+e}function Hh(e,t){if(e.ca)e=!0;else{t=new Nh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$h(e),e=n.call(r,t)}return e}function Wh(e){return(e=e[Uh])instanceof Ph?e:null}var Gh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qh(e){return"function"==typeof e?e:(e[Gh]||(e[Gh]=function(t){return e.handleEvent(t)}),e[Gh])}function Xh(){Wc.call(this),this.i=new Ph(this),this.P=this,this.I=null}function Yh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new _h(t,e);else if(t instanceof _h)t.target=t.target||e;else{var i=t;uh(t=new _h(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Jh(o,r,!0,t)&&i}if(i=Jh(o=t.g=e,r,!0,t)&&i,i=Jh(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Jh(o=t.g=n[s],r,!1,t)&&i}function Jh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Mh(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Hc(Xh,Wc),Xh.prototype[Ah]=!0,Xh.prototype.removeEventListener=function(e,t,n,r){qh(this,e,t,n,r)},Xh.prototype.M=function(){if(Xh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oh(n[r]);delete t.g[e],t.h--}}this.I=null},Xh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zh=Mc.JSON.stringify;function ef(){var e=uf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tf,nf=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=rf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),rf=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new sf}),(function(e){return e.reset()})),sf=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function of(e){Mc.setTimeout((function(){throw e}),0)}function af(e,t){tf||function(){var e=Mc.Promise.resolve(void 0);tf=function(){e.then(cf)}}(),lf||(tf(),lf=!0),uf.add(e,t)}var lf=!1,uf=new nf;function cf(){for(var e;e=ef();){try{e.h.call(e.g)}catch(e){of(e)}var t=rf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lf=!1}function hf(e,t){Xh.call(this),this.h=e||1,this.g=t||Mc,this.j=$c(this.kb,this),this.l=Date.now()}function ff(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function df(e,t,n){if("function"==typeof e)n&&(e=$c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$c(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mc.setTimeout(e,t||0)}function pf(e){e.g=df((function(){e.g=null,e.i&&(e.i=!1,pf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Hc(hf,Xh),(Lc=hf.prototype).da=!1,Lc.S=null,Lc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yh(this,"tick"),this.da&&(ff(this),this.start()))}},Lc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lc.M=function(){hf.Z.M.call(this),ff(this),delete this.g};var mf=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ac(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:pf(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Mc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Wc);function gf(e){Wc.call(this),this.h=e,this.g={}}Hc(gf,Wc);var yf=[];function vf(e,t,n,r){Array.isArray(n)||(n&&(yf[0]=n.toString()),n=yf);for(var i=0;i<n.length;i++){var s=jh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function bf(e){oh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$h(e)}),e),e.g={}}function wf(){this.g=!0}function Ef(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Zh(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}gf.prototype.M=function(){gf.Z.M.call(this),bf(this)},gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wf.prototype.Aa=function(){this.g=!1},wf.prototype.info=function(){};var Sf={},kf=null;function Tf(){return kf=kf||new Xh}function xf(e){_h.call(this,Sf.Ma,e)}function If(e){var t=Tf();Yh(t,new xf(t,e))}function Cf(e,t){_h.call(this,Sf.STAT_EVENT,e),this.stat=t}function _f(e){var t=Tf();Yh(t,new Cf(t,e))}function Nf(e,t){_h.call(this,Sf.Na,e),this.size=t}function Df(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Mc.setTimeout((function(){e()}),t)}Sf.Ma="serverreachability",Hc(xf,_h),Sf.STAT_EVENT="statevent",Hc(Cf,_h),Sf.Na="timingevent",Hc(Nf,_h);var Af={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lf(){}function Of(e){return e.h||(e.h=e.i())}function Pf(){}Lf.prototype.h=null;var Mf,Ff={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uf(){_h.call(this,"d")}function Vf(){_h.call(this,"c")}function jf(){}function zf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new gf(this),this.P=qf,e=mh?125:void 0,this.W=new hf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bf}function Bf(){this.i=null,this.g="",this.h=!1}Hc(Uf,_h),Hc(Vf,_h),Hc(jf,Lf),jf.prototype.g=function(){return new XMLHttpRequest},jf.prototype.i=function(){return{}},Mf=new jf;var qf=45e3,$f={},Kf={};function Hf(e,t,n){e.K=1,e.v=md(ud(t)),e.s=n,e.U=!0,Wf(e,null)}function Wf(e,t){e.F=Date.now(),Yf(e),e.A=ud(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),_d(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Bf,e.g=Np(e.l,n?t:null,!e.s),0<e.O&&(e.L=new mf($c(e.Ia,e,e.g),e.O)),vf(e.V,e.g,"readystatechange",e.gb),t=e.H?ah(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),If(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Gf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Qf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Xf(e,n))==Kf){4==t&&(e.o=4,_f(14),i=!1),Ef(e.j,e.m,null,"[Incomplete Response]");break}if(r==$f){e.o=4,_f(15),Ef(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ef(e.j,e.m,r,null),nd(e,r)}Gf(e)&&r!=Kf&&r!=$f&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_f(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ep(t),t.L=!0,_f(11))):(Ef(e.j,e.m,n,"[Invalid Chunked Response]"),td(e),ed(e))}function Xf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kf:(n=Number(t.substring(n,r)),isNaN(n)?$f:(r+=1)+n>t.length?Kf:(t=t.substr(r,n),e.C=r+n,t))}function Yf(e){e.Y=Date.now()+e.P,Jf(e,e.P)}function Jf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Df($c(e.eb,e),t)}function Zf(e){e.B&&(Mc.clearTimeout(e.B),e.B=null)}function ed(e){0==e.l.G||e.I||Tp(e.l,e)}function td(e){Zf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ff(e.W),bf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function nd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Pd(n.i,e)))if(n.I=e.N,!e.J&&Pd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;kp(n),fp(n)}wp(n),_f(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Df($c(n.ab,n),6e3));if(1>=Od(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Ip(n,11)}else if((e.J||n.g==e)&&kp(n),!Zc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=s[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(nh(c,"spdy")||nh(c,"quic")||nh(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Md(h,h.h),h.h=null))}if(r.D){var f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,pd(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=_p(r,r.H?r.la:null,r.W),d.J){Fd(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Zf(p),Yf(p)),r.g=d}else bp(r);0<n.l.length&&mp(n)}else"stop"!=s[0]&&"close"!=s[0]||Ip(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Ip(n,7):hp(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}If(4)}catch(s){}}function rd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Uc(e)||"string"==typeof e)Xc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Uc(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Uc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function id(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof id)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function sd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];od(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)od(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function od(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Lc=zf.prototype).setTimeout=function(e){this.P=e},Lc.gb=function(e){e=e.target;var t=this.L;t&&3==op(e)?t.l():this.Ia(e)},Lc.Ia=function(e){try{if(e==this.g)e:{var t=op(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||mh||this.g&&(this.h.h||this.g.ga()||ap(this.g)))){this.I||4!=t||7==n||If(8==n||0>=r?3:2),Zf(this);var i=this.g.ba();this.N=i;t:if(Gf(this)){var s=ap(this.g);e="";var o=s.length,a=4==op(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){td(this),ed(this);var l="";break t}this.h.i=new Mc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zc(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,_f(12),td(this),ed(this);break e}Ef(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nd(this,i)}this.U?(Qf(this,t,l),mh&&this.i&&3==t&&(vf(this.V,this.W,"tick",this.fb),this.W.start())):(Ef(this.j,this.m,l,null),nd(this,l)),4==t&&td(this),this.i&&!this.I&&(4==t?Tp(this.l,this):(this.i=!1,Yf(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,_f(12)):(this.o=0,_f(13)),td(this),ed(this)}}}catch(t){}},Lc.fb=function(){if(this.g){var e=op(this.g),t=this.g.ga();this.C<t.length&&(Zf(this),Qf(this,e,t),this.i&&4!=e&&Yf(this))}},Lc.cancel=function(){this.I=!0,td(this)},Lc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(If(3),_f(17)),td(this),this.o=2,ed(this)):Jf(this,this.Y-e)},(Lc=id.prototype).R=function(){sd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Lc.T=function(){return sd(this),this.g.concat()},Lc.get=function(e,t){return od(this.h,e)?this.h[e]:t},Lc.set=function(e,t){od(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Lc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var ad=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ld(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ld){this.g=void 0!==t?t:e.g,cd(this,e.j),this.s=e.s,hd(this,e.i),fd(this,e.m),this.l=e.l,t=e.h;var n=new Td;n.i=t.i,t.g&&(n.g=new id(t.g),n.h=t.h),dd(this,n),this.o=e.o}else e&&(n=String(e).match(ad))?(this.g=!!t,cd(this,n[1]||"",!0),this.s=gd(n[2]||""),hd(this,n[3]||"",!0),fd(this,n[4]),this.l=gd(n[5]||"",!0),dd(this,n[6]||"",!0),this.o=gd(n[7]||"")):(this.g=!!t,this.h=new Td(null,this.g))}function ud(e){return new ld(e)}function cd(e,t,n){e.j=n?gd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hd(e,t,n){e.i=n?gd(t,!0):t}function fd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dd(e,t,n){t instanceof Td?(e.h=t,function(e,t){t&&!e.j&&(xd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Id(this,t),_d(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=yd(t,Sd)),e.h=new Td(t,e.g))}function pd(e,t,n){e.h.set(t,n)}function md(e){return pd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yd(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,vd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ld.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yd(t,bd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yd(t,bd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(yd(n,"/"==n.charAt(0)?Ed:wd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yd(n,kd)),e.join("")};var bd=/[#\/\?@]/g,wd=/[#\?:]/g,Ed=/[#\?]/g,Sd=/[#\?@]/g,kd=/#/g;function Td(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xd(e){e.g||(e.g=new id,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Id(e,t){xd(e),t=Nd(e,t),od(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,od((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sd(e)))}function Cd(e,t){return xd(e),t=Nd(e,t),od(e.g.h,t)}function _d(e,t,n){Id(e,t),0<n.length&&(e.i=null,e.g.set(Nd(e,t),Jc(n)),e.h+=n.length)}function Nd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lc=Td.prototype).add=function(e,t){xd(this),this.i=null,e=Nd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lc.forEach=function(e,t){xd(this),this.g.forEach((function(n,r){Xc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Lc.T=function(){xd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Lc.R=function(e){xd(this);var t=[];if("string"==typeof e)Cd(this,e)&&(t=Yc(t,this.g.get(Nd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yc(t,e[n])}return t},Lc.set=function(e,t){return xd(this),this.i=null,Cd(this,e=Nd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Lc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Dd=function(e,t){this.h=e,this.g=t};function Ad(e){this.l=e||Rd,Mc.PerformanceNavigationTiming?e=0<(e=Mc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mc.g&&Mc.g.Ea&&Mc.g.Ea()&&Mc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rd=10;function Ld(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Od(e){return e.h?1:e.g?e.g.size:0}function Pd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Md(e,t){e.g?e.g.add(t):e.h=t}function Fd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ud(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Rc(e.g.values()),s=i.next();!s.done;s=i.next()){var o=s.value;r=r.concat(o.D)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Jc(e.i)}function Vd(){}function jd(){this.g=new Vd}function zd(e,t,n){var r=n||"";try{rd(e,(function(e,n){var i=e;Vc(e)&&(i=Zh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Bd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function qd(e){this.l=e.$b||null,this.j=e.ib||!1}function $d(e,t){Xh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ad.prototype.cancel=function(){var e,t;if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Rc(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Vd.prototype.stringify=function(e){return Mc.JSON.stringify(e,void 0)},Vd.prototype.parse=function(e){return Mc.JSON.parse(e,void 0)},Hc(qd,Lf),qd.prototype.g=function(){return new $d(this.l,this.j)},qd.prototype.i=function(e){return function(){return e}}({}),Hc($d,Xh);var Kd=0;function Hd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gd(e)}function Gd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lc=$d.prototype).open=function(e,t){if(this.readyState!=Kd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gd(this)},Lc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Mc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Lc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wd(this)),this.readyState=Kd},Lc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gd(this)),this.g&&(this.readyState=3,Gd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Lc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wd(this):Gd(this),3==this.readyState&&Hd(this)}},Lc.Ua=function(e){this.g&&(this.response=this.responseText=e,Wd(this))},Lc.Ta=function(e){this.g&&(this.response=e,Wd(this))},Lc.ha=function(){this.g&&Wd(this)},Lc.setRequestHeader=function(e,t){this.v.append(e,t)},Lc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($d.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qd=Mc.JSON.parse;function Xd(e){Xh.call(this),this.headers=new id,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yd,this.K=this.L=!1}Hc(Xd,Xh);var Yd="",Jd=/^https?$/i,Zd=["POST","PUT"];function ep(e){return"content-type"==e.toLowerCase()}function tp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,np(e),ip(e)}function np(e){e.D||(e.D=!0,Yh(e,"complete"),Yh(e,"error"))}function rp(e){if(e.h&&void 0!==Pc&&(!e.C[1]||4!=op(e)||2!=e.ba()))if(e.v&&4==op(e))df(e.Fa,0,e);else if(Yh(e,"readystatechange"),4==op(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(ad)[1]||null;if(!s&&Mc.self&&Mc.self.location){var o=Mc.self.location.protocol;s=o.substr(0,o.length-1)}i=!Jd.test(s?s.toLowerCase():"")}t=i}if(t)Yh(e,"complete"),Yh(e,"success");else{e.m=6;try{var a=2<op(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",np(e)}}finally{ip(e)}}}function ip(e,t){if(e.g){sp(e);var n=e.g,r=e.C[0]?Fc:null;e.g=null,e.C=null,t||Yh(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function sp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Mc.clearTimeout(e.A),e.A=null)}function op(e){return e.g?e.g.readyState:0}function ap(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function lp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return oh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):pd(e,t,n))}function up(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cp(e){this.za=0,this.l=[],this.h=new wf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=up("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=up("baseRetryDelayMs",5e3,e),this.$a=up("retryDelaySeedMs",1e4,e),this.Ya=up("forwardChannelMaxRetries",2,e),this.ra=up("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ad(e&&e.concurrentRequestLimit),this.Ca=new jd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function hp(e){if(dp(e),3==e.G){var t=e.V++,n=ud(e.F);pd(n,"SID",e.J),pd(n,"RID",t),pd(n,"TYPE","terminate"),yp(e,n),(t=new zf(e,e.h,t,void 0)).K=2,t.v=md(ud(n)),n=!1,Mc.navigator&&Mc.navigator.sendBeacon&&(n=Mc.navigator.sendBeacon(t.v.toString(),"")),!n&&Mc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Np(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yf(t)}Cp(e)}function fp(e){e.g&&(Ep(e),e.g.cancel(),e.g=null)}function dp(e){fp(e),e.u&&(Mc.clearTimeout(e.u),e.u=null),kp(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Mc.clearTimeout(e.m),e.m=null)}function pp(e,t){e.l.push(new Dd(e.Za++,t)),3==e.G&&mp(e)}function mp(e){Ld(e.i)||e.m||(e.m=!0,af(e.Ha,e),e.C=0)}function gp(e,t){var n;n=t?t.m:e.V++;var r=ud(e.F);pd(r,"SID",e.J),pd(r,"RID",n),pd(r,"AID",e.U),yp(e,r),e.o&&e.s&&lp(r,e.o,e.s),n=new zf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Md(e.i,n),Hf(n,r,t)}function yp(e,t){e.j&&rd({},(function(e,n){pd(t,n,e)}))}function vp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?$c(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=s))s=Math.max(0,i[l].h-100),a=!1;else try{zd(c,o,"req"+u+"_")}catch(e){r&&r(c)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bp(e){e.g||e.u||(e.Y=1,af(e.Ga,e),e.A=0)}function wp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Df($c(e.Ga,e),xp(e,e.A)),e.A++,!0)}function Ep(e){null!=e.B&&(Mc.clearTimeout(e.B),e.B=null)}function Sp(e){e.g=new zf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ud(e.oa);pd(t,"RID","rpc"),pd(t,"SID",e.J),pd(t,"CI",e.N?"0":"1"),pd(t,"AID",e.U),yp(e,t),pd(t,"TYPE","xmlhttp"),e.o&&e.s&&lp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=md(ud(t)),n.s=null,n.U=!0,Wf(n,e)}function kp(e){null!=e.v&&(Mc.clearTimeout(e.v),e.v=null)}function Tp(e,t){var n=null;if(e.g==t){kp(e),Ep(e),e.g=null;var r=2}else{if(!Pd(e.i,t))return;n=t.D,Fd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yh(r=Tf(),new Nf(r,n,t,i)),mp(e)}else bp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Od(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Df($c(e.Ha,e,t),xp(e,e.C)),e.C++,0)))}(e,t)||2==r&&wp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ip(e,5);break;case 4:Ip(e,10);break;case 3:Ip(e,6);break;default:Ip(e,2)}}function xp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ip(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=$c(e.jb,e);n||(n=new ld("//www.google.com/images/cleardot.gif"),Mc.location&&"http"==Mc.location.protocol||cd(n,"https"),md(n)),function(e,t){var n=new wf;if(Mc.Image){var r=new Image;r.onload=Kc(Bd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Kc(Bd,n,r,"TestLoadImage: error",!1,t),r.onabort=Kc(Bd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Kc(Bd,n,r,"TestLoadImage: timeout",!1,t),Mc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _f(2);e.G=0,e.j&&e.j.va(t),Cp(e),dp(e)}function Cp(e){e.G=0,e.I=-1,e.j&&(0==Ud(e.i).length&&0==e.l.length||(e.i.i.length=0,Jc(e.l),e.l.length=0),e.j.ua())}function _p(e,t,n){var r=function(e){return e instanceof ld?ud(e):new ld(e,void 0)}(n);if(""!=r.i)t&&hd(r,t+"."+r.i),fd(r,r.m);else{var i=Mc.location;r=function(e,t,n,r){var i=new ld(null,void 0);return e&&cd(i,e),t&&hd(i,t),n&&fd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&oh(e.aa,(function(e,t){pd(r,t,e)})),t=e.D,n=e.sa,t&&n&&pd(r,t,n),pd(r,"VER",e.ma),yp(e,r),r}function Np(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Xd(new qd({ib:!0})):new Xd(e.qa)).L=e.H,t}function Dp(){}function Ap(){if(dh&&!(10<=Number(Ih)))throw Error("Environmental error: no available transport.")}function Rp(e,t){Xh.call(this),this.g=new cp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pp(this)}function Lp(e){Uf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Op(){Vf.call(this),this.status=1}function Pp(e){this.g=e}(Lc=Xd.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mf.g(),this.C=this.u?Of(this.u):Of(Mf),this.g.onreadystatechange=$c(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void tp(this,e)}e=n||"";var i=new id(this.headers);r&&rd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ep,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Mc.FormData&&e instanceof Mc.FormData,!(0<=Qc(Zd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sp(this),0<this.B&&((this.K=function(e){return dh&&Th()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$c(this.pa,this)):this.A=df(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){tp(this,e)}},Lc.pa=function(){void 0!==Pc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yh(this,"timeout"),this.abort(8))},Lc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yh(this,"complete"),Yh(this,"abort"),ip(this))},Lc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ip(this,!0)),Xd.Z.M.call(this)},Lc.Fa=function(){this.s||(this.F||this.v||this.l?rp(this):this.cb())},Lc.cb=function(){rp(this)},Lc.ba=function(){try{return 2<op(this)?this.g.status:-1}catch(e){return-1}},Lc.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Lc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qd(t)}},Lc.Da=function(){return this.m},Lc.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Lc=cp.prototype).ma=8,Lc.G=1,Lc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Lc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new zf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?uh(n=ah(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vp(this,t,r),pd(i=ud(this.F),"RID",e),pd(i,"CVER",22),this.D&&pd(i,"X-HTTP-Session-Id",this.D),yp(this,i),this.o&&n&&lp(i,this.o,n),Md(this.i,t),this.Ra&&pd(i,"TYPE","init"),this.ja?(pd(i,"$req",r),pd(i,"SID","null"),t.$=!0,Hf(t,i,null)):Hf(t,i,r),this.G=2}}else 3==this.G&&(e?gp(this,e):0==this.l.length||Ld(this.i)||gp(this))},Lc.Ga=function(){if(this.u=null,Sp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Df($c(this.bb,this),e)}},Lc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_f(10),fp(this),Sp(this))},Lc.ab=function(){null!=this.v&&(this.v=null,fp(this),wp(this),_f(19))},Lc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_f(2)):(this.h.info("Failed to ping google.com"),_f(1))},(Lc=Dp.prototype).xa=function(){},Lc.wa=function(){},Lc.va=function(){},Lc.ua=function(){},Lc.Oa=function(){},Ap.prototype.g=function(e,t){return new Rp(e,t)},Hc(Rp,Xh),Rp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),af($c(e.hb,e,t))),_f(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_p(e,null,e.W),mp(e)},Rp.prototype.close=function(){hp(this.g)},Rp.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,pp(this.g,t)}else this.v?((t={}).__data__=Zh(e),pp(this.g,t)):pp(this.g,e)},Rp.prototype.M=function(){this.g.j=null,delete this.j,hp(this.g),delete this.g,Rp.Z.M.call(this)},Hc(Lp,Uf),Hc(Op,Vf),Hc(Pp,Dp),Pp.prototype.xa=function(){Yh(this.g,"a")},Pp.prototype.wa=function(e){Yh(this.g,new Lp(e))},Pp.prototype.va=function(e){Yh(this.g,new Op(e))},Pp.prototype.ua=function(){Yh(this.g,"b")},Ap.prototype.createWebChannel=Ap.prototype.g,Rp.prototype.send=Rp.prototype.u,Rp.prototype.open=Rp.prototype.m,Rp.prototype.close=Rp.prototype.close,Af.NO_ERROR=0,Af.TIMEOUT=8,Af.HTTP_ERROR=6,Rf.COMPLETE="complete",Pf.EventType=Ff,Ff.OPEN="a",Ff.CLOSE="b",Ff.ERROR="c",Ff.MESSAGE="d",Xh.prototype.listen=Xh.prototype.N,Xd.prototype.listenOnce=Xd.prototype.O,Xd.prototype.getLastError=Xd.prototype.La,Xd.prototype.getLastErrorCode=Xd.prototype.Da,Xd.prototype.getStatus=Xd.prototype.ba,Xd.prototype.getResponseJson=Xd.prototype.Qa,Xd.prototype.getResponseText=Xd.prototype.ga,Xd.prototype.send=Xd.prototype.ea;var Mp=Af,Fp=Rf,Up=Sf,Vp=10,jp=11,zp=qd,Bp=Pf,qp=Xd;let $p="8.7.1";class Kp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.t(e),this.i=e=>t.writeSequenceNumber(e))}t(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.i&&this.i(e),e}}Kp.o=-1;const Hp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wp extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}const Gp=new bc("@firebase/firestore");function Qp(){return Gp.logLevel}function Xp(e,...t){if(Gp.logLevel<=fc.DEBUG){const n=t.map(Zp);Gp.debug(`Firestore (${$p}): ${e}`,...n)}}function Yp(e,...t){if(Gp.logLevel<=fc.ERROR){const n=t.map(Zp);Gp.error(`Firestore (${$p}): ${e}`,...n)}}function Jp(e,...t){if(Gp.logLevel<=fc.WARN){const n=t.map(Zp);Gp.warn(`Firestore (${$p}): ${e}`,...n)}}function Zp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function em(e="Unexpected state"){const t=`FIRESTORE (${$p}) INTERNAL ASSERTION FAILED: `+e;throw Yp(t),new Error(t)}function tm(e,t){e||em()}function nm(e,t){return e}function rm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class im{static u(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=rm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function sm(e,t){return e<t?-1:e>t?1:0}function om(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function am(e){return e+"\0"}class lm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wp(Hp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wp(Hp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wp(Hp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wp(Hp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lm.fromMillis(Date.now())}static fromDate(e){return lm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new lm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sm(this.nanoseconds,e.nanoseconds):sm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class um{constructor(e){this.timestamp=e}static fromTimestamp(e){return new um(e)}static min(){return new um(new lm(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dm{constructor(e,t,n){void 0===t?t=0:t>e.length&&em(),void 0===n?n=e.length-t:n>e.length-t&&em(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===dm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pm extends dm{construct(e,t,n){return new pm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Wp(Hp.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new pm(t)}static emptyPath(){return new pm([])}}const mm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gm extends dm{construct(e,t,n){return new gm(e,t,n)}static isValidIdentifier(e){return mm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Wp(Hp.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wp(Hp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wp(Hp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Wp(Hp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gm(t)}static emptyPath(){return new gm([])}}class ym{constructor(e){this.fields=e,e.sort(gm.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return om(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class vm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vm(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vm.EMPTY_BYTE_STRING=new vm("");const bm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wm(e){if(tm(!!e),"string"==typeof e){let t=0;const n=bm.exec(e);if(tm(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Em(e.seconds),nanos:Em(e.nanos)}}function Em(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sm(e){return"string"==typeof e?vm.fromBase64String(e):vm.fromUint8Array(e)}function km(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tm(e){const t=e.mapValue.fields.__previous_value__;return km(t)?Tm(t):t}function xm(e){const t=wm(e.mapValue.fields.__local_write_time__.timestampValue);return new lm(t.seconds,t.nanos)}function Im(e){return null==e}function Cm(e){return 0===e&&1/e==-1/0}class _m{constructor(e){this.path=e}static fromPath(e){return new _m(pm.fromString(e))}static fromName(e){return new _m(pm.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===pm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _m(new pm(e.slice()))}}function Nm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?km(e)?4:10:em()}function Dm(e,t){const n=Nm(e);if(n!==Nm(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xm(e).isEqual(xm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wm(e.timestampValue),r=wm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sm(e.bytesValue).isEqual(Sm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Em(e.geoPointValue.latitude)===Em(t.geoPointValue.latitude)&&Em(e.geoPointValue.longitude)===Em(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Em(e.integerValue)===Em(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Em(e.doubleValue),r=Em(t.doubleValue);return n===r?Cm(n)===Cm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return om(e.arrayValue.values||[],t.arrayValue.values||[],Dm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cm(n)!==cm(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Dm(n[e],r[e])))return!1;return!0}(e,t);default:return em()}}function Am(e,t){return void 0!==(e.values||[]).find((e=>Dm(e,t)))}function Rm(e,t){const n=Nm(e),r=Nm(t);if(n!==r)return sm(n,r);switch(n){case 0:return 0;case 1:return sm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Em(e.integerValue||e.doubleValue),r=Em(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lm(e.timestampValue,t.timestampValue);case 4:return Lm(xm(e),xm(t));case 5:return sm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sm(e),r=Sm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=sm(n[e],r[e]);if(0!==t)return t}return sm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sm(Em(e.latitude),Em(t.latitude));return 0!==n?n:sm(Em(e.longitude),Em(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Rm(n[e],r[e]);if(t)return t}return sm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=sm(r[e],s[e]);if(0!==t)return t;const o=Rm(n[r[e]],i[s[e]]);if(0!==o)return o}return sm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw em()}}function Lm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sm(e,t);const n=wm(e),r=wm(t),i=sm(n.seconds,r.seconds);return 0!==i?i:sm(n.nanos,r.nanos)}function Om(e){return Pm(e)}function Pm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_m.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Pm(e.fields[i])}`;return n+"}"}(e.mapValue):em();var t,n}function Mm(e){return!!e&&"integerValue"in e}function Fm(e){return!!e&&"arrayValue"in e}function Um(e){return!!e&&"nullValue"in e}function Vm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jm(e){return!!e&&"mapValue"in e}function zm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zm(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Bm{constructor(e){this.value=e}static empty(){return new Bm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zm(t)}setAll(e){let t=gm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hm(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Bm(zm(this.value))}}function qm(e){const t=[];return hm(e.fields,((e,n)=>{const r=new gm([e]);if(jm(n)){const e=qm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ym(t)}class $m{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new $m(e,0,um.min(),Bm.empty(),0)}static newFoundDocument(e,t,n){return new $m(e,1,t,n,0)}static newNoDocument(e,t){return new $m(e,2,t,Bm.empty(),0)}static newUnknownDocument(e,t){return new $m(e,3,t,Bm.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $m&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new $m(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Km{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null}}function Hm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Km(e,t,n,r,i,s,o)}function Wm(e){const t=nm(e);if(null===t.h){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Om(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Im(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=og(t.startAt)),t.endAt&&(e+="|ub:",e+=og(t.endAt)),t.h=e}return t.h}function Gm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Dm(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cg(e.startAt,t.startAt)&&cg(e.endAt,t.endAt)}function Qm(e){return _m.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xm extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new Ym(e,t,n):"array-contains"===t?new tg(e,n):"in"===t?new ng(e,n):"not-in"===t?new rg(e,n):"array-contains-any"===t?new ig(e,n):new Xm(e,t,n)}static l(e,t,n){return"in"===t?new Jm(e,n):new Zm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Rm(t,this.value)):null!==t&&Nm(this.value)===Nm(t)&&this.m(Rm(t,this.value))}m(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return em()}}g(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ym extends Xm{constructor(e,t,n){super(e,t,n),this.key=_m.fromName(n.referenceValue)}matches(e){const t=_m.comparator(e.key,this.key);return this.m(t)}}class Jm extends Xm{constructor(e,t){super(e,"in",t),this.keys=eg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zm extends Xm{constructor(e,t){super(e,"not-in",t),this.keys=eg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>_m.fromName(e.referenceValue)))}class tg extends Xm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fm(t)&&Am(t.arrayValue,this.value)}}class ng extends Xm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Am(this.value.arrayValue,t)}}class rg extends Xm{constructor(e,t){super(e,"not-in",t)}matches(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Am(this.value.arrayValue,t)}}class ig extends Xm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Am(this.value.arrayValue,e)))}}class sg{constructor(e,t){this.position=e,this.before=t}}function og(e){return`${e.before?"b":"a"}:${e.position.map((e=>Om(e))).join(",")}`}class ag{constructor(e,t="asc"){this.field=e,this.dir=t}}function lg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ug(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?_m.comparator(_m.fromName(o.referenceValue),n.key):Rm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dm(e.position[n],t.position[n]))return!1;return!0}class hg{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt}}function fg(e){return new hg(e)}function dg(e){return!Im(e.limit)&&"F"===e.limitType}function pg(e){return!Im(e.limit)&&"L"===e.limitType}function mg(e){const t=nm(e);if(null===t.p){t.p=[];const e=function(e){for(const t of e.filters)if(t.g())return t.field;return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.p.push(new ag(e)),t.p.push(new ag(gm.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.p.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ag(gm.keyField(),e))}}}return t.p}function gg(e){const t=nm(e);if(!t.T)if("F"===t.limitType)t.T=Hm(t.path,t.collectionGroup,mg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of mg(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ag(n.field,t))}const n=t.endAt?new sg(t.endAt.position,!t.endAt.before):null,r=t.startAt?new sg(t.startAt.position,!t.startAt.before):null;t.T=Hm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.T}function yg(e,t){return Gm(gg(e),gg(t))&&e.limitType===t.limitType}function vg(e){return`${Wm(gg(e))}|lt:${e.limitType}`}function bg(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Om(t.value)}`;var t})).join(", ")}]`),Im(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+og(e.startAt)),e.endAt&&(t+=", endAt: "+og(e.endAt)),`Target(${t})`}(gg(e))}; limitType=${e.limitType})`}function wg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_m.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ug(e.startAt,mg(e),t))&&(!e.endAt||!ug(e.endAt,mg(e),t))}(e,t)}function Eg(e){return(t,n)=>{let r=!1;for(const i of mg(e)){const e=Sg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Sg(e,t,n){const r=e.field.isKeyField()?_m.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rm(r,i):em()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return em()}}function kg(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(t)?"-0":t}}function Tg(e){return{integerValue:""+e}}function xg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Cm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Tg(t):kg(e,t)}class Ig{constructor(){this._=void 0}}function Cg(e,t,n){return e instanceof Dg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ag?Rg(e,t):e instanceof Lg?Og(e,t):function(e,t){const n=Ng(e,t),r=Mg(n)+Mg(e.A);return Mm(n)&&Mm(e.A)?Tg(r):kg(e.R,r)}(e,t)}function _g(e,t,n){return e instanceof Ag?Rg(e,t):e instanceof Lg?Og(e,t):n}function Ng(e,t){return e instanceof Pg?Mm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Dg extends Ig{}class Ag extends Ig{constructor(e){super(),this.elements=e}}function Rg(e,t){const n=Fg(t);for(const t of e.elements)n.some((e=>Dm(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Lg extends Ig{constructor(e){super(),this.elements=e}}function Og(e,t){let n=Fg(t);for(const t of e.elements)n=n.filter((e=>!Dm(e,t)));return{arrayValue:{values:n}}}class Pg extends Ig{constructor(e,t){super(),this.R=e,this.A=t}}function Mg(e){return Em(e.integerValue||e.doubleValue)}function Fg(e){return Fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ug{constructor(e,t){this.field=e,this.transform=t}}class Vg{constructor(e,t){this.version=e,this.transformResults=t}}class jg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jg}static exists(e){return new jg(void 0,e)}static updateTime(e){return new jg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bg{}function qg(e,t,n){e instanceof Gg?function(e,t,n){const r=e.value.clone(),i=Yg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qg?function(e,t,n){if(!zg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $g(e,t,n){e instanceof Gg?function(e,t,n){if(!zg(e.precondition,t))return;const r=e.value.clone(),i=Jg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Wg(t),r).setHasLocalMutations()}(e,t,n):e instanceof Qg?function(e,t,n){if(!zg(e.precondition,t))return;const r=Jg(e.fieldTransforms,n,t),i=t.data;i.setAll(Xg(e)),i.setAll(r),t.convertToFoundDocument(Wg(t),i).setHasLocalMutations()}(e,t,n):function(e,t){zg(e.precondition,t)&&t.convertToNoDocument(um.min())}(e,t)}function Kg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ng(r.transform,e||null);null!=i&&(null==n&&(n=Bm.empty()),n.set(r.field,i))}return n||null}function Hg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&om(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ag&&t instanceof Ag||e instanceof Lg&&t instanceof Lg?om(e.elements,t.elements,Dm):e instanceof Pg&&t instanceof Pg?Dm(e.A,t.A):e instanceof Dg&&t instanceof Dg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Wg(e){return e.isFoundDocument()?e.version:um.min()}class Gg extends Bg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Qg extends Bg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Xg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Yg(e,t,n){const r=new Map;tm(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,_g(o,a,n[i]))}return r}function Jg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Cg(e,s,t))}return r}class Zg extends Bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ey extends Bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ty{constructor(e){this.count=e}}var ny,ry;function iy(e){if(void 0===e)return Yp("GRPC error has no .code"),Hp.UNKNOWN;switch(e){case ny.OK:return Hp.OK;case ny.CANCELLED:return Hp.CANCELLED;case ny.UNKNOWN:return Hp.UNKNOWN;case ny.DEADLINE_EXCEEDED:return Hp.DEADLINE_EXCEEDED;case ny.RESOURCE_EXHAUSTED:return Hp.RESOURCE_EXHAUSTED;case ny.INTERNAL:return Hp.INTERNAL;case ny.UNAVAILABLE:return Hp.UNAVAILABLE;case ny.UNAUTHENTICATED:return Hp.UNAUTHENTICATED;case ny.INVALID_ARGUMENT:return Hp.INVALID_ARGUMENT;case ny.NOT_FOUND:return Hp.NOT_FOUND;case ny.ALREADY_EXISTS:return Hp.ALREADY_EXISTS;case ny.PERMISSION_DENIED:return Hp.PERMISSION_DENIED;case ny.FAILED_PRECONDITION:return Hp.FAILED_PRECONDITION;case ny.ABORTED:return Hp.ABORTED;case ny.OUT_OF_RANGE:return Hp.OUT_OF_RANGE;case ny.UNIMPLEMENTED:return Hp.UNIMPLEMENTED;case ny.DATA_LOSS:return Hp.DATA_LOSS;default:return em()}}(ry=ny||(ny={}))[ry.OK=0]="OK",ry[ry.CANCELLED=1]="CANCELLED",ry[ry.UNKNOWN=2]="UNKNOWN",ry[ry.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ry[ry.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ry[ry.NOT_FOUND=5]="NOT_FOUND",ry[ry.ALREADY_EXISTS=6]="ALREADY_EXISTS",ry[ry.PERMISSION_DENIED=7]="PERMISSION_DENIED",ry[ry.UNAUTHENTICATED=16]="UNAUTHENTICATED",ry[ry.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ry[ry.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ry[ry.ABORTED=10]="ABORTED",ry[ry.OUT_OF_RANGE=11]="OUT_OF_RANGE",ry[ry.UNIMPLEMENTED=12]="UNIMPLEMENTED",ry[ry.INTERNAL=13]="INTERNAL",ry[ry.UNAVAILABLE=14]="UNAVAILABLE",ry[ry.DATA_LOSS=15]="DATA_LOSS";class sy{constructor(e,t){this.comparator=e,this.root=t||ay.EMPTY}insert(e,t){return new sy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ay.BLACK,null,null))}remove(e){return new sy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ay.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oy(this.root,e,this.comparator,!1)}getReverseIterator(){return new oy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oy(this.root,e,this.comparator,!0)}}class oy{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ay{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ay.RED,this.left=null!=r?r:ay.EMPTY,this.right=null!=i?i:ay.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ay(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ay.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ay.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ay.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ay.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw em();if(this.right.isRed())throw em();const e=this.left.check();if(e!==this.right.check())throw em();return e+(this.isRed()?0:1)}}ay.EMPTY=null,ay.RED=!0,ay.BLACK=!1,ay.EMPTY=new class{constructor(){this.size=0}get key(){throw em()}get value(){throw em()}get color(){throw em()}get left(){throw em()}get right(){throw em()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ay(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ly{constructor(e){this.comparator=e,this.data=new sy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ly))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ly(this.comparator);return t.data=e,t}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const cy=new sy(_m.comparator);function hy(){return cy}const fy=new sy(_m.comparator);function dy(){return fy}const py=new sy(_m.comparator);const my=new ly(_m.comparator);function gy(...e){let t=my;for(const n of e)t=t.add(n);return t}const yy=new ly(sm);function vy(){return yy}class by{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,wy.createSynthesizedTargetChangeForCurrentChange(e,t)),new by(um.min(),n,vy(),hy(),gy())}}class wy{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wy(vm.EMPTY_BYTE_STRING,t,gy(),gy(),gy())}}class Ey{constructor(e,t,n,r){this.P=e,this.removedTargetIds=t,this.key=n,this.v=r}}class Sy{constructor(e,t){this.targetId=e,this.V=t}}class ky{constructor(e,t,n=vm.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ty{constructor(){this.S=0,this.D=Cy(),this.C=vm.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}get current(){return this.N}get resumeToken(){return this.C}get $(){return 0!==this.S}get O(){return this.k}F(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)}M(){let e=gy(),t=gy(),n=gy();return this.D.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:em()}})),new wy(this.C,this.N,e,t,n)}L(){this.k=!1,this.D=Cy()}B(e,t){this.k=!0,this.D=this.D.insert(e,t)}U(e){this.k=!0,this.D=this.D.remove(e)}q(){this.S+=1}K(){this.S-=1}j(){this.k=!0,this.N=!0}}class xy{constructor(e){this.W=e,this.G=new Map,this.H=hy(),this.J=Iy(),this.Y=new ly(sm)}X(e){for(const t of e.P)e.v&&e.v.isFoundDocument()?this.Z(t,e.v):this.tt(t,e.key,e.v);for(const t of e.removedTargetIds)this.tt(t,e.key,e.v)}et(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.st(t)&&n.F(e.resumeToken);break;case 1:n.K(),n.$||n.L(),n.F(e.resumeToken);break;case 2:n.K(),n.$||this.removeTarget(t);break;case 3:this.st(t)&&(n.j(),n.F(e.resumeToken));break;case 4:this.st(t)&&(this.it(t),n.F(e.resumeToken));break;default:em()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(((e,n)=>{this.st(n)&&t(n)}))}rt(e){const t=e.targetId,n=e.V.count,r=this.ot(t);if(r){const e=r.target;if(Qm(e))if(0===n){const n=new _m(e.path);this.tt(t,n,$m.newNoDocument(n,um.min()))}else tm(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}}ut(e){const t=new Map;this.G.forEach(((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Qm(i.target)){const t=new _m(i.target.path);null!==this.H.get(t)||this.at(r,t)||this.tt(r,t,$m.newNoDocument(t,e))}n.O&&(t.set(r,n.M()),n.L())}}));let n=gy();this.J.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.ot(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new by(e,t,this.Y,this.H,n);return this.H=hy(),this.J=Iy(),this.Y=new ly(sm),r}Z(e,t){if(!this.st(e))return;const n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}tt(e,t,n){if(!this.st(e))return;const r=this.nt(e);this.at(e,t)?r.B(t,1):r.U(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}removeTarget(e){this.G.delete(e)}ct(e){const t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}q(e){this.nt(e).q()}nt(e){let t=this.G.get(e);return t||(t=new Ty,this.G.set(e,t)),t}ht(e){let t=this.J.get(e);return t||(t=new ly(sm),this.J=this.J.insert(e,t)),t}st(e){const t=null!==this.ot(e);return t||Xp("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.G.get(e);return t&&t.$?null:this.W.lt(e)}it(e){this.G.set(e,new Ty),this.W.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}at(e,t){return this.W.getRemoteKeysForTarget(e).has(t)}}function Iy(){return new sy(_m.comparator)}function Cy(){return new sy(_m.comparator)}const _y={asc:"ASCENDING",desc:"DESCENDING"},Ny={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dy{constructor(e,t){this.databaseId=e,this.I=t}}function Ay(e,t){return e.I?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ry(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ly(e,t){return Ay(e,t.toTimestamp())}function Oy(e){return tm(!!e),um.fromTimestamp(function(e){const t=wm(e);return new lm(t.seconds,t.nanos)}(e))}function Py(e,t){return function(e){return new pm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function My(e){const t=pm.fromString(e);return tm(sv(t)),t}function Fy(e,t){return Py(e.databaseId,t.path)}function Uy(e,t){const n=My(t);if(n.get(1)!==e.databaseId.projectId)throw new Wp(Hp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wp(Hp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _m(By(n))}function Vy(e,t){return Py(e.databaseId,t)}function jy(e){const t=My(e);return 4===t.length?pm.emptyPath():By(t)}function zy(e){return new pm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function By(e){return tm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qy(e,t,n){return{name:Fy(e,t),fields:n.value.mapValue.fields}}function $y(e,t){let n;if(t instanceof Gg)n={update:qy(e,t.key,t.value)};else if(t instanceof Zg)n={delete:Fy(e,t.key)};else if(t instanceof Qg)n={update:qy(e,t.key,t.data),updateMask:iv(t.fieldMask)};else{if(!(t instanceof ey))return em();n={verify:Fy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Dg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ag)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),increment:n.A};throw em()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ly(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:em()}(e,t.precondition)),n}function Ky(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?jg.updateTime(Oy(e.updateTime)):void 0!==e.exists?jg.exists(e.exists):jg.none()}(t.currentDocument):jg.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)tm("REQUEST_TIME"===t.setToServerValue),n=new Dg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ag(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Lg(e)}else"increment"in t?n=new Pg(e,t.increment):em();const r=gm.fromServerFormat(t.fieldPath);return new Ug(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Uy(e,t.update.name),s=new Bm({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ym(t.map((e=>gm.fromServerFormat(e))))}(t.updateMask);return new Qg(i,s,e,n,r)}return new Gg(i,s,n,r)}if(t.delete){const r=Uy(e,t.delete);return new Zg(r,n)}if(t.verify){const r=Uy(e,t.verify);return new ey(r,n)}return em()}function Hy(e,t){return{documents:[Vy(e,t.path)]}}function Wy(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Vm(e.value))return{unaryFilter:{field:ev(e.field),op:"IS_NAN"}};if(Um(e.value))return{unaryFilter:{field:ev(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vm(e.value))return{unaryFilter:{field:ev(e.field),op:"IS_NOT_NAN"}};if(Um(e.value))return{unaryFilter:{field:ev(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ev(e.field),op:Zy(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ev(e.field),direction:Jy(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.I||Im(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Xy(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Xy(t.endAt)),n}function Gy(e){let t=jy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tm(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Qy(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new ag(tv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Im(t)?null:t}(n.limit));let l=null;n.startAt&&(l=Yy(n.startAt));let u=null;return n.endAt&&(u=Yy(n.endAt)),function(e,t,n,r,i,s,o,a){return new hg(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function Qy(e){return e?void 0!==e.unaryFilter?[rv(e)]:void 0!==e.fieldFilter?[nv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Qy(e))).reduce(((e,t)=>e.concat(t))):em():[]}function Xy(e){return{before:e.before,values:e.position}}function Yy(e){const t=!!e.before,n=e.values||[];return new sg(n,t)}function Jy(e){return _y[e]}function Zy(e){return Ny[e]}function ev(e){return{fieldPath:e.canonicalString()}}function tv(e){return gm.fromServerFormat(e.fieldPath)}function nv(e){return Xm.create(tv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return em()}}(e.fieldFilter.op),e.fieldFilter.value)}function rv(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tv(e.unaryFilter.field);return Xm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=tv(e.unaryFilter.field);return Xm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tv(e.unaryFilter.field);return Xm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tv(e.unaryFilter.field);return Xm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return em()}}function iv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ov(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=lv(t)),t=av(e.get(n),t);return lv(t)}function av(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function lv(e){return e+""}function uv(e){const t=e.length;if(tm(t>=2),2===t)return tm(""===e.charAt(0)&&""===e.charAt(1)),pm.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&em(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:em()}s=t+2}return new pm(r)}class cv{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class hv{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}hv.store="owner",hv.key="owner";class fv{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}fv.store="mutationQueues",fv.keyPath="userId";class dv{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}dv.store="mutations",dv.keyPath="batchId",dv.userMutationsIndex="userMutationsIndex",dv.userMutationsKeyPath=["userId","batchId"];class pv{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ov(t)]}static key(e,t,n){return[e,ov(t),n]}}pv.store="documentMutations",pv.PLACEHOLDER=new pv;class mv{constructor(e,t){this.path=e,this.readTime=t}}class gv{constructor(e,t){this.path=e,this.version=t}}class yv{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}yv.store="remoteDocuments",yv.readTimeIndex="readTimeIndex",yv.readTimeIndexPath="readTime",yv.collectionReadTimeIndex="collectionReadTimeIndex",yv.collectionReadTimeIndexPath=["parentPath","readTime"];class vv{constructor(e){this.byteSize=e}}vv.store="remoteDocumentGlobal",vv.key="remoteDocumentGlobalKey";class bv{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}bv.store="targets",bv.keyPath="targetId",bv.queryTargetsIndexName="queryTargetsIndex",bv.queryTargetsKeyPath=["canonicalId","targetId"];class wv{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}wv.store="targetDocuments",wv.keyPath=["targetId","path"],wv.documentTargetsIndex="documentTargetsIndex",wv.documentTargetsKeyPath=["path","targetId"];class Ev{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ev.key="targetGlobalKey",Ev.store="targetGlobal";class Sv{constructor(e,t){this.collectionId=e,this.parent=t}}Sv.store="collectionParents",Sv.keyPath=["collectionId","parent"];class kv{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}kv.store="clientMetadata",kv.keyPath="clientId";class Tv{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Tv.store="bundles",Tv.keyPath="bundleId";class xv{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}xv.store="namedQueries",xv.keyPath="name";const Iv=[fv.store,dv.store,pv.store,yv.store,bv.store,hv.store,Ev.store,wv.store,kv.store,vv.store,Sv.store,Tv.store,xv.store],Cv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _v{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Nv{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Dv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&em(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Dv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Dv?t:Dv.resolve(t)}catch(e){return Dv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Dv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Dv.reject(t)}static resolve(e){return new Dv(((t,n)=>{t(e)}))}static reject(e){return new Dv(((t,n)=>{n(e)}))}static waitFor(e){return new Dv(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Dv.resolve(!1);for(const n of e)t=t.next((e=>e?Dv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Av{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Nv,this.transaction.oncomplete=()=>{this.ft.resolve()},this.transaction.onabort=()=>{t.error?this.ft.reject(new Ov(e,t.error)):this.ft.resolve()},this.transaction.onerror=t=>{const n=Vv(t.target.error);this.ft.reject(new Ov(e,n))}}static open(e,t,n,r){try{return new Av(t,e.transaction(r,n))}catch(e){throw new Ov(t,e)}}get dt(){return this.ft.promise}abort(e){e&&this.ft.reject(e),this.aborted||(Xp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Mv(t)}}class Rv{constructor(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===Rv._t(nc())&&Yp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xp("SimpleDb","Removing database:",e),Fv(window.indexedDB.deleteDatabase(e)).toPromise()}static gt(){if("undefined"==typeof indexedDB)return!1;if(Rv.yt())return!0;const e=nc(),t=Rv._t(e),n=0<t&&t<10,r=Rv.Et(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static yt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)}static It(e,t){return e.store(t)}static _t(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Et(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async At(e){return this.db||(Xp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ov(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Wp(Hp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new Ov(e,r))},r.onupgradeneeded=e=>{Xp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.wt.Rt(t,r.transaction,e.oldVersion,this.version).next((()=>{Xp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Pt&&(this.db.onversionchange=e=>this.Pt(e)),this.db}bt(e){this.Pt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.At(e);const t=Av.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Dv.reject(e)))).toPromise();return s.catch((()=>{})),await t.dt,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Xp("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Lv{constructor(e){this.vt=e,this.Vt=!1,this.St=null}get isDone(){return this.Vt}get Dt(){return this.St}set cursor(e){this.vt=e}done(){this.Vt=!0}Ct(e){this.St=e}delete(){return Fv(this.vt.delete())}}class Ov extends Wp{constructor(e,t){super(Hp.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pv(e){return"IndexedDbTransactionError"===e.name}class Mv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fv(n)}add(e){return Xp("SimpleDb","ADD",this.store.name,e,e),Fv(this.store.add(e))}get(e){return Fv(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xp("SimpleDb","DELETE",this.store.name,e),Fv(this.store.delete(e))}count(){return Xp("SimpleDb","COUNT",this.store.name),Fv(this.store.count())}Nt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.xt(n,((e,t)=>{r.push(t)})).next((()=>r))}kt(e,t){Xp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.$t=!1;const r=this.cursor(n);return this.xt(r,((e,t,n)=>n.delete()))}Ot(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.xt(r,t)}Ft(e){const t=this.cursor({});return new Dv(((n,r)=>{t.onerror=e=>{const t=Vv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}xt(e,t){const n=[];return new Dv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Lv(i),o=t(i.primaryKey,i.value,s);if(o instanceof Dv){const e=o.catch((e=>(s.done(),Dv.reject(e))));n.push(e)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}})).next((()=>Dv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.$t?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fv(e){return new Dv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Vv(e.target.error);n(t)}}))}let Uv=!1;function Vv(e){const t=Rv._t(nc());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Wp("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uv||(Uv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class jv extends _v{constructor(e,t){super(),this.Mt=e,this.currentSequenceNumber=t}}function zv(e,t){const n=nm(e);return Rv.It(n.Mt,t)}class Bv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&qg(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&$g(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&$g(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(um.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gy())}isEqual(e){return this.batchId===e.batchId&&om(this.mutations,e.mutations,((e,t)=>Hg(e,t)))&&om(this.baseMutations,e.baseMutations,((e,t)=>Hg(e,t)))}}class qv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){tm(e.mutations.length===n.length);let r=py;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new qv(e,t,n,r)}}class $v{constructor(e,t,n,r,i=um.min(),s=um.min(),o=vm.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new $v(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $v(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $v(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Kv{constructor(e){this.Lt=e}}function Hv(e,t){if(t.document)return function(e,t,n){const r=Uy(e,t.name),i=Oy(t.updateTime),s=new Bm({mapValue:{fields:t.fields}}),o=$m.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=_m.fromSegments(t.noDocument.path),n=Xv(t.noDocument.readTime),r=$m.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=_m.fromSegments(t.unknownDocument.path),n=Xv(t.unknownDocument.version);return $m.newUnknownDocument(e,n)}return em()}function Wv(e,t,n){const r=Gv(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Fy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ay(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new yv(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Qv(t.version),s=t.hasCommittedMutations;return new yv(null,new mv(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Qv(t.version);return new yv(new gv(e,n),null,null,!0,r,i)}return em()}function Gv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qv(e){const t=e.toTimestamp();return new cv(t.seconds,t.nanoseconds)}function Xv(e){const t=new lm(e.seconds,e.nanoseconds);return um.fromTimestamp(t)}function Yv(e,t){const n=(t.baseMutations||[]).map((t=>Ky(e.Lt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Ky(e.Lt,t))),i=lm.fromMillis(t.localWriteTimeMs);return new Bv(t.batchId,i,n,r)}function Jv(e){const t=Xv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Xv(e.lastLimboFreeSnapshotVersion):um.min();let r;var i;return void 0!==e.query.documents?(tm(1===(i=e.query).documents.length),r=gg(fg(jy(i.documents[0])))):r=function(e){return gg(Gy(e))}(e.query),new $v(r,e.targetId,0,e.lastListenSequenceNumber,t,n,vm.fromBase64String(e.resumeToken))}function Zv(e,t){const n=Qv(t.snapshotVersion),r=Qv(t.lastLimboFreeSnapshotVersion);let i;i=Qm(t.target)?Hy(e.Lt,t.target):Wy(e.Lt,t.target);const s=t.resumeToken.toBase64();return new bv(t.targetId,Wm(t.target),n,s,t.sequenceNumber,r,i)}function eb(e){const t=Gy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class tb{getBundleMetadata(e,t){return nb(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Xv(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return nb(e).put({bundleId:(n=t).id,createTime:Qv(Oy(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return rb(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:eb(t.bundledQuery),readTime:Xv(t.readTime)};var t}))}saveNamedQuery(e,t){return rb(e).put(function(e){return{name:e.name,readTime:Qv(Oy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function nb(e){return zv(e,Tv.store)}function rb(e){return zv(e,xv.store)}class ib{constructor(){this.Bt=new sb}addToCollectionParentIndex(e,t){return this.Bt.add(t),Dv.resolve()}getCollectionParents(e,t){return Dv.resolve(this.Bt.getEntries(t))}}class sb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ly(pm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ly(pm.comparator)).toArray()}}class ob{constructor(){this.Ut=new sb}addToCollectionParentIndex(e,t){if(!this.Ut.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ut.add(t)}));const i={collectionId:n,parent:ov(r)};return ab(e).put(i)}return Dv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[am(t),""],!1,!0);return ab(e).Nt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(uv(r.parent))}return n}))}}function ab(e){return zv(e,Sv.store)}const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ub{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ub(e,ub.DEFAULT_COLLECTION_PERCENTILE,ub.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cb(e,t,n){const r=e.store(dv.store),i=e.store(pv.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Ot({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{tm(1===a)})));const u=[];for(const e of n.mutations){const r=pv.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Dv.waitFor(s).next((()=>u))}function hb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw em();t=e.noDocument}return JSON.stringify(t).length}ub.DEFAULT_COLLECTION_PERCENTILE=10,ub.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ub.DEFAULT=new ub(41943040,ub.DEFAULT_COLLECTION_PERCENTILE,ub.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ub.DISABLED=new ub(-1,0,0);class fb{constructor(e,t,n,r){this.userId=e,this.R=t,this.qt=n,this.referenceDelegate=r,this.Kt={}}static jt(e,t,n,r){tm(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new fb(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pb(e).Ot({index:dv.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=mb(e),s=pb(e);return s.add({}).next((o=>{tm("number"==typeof o);const a=new Bv(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>$y(e.Lt,t))),i=n.mutations.map((t=>$y(e.Lt,t)));return new dv(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.R,this.userId,a),u=[];let c=new ly(((e,t)=>sm(e.canonicalString(),t.canonicalString())));for(const e of r){const t=pv.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,pv.PLACEHOLDER))}return c.forEach((t=>{u.push(this.qt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Kt[o]=a.keys()})),Dv.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return pb(e).get(t).next((e=>e?(tm(e.userId===this.userId),Yv(this.R,e)):null))}Qt(e,t){return this.Kt[t]?Dv.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Kt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return pb(e).Ot({index:dv.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(tm(t.batchId>=n),i=Yv(this.R,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return pb(e).Ot({index:dv.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pb(e).Nt(dv.userMutationsIndex,t).next((e=>e.map((e=>Yv(this.R,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=pv.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return mb(e).Ot({range:r},((n,r,s)=>{const[o,a,l]=n,u=uv(a);if(o===this.userId&&t.path.isEqual(u))return pb(e).get(l).next((e=>{if(!e)throw em();tm(e.userId===this.userId),i.push(Yv(this.R,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ly(sm);const r=[];return t.forEach((t=>{const i=pv.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=mb(e).Ot({range:s},((e,r,i)=>{const[s,o,a]=e,l=uv(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Dv.waitFor(r).next((()=>this.Wt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=pv.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new ly(sm);return mb(e).Ot({range:s},((e,t,i)=>{const[s,a,l]=e,u=uv(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Wt(e,o)))}Wt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(pb(e).get(t).next((e=>{if(null===e)throw em();tm(e.userId===this.userId),n.push(Yv(this.R,e))})))})),Dv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return cb(e.Mt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Gt(t.batchId)})),Dv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Gt(e){delete this.Kt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Dv.resolve();const n=IDBKeyRange.lowerBound(pv.prefixForUser(this.userId)),r=[];return mb(e).Ot({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=uv(e[1]);r.push(t)}else n.done()})).next((()=>{tm(0===r.length)}))}))}containsKey(e,t){return db(e,this.userId,t)}zt(e){return gb(e).get(this.userId).next((e=>e||new fv(this.userId,-1,"")))}}function db(e,t,n){const r=pv.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return mb(e).Ot({range:s,$t:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function pb(e){return zv(e,dv.store)}function mb(e){return zv(e,pv.store)}function gb(e){return zv(e,fv.store)}class yb{constructor(e){this.Ht=e}next(){return this.Ht+=2,this.Ht}static Jt(){return new yb(0)}static Yt(){return new yb(-1)}}class vb{constructor(e,t){this.referenceDelegate=e,this.R=t}allocateTargetId(e){return this.Xt(e).next((t=>{const n=new yb(t.highestTargetId);return t.highestTargetId=n.next(),this.Zt(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Xt(e).next((e=>um.fromTimestamp(new lm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Xt(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Xt(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Zt(e,r))))}addTargetData(e,t){return this.te(e,t).next((()=>this.Xt(e).next((n=>(n.targetCount+=1,this.ee(t,n),this.Zt(e,n))))))}updateTargetData(e,t){return this.te(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>bb(e).delete(t.targetId))).next((()=>this.Xt(e))).next((t=>(tm(t.targetCount>0),t.targetCount-=1,this.Zt(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return bb(e).Ot(((s,o)=>{const a=Jv(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Dv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return bb(e).Ot(((e,n)=>{const r=Jv(n);t(r)}))}Xt(e){return wb(e).get(Ev.key).next((e=>(tm(null!==e),e)))}Zt(e,t){return wb(e).put(Ev.key,t)}te(e,t){return bb(e).put(Zv(this.R,t))}ee(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Xt(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Wm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return bb(e).Ot({range:r,index:bv.queryTargetsIndexName},((e,n,r)=>{const s=Jv(n);Gm(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Eb(e);return t.forEach((t=>{const s=ov(t.path);r.push(i.put(new wv(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Dv.waitFor(r)}removeMatchingKeys(e,t,n){const r=Eb(e);return Dv.forEach(t,(t=>{const i=ov(t.path);return Dv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Eb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Eb(e);let i=gy();return r.Ot({range:n,$t:!0},((e,t,n)=>{const r=uv(e[1]),s=new _m(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=ov(t.path),r=IDBKeyRange.bound([n],[am(n)],!1,!0);let i=0;return Eb(e).Ot({index:wv.documentTargetsIndex,$t:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}lt(e,t){return bb(e).get(t).next((e=>e?Jv(e):null))}}function bb(e){return zv(e,bv.store)}function wb(e){return zv(e,Ev.store)}function Eb(e){return zv(e,wv.store)}async function Sb(e){if(e.code!==Hp.FAILED_PRECONDITION||e.message!==Cv)throw e;Xp("LocalStore","Unexpectedly lost primary lease")}function kb([e,t],[n,r]){const i=sm(e,n);return 0===i?sm(t,r):i}class Tb{constructor(e){this.ne=e,this.buffer=new ly(kb),this.se=0}ie(){return++this.se}re(e){const t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();kb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)}stop(){this.ce&&(this.ce.cancel(),this.ce=null)}get started(){return null!==this.ce}ue(e){const t=this.oe?3e5:6e4;Xp("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.ce=null,this.oe=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Pv(e)?Xp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Sb(e)}await this.ue(e)}))}}class Ib{constructor(e,t){this.ae=e,this.params=t}calculateTargetCount(e,t){return this.ae.he(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Dv.resolve(Kp.o);const n=new Tb(t);return this.ae.forEachTarget(e,(e=>n.re(e.sequenceNumber))).next((()=>this.ae.le(e,(e=>n.re(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ae.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ae.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector","Garbage collection skipped; disabled"),Dv.resolve(lb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xp("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.fe(e,t)))}getCacheSize(e){return this.ae.getCacheSize(e)}fe(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xp("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Qp()<=fc.DEBUG&&Xp("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Dv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Cb{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ib(e,t)}(this,t)}he(e){const t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}de(e){let t=0;return this.le(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}le(e,t){return this.we(e,((e,n)=>t(n)))}addReference(e,t,n){return _b(e,n)}removeReference(e,t,n){return _b(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _b(e,t)}_e(e,t){return function(e,t){let n=!1;return gb(e).Ft((r=>db(e,r,t).next((e=>(e&&(n=!0),Dv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.we(e,((s,o)=>{if(o<=t){const t=this._e(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),Eb(e).delete([0,ov(s.path)]))))}));r.push(t)}})).next((()=>Dv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _b(e,t)}we(e,t){const n=Eb(e);let r,i=Kp.o;return n.Ot({index:wv.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Kp.o&&t(new _m(uv(r)),i),i=o,r=s):i=Kp.o})).next((()=>{i!==Kp.o&&t(new _m(uv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _b(e,t){return Eb(e).put(function(e,t){return new wv(0,ov(e.path),t)}(t,e.currentSequenceNumber))}class Nb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){hm(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return fm(this.inner)}}class Db{constructor(){this.changes=new Nb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:um.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:$m.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Dv.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ab{constructor(e,t){this.R=e,this.qt=t}addEntry(e,t,n){return Ob(e).put(Pb(t),n)}removeEntry(e,t){const n=Ob(e),r=Pb(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.me(e,n))))}getEntry(e,t){return Ob(e).get(Pb(t)).next((e=>this.ge(t,e)))}ye(e,t){return Ob(e).get(Pb(t)).next((e=>({document:this.ge(t,e),size:hb(e)})))}getEntries(e,t){let n=hy();return this.pe(e,t,((e,t)=>{const r=this.ge(e,t);n=n.insert(e,r)})).next((()=>n))}Ee(e,t){let n=hy(),r=new sy(_m.comparator);return this.pe(e,t,((e,t)=>{const i=this.ge(e,t);n=n.insert(e,i),r=r.insert(e,hb(t))})).next((()=>({documents:n,Te:r})))}pe(e,t,n){if(t.isEmpty())return Dv.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Ob(e).Ot({range:r},((e,t,r)=>{const o=_m.fromSegments(e);for(;s&&_m.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=hy();const i=t.path.length+1,s={};if(n.isEqual(um.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Gv(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=yv.collectionReadTimeIndex}return Ob(e).Ot(s,((e,n,s)=>{if(e.length!==i)return;const o=Hv(this.R,n);t.path.isPrefixOf(o.key.path)?wg(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new Rb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Lb(e).get(vv.key).next((e=>(tm(!!e),e)))}me(e,t){return Lb(e).put(vv.key,t)}ge(e,t){if(t){const e=Hv(this.R,t);if(!e.isNoDocument()||!e.version.isEqual(um.min()))return e}return $m.newInvalidDocument(e)}}class Rb extends Db{constructor(e,t){super(),this.Ie=e,this.trackRemovals=t,this.Ae=new Nb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ly(((e,t)=>sm(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Ae.get(i);if(s.document.isValidDocument()){const a=Wv(this.Ie.R,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=hb(a);n+=l-o,t.push(this.Ie.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Wv(this.Ie.R,$m.newNoDocument(i,um.min()),this.getReadTime(i));t.push(this.Ie.addEntry(e,i,n))}else t.push(this.Ie.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Ie.qt.addToCollectionParentIndex(e,n))})),t.push(this.Ie.updateMetadata(e,n)),Dv.waitFor(t)}getFromCache(e,t){return this.Ie.ye(e,t).next((e=>(this.Ae.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Ie.Ee(e,t).next((({documents:e,Te:t})=>(t.forEach(((e,t)=>{this.Ae.set(e,t)})),e)))}}function Lb(e){return zv(e,vv.store)}function Ob(e){return zv(e,yv.store)}function Pb(e){return e.path.toArray()}class Mb{constructor(e){this.R=e}Rt(e,t,n,r){tm(n<r&&n>=0&&r<=11);const i=new Av("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(hv.store)}(e),function(e){e.createObjectStore(fv.store,{keyPath:fv.keyPath}),e.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0}),e.createObjectStore(pv.store)}(e),Fb(e),function(e){e.createObjectStore(yv.store)}(e));let s=Dv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(wv.store),e.deleteObjectStore(bv.store),e.deleteObjectStore(Ev.store)}(e),Fb(e)),s=s.next((()=>function(e){const t=e.store(Ev.store),n=new Ev(0,0,um.min().toTimestamp(),0);return t.put(Ev.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(dv.store).Nt().next((n=>{e.deleteObjectStore(dv.store),e.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0});const r=t.store(dv.store),i=n.map((e=>r.put(e)));return Dv.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(kv.store,{keyPath:kv.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Re(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(vv.store)}(e),this.Pe(i))))),n<7&&r>=7&&(s=s.next((()=>this.be(i)))),n<8&&r>=8&&(s=s.next((()=>this.ve(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(yv.store);t.createIndex(yv.readTimeIndex,yv.readTimeIndexPath,{unique:!1}),t.createIndex(yv.collectionReadTimeIndex,yv.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Ve(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Tv.store,{keyPath:Tv.keyPath})}(e),function(e){e.createObjectStore(xv.store,{keyPath:xv.keyPath})}(e)}))),s}Pe(e){let t=0;return e.store(yv.store).Ot(((e,n)=>{t+=hb(n)})).next((()=>{const n=new vv(t);return e.store(vv.store).put(vv.key,n)}))}Re(e){const t=e.store(fv.store),n=e.store(dv.store);return t.Nt().next((t=>Dv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Nt(dv.userMutationsIndex,r).next((n=>Dv.forEach(n,(n=>{tm(n.userId===t.userId);const r=Yv(this.R,n);return cb(e,t.userId,r).next((()=>{}))}))))}))))}be(e){const t=e.store(wv.store),n=e.store(yv.store);return e.store(Ev.store).get(Ev.key).next((e=>{const r=[];return n.Ot(((n,i)=>{const s=new pm(n),o=function(e){return[0,ov(e)]}(s);r.push(t.get(o).next((n=>n?Dv.resolve():(n=>t.put(new wv(0,ov(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Dv.waitFor(r)))}))}ve(e,t){e.createObjectStore(Sv.store,{keyPath:Sv.keyPath});const n=t.store(Sv.store),r=new sb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ov(r)})}};return t.store(yv.store).Ot({$t:!0},((e,t)=>{const n=new pm(e);return i(n.popLast())})).next((()=>t.store(pv.store).Ot({$t:!0},(([e,t,n],r)=>{const s=uv(t);return i(s.popLast())}))))}Ve(e){const t=e.store(bv.store);return t.Ot(((e,n)=>{const r=Jv(n),i=Zv(this.R,r);return t.put(i)}))}}function Fb(e){e.createObjectStore(wv.store,{keyPath:wv.keyPath}).createIndex(wv.documentTargetsIndex,wv.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(bv.store,{keyPath:bv.keyPath}).createIndex(bv.queryTargetsIndexName,bv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ev.store)}const Ub="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vb{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=s,this.document=o,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.$e=null,this.Oe=null,this.Fe=Number.NEGATIVE_INFINITY,this.Me=e=>Promise.resolve(),!Vb.gt())throw new Wp(Hp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cb(this,r),this.Le=t+"main",this.R=new Kv(a),this.Be=new Rv(this.Le,11,new Mb(this.R)),this.Ue=new vb(this.referenceDelegate,this.R),this.qt=new ob,this.qe=function(e,t){return new Ab(e,t)}(this.R,this.qt),this.Ke=new tb,this.window&&this.window.localStorage?this.je=this.window.localStorage:(this.je=null,!1===u&&Yp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Qe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wp(Hp.FAILED_PRECONDITION,Ub);return this.We(),this.Ge(),this.ze(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ue.getHighestSequenceNumber(e)))})).then((e=>{this.Ne=new Kp(e,this.De)})).then((()=>{this.xe=!0})).catch((e=>(this.Be&&this.Be.close(),Promise.reject(e))))}He(e){return this.Me=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Be.bt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((async()=>{this.started&&await this.Qe()})))}Qe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>zb(e).put(new kv(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.Je(e).next((e=>{e||(this.isPrimary=!1,this.Se.enqueueRetryable((()=>this.Me(!1))))}))})).next((()=>this.Ye(e))).next((t=>this.isPrimary&&!t?this.Xe(e).next((()=>!1)):!!t&&this.Ze(e).next((()=>!0)))))).catch((e=>{if(Pv(e))return Xp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Se.enqueueRetryable((()=>this.Me(e))),this.isPrimary=e}))}Je(e){return jb(e).get(hv.key).next((e=>Dv.resolve(this.tn(e))))}en(e){return zb(e).delete(this.clientId)}async nn(){if(this.isPrimary&&!this.sn(this.Fe,18e5)){this.Fe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=zv(e,kv.store);return t.Nt().next((e=>{const n=this.rn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Dv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.je)for(const t of e)this.je.removeItem(this.on(t.clientId))}}ze(){this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Qe().then((()=>this.nn())).then((()=>this.ze()))))}tn(e){return!!e&&e.ownerId===this.clientId}Ye(e){return this.Ce?Dv.resolve(!0):jb(e).get(hv.key).next((t=>{if(null!==t&&this.sn(t.leaseTimestampMs,5e3)&&!this.cn(t.ownerId)){if(this.tn(t)&&this.networkEnabled)return!0;if(!this.tn(t)){if(!t.allowTabSynchronization)throw new Wp(Hp.FAILED_PRECONDITION,Ub);return!1}}return!(!this.networkEnabled||!this.inForeground)||zb(e).Nt().next((e=>void 0===this.rn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xp("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),await this.Be.runTransaction("shutdown","readwrite",[hv.store,kv.store],(e=>{const t=new jv(e,Kp.o);return this.Xe(t).next((()=>this.en(t)))})),this.Be.close(),this.ln()}rn(e,t){return e.filter((e=>this.sn(e.updateTimeMs,t)&&!this.cn(e.clientId)))}fn(){return this.runTransaction("getActiveClients","readonly",(e=>zb(e).Nt().next((e=>this.rn(e,18e5).map((e=>e.clientId))))))}get started(){return this.xe}getMutationQueue(e){return fb.jt(e,this.R,this.qt,this.referenceDelegate)}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getIndexManager(){return this.qt}getBundleCache(){return this.Ke}runTransaction(e,t,n){Xp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Be.runTransaction(e,r,Iv,(r=>(i=new jv(r,this.Ne?this.Ne.next():Kp.o),"readwrite-primary"===t?this.Je(i).next((e=>!!e||this.Ye(i))).next((t=>{if(!t)throw Yp(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Se.enqueueRetryable((()=>this.Me(!1))),new Wp(Hp.FAILED_PRECONDITION,Cv);return n(i)})).next((e=>this.Ze(i).next((()=>e)))):this.dn(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}dn(e){return jb(e).get(hv.key).next((e=>{if(null!==e&&this.sn(e.leaseTimestampMs,5e3)&&!this.cn(e.ownerId)&&!this.tn(e)&&!(this.Ce||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Wp(Hp.FAILED_PRECONDITION,Ub)}))}Ze(e){const t=new hv(this.clientId,this.allowTabSynchronization,Date.now());return jb(e).put(hv.key,t)}static gt(){return Rv.gt()}Xe(e){const t=jb(e);return t.get(hv.key).next((e=>this.tn(e)?(Xp("IndexedDbPersistence","Releasing primary lease."),t.delete(hv.key)):Dv.resolve()))}sn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Yp(`Detected an update time that is in the future: ${e} > ${n}`),1))}We(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.$e=()=>{this.Se.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Qe())))},this.document.addEventListener("visibilitychange",this.$e),this.inForeground="visible"===this.document.visibilityState)}an(){this.$e&&(this.document.removeEventListener("visibilitychange",this.$e),this.$e=null)}Ge(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=()=>{this.un(),rc()&&navigator.appVersion.match("Version/14")&&this.Se.enterRestrictedMode(!0),this.Se.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ke))}hn(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)}cn(e){var t;try{const n=null!==(null===(t=this.je)||void 0===t?void 0:t.getItem(this.on(e)));return Xp("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Yp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}un(){if(this.je)try{this.je.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Yp("Failed to set zombie client id.",e)}}ln(){if(this.je)try{this.je.removeItem(this.on(this.clientId))}catch(e){}}on(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jb(e){return zv(e,hv.store)}function zb(e){return zv(e,kv.store)}class Bb{constructor(e,t,n){this.qe=e,this._n=t,this.qt=n}mn(e,t){return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.gn(e,t,n)))}gn(e,t,n){return this.qe.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}yn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}pn(e,t){return this.qe.getEntries(e,t).next((t=>this.En(e,t).next((()=>t))))}En(e,t){return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.yn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return _m.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.In(e,t,n):this.An(e,t,n)}Tn(e,t){return this.mn(e,new _m(t)).next((e=>{let t=dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}In(e,t,n){const r=t.collectionGroup;let i=dy();return this.qt.getCollectionParents(e,r).next((s=>Dv.forEach(s,(s=>{const o=function(e,t){return new hg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.An(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}An(e,t,n){let r,i;return this.qe.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this._n.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Rn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=$m.newInvalidDocument(n),r=r.insert(n,i)),$g(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{wg(t,n)||(r=r.remove(e))})),r)))}Rn(e,t,n){let r=gy();for(const e of t)for(const t of e.mutations)t instanceof Qg&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.qe.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class qb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pn=n,this.bn=r}static vn(e,t){let n=gy(),r=gy();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new qb(e,t.fromCache,n,r)}}class $b{Vn(e){this.Sn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(um.min())?this.Dn(e,t):this.Sn.pn(e,r).next((i=>{const s=this.Cn(t,i);return(dg(t)||pg(t))&&this.Nn(t.limitType,s,r,n)?this.Dn(e,t):(Qp()<=fc.DEBUG&&Xp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bg(t)),this.Sn.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Cn(e,t){let n=new ly(Eg(e));return t.forEach(((t,r)=>{wg(e,r)&&(n=n.add(r))})),n}Nn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Dn(e,t){return Qp()<=fc.DEBUG&&Xp("QueryEngine","Using full collection scan to execute query:",bg(t)),this.Sn.getDocumentsMatchingQuery(e,t,um.min())}}class Kb{constructor(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new sy(sm),this.$n=new Nb((e=>Wm(e)),Gm),this.On=um.min(),this._n=e.getMutationQueue(n),this.Fn=e.getRemoteDocumentCache(),this.Ue=e.getTargetCache(),this.Mn=new Bb(this.Fn,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.kn)))}}function Hb(e,t,n,r){return new Kb(e,t,n,r)}async function Wb(e,t){const n=nm(e);let r=n._n,i=n.Mn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n._n.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Bb(n.Fn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=gy();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.pn(e,o).next((e=>({Ln:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s}function Gb(e){const t=nm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ue.getLastRemoteSnapshotVersion(e)))}function Qb(e,t){const n=nm(e),r=t.snapshotVersion;let i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Fn.newChangeBuffer({trackRemovals:!0});i=n.kn;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.Ue.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.Ue.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return tm(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,t)&&o.push(n.Ue.updateTargetData(e,u))}}));let a=hy();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n,r,i){let s=gy();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=hy();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(um.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Xp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(um.min())){const t=n.Ue.getLastRemoteSnapshotVersion(e).next((t=>n.Ue.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Dv.waitFor(o).next((()=>s.apply(e))).next((()=>n.Mn.En(e,a))).next((()=>a))})).then((e=>(n.kn=i,e)))}function Xb(e,t){const n=nm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t))))}async function Yb(e,t,n){const r=nm(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Pv(e))throw e;Xp("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.kn=r.kn.remove(t),r.$n.delete(i.target)}function Jb(e,t,n){const r=nm(e);let i=um.min(),s=gy();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=nm(e),i=r.$n.get(n);return void 0!==i?Dv.resolve(r.kn.get(i)):r.Ue.getTargetData(t,n)}(r,e,gg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ue.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.xn.getDocumentsMatchingQuery(e,t,n?i:um.min(),n?s:gy()))).next((e=>({documents:e,Bn:s})))))}async function Zb(e){const t=nm(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Ob(e);let n=um.min();return t.Ot({index:yv.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=function(e){const t=new lm(e[0],e[1]);return um.fromTimestamp(t)}(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.On=e}))}class ew{constructor(e){this.R=e,this.jn=new Map,this.Qn=new Map}getBundleMetadata(e,t){return Dv.resolve(this.jn.get(t))}saveBundleMetadata(e,t){var n;return this.jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Oy(n.createTime)}),Dv.resolve()}getNamedQuery(e,t){return Dv.resolve(this.Qn.get(t))}saveNamedQuery(e,t){return this.Qn.set(t.name,function(e){return{name:e.name,query:eb(e.bundledQuery),readTime:Oy(e.readTime)}}(t)),Dv.resolve()}}class tw{constructor(){this.Wn=new ly(nw.Gn),this.zn=new ly(nw.Hn)}isEmpty(){return this.Wn.isEmpty()}addReference(e,t){const n=new nw(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)}Jn(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Yn(new nw(e,t))}Xn(e,t){e.forEach((e=>this.removeReference(e,t)))}Zn(e){const t=new _m(new pm([])),n=new nw(t,e),r=new nw(t,e+1),i=[];return this.zn.forEachInRange([n,r],(e=>{this.Yn(e),i.push(e.key)})),i}ts(){this.Wn.forEach((e=>this.Yn(e)))}Yn(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)}es(e){const t=new _m(new pm([])),n=new nw(t,e),r=new nw(t,e+1);let i=gy();return this.zn.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new nw(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nw{constructor(e,t){this.key=e,this.ns=t}static Gn(e,t){return _m.comparator(e.key,t.key)||sm(e.ns,t.ns)}static Hn(e,t){return sm(e.ns,t.ns)||_m.comparator(e.key,t.key)}}class rw{constructor(e,t){this.qt=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ly(nw.Gn)}checkEmpty(e){return Dv.resolve(0===this._n.length)}addMutationBatch(e,t,n,r){const i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];const s=new Bv(i,t,n,r);this._n.push(s);for(const t of r)this.rs=this.rs.add(new nw(t.key,i)),this.qt.addToCollectionParentIndex(e,t.key.path.popLast());return Dv.resolve(s)}lookupMutationBatch(e,t){return Dv.resolve(this.os(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.cs(n),i=r<0?0:r;return Dv.resolve(this._n.length>i?this._n[i]:null)}getHighestUnacknowledgedBatchId(){return Dv.resolve(0===this._n.length?-1:this.ss-1)}getAllMutationBatches(e){return Dv.resolve(this._n.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nw(t,0),r=new nw(t,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([n,r],(e=>{const t=this.os(e.ns);i.push(t)})),Dv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ly(sm);return t.forEach((e=>{const t=new nw(e,0),r=new nw(e,Number.POSITIVE_INFINITY);this.rs.forEachInRange([t,r],(e=>{n=n.add(e.ns)}))})),Dv.resolve(this.us(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;_m.isDocumentKey(i)||(i=i.child(""));const s=new nw(new _m(i),0);let o=new ly(sm);return this.rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ns)),!0)}),s),Dv.resolve(this.us(o))}us(e){const t=[];return e.forEach((e=>{const n=this.os(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){tm(0===this.hs(t.batchId,"removed")),this._n.shift();let n=this.rs;return Dv.forEach(t.mutations,(r=>{const i=new nw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.rs=n}))}Gt(e){}containsKey(e,t){const n=new nw(t,0),r=this.rs.firstAfterOrEqual(n);return Dv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this._n.length,Dv.resolve()}hs(e,t){return this.cs(e)}cs(e){return 0===this._n.length?0:e-this._n[0].batchId}os(e){const t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]}}class iw{constructor(e,t){this.qt=e,this.ls=t,this.docs=new sy(_m.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.qt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Dv.resolve(n?n.document.clone():$m.newInvalidDocument(t))}getEntries(e,t){let n=hy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():$m.newInvalidDocument(e))})),Dv.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=hy();const i=new _m(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||wg(t,i)&&(r=r.insert(i.key,i.clone()))}return Dv.resolve(r)}fs(e,t){return Dv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new sw(this)}getSize(e){return Dv.resolve(this.size)}}class sw extends Db{constructor(e){super(),this.Ie=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Ie.addEntry(e,r.document,this.getReadTime(n))):this.Ie.removeEntry(n)})),Dv.waitFor(t)}getFromCache(e,t){return this.Ie.getEntry(e,t)}getAllFromCache(e,t){return this.Ie.getEntries(e,t)}}class ow{constructor(e){this.persistence=e,this.ds=new Nb((e=>Wm(e)),Gm),this.lastRemoteSnapshotVersion=um.min(),this.highestTargetId=0,this.ws=0,this._s=new tw,this.targetCount=0,this.gs=yb.Jt()}forEachTarget(e,t){return this.ds.forEach(((e,n)=>t(n))),Dv.resolve()}getLastRemoteSnapshotVersion(e){return Dv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Dv.resolve(this.ws)}allocateTargetId(e){return this.highestTargetId=this.gs.next(),Dv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Dv.resolve()}te(e){this.ds.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.gs=new yb(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)}addTargetData(e,t){return this.te(t),this.targetCount+=1,Dv.resolve()}updateTargetData(e,t){return this.te(t),Dv.resolve()}removeTargetData(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Dv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ds.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ds.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Dv.waitFor(i).next((()=>r))}getTargetCount(e){return Dv.resolve(this.targetCount)}getTargetData(e,t){const n=this.ds.get(t)||null;return Dv.resolve(n)}addMatchingKeys(e,t,n){return this._s.Jn(t,n),Dv.resolve()}removeMatchingKeys(e,t,n){this._s.Xn(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Dv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._s.Zn(t),Dv.resolve()}getMatchingKeysForTargetId(e,t){const n=this._s.es(t);return Dv.resolve(n)}containsKey(e,t){return Dv.resolve(this._s.containsKey(t))}}class aw{constructor(e,t){this.ys={},this.Ne=new Kp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.Ue=new ow(this),this.qt=new ib,this.qe=function(e,t){return new iw(e,t)}(this.qt,(e=>this.referenceDelegate.ps(e))),this.R=new Kv(t),this.Ke=new ew(this.R)}start(){return Promise.resolve()}shutdown(){return this.xe=!1,Promise.resolve()}get started(){return this.xe}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.qt}getMutationQueue(e){let t=this.ys[e.toKey()];return t||(t=new rw(this.qt,this.referenceDelegate),this.ys[e.toKey()]=t),t}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getBundleCache(){return this.Ke}runTransaction(e,t,n){Xp("MemoryPersistence","Starting transaction:",e);const r=new lw(this.Ne.next());return this.referenceDelegate.Es(),n(r).next((e=>this.referenceDelegate.Ts(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Is(e,t){return Dv.or(Object.values(this.ys).map((n=>()=>n.containsKey(e,t))))}}class lw extends _v{constructor(e){super(),this.currentSequenceNumber=e}}class uw{constructor(e){this.persistence=e,this.As=new tw,this.Rs=null}static Ps(e){return new uw(e)}get bs(){if(this.Rs)return this.Rs;throw em()}addReference(e,t,n){return this.As.addReference(n,t),this.bs.delete(n.toString()),Dv.resolve()}removeReference(e,t,n){return this.As.removeReference(n,t),this.bs.add(n.toString()),Dv.resolve()}markPotentiallyOrphaned(e,t){return this.bs.add(t.toString()),Dv.resolve()}removeTarget(e,t){this.As.Zn(t.targetId).forEach((e=>this.bs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.bs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Es(){this.Rs=new Set}Ts(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dv.forEach(this.bs,(n=>{const r=_m.fromPath(n);return this.vs(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Rs=null,t.apply(e))))}updateLimboDocument(e,t){return this.vs(e,t).next((e=>{e?this.bs.delete(t.toString()):this.bs.add(t.toString())}))}ps(e){return 0}vs(e,t){return Dv.or([()=>Dv.resolve(this.As.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Is(e,t)])}}class cw{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cw.UNAUTHENTICATED=new cw(null),cw.GOOGLE_CREDENTIALS=new cw("google-credentials-uid"),cw.FIRST_PARTY=new cw("first-party-uid");class hw{constructor(){this.activeTargetIds=vy()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}Cs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fw{constructor(){this.li=new hw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.li.Ds(e),this.fi[e]||"not-current"}updateQueryState(e,t,n){this.fi[e]=t}removeLocalQueryTarget(e){this.li.Cs(e)}isLocalQueryTarget(e){return this.li.activeTargetIds.has(e)}clearQueryState(e){delete this.fi[e]}getAllActiveQueryTargets(){return this.li.activeTargetIds}isActiveQueryTarget(e){return this.li.activeTargetIds.has(e)}start(){return this.li=new hw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class dw{di(e){}shutdown(){}}class pw{constructor(){this.wi=()=>this._i(),this.mi=()=>this.gi(),this.yi=[],this.pi()}di(e){this.yi.push(e)}shutdown(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)}pi(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)}_i(){Xp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.yi)e(0)}gi(){Xp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.yi)e(1)}static gt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gw{constructor(e){this.Ei=e.Ei,this.Ti=e.Ti}Ii(e){this.Ai=e}Ri(e){this.Pi=e}onMessage(e){this.bi=e}close(){this.Ti()}send(e){this.Ei(e)}vi(){this.Ai()}Vi(e){this.Pi(e)}Si(e){this.bi(e)}}class yw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Ni(e,t,n,r){const i=this.xi(e,t);Xp("RestConnection","Sending: ",i,n);const s={};return this.ki(s,r),this.$i(e,i,s,n).then((e=>(Xp("RestConnection","Received: ",e),e)),(t=>{throw Jp("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Oi(e,t,n,r){return this.Ni(e,t,n,r)}ki(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+$p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}xi(e,t){const n=mw[e];return`${this.Di}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}$i(e,t,n,r){return new Promise(((i,s)=>{const o=new qp;o.listenOnce(Fp.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Mp.NO_ERROR:const t=o.getResponseJson();Xp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Mp.TIMEOUT:Xp("Connection",'RPC "'+e+'" timed out'),s(new Wp(Hp.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const n=o.getStatus();if(Xp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hp).indexOf(t)>=0?t:Hp.UNKNOWN}(e.status);s(new Wp(t,e.message))}else s(new Wp(Hp.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Wp(Hp.UNAVAILABLE,"Connection failed."));break;default:em()}}finally{Xp("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Fi(e,t){const n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Ap,i=Tf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};var o;this.useFetchStreams&&(s.xmlHttpFactory=new zp({})),this.ki(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nc())||"object"==typeof navigator&&"ReactNative"===navigator.product||nc().indexOf("Electron/")>=0||function(){var e=nc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||nc().indexOf("MSAppHost/")>=0||"object"==typeof(o="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==o.id||(s.httpHeadersOverwriteParam="$httpHeaders");const a=n.join("");Xp("Connection","Creating WebChannel: "+a,s);const l=r.createWebChannel(a,s);let u=!1,c=!1;const h=new gw({Ei:e=>{c?Xp("Connection","Not sending because WebChannel is closed:",e):(u||(Xp("Connection","Opening WebChannel transport."),l.open(),u=!0),Xp("Connection","WebChannel sending:",e),l.send(e))},Ti:()=>l.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(l,Bp.EventType.OPEN,(()=>{c||Xp("Connection","WebChannel transport opened.")})),f(l,Bp.EventType.CLOSE,(()=>{c||(c=!0,Xp("Connection","WebChannel transport closed"),h.Vi())})),f(l,Bp.EventType.ERROR,(e=>{c||(c=!0,Jp("Connection","WebChannel transport errored:",e),h.Vi(new Wp(Hp.UNAVAILABLE,"The operation could not be completed")))})),f(l,Bp.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];tm(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xp("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ny[e];if(void 0!==t)return iy(t)}(e),n=i.message;void 0===t&&(t=Hp.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Vi(new Wp(t,n)),l.close()}else Xp("Connection","WebChannel received:",n),h.Si(n)}})),f(i,Up.STAT_EVENT,(e=>{e.stat===Vp?Xp("Connection","Detected buffering proxy"):e.stat===jp&&Xp("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.vi()}),0),h}}function vw(){return"undefined"!=typeof document?document:null}function bw(e){return new Dy(e,!0)}class ww{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.Ui=0,this.qi=null,this.Ki=Date.now(),this.reset()}reset(){this.Ui=0}ji(){this.Ui=this.Bi}Qi(e){this.cancel();const t=Math.floor(this.Ui+this.Wi()),n=Math.max(0,Date.now()-this.Ki),r=Math.max(0,t-n);r>0&&Xp("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ui} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qi=this.Se.enqueueAfterDelay(this.timerId,r,(()=>(this.Ki=Date.now(),e()))),this.Ui*=this.Li,this.Ui<this.Mi&&(this.Ui=this.Mi),this.Ui>this.Bi&&(this.Ui=this.Bi)}Gi(){null!==this.qi&&(this.qi.skipDelay(),this.qi=null)}cancel(){null!==this.qi&&(this.qi.cancel(),this.qi=null)}Wi(){return(Math.random()-.5)*this.Ui}}class Ew{constructor(e,t,n,r,i,s){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ww(e,t)}tr(){return 1===this.state||2===this.state||4===this.state}er(){return 2===this.state}start(){3!==this.state?this.auth():this.nr()}async stop(){this.tr()&&await this.close(0)}sr(){this.state=0,this.Zi.reset()}ir(){this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(()=>this.rr())))}cr(e){this.ur(),this.stream.send(e)}async rr(){if(this.er())return this.close(0)}ur(){this.Xi&&(this.Xi.cancel(),this.Xi=null)}async close(e,t){this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Hp.RESOURCE_EXHAUSTED?(Yp(t.toString()),Yp("Using maximum backoff delay to prevent overloading the backend."),this.Zi.ji()):t&&t.code===Hp.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ri(t)}ar(){}auth(){this.state=1;const e=this.hr(this.Yi),t=this.Yi;this.Ji.getToken().then((e=>{this.Yi===t&&this.lr(e)}),(t=>{e((()=>{const e=new Wp(Hp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.dr(e)}))}))}lr(e){const t=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((()=>{t((()=>(this.state=2,this.listener.Ii())))})),this.stream.Ri((e=>{t((()=>this.dr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}nr(){this.state=4,this.Zi.Qi((async()=>{this.state=0,this.start()}))}dr(e){return Xp("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}hr(e){return t=>{this.Se.enqueueAndForget((()=>this.Yi===e?t():(Xp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sw extends Ew{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.R=r}wr(e){return this.Hi.Fi("Listen",e)}onMessage(e){this.Zi.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:em()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.I?(tm(void 0===t||"string"==typeof t),vm.fromBase64String(t||"")):(tm(void 0===t||t instanceof Uint8Array),vm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Hp.UNKNOWN:iy(e.code);return new Wp(t,e.message||"")}(o);n=new ky(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uy(e,r.document.name),s=Oy(r.document.updateTime),o=new Bm({mapValue:{fields:r.document.fields}}),a=$m.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ey(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Uy(e,r.document),s=r.readTime?Oy(r.readTime):um.min(),o=$m.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ey([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Uy(e,r.document),s=r.removedTargetIds||[];n=new Ey([],s,i,null)}else{if(!("filter"in t))return em();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new ty(r),s=e.targetId;n=new Sy(s,i)}}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return um.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?um.min():t.readTime?Oy(t.readTime):um.min()}(e);return this.listener._r(t,n)}mr(e){const t={};t.database=zy(this.R),t.addTarget=function(e,t){let n;const r=t.target;return n=Qm(r)?{documents:Hy(e,r)}:{query:Wy(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ry(e,t.resumeToken):t.snapshotVersion.compareTo(um.min())>0&&(n.readTime=Ay(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return em()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)}gr(e){const t={};t.database=zy(this.R),t.removeTarget=e,this.cr(t)}}class kw extends Ew{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.R=r,this.yr=!1}get pr(){return this.yr}start(){this.yr=!1,this.lastStreamToken=void 0,super.start()}ar(){this.yr&&this.Er([])}wr(e){return this.Hi.Fi("Write",e)}onMessage(e){if(tm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.yr){this.Zi.reset();const t=function(e,t){return e&&e.length>0?(tm(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Oy(e.updateTime):Oy(t);return n.isEqual(um.min())&&(n=Oy(t)),new Vg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Oy(e.commitTime);return this.listener.Tr(n,t)}return tm(!e.writeResults||0===e.writeResults.length),this.yr=!0,this.listener.Ir()}Ar(){const e={};e.database=zy(this.R),this.cr(e)}Er(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$y(this.R,e)))};this.cr(t)}}class Tw extends class{}{constructor(e,t,n){super(),this.credentials=e,this.Hi=t,this.R=n,this.Rr=!1}Pr(){if(this.Rr)throw new Wp(Hp.FAILED_PRECONDITION,"The client has already been terminated.")}Ni(e,t,n){return this.Pr(),this.credentials.getToken().then((r=>this.Hi.Ni(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hp.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Wp(Hp.UNKNOWN,e.toString())}))}Oi(e,t,n){return this.Pr(),this.credentials.getToken().then((r=>this.Hi.Oi(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hp.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Wp(Hp.UNKNOWN,e.toString())}))}terminate(){this.Rr=!0}}class xw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.br=0,this.vr=null,this.Vr=!0}Sr(){0===this.br&&(this.Dr("Unknown"),this.vr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.vr=null,this.Cr("Backend didn't respond within 10 seconds."),this.Dr("Offline"),Promise.resolve()))))}Nr(e){"Online"===this.state?this.Dr("Unknown"):(this.br++,this.br>=1&&(this.kr(),this.Cr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Dr("Offline")))}set(e){this.kr(),this.br=0,"Online"===e&&(this.Vr=!1),this.Dr(e)}Dr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Cr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Yp(t),this.Vr=!1):Xp("OnlineStateTracker",t)}kr(){null!==this.vr&&(this.vr.cancel(),this.vr=null)}}class Iw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.$r=[],this.Or=new Map,this.Fr=new Set,this.Mr=[],this.Lr=i,this.Lr.di((e=>{n.enqueueAndForget((async()=>{Pw(this)&&(Xp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=nm(e);t.Fr.add(4),await _w(t),t.Br.set("Unknown"),t.Fr.delete(4),await Cw(t)}(this))}))})),this.Br=new xw(n,r)}}async function Cw(e){if(Pw(e))for(const t of e.Mr)await t(!0)}async function _w(e){for(const t of e.Mr)await t(!1)}function Nw(e,t){const n=nm(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Ow(n)?Lw(n):Yw(n).er()&&Aw(n,t))}function Dw(e,t){const n=nm(e),r=Yw(n);n.Or.delete(t),r.er()&&Rw(n,t),0===n.Or.size&&(r.er()?r.ir():Pw(n)&&n.Br.set("Unknown"))}function Aw(e,t){e.Ur.q(t.targetId),Yw(e).mr(t)}function Rw(e,t){e.Ur.q(t),Yw(e).gr(t)}function Lw(e){e.Ur=new xy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.Or.get(t)||null}),Yw(e).start(),e.Br.Sr()}function Ow(e){return Pw(e)&&!Yw(e).tr()&&e.Or.size>0}function Pw(e){return 0===nm(e).Fr.size}function Mw(e){e.Ur=void 0}async function Fw(e){e.Or.forEach(((t,n)=>{Aw(e,t)}))}async function Uw(e,t){Mw(e),Ow(e)?(e.Br.Nr(t),Lw(e)):e.Br.set("Unknown")}async function Vw(e,t,n){if(e.Br.set("Online"),t instanceof ky&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Or.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Or.delete(r),e.Ur.removeTarget(r))}(e,t)}catch(n){Xp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await jw(e,n)}else if(t instanceof Ey?e.Ur.X(t):t instanceof Sy?e.Ur.rt(t):e.Ur.et(t),!n.isEqual(um.min()))try{const t=await Gb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ur.ut(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Or.get(t);if(!n)return;e.Or.set(t,n.withResumeToken(vm.EMPTY_BYTE_STRING,n.snapshotVersion)),Rw(e,t);const r=new $v(n.target,t,1,n.sequenceNumber);Aw(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xp("RemoteStore","Failed to raise snapshot:",t),await jw(e,t)}}async function jw(e,t,n){if(!Pv(t))throw t;e.Fr.add(1),await _w(e),e.Br.set("Offline"),n||(n=()=>Gb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xp("RemoteStore","Retrying IndexedDB access"),await n(),e.Fr.delete(1),await Cw(e)}))}function zw(e,t){return t().catch((n=>jw(e,n,t)))}async function Bw(e){const t=nm(e),n=Jw(t);let r=t.$r.length>0?t.$r[t.$r.length-1].batchId:-1;for(;qw(t);)try{const e=await Xb(t.localStore,r);if(null===e){0===t.$r.length&&n.ir();break}r=e.batchId,$w(t,e)}catch(e){await jw(t,e)}Kw(t)&&Hw(t)}function qw(e){return Pw(e)&&e.$r.length<10}function $w(e,t){e.$r.push(t);const n=Jw(e);n.er()&&n.pr&&n.Er(t.mutations)}function Kw(e){return Pw(e)&&!Jw(e).tr()&&e.$r.length>0}function Hw(e){Jw(e).start()}async function Ww(e){Jw(e).Ar()}async function Gw(e){const t=Jw(e);for(const n of e.$r)t.Er(n.mutations)}async function Qw(e,t,n){const r=e.$r.shift(),i=qv.from(r,t,n);await zw(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Bw(e)}async function Xw(e,t){t&&Jw(e).pr&&await async function(e,t){if(function(e){switch(e){case Hp.OK:return em();case Hp.CANCELLED:case Hp.UNKNOWN:case Hp.DEADLINE_EXCEEDED:case Hp.RESOURCE_EXHAUSTED:case Hp.INTERNAL:case Hp.UNAVAILABLE:case Hp.UNAUTHENTICATED:return!1;case Hp.INVALID_ARGUMENT:case Hp.NOT_FOUND:case Hp.ALREADY_EXISTS:case Hp.PERMISSION_DENIED:case Hp.FAILED_PRECONDITION:case Hp.ABORTED:case Hp.OUT_OF_RANGE:case Hp.UNIMPLEMENTED:case Hp.DATA_LOSS:return!0;default:return em()}}(n=t.code)&&n!==Hp.ABORTED){const n=e.$r.shift();Jw(e).sr(),await zw(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Bw(e)}var n}(e,t),Kw(e)&&Hw(e)}function Yw(e){return e.qr||(e.qr=function(e,t,n){const r=nm(e);return r.Pr(),new Sw(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Fw.bind(null,e),Ri:Uw.bind(null,e),_r:Vw.bind(null,e)}),e.Mr.push((async t=>{t?(e.qr.sr(),Ow(e)?Lw(e):e.Br.set("Unknown")):(await e.qr.stop(),Mw(e))}))),e.qr}function Jw(e){return e.Kr||(e.Kr=function(e,t,n){const r=nm(e);return r.Pr(),new kw(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ww.bind(null,e),Ri:Xw.bind(null,e),Ir:Gw.bind(null,e),Tr:Qw.bind(null,e)}),e.Mr.push((async t=>{t?(e.Kr.sr(),await Bw(e)):(await e.Kr.stop(),e.$r.length>0&&(Xp("RemoteStore",`Stopping write stream with ${e.$r.length} pending writes`),e.$r=[]))}))),e.Kr}class Zw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Zw(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wp(Hp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(e,t){if(Yp("AsyncQueue",`${t}: ${e}`),Pv(e))return new Wp(Hp.UNAVAILABLE,`${t}: ${e}`);throw e}class tE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||_m.comparator(t.key,n.key):(e,t)=>_m.comparator(e.key,t.key),this.keyedMap=dy(),this.sortedSet=new sy(this.comparator)}static emptySet(e){return new tE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nE{constructor(){this.jr=new sy(_m.comparator)}track(e){const t=e.doc.key,n=this.jr.get(t);n?0!==e.type&&3===n.type?this.jr=this.jr.insert(t,e):3===e.type&&1!==n.type?this.jr=this.jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.jr=this.jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.jr=this.jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.jr=this.jr.remove(t):1===e.type&&2===n.type?this.jr=this.jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.jr=this.jr.insert(t,{type:2,doc:e.doc}):em():this.jr=this.jr.insert(t,e)}Qr(){const e=[];return this.jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class rE{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new rE(e,t,tE.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class iE{constructor(){this.Wr=void 0,this.listeners=[]}}class sE{constructor(){this.queries=new Nb((e=>vg(e)),yg),this.onlineState="Unknown",this.Gr=new Set}}function oE(e,t){const n=nm(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Hr(e)&&(r=!0);i.Wr=e}}r&&lE(n)}function aE(e,t,n){const r=nm(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function lE(e){e.Gr.forEach((e=>{e.next()}))}class uE{constructor(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}Hr(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),t=!0):this.eo(e,this.onlineState)&&(this.no(e),t=!0),this.Xr=e,t}onError(e){this.Jr.error(e)}zr(e){this.onlineState=e;let t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t}eo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)}Zr(e){if(e.docChanges.length>0)return!0;const t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}no(e){e=rE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)}}class cE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class fE{constructor(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=gy(),this.mutatedKeys=gy(),this.lo=Eg(e),this.fo=new tE(this.lo)}get wo(){return this.uo}_o(e,t){const n=t?t.mo:new nE,r=t?t.fo:this.fo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=dg(this.query)&&r.size===this.query.limit?r.last():null,l=pg(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=wg(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.yo(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.lo(c,a)>0||l&&this.lo(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),dg(this.query)||pg(this.query))for(;s.size>this.query.limit;){const e=dg(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{fo:s,mo:n,Nn:o,mutatedKeys:i}}yo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;const i=e.mo.Qr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return em()}};return n(e)-n(t)}(e.type,t.type)||this.lo(e.doc,t.doc))),this.po(n);const s=t?this.Eo():[],o=0===this.ho.size&&this.current?1:0,a=o!==this.ao;return this.ao=o,0!==i.length||a?{snapshot:new rE(this.query,e.fo,r,i,e.mutatedKeys,0===o,a,!1),To:s}:{To:s}}zr(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}}Io(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations}po(e){e&&(e.addedDocuments.forEach((e=>this.uo=this.uo.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.uo=this.uo.delete(e))),this.current=e.current)}Eo(){if(!this.current)return[];const e=this.ho;this.ho=gy(),this.fo.forEach((e=>{this.Io(e.key)&&(this.ho=this.ho.add(e.key))}));const t=[];return e.forEach((e=>{this.ho.has(e)||t.push(new hE(e))})),this.ho.forEach((n=>{e.has(n)||t.push(new cE(n))})),t}Ao(e){this.uo=e.Bn,this.ho=gy();const t=this._o(e.documents);return this.applyChanges(t,!0)}Ro(){return rE.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)}}class dE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pE{constructor(e){this.key=e,this.Po=!1}}class mE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.bo={},this.vo=new Nb((e=>vg(e)),yg),this.Vo=new Map,this.So=new Set,this.Do=new sy(_m.comparator),this.Co=new Map,this.No=new tw,this.xo={},this.ko=new Map,this.$o=yb.Yt(),this.onlineState="Unknown",this.Oo=void 0}get isPrimaryClient(){return!0===this.Oo}}async function gE(e,t){const n=function(e){const t=nm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wE.bind(null,t),t.bo._r=oE.bind(null,t.eventManager),t.bo.Mo=aE.bind(null,t.eventManager),t}(e);let r,i;const s=n.vo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro();else{const e=await function(e,t){const n=nm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ue.getTargetData(e,t).next((i=>i?(r=i,Dv.resolve(r)):n.Ue.allocateTargetId(e).next((i=>(r=new $v(t,i,0,e.currentSequenceNumber),n.Ue.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.$n.set(t,e.targetId)),e}))}(n.localStore,gg(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Fo=(t,n,r)=>async function(e,t,n,r){let i=t.view._o(n);i.Nn&&(i=await Jb(e.localStore,t.query,!1).then((({documents:e})=>t.view._o(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return CE(e,t.targetId,o.To),o.snapshot}(e,t,n,r);const i=await Jb(e.localStore,t,!0),s=new fE(t,i.Bn),o=s._o(i.documents),a=wy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);CE(e,n,l.To);const u=new dE(t,n,s);return e.vo.set(t,u),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot}(n,t,r,"current"===s),n.isPrimaryClient&&Nw(n.remoteStore,e)}return i}async function yE(e,t){const n=nm(e),r=n.vo.get(t),i=n.Vo.get(r.targetId);if(i.length>1)return n.Vo.set(r.targetId,i.filter((e=>!yg(e,t)))),void n.vo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Yb(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Dw(n.remoteStore,r.targetId),xE(n,r.targetId)})).catch(Sb)):(xE(n,r.targetId),await Yb(n.localStore,r.targetId,!0))}async function vE(e,t){const n=nm(e);try{const e=await Qb(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Co.get(t);r&&(tm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Po=!0:e.modifiedDocuments.size>0?tm(r.Po):e.removedDocuments.size>0&&(tm(r.Po),r.Po=!1))})),await DE(n,e,t)}catch(e){await Sb(e)}}function bE(e,t,n){const r=nm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.vo.forEach(((n,r)=>{const i=r.view.zr(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=nm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.zr(t)&&(r=!0)})),r&&lE(n)}(r.eventManager,t),e.length&&r.bo._r(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wE(e,t,n){const r=nm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Co.get(t),s=i&&i.key;if(s){let e=new sy(_m.comparator);e=e.insert(s,$m.newNoDocument(s,um.min()));const n=gy().add(s),i=new by(um.min(),new Map,new ly(sm),e,n);await vE(r,i),r.Do=r.Do.remove(s),r.Co.delete(t),NE(r)}else await Yb(r.localStore,t,!1).then((()=>xE(r,t,n))).catch(Sb)}async function EE(e,t){const n=nm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=nm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Fn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Dv.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);tm(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e._n.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n._n.performConsistencyCheck(e))).next((()=>n.Mn.pn(e,r)))}))}(n.localStore,t);TE(n,r,null),kE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await DE(n,e)}catch(e){await Sb(e)}}async function SE(e,t,n){const r=nm(e);try{const e=await function(e,t){const n=nm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n._n.lookupMutationBatch(e,t).next((t=>(tm(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)))).next((()=>n._n.performConsistencyCheck(e))).next((()=>n.Mn.pn(e,r)))}))}(r.localStore,t);TE(r,t,n),kE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await DE(r,e)}catch(n){await Sb(n)}}function kE(e,t){(e.ko.get(t)||[]).forEach((e=>{e.resolve()})),e.ko.delete(t)}function TE(e,t,n){const r=nm(e);let i=r.xo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function xE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Vo.get(t))e.vo.delete(r),n&&e.bo.Mo(r,n);e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((t=>{e.No.containsKey(t)||IE(e,t)}))}function IE(e,t){e.So.delete(t.path.canonicalString());const n=e.Do.get(t);null!==n&&(Dw(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),NE(e))}function CE(e,t,n){for(const r of n)r instanceof cE?(e.No.addReference(r.key,t),_E(e,r)):r instanceof hE?(Xp("SyncEngine","Document no longer in limbo: "+r.key),e.No.removeReference(r.key,t),e.No.containsKey(r.key)||IE(e,r.key)):em()}function _E(e,t){const n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Xp("SyncEngine","New document in limbo: "+n),e.So.add(r),NE(e))}function NE(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){const t=e.So.values().next().value;e.So.delete(t);const n=new _m(pm.fromString(t)),r=e.$o.next();e.Co.set(r,new pE(n)),e.Do=e.Do.insert(n,r),Nw(e.remoteStore,new $v(gg(fg(n.path)),r,2,Kp.o))}}async function DE(e,t,n){const r=nm(e),i=[],s=[],o=[];r.vo.isEmpty()||(r.vo.forEach(((e,a)=>{o.push(r.Fo(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=qb.vn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.bo._r(i),await async function(e,t){const n=nm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Dv.forEach(t,(t=>Dv.forEach(t.Pn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Dv.forEach(t.bn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Pv(e))throw e;Xp("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.kn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.kn=n.kn.insert(t,i)}}}(r.localStore,s))}async function AE(e,t){const n=nm(e);if(!n.currentUser.isEqual(t)){Xp("SyncEngine","User change. New user:",t.toKey());const e=await Wb(n.localStore,t);n.currentUser=t,function(e,t){e.ko.forEach((e=>{e.forEach((e=>{e.reject(new Wp(Hp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await DE(n,e.Ln)}}function RE(e,t){const n=nm(e),r=n.Co.get(t);if(r&&r.Po)return gy().add(r.key);{let e=gy();const r=n.Vo.get(t);if(!r)return e;for(const t of r){const r=n.vo.get(t);e=e.unionWith(r.view.wo)}return e}}function LE(e){const t=nm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SE.bind(null,t),t}class OE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.R=bw(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.Uo(e),await this.persistence.start(),this.gcScheduler=this.qo(e),this.localStore=this.Ko(e)}qo(e){return null}Ko(e){return Hb(this.persistence,new $b,e.initialUser,this.R)}Uo(e){return new aw(uw.Ps,this.R)}Bo(e){return new fw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PE extends OE{constructor(e,t,n){super(),this.jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await Zb(this.localStore),await this.jo.initialize(this,e),await LE(this.jo.syncEngine),await Bw(this.jo.remoteStore)}Ko(e){return Hb(this.persistence,new $b,e.initialUser,this.R)}qo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new xb(t,e.asyncQueue)}Uo(e){const t=function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ub.withCacheSize(this.cacheSizeBytes):ub.DEFAULT;return new Vb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,vw(),this.R,this.sharedClientState,!!this.forceOwnership)}Bo(e){return new fw}}class ME{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=AE.bind(null,this.syncEngine),await async function(e,t){const n=nm(e);t?(n.Fr.delete(2),await Cw(n)):t||(n.Fr.add(2),await _w(n),n.Br.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sE}createDatastore(e){const t=bw(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new yw(r));var r;return function(e,t,n){return new Tw(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>bE(this.syncEngine,e,0),s=pw.gt()?new pw:new dw,new Iw(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new mE(e,t,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=nm(e);Xp("RemoteStore","RemoteStore shutting down."),t.Fr.add(5),await _w(t),t.Lr.shutdown(),t.Br.set("Unknown")}(this.remoteStore)}}class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Qo(this.observer.next,e)}error(e){this.observer.error?this.Qo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Wo(){this.muted=!0}Qo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class UE{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=cw.UNAUTHENTICATED,this.clientId=im.u(),this.credentialListener=()=>Promise.resolve(),this.credentials.setChangeListener(t,(async e=>{Xp("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wp(Hp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.removeChangeListener(),e.resolve()}catch(t){const n=eE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function VE(e,t){e.asyncQueue.verifyOperationInProgress(),Xp("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Wb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function jE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(Xp("FirestoreClient","Using default OfflineComponentProvider"),await VE(e,new OE)),e.offlineComponents}(e);Xp("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=nm(e);n.asyncQueue.verifyOperationInProgress(),Xp("RemoteStore","RemoteStore received new credentials");const r=Pw(n);n.Fr.add(3),await _w(n),r&&n.Br.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Fr.delete(3),await Cw(n)}(t.remoteStore,e))),e.onlineComponents=t}async function zE(e){return e.onlineComponents||(Xp("FirestoreClient","Using default OnlineComponentProvider"),await jE(e,new ME)),e.onlineComponents}async function BE(e){const t=await zE(e),n=t.eventManager;return n.onListen=gE.bind(null,t.syncEngine),n.onUnlisten=yE.bind(null,t.syncEngine),n}class qE{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class $E{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $E&&e.projectId===this.projectId&&e.database===this.database}}const KE=new Map;class HE{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class WE{constructor(){this.changeListener=null}getToken(){return Promise.resolve(null)}invalidateToken(){}setChangeListener(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(cw.UNAUTHENTICATED)))}removeChangeListener(){this.changeListener=null}}class GE{constructor(e){this.currentUser=cw.UNAUTHENTICATED,this.oc=new Nv,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=()=>{this.cc++,this.currentUser=this.ac(),this.oc.resolve(),this.changeListener&&this.asyncQueue.enqueueRetryable((()=>this.changeListener(this.currentUser)))};const t=e=>{Xp("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.uc)};e.onInit((e=>t(e))),setTimeout((()=>{if(!this.auth){const n=e.getImmediate({optional:!0});n?t(n):(Xp("FirebaseCredentialsProvider","Auth not yet detected"),this.oc.resolve())}}),0)}getToken(){const e=this.cc,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.cc!==e?(Xp("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(tm("string"==typeof t.accessToken),new HE(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}setChangeListener(e,t){this.asyncQueue=e,this.asyncQueue.enqueueRetryable((async()=>{await this.oc.promise,await t(this.currentUser),this.changeListener=t}))}removeChangeListener(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=()=>Promise.resolve()}ac(){const e=this.auth&&this.auth.getUid();return tm(null===e||"string"==typeof e),new cw(e)}}class QE{constructor(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=cw.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e}}class XE{constructor(e,t,n){this.hc=e,this.lc=t,this.fc=n}getToken(){return Promise.resolve(new QE(this.hc,this.lc,this.fc))}setChangeListener(e,t){e.enqueueRetryable((()=>t(cw.FIRST_PARTY)))}removeChangeListener(){}invalidateToken(){}}function YE(e,t,n){if(!n)throw new Wp(Hp.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JE(e){if(!_m.isDocumentKey(e))throw new Wp(Hp.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":em()}function eS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wp(Hp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ZE(e);throw new Wp(Hp.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class tS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Wp(Hp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wp(Hp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Wp(Hp.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nS{constructor(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1,e instanceof $E?(this._databaseId=e,this._credentials=new WE):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wp(Hp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $E(e.options.projectId)}(e),this._credentials=new GE(t))}get app(){if(!this._app)throw new Wp(Hp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wp(Hp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new WE;switch(e.type){case"gapi":const t=e.client;return tm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new XE(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wp(Hp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KE.get(e);t&&(Xp("ComponentProvider","Removing Datastore"),KE.delete(e),t.terminate())}(this),Promise.resolve()}}class rS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rS(this.firestore,e,this._key)}}class iS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new iS(this.firestore,e,this._query)}}class sS extends iS{constructor(e,t,n){super(e,t,fg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rS(this.firestore,null,new _m(e))}withConverter(e){return new sS(this.firestore,e,this._path)}}function oS(e,t,...n){if(e=lc(e),1===arguments.length&&(t=im.u()),YE("doc","path",t),e instanceof nS){const r=pm.fromString(t,...n);return JE(r),new rS(e,null,new _m(r))}{if(!(e instanceof rS||e instanceof sS))throw new Wp(Hp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pm.fromString(t,...n));return JE(r),new rS(e.firestore,e instanceof sS?e.converter:null,new _m(r))}}class aS{constructor(){this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.gc=null,this.yc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ww(this,"async_queue_retry"),this.Ic=()=>{const e=vw();e&&Xp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Zi.Gi()};const e=vw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}get isShuttingDown(){return this._c}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ac(),this.Rc(e)}enterRestrictedMode(e){if(!this._c){this._c=!0,this.Ec=e||!1;const t=vw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}}enqueue(e){if(this.Ac(),this._c)return new Promise((()=>{}));const t=new Nv;return this.Rc((()=>this._c&&this.Ec?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.wc.push(e),this.Pc())))}async Pc(){if(0!==this.wc.length){try{await this.wc[0](),this.wc.shift(),this.Zi.reset()}catch(e){if(!Pv(e))throw e;Xp("AsyncQueue","Operation failed with retryable error: "+e)}this.wc.length>0&&this.Zi.Qi((()=>this.Pc()))}}Rc(e){const t=this.dc.then((()=>(this.yc=!0,e().catch((e=>{throw this.gc=e,this.yc=!1,Yp("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.yc=!1,e))))));return this.dc=t,t}enqueueAfterDelay(e,t,n){this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);const r=Zw.createAndSchedule(this,e,t,n,(e=>this.bc(e)));return this.mc.push(r),r}Ac(){this.gc&&em()}verifyOperationInProgress(){}async vc(){let e;do{e=this.dc,await e}while(e!==this.dc)}Vc(e){for(const t of this.mc)if(t.timerId===e)return!0;return!1}Sc(e){return this.vc().then((()=>{this.mc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.mc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.vc()}))}Dc(e){this.Tc.push(e)}bc(e){const t=this.mc.indexOf(e);this.mc.splice(t,1)}}function lS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class uS extends nS{constructor(e,t){super(e,t),this.type="firestore",this._queue=new aS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hS(this),this._firestoreClient.terminate()}}function cS(e){return e._firestoreClient||hS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hS(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new qE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new UE(e._credentials,e._queue,r)}class fS{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Wp(Hp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dS(vm.fromBase64String(e))}catch(e){throw new Wp(Hp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dS(vm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pS{constructor(e){this._methodName=e}}class mS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wp(Hp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wp(Hp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sm(this._lat,e._lat)||sm(this._long,e._long)}}const gS=/^__.*__$/;class yS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Qg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gg(e,this.data,t,this.fieldTransforms)}}class vS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Qg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw em()}}class wS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Nc(){return this.settings.Nc}xc(e){return new wS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}kc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,$c:!1});return r.Oc(e),r}Fc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,$c:!1});return r.Cc(),r}Mc(e){return this.xc({path:void 0,$c:!0})}Lc(e){return RS(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.Uc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Cc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Oc(this.path.get(e))}Oc(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(bS(this.Nc)&&gS.test(e))throw this.Lc('Document fields cannot begin and end with "__"')}}class ES{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||bw(e)}qc(e,t,n,r=!1){return new wS({Nc:e,methodName:t,Uc:n,path:gm.emptyPath(),$c:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)}}function SS(e){const t=e._freezeSettings(),n=bw(e._databaseId);return new ES(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kS(e,t,n,r,i,s={}){const o=e.qc(s.merge||s.mergeFields?2:0,t,n,i);_S("Data must be an object, but it was:",o,r);const a=IS(r,o);let l,u;if(s.merge)l=new ym(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=NS(t,r,n);if(!o.contains(i))throw new Wp(Hp.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);LS(e,i)||e.push(i)}l=new ym(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new yS(new Bm(a),l,u)}class TS extends pS{_toFieldTransform(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(`${this._methodName}() can only appear at the top level of your update data`):e.Lc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof TS}}function xS(e,t){if(CS(e=lc(e)))return _S("Unsupported field value:",t,e),IS(e,t);if(e instanceof pS)return function(e,t){if(!bS(t.Nc))throw t.Lc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Lc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.$c&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=xS(i,t.Mc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xg(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=lm.fromDate(e);return{timestampValue:Ay(t.R,n)}}if(e instanceof lm){const n=new lm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ay(t.R,n)}}if(e instanceof mS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dS)return{bytesValue:Ry(t.R,e._byteString)};if(e instanceof rS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Py(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc(`Unsupported field value: ${ZE(e)}`)}(e,t)}function IS(e,t){const n={};return fm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hm(e,((e,r)=>{const i=xS(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof lm||e instanceof mS||e instanceof dS||e instanceof rS||e instanceof pS)}function _S(e,t,n){if(!CS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ZE(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function NS(e,t,n){if((t=lc(t))instanceof fS)return t._internalPath;if("string"==typeof t)return AS(e,t);throw RS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const DS=new RegExp("[~\\*/\\[\\]]");function AS(e,t,n){if(t.search(DS)>=0)throw RS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fS(...t.split("."))._internalPath}catch(r){throw RS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function RS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Wp(Hp.INVALID_ARGUMENT,a+e+l)}function LS(e,t){return e.some((e=>e.isEqual(t)))}class OS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PS extends OS{data(){return super.data()}}function MS(e,t){return"string"==typeof t?AS(e,t):t instanceof fS?t._internalPath:t._delegate._internalPath}class FS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class US extends OS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new VS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(MS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class VS extends US{data(e={}){return super.data(e)}}class jS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new FS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new VS(this._firestore,this._userDataWriter,n.key,n,new FS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wp(Hp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new VS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new FS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new VS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:zS(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return em()}}class BS extends class{convertValue(e,t="none"){switch(Nm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Em(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw em()}}convertObject(e,t){const n={};return hm(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new mS(Em(e.latitude),Em(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Tm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const t=wm(e);return new lm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pm.fromString(e);tm(sv(n));const r=new $E(n.get(1),n.get(3)),i=new _m(n.popFirst(5));return r.isEqual(t)||Yp(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new dS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rS(this.firestore,null,t)}}function qS(e,t,n){e=eS(e,rS);const r=eS(e.firestore,uS),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return HS(r,[kS(SS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jg.none())])}function $S(e,t,n,...r){e=eS(e,rS);const i=eS(e.firestore,uS),s=SS(i);let o;return o="string"==typeof(t=lc(t))||t instanceof fS?function(e,t,n,r,i,s){const o=e.qc(1,t,n),a=[NS(t,r,n)],l=[i];if(s.length%2!=0)throw new Wp(Hp.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(NS(t,s[e])),l.push(s[e+1]);const u=[],c=Bm.empty();for(let e=a.length-1;e>=0;--e)if(!LS(u,a[e])){const t=a[e];let n=l[e];n=lc(n);const r=o.Fc(t);if(n instanceof TS)u.push(t);else{const e=xS(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new ym(u);return new vS(c,h,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.qc(1,t,n);_S("Data must be an object, but it was:",i,r);const s=[],o=Bm.empty();hm(r,((e,r)=>{const a=AS(t,e,n);r=lc(r);const l=i.Fc(a);if(r instanceof TS)s.push(a);else{const e=xS(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ym(s);return new vS(o,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),HS(i,[o.toMutation(e._key,jg.exists(!0))])}function KS(e,...t){var n,r,i;e=lc(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||lS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(lS(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof rS)u=eS(e.firestore,uS),c=fg(e._key.path),l={next:n=>{t[o]&&t[o](function(e,t,n){const r=n.docs.get(t._key),i=new BS(e);return new US(e,i,t._key,r,new FS(n.hasPendingWrites,n.fromCache),t.converter)}(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=eS(e,iS);u=eS(n.firestore,uS),c=n._query;const r=new BS(u);l={next:e=>{t[o]&&t[o](new jS(u,r,n,e))},error:t[o+1],complete:t[o+2]},function(e){if(pg(e)&&0===e.explicitOrderBy.length)throw new Wp(Hp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new FE(r),s=new uE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=nm(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iE),i)try{s.Wr=await n.onListen(r)}catch(e){const n=eE(e,`Initialization of query '${bg(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&lE(n)}(await BE(e),s))),()=>{i.Wo(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=nm(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await BE(e),s)))}}(cS(u),c,a,l)}function HS(e,t){return function(e,t){const n=new Nv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=LE(e);try{const e=await function(e,t){const n=nm(e),r=lm.now(),i=t.reduce(((e,t)=>e.add(t.key)),gy());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Mn.pn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Kg(e,s.get(e.key));null!=t&&o.push(new Qg(e.key,t,qm(t.value.mapValue),jg.exists(!0)))}return n._n.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xo[e.currentUser.toKey()];r||(r=new sy(sm)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,e.batchId,n),await DE(r,e.changes),await Bw(r.remoteStore)}catch(e){const t=eE(e,"Failed to persist write");n.reject(t)}}(await function(e){return zE(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(cS(e),t)}$p="9.0.0-beta.7",Ic(new uc("firestore-exp",((e,{options:t})=>{const n=e.getProvider("app-exp").getImmediate(),r=new uS(n,e.getProvider("auth-internal"));return t=Object.assign({useFetchStreams:!1},t),r._setSettings(t),r}),"PUBLIC")),Nc("@firebase/firestore","0.0.900-exp.6ef484a04",undefined);Nc("firebase-exp","9.0.0-beta.7","app"),function(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Cc.create("bad-app-name",{appName:String(r)});if(kc.has(r))throw Cc.create("duplicate-app",{appName:r});const i=new dc(r);for(const e of Tc.values())i.addComponent(e);const s=new _c(e,n,i);kc.set(r,s)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",authDomain:"rebot-f643e.firebaseapp.com",projectId:"rebot-f643e",storageBucket:"rebot-f643e.appspot.com",messagingSenderId:"329205426356",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1"});const WS=function(e=function(e="[DEFAULT]"){const t=kc.get(e);if(!t)throw Cc.create("no-app",{appName:e});return t}()){return function(e,t){return e.container.getProvider(t)}(e,"firestore-exp").getImmediate()}();(function(e,t){!function(e){if(e._initialized||e._terminated)throw new Wp(Hp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(e=eS(e,uS));const n=cS(e),r=e._freezeSettings(),i=new ME;return function(e,t,n){const r=new Nv;return e.asyncQueue.enqueue((async()=>{try{await VE(e,n),await jE(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Hp.FAILED_PRECONDITION||e.code===Hp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}(n,i,new PE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))})(WS,{forceOwnership:!0}).catch((e=>{console.log(e.code)}));const GS={manifest:oS(WS,"appConfig","subjects"),timetable:oS(WS,"timeTables","9D"),settings:oS(WS,"1046049249","config"),workspace:oS(WS,"1046049249","workspace"),marks:oS(WS,"1046049249","marks"),firestore:WS},QS=e.exports.createContext(null);function XS(t){const n=e.exports.useContext(QS),r=e.exports.useRef(null);e.exports.useEffect((()=>{r.current.value=t.lesson_data.hw}),[t.lesson_data.hw]);const i=n?n[t.lesson_data.id].title:F.createElement("i",{className:"fas fa-circle-notch fa-spin"}),s={backgroundColor:n?n[t.lesson_data.id].color:"var(--background3)"};return F.createElement("div",{className:"SubjectRow"},F.createElement("div",{className:"subj",style:s},i),F.createElement("div",{className:"homework fr"},F.createElement("form",{onSubmit:function(e){e.preventDefault(),r.current.blur(),$S(GS.timetable,{[t.path+".hw"]:r.current.value})},style:{display:"inline-block"}},F.createElement("input",{type:"text",ref:r}))),F.createElement("div",{className:"tool stealth"},F.createElement("i",{className:"fas fa-book"})))}var YS=e.exports.memo(XS);const JS={1:"Понедельник",2:"Вторник",3:"Среда",4:"Четверг",5:"Пятница",6:"Суббота",7:"Воскресенье"};function ZS(e){let t,n=[];for(t in e.day_data)n.push(F.createElement(YS,{key:t,path:e.pathToDay+"."+t,lesson_data:e.day_data[t]}));return F.createElement("div",{className:"UIBlock"},F.createElement("h1",null,JS[e.day_num]),F.createElement("div",{className:"content"},n))}function ek(){return(ek=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tk(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nk(e,t){return(nk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nk(e,t)}function ik(){}function sk(){}sk.resetWarningCache=ik;function ok(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}!function(){function e(e,t,n,r,i,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sk,resetWarningCache:ik};n.PropTypes=n}();var ak=!1,lk=F.createContext(null),uk=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}rk(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Gu.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||ak?this.safeSetState({status:"entered"},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(s,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Gu.findDOMNode(this);t&&!ak?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Gu.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=tk(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return F.createElement(lk.Provider,{value:null},"function"==typeof n?n(e,r):F.cloneElement(F.Children.only(n),r))},t}(F.Component);function ck(){}uk.contextType=lk,uk.propTypes={},uk.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ck,onEntering:ck,onEntered:ck,onExit:ck,onExiting:ck,onExited:ck},uk.UNMOUNTED="unmounted",uk.EXITED="exited",uk.ENTERING="entering",uk.ENTERED="entered",uk.EXITING="exiting";var hk=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))},fk=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=ok(n.className,r):n.setAttribute("class",ok(n.className&&n.className.baseVal||"",r)));var n,r}))},dk=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}rk(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,hk(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&fk(e,r),i&&fk(e,i),s&&fk(e,s)},n.render=function(){var e=this.props;e.classNames;var t=tk(e,["classNames"]);return F.createElement(uk,ek({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(F.Component);function pk(t,n){var r=Object.create(null);return t&&e.exports.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&e.exports.isValidElement(t)?n(t):t}(t)})),r}function mk(e,t,n){return null!=n[t]?n[t]:e.props[t]}function gk(t,n,r){var i=pk(t.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var o in e)o in t?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];a[i[l][r]]=n(u)}a[l]=n(l)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,i);return Object.keys(s).forEach((function(o){var a=s[o];if(e.exports.isValidElement(a)){var l=o in n,u=o in i,c=n[o],h=e.exports.isValidElement(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&e.exports.isValidElement(c)&&(s[o]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:mk(a,"exit",t),enter:mk(a,"enter",t)})):s[o]=e.exports.cloneElement(a,{in:!1}):s[o]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:mk(a,"exit",t),enter:mk(a,"enter",t)})}})),s}dk.defaultProps={classNames:""},dk.propTypes={};var yk=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},vk=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}rk(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,s=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,pk(r.children,(function(t){return e.exports.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:mk(t,"appear",r),enter:mk(t,"enter",r),exit:mk(t,"exit",r)})}))):gk(t,s,o),firstRender:!1}},r.handleExited=function(e,t){var n=pk(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ek({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=tk(e,["component","childFactory"]),i=this.state.contextValue,s=yk(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?F.createElement(lk.Provider,{value:i},s):F.createElement(lk.Provider,{value:i},F.createElement(t,r,s))},n}(F.Component);function bk(){const[t,n]=e.exports.useState(!1),[r,i]=e.exports.useState(!1),[s,o]=e.exports.useState(!navigator.onLine),[a,l]=e.exports.useState(2);if(e.exports.useEffect((()=>{window.addEventListener("online",(()=>o(!0))),window.addEventListener("offline",(()=>o(!0)))}),[]),e.exports.useEffect((()=>{KS(GS.timetable,(e=>{n(e.data())}))}),[]),e.exports.useEffect((()=>{i(t[a])}),[a,t]),r){const e=[];let t;for(t in r)e.push(F.createElement(ZS,{key:t,pathToDay:a+"."+t,day_num:t,day_data:r[t]}));const n=1==a?"Прошлая неделя":2==a?"Эта неделя":"Следующая неделя";return F.createElement("div",null,F.createElement("div",{className:"UIBlock weekChanger"},a>1?F.createElement("button",{onClick:()=>l(a-1)},F.createElement("i",{className:"fas fa-chevron-left fa-2x"})):F.createElement("button",{className:"unactive"},F.createElement("i",{className:"fas fa-chevron-left fa-2x"})),F.createElement("span",null,n),a<3?F.createElement("button",{onClick:()=>l(a+1)},F.createElement("i",{className:"fas fa-chevron-right fa-2x"})):F.createElement("button",{className:"unactive"},F.createElement("i",{className:"fas fa-chevron-right fa-2x"}))),s&&F.createElement("div",{className:"offline-alert"},F.createElement("div",{className:"text"},F.createElement("h4",null,"Интернет недоступен"),F.createElement("p",null,"Данные будут сохранены при подключении")),F.createElement("i",{className:"fas fa-exclamation-triangle"})),F.createElement(vk,{exit:!1},F.createElement(dk,{key:a,timeout:300,classNames:"week-grid"},F.createElement("div",{className:"week-grid"},e))),F.createElement("div",{className:"UIBlock tools"},F.createElement("button",{onClick:()=>globalThis.UI.slide(globalThis.settings)},F.createElement("i",{className:"fas fa-cog"}))))}return null}vk.propTypes={},vk.defaultProps={component:"div",childFactory:function(e){return e}};var wk=e.exports.memo((function(t){const n=e.exports.useContext(QS),r=e.exports.useRef(null),i=t.marks,s=n?n[t.subj_id].title:F.createElement("i",{className:"fas fa-circle-notch fa-spin"}),o={backgroundColor:n?n[t.subj_id].color:"var(--background3)"};let a=0,l=0;i.split(",").map((e=>{let t=parseInt(e);t&&(a+=t,l++)}));let u=a/l;function c(e){e.preventDefault(),r.current.blur(),qS(GS.marks,{[t.subj_id]:r.current.value},{merge:!0})}return u=isNaN(u)?null:Number(u.toFixed(1)),F.createElement("div",{className:"SubjectRow"},F.createElement("div",{className:"subj",style:o},s),F.createElement("div",{className:"homework fr"},F.createElement("form",{onSubmit:c,style:{display:"inline-block"}},F.createElement("input",{type:"text",defaultValue:i,ref:r,onBlur:c}))),u&&F.createElement("div",{className:"tool"},u),F.createElement("div",{className:"tool",onClick:function(){const e=r.current;e.focus(),","!=e.value.trim().slice(-1)&&""!=e.value&&(e.value+=", ")}},F.createElement("i",{className:"fas fa-plus"})))}));function Ek(){const[t,n]=e.exports.useState({});let r;e.exports.useEffect((()=>{KS(GS.marks,(e=>{n(Object.fromEntries(Object.entries(e.data()).sort()))}))}),[]);let i=[];for(r in t)i.push(F.createElement(wk,{key:r,subj_id:r,marks:t[r]}));return F.createElement("div",{className:"UIBlock"},F.createElement("h1",null,"Оценки"),F.createElement("div",{className:"content"},i))}function Sk(){const[t,n]=e.exports.useState(null);let r;return e.exports.useEffect((()=>{const e=async e=>{const t=await fetch("static/subjects.json"),r=await t.json();e?e.version<r.version&&(localStorage.setItem("manifest",JSON.stringify(r)),n(r.manifest),console.log("Manifest was updated")):(n(r.manifest),localStorage.setItem("manifest",JSON.stringify(r)))},t=localStorage.manifest;if(t){const r=JSON.parse(t);n(r.manifest),e(r)}else e()}),[]),r=F.createElement(QS.Provider,{value:t},[U.exports.createPortal(F.createElement(bk,null),document.getElementById("week")),U.exports.createPortal(F.createElement(Ek,null),document.getElementById("marks"))]),r}Gu.render(F.createElement(Sk,null),document.getElementById("root"));window.UI=class{static alert(e){let t=document.querySelector(".alert");t.textContent=e,t.style="display: block; animation: alert 0.45s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",window.active_timeout&&clearTimeout(window.active_timeout),window.active_timeout=setTimeout((()=>{t.style="display: block; animation: alert-down 0.4s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",t.addEventListener("animationend",(()=>{t.style=""}),{once:!0}),window.active_timeout=void 0}),1400)}static open(e){e.style="display: block; animation: slide-left 0.6s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;"}static slide(e){e.classList.toggle("active")}static change_tab(e,t){const n=document.querySelector(".app.active");n!=e&&(n.classList.remove("active"),e.classList.add("active"),n.scrollTo(0,0),e.scrollTo(0,0),window.scrollTo(0,0),document.body.scrollTo(0,0),t&&(document.querySelector(".bottom-nav span[active='true']").setAttribute("active","false"),t.setAttribute("active","true")))}static getInput(e,t){const n=document.querySelector("#rebot .search"),r=n.querySelector("input.rebot"),i=n.querySelector("input.google"),s=n.querySelector("img.google"),o=n.querySelector("img.rebot");r.classList.add("active"),i.classList.remove("active"),r.focus(),s.classList.remove("active"),o.classList.add("active"),r.addEventListener("keydown",(function n(i){if("Enter"==i.key){const i=r.value.replace(" ","").split(",");e(t,i),r.blur(),r.removeEventListener("keydown",n)}})),r.addEventListener("blur",(function e(){r.value="",r.classList.remove("active"),i.classList.add("active"),o.classList.remove("active"),s.classList.add("active"),r.removeEventListener("blur",e)}),{once:!0})}},globalThis.Settings=new class{constructor(e){this.settings=e,KS(e,(e=>{if(null==e.data()&&qS(this.settings,{inversion_set:!0,stealth_set:!1,theme:"dark"}),!e.metadata.hasPendingWrites){let t=e.data();for(let n in e.data())localStorage[n]=t[n];this.load()}}))}load(){"true"==localStorage.stealth_set&&(document.querySelector("#stealth_set").checked=!0,document.querySelectorAll(".stealth").forEach((e=>{e.style.display="none"})),document.querySelectorAll(".subject-block").forEach((e=>{e.style.gridTemplateColumns="88px 1fr"}))),"true"==localStorage.inversion_set?(document.querySelector("#inversion_set").checked=!0,document.documentElement.style.setProperty("--inv",.87)):(document.documentElement.style.setProperty("--inv",0),document.querySelector("#inversion_set").checked=!1),localStorage.theme&&document.documentElement.setAttribute("theme",localStorage.theme)}set(e){localStorage.setItem(e.id,e.checked),qS(this.settings,{[e.id]:e.checked},{merge:!0}),"stealth_set"==e.id&&(e.checked?window.UI.alert("Стелс мод включен)"):location.reload()),this.load()}set_theme(e){document.documentElement.setAttribute("theme",e),window.UI.alert("Тема изменена"),qS(this.settings,{theme:e},{merge:!0}),localStorage.setItem("theme",e)}}(GS.settings);
