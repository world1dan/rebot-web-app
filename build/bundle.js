!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={exports:{}},n={},r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=o(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){a=r(n);for(var h=0;h<a.length;h++)s.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l},l=a,u=60103,c=60106;n.Fragment=60107,n.StrictMode=60108,n.Profiler=60114;var h=60109,d=60110,f=60112;n.Suspense=60113,n.SuspenseList=60120;var p=60115,m=60116;if("function"==typeof Symbol&&Symbol.for){var g=Symbol.for;u=g("react.element"),c=g("react.portal"),n.Fragment=g("react.fragment"),n.StrictMode=g("react.strict_mode"),n.Profiler=g("react.profiler"),h=g("react.provider"),d=g("react.context"),f=g("react.forward_ref"),n.Suspense=g("react.suspense"),n.SuspenseList=g("react.suspense_list"),p=g("react.memo"),m=g("react.lazy")}var y="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function S(){}function C(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=E.prototype;var k=C.prototype=new S;k.constructor=C,l(k,E.prototype),k.isPureReactComponent=!0;var x=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:u,type:e,key:s,ref:o,props:i,_owner:I.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var D=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case u:case c:o=!0}}if(o)return i=i(o=e),e=""===r?"."+A(o,0):r,x(i)?(n="",null!=e&&(n=e.replace(D,"$&/")+"/"),P(i,t,n,"",(function(e){return e}))):null!=i&&(L(i)&&(i=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",x(e))for(var a=0;a<e.length;a++){var l=r+A(s=e[a],a);o+=P(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(s=e.next()).done;)o+=P(s=s.value,t,n,l=r+A(s,a++),i);else if("object"===s)throw t=""+e,Error(v(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},F={transition:0},V={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:F,ReactCurrentOwner:I,assign:l};n.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!L(e))throw Error(v(143));return e}},n.Component=E,n.PureComponent=C,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,n.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var r=l({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=I.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)T.call(t,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:u,type:e.type,key:i,ref:s,props:r,_owner:o}},n.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},n.createElement=N,n.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:f,render:e}},n.isValidElement=L,n.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},n.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},n.startTransition=function(e){var t=F.transition;F.transition=1;try{e()}finally{F.transition=t}},n.unstable_act=function(){throw Error(v(406))},n.unstable_createMutableSource=function(e,t){return{_getVersion:t,_source:e,_workInProgressVersionPrimary:null,_workInProgressVersionSecondary:null}},n.unstable_useMutableSource=function(e,t,n){return M.current.useMutableSource(e,t,n)},n.unstable_useOpaqueIdentifier=function(){return M.current.useOpaqueIdentifier()},n.useCallback=function(e,t){return M.current.useCallback(e,t)},n.useContext=function(e){return M.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return M.current.useDeferredValue(e)},n.useEffect=function(e,t){return M.current.useEffect(e,t)},n.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},n.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},n.useMemo=function(e,t){return M.current.useMemo(e,t)},n.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},n.useRef=function(e){return M.current.useRef(e)},n.useState=function(e){return M.current.useState(e)},n.useTransition=function(){return M.current.useTransition()},n.version="18.0.0-fd5e01c2e-20210913",t.exports=n;var j=t.exports,U={exports:{}},z={},B={exports:{}},q={};!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<s&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<s&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,A(E);else{var t=n(u);null!==t&&P(w,t.startTime-e)}}function E(t,i){p=!1,m&&(m=!1,y(x),x=-1),f=!0;var s=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!_());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var a=o(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var c=!0;else{var g=n(u);null!==g&&P(w,g.startTime-i),c=!1}return c}finally{h=null,d=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,x=-1,T=5,I=-1;function _(){return!(e.unstable_now()-I<T)}function N(){if(null!==k){var t=e.unstable_now();I=t;var n=!0;try{n=k(!0,t)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"==typeof v)S=function(){v(N)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,D=L.port2;L.port1.onmessage=N,S=function(){D.postMessage(null)}}else S=function(){g(N,0)};function A(e){k=e,C||(C=!0,S())}function P(t,n){x=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,A(E))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(r.sortIndex=s,t(u,r),null===n(l)&&r===n(u)&&(m?(y(x),x=-1):m=!0,P(w,s-o))):(r.sortIndex=a,t(l,r),p||f||(p=!0,A(E))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(q),B.exports=q;var $=a,H=t.exports,K=B.exports;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G=new Set,Q={};function Y(e,t){X(e,t),X(e+"Capture",t)}function X(e,t){for(Q[e]=t,e=0;e<t.length;e++)G.add(t[e])}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Z=Object.prototype.hasOwnProperty,ee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,te={},ne={};function re(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ie[e]=new re(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ie[t]=new re(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ie[e]=new re(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ie[e]=new re(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ie[e]=new re(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ie[e]=new re(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ie[e]=new re(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ie[e]=new re(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ie[e]=new re(e,5,!1,e.toLowerCase(),null,!1,!1)}));var se=/[\-:]([a-z])/g;function oe(e){return e[1].toUpperCase()}function ae(e,t,n,r){var i=ie.hasOwnProperty(t)?ie[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Z.call(ne,e)||!Z.call(te,e)&&(ee.test(e)?ne[e]=!0:(te[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(se,oe);ie[t]=new re(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(se,oe);ie[t]=new re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(se,oe);ie[t]=new re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ie[e]=new re(e,1,!1,e.toLowerCase(),null,!1,!1)})),ie.xlinkHref=new re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ie[e]=new re(e,1,!1,e.toLowerCase(),null,!0,!0)}));var le=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=60103,ce=60106,he=60107,de=60108,fe=60114,pe=60109,me=60110,ge=60112,ye=60113,ve=60120,be=60115,we=60116,Ee=60128,Se=60129,Ce=60130,ke=60131,xe=60132;if("function"==typeof Symbol&&Symbol.for){var Te=Symbol.for;ue=Te("react.element"),ce=Te("react.portal"),he=Te("react.fragment"),de=Te("react.strict_mode"),fe=Te("react.profiler"),pe=Te("react.provider"),me=Te("react.context"),ge=Te("react.forward_ref"),ye=Te("react.suspense"),ve=Te("react.suspense_list"),be=Te("react.memo"),we=Te("react.lazy"),Te("react.scope"),Ee=Te("react.opaque.id"),Se=Te("react.debug_trace_mode"),Ce=Te("react.offscreen"),ke=Te("react.legacy_hidden"),xe=Te("react.cache")}var Ie,_e="function"==typeof Symbol&&Symbol.iterator;function Ne(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_e&&e[_e]||e["@@iterator"])?e:null}function Le(e){if(void 0===Ie)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ie=t&&t[1]||""}return"\n"+Ie+e}var De=!1;function Ae(e,t){if(!e||De)return"";De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{De=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Le(e):""}function Pe(e){switch(e.tag){case 5:return Le(e.type);case 16:return Le("Lazy");case 13:return Le("Suspense");case 19:return Le("SuspenseList");case 0:case 2:case 15:return e=Ae(e.type,!1);case 11:return e=Ae(e.type.render,!1);case 1:return e=Ae(e.type,!0);default:return""}}function Oe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case he:return"Fragment";case ce:return"Portal";case fe:return"Profiler";case de:return"StrictMode";case ye:return"Suspense";case ve:return"SuspenseList";case xe:return"Cache"}if("object"==typeof e)switch(e.$$typeof){case me:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case ge:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case be:return null!==(t=e.displayName||null)?t:Oe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return Oe(e(t))}catch(e){}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(t);case 23:return"LegacyHidden";case 8:return t===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Fe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Fe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ue(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ze(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Be(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Me(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function qe(e,t){null!=(t=t.checked)&&ae(e,"checked",t,!1)}function $e(e,t){qe(e,t);var n=Me(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ke(e,t.type,Me(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function He(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ke(e,t,n){"number"===t&&Ue(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var We=Array.isArray;function Ge(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Me(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Qe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(W(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ye(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(W(92));if(We(n)){if(!(1>=n.length))throw Error(W(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Me(n)}}function Xe(e,t){var n=Me(t.value),r=Me(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tt,nt,rt=(nt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((tt=tt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return nt(e,t)}))}:nt);function it(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];function at(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||st.hasOwnProperty(e)&&st[e]?(""+t).trim():t+"px"}function lt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=at(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(st).forEach((function(e){ot.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),st[t]=st[e]}))}));var ut=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(ut[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(W(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(W(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(W(62))}}function ht(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,pt=null,mt=null;function gt(e){if(e=ls(e)){if("function"!=typeof ft)throw Error(W(280));var t=e.stateNode;t&&(t=cs(t),ft(e.stateNode,e.type,t))}}function yt(e){pt?mt?mt.push(e):mt=[e]:pt=e}function vt(){if(pt){var e=pt,t=mt;if(mt=pt=null,gt(e),t)for(e=0;e<t.length;e++)gt(t[e])}}function bt(e,t){return e(t)}function wt(){}var Et=!1;function St(e,t,n){if(Et)return e(t,n);Et=!0;try{return bt(e,t,n)}finally{Et=!1,(null!==pt||null!==mt)&&(wt(),vt())}}function Ct(e,t){var n=e.stateNode;if(null===n)return null;var r=cs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(W(231,t,typeof n));return n}var kt=!1;if(J)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){kt=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch(nt){kt=!1}function Tt(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var It=!1,_t=null,Nt=!1,Lt=null,Dt={onError:function(e){It=!0,_t=e}};function At(e,t,n,r,i,s,o,a,l){It=!1,_t=null,Tt.apply(Dt,arguments)}function Pt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(2050&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ot(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Rt(e){if(Pt(e)!==e)throw Error(W(188))}function Mt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Pt(e)))throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rt(i),e;if(s===r)return Rt(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(3!==n.tag)throw Error(W(188));return n.stateNode.current===n?e:t}(e),null!==e?Ft(e):null}function Ft(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ft(e);if(null!==t)return t;e=e.sibling}return null}var Vt=K.unstable_scheduleCallback,jt=K.unstable_cancelCallback,Ut=K.unstable_shouldYield,zt=K.unstable_requestPaint,Bt=K.unstable_now,qt=K.unstable_getCurrentPriorityLevel,$t=K.unstable_ImmediatePriority,Ht=K.unstable_UserBlockingPriority,Kt=K.unstable_NormalPriority,Wt=(K.unstable_LowPriority,K.unstable_IdlePriority),Gt=null,Qt=null;var Yt=64,Xt=4194304;function Jt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=Jt(a):0!==(s&=o)&&(r=Jt(s))}else 0!==(o=n&~i)?r=Jt(o):0!==s&&(r=Jt(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-on(t)),r|=e[n],t&=~i;return r}function en(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function tn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function nn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-on(t)]=n}function sn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var on=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(an(e)/ln|0)|0},an=Math.log,ln=Math.LN2;var un=0;function cn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var hn,dn,fn,pn,mn,gn=!1,yn=[],vn=null,bn=null,wn=null,En=new Map,Sn=new Map,Cn=[],kn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xn(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Tn(e,t,n,r,i){if(e=xn(e,t,n,r,i),yn.push(e),1===yn.length)for(;null!==e.blockedOn&&null!==(t=ls(e.blockedOn))&&(hn(t),null===e.blockedOn);)An()}function In(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":En.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(t.pointerId)}}function _n(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=xn(t,n,r,i,s),null!==t&&(null!==(t=ls(t))&&fn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nn(e){var t=as(e.target);if(null!==t){var n=Pt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ot(n)))return e.blockedOn=t,void mn(e.priority,(function(){pn(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ln(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ls(n))&&fn(t),e.blockedOn=n,!1;t.shift()}return!0}function Dn(e,t,n){Ln(e)&&n.delete(t)}function An(){for(gn=!1;0<yn.length;){var e=yn[0];if(null!==e.blockedOn){null!==(e=ls(e.blockedOn))&&dn(e);break}for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&yn.shift()}null!==vn&&Ln(vn)&&(vn=null),null!==bn&&Ln(bn)&&(bn=null),null!==wn&&Ln(wn)&&(wn=null),En.forEach(Dn),Sn.forEach(Dn)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,gn||(gn=!0,K.unstable_scheduleCallback(K.unstable_NormalPriority,An)))}function On(e){function t(t){return Pn(t,e)}if(0<yn.length){Pn(yn[0],e);for(var n=1;n<yn.length;n++){var r=yn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==vn&&Pn(vn,e),null!==bn&&Pn(bn,e),null!==wn&&Pn(wn,e),En.forEach(t),Sn.forEach(t),n=0;n<Cn.length;n++)(r=Cn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&null===(n=Cn[0]).blockedOn;)Nn(n),null===n.blockedOn&&Cn.shift()}var Rn=le.ReactCurrentBatchConfig,Mn=!0;function Fn(e,t,n,r){var i=un,s=Rn.transition;Rn.transition=0;try{un=1,jn(e,t,n,r)}finally{un=i,Rn.transition=s}}function Vn(e,t,n,r){var i=un,s=Rn.transition;Rn.transition=0;try{un=4,jn(e,t,n,r)}finally{un=i,Rn.transition=s}}function jn(e,t,n,r){if(Mn){var i=0==(4&t);if(i&&0<yn.length&&-1<kn.indexOf(e))Tn(null,e,t,n,r);else{var s=Un(e,t,n,r);if(null===s)i&&In(e,r);else{if(i){if(-1<kn.indexOf(e))return void Tn(s,e,t,n,r);if(function(e,t,n,r,i){switch(t){case"focusin":return vn=_n(vn,e,t,n,r,i),!0;case"dragenter":return bn=_n(bn,e,t,n,r,i),!0;case"mouseover":return wn=_n(wn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return En.set(s,_n(En.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sn.set(s,_n(Sn.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;In(e,r)}Oi(e,t,r,null,n)}}}}function Un(e,t,n,r){var i=dt(r);if(null!==(i=as(i))){var s=Pt(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ot(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Oi(e,t,r,i,n),null}function zn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qt()){case $t:return 1;case Ht:return 4;default:return 16;case Wt:return 536870912}default:return 16}}var Bn=null,qn=null,$n=null;function Hn(){if($n)return $n;var e,t,n=qn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return $n=i.slice(e,1<t?1-t:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wn(){return!0}function Gn(){return!1}function Qn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wn:Gn,this.isPropagationStopped=Gn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var Yn,Xn,Jn,Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=Qn(Zn),tr=$({},Zn,{view:0,detail:0}),nr=Qn(tr),rr=$({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&"mousemove"===e.type?(Yn=e.screenX-Jn.screenX,Xn=e.screenY-Jn.screenY):Xn=Yn=0,Jn=e),Yn)},movementY:function(e){return"movementY"in e?e.movementY:Xn}}),ir=Qn(rr),sr=Qn($({},rr,{dataTransfer:0})),or=Qn($({},tr,{relatedTarget:0})),ar=Qn($({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0})),lr=$({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ur=Qn(lr),cr=Qn($({},Zn,{data:0})),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fr[e])&&!!t[e]}function mr(){return pr}var gr=$({},tr,{key:function(e){if(e.key){var t=hr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yr=Qn(gr),vr=Qn($({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),br=Qn($({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr})),wr=Qn($({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Er=$({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sr=Qn(Er),Cr=[9,13,27,32],kr=J&&"CompositionEvent"in window,xr=null;J&&"documentMode"in document&&(xr=document.documentMode);var Tr=J&&"TextEvent"in window&&!xr,Ir=J&&(!kr||xr&&8<xr&&11>=xr),_r=String.fromCharCode(32),Nr=!1;function Lr(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ar=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Rr(e,t,n,r){yt(r),0<(t=Mi(t,"onChange")).length&&(n=new er("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mr=null,Fr=null;function Vr(e){_i(e,0)}function jr(e){if(je(us(e)))return e}function Ur(e,t){if("change"===e)return t}var zr=!1;if(J){var Br;if(J){var qr="oninput"in document;if(!qr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),qr="function"==typeof $r.oninput}Br=qr}else Br=!1;zr=Br&&(!document.documentMode||9<document.documentMode)}function Hr(){Mr&&(Mr.detachEvent("onpropertychange",Kr),Fr=Mr=null)}function Kr(e){if("value"===e.propertyName&&jr(Fr)){var t=[];Rr(t,Fr,e,dt(e)),St(Vr,t)}}function Wr(e,t,n){"focusin"===e?(Hr(),Fr=n,(Mr=t).attachEvent("onpropertychange",Kr)):"focusout"===e&&Hr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(Fr)}function Qr(e,t){if("click"===e)return jr(t)}function Yr(e,t){if("input"===e||"change"===e)return jr(t)}var Xr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jr(e,t){if(Xr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Z.call(t,n[r])||!Xr(e[n[r]],t[n[r]]))return!1;return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ei(e,t){var n,r=Zr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zr(r)}}function ti(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ti(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ni(){for(var e=window,t=Ue();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Ue((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ii(e){var t=ni(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ti(n.ownerDocument.documentElement,n)){if(null!==r&&ri(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ei(n,s);var o=ei(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var si=J&&"documentMode"in document&&11>=document.documentMode,oi=null,ai=null,li=null,ui=!1;function ci(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ui||null==oi||oi!==Ue(r)||("selectionStart"in(r=oi)&&ri(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},li&&Jr(li,r)||(li=r,0<(r=Mi(ai,"onSelect")).length&&(t=new er("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var di={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},fi={},pi={};function mi(e){if(fi[e])return fi[e];if(!di[e])return e;var t,n=di[e];for(t in n)if(n.hasOwnProperty(t)&&t in pi)return fi[e]=n[t];return e}J&&(pi=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);var gi=mi("animationend"),yi=mi("animationiteration"),vi=mi("animationstart"),bi=mi("transitionend"),wi=new Map,Ei="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){wi.set(e,t),Y(t,[e])}for(var Ci=0;Ci<Ei.length;Ci++){var ki=Ei[Ci];Si(ki.toLowerCase(),"on"+(ki[0].toUpperCase()+ki.slice(1)))}Si(gi,"onAnimationEnd"),Si(yi,"onAnimationIteration"),Si(vi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(bi,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),Y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Y("onBeforeInput",["compositionend","keypress","textInput","paste"]),Y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ti=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Ii(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(At.apply(this,arguments),It){if(!It)throw Error(W(198));var u=_t;It=!1,_t=null,Nt||(Nt=!0,Lt=u)}}(r,t,void 0,e),e.currentTarget=null}function _i(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ii(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ii(i,a,u),s=l}}}if(Nt)throw e=Lt,Nt=!1,Lt=null,e}function Ni(e,t){var n=t[is];void 0===n&&(n=t[is]=new Set);var r=e+"__bubble";n.has(r)||(Pi(t,e,2,!1),n.add(r))}function Li(e,t,n){var r=0;t&&(r|=4),Pi(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[Di]){e[Di]=!0,G.forEach((function(t){"selectionchange"!==t&&(Ti.has(t)||Li(t,!1,e),Li(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Di]||(t[Di]=!0,Li("selectionchange",!1,t))}}function Pi(e,t,n,r){switch(zn(t)){case 1:var i=Fn;break;case 4:i=Vn;break;default:i=jn}n=i.bind(null,t,n,e),i=void 0,!kt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oi(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=as(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}St((function(){var r=s,i=dt(n),o=[];e:{var a=wi.get(e);if(void 0!==a){var l=er,u=e;switch(e){case"keypress":if(0===Kn(n))break e;case"keydown":case"keyup":l=yr;break;case"focusin":u="focus",l=or;break;case"focusout":u="blur",l=or;break;case"beforeblur":case"afterblur":l=or;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=br;break;case gi:case yi:case vi:l=ar;break;case bi:l=wr;break;case"scroll":l=nr;break;case"wheel":l=Sr;break;case"copy":case"cut":case"paste":l=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=vr}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ct(p,d))&&c.push(Ri(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!as(u)&&!u[rs])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?as(u):null)&&(u!==(h=Pt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=ir,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=vr,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:us(l),f=null==u?a:us(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,as(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fi(f))p++;for(f=0,m=d;m;m=Fi(m))f++;for(;0<p-f;)c=Fi(c),p--;for(;0<f-p;)d=Fi(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fi(c),d=Fi(d)}c=null}else c=null;null!==l&&Vi(o,a,l,c,!1),null!==u&&null!==h&&Vi(o,h,u,c,!0)}if("select"===(l=(a=r?us(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Ur;else if(Or(a))if(zr)g=Yr;else{g=Gr;var y=Wr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=Qr);switch(g&&(g=g(e,r))?Rr(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&Ke(a,"number",a.value)),y=r?us(r):window,e){case"focusin":(Or(y)||"true"===y.contentEditable)&&(oi=y,ai=r,li=null);break;case"focusout":li=ai=oi=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":ui=!1,ci(o,n,i);break;case"selectionchange":if(si)break;case"keydown":case"keyup":ci(o,n,i)}var v;if(kr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ar?Lr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ir&&"ko"!==n.locale&&(Ar||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ar&&(v=Hn()):(qn="value"in(Bn=i)?Bn.value:Bn.textContent,Ar=!0)),0<(y=Mi(r,b)).length&&(b=new cr(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Dr(n))&&(b.data=v))),(v=Tr?function(e,t){switch(e){case"compositionend":return Dr(t);case"keypress":return 32!==t.which?null:(Nr=!0,_r);case"textInput":return(e=t.data)===_r&&Nr?null:e;default:return null}}(e,n):function(e,t){if(Ar)return"compositionend"===e||!kr&&Lr(e,t)?(e=Hn(),$n=qn=Bn=null,Ar=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mi(r,"onBeforeInput")).length&&(i=new cr("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}_i(o,t)}))}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ct(e,n))&&r.unshift(Ri(e,s,i)),null!=(s=Ct(e,t))&&r.push(Ri(e,s,i))),e=e.return}return r}function Fi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vi(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ct(n,s))&&o.unshift(Ri(n,l,a)):i||null!=(l=Ct(n,s))&&o.push(Ri(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function ji(){}var Ui=null,zi=null;function Bi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $i="function"==typeof setTimeout?setTimeout:void 0,Hi="function"==typeof clearTimeout?clearTimeout:void 0,Ki="function"==typeof Promise?Promise:void 0,Wi="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ki?function(e){return Ki.resolve(null).then(e).catch(Gi)}:$i;function Gi(e){setTimeout((function(){throw e}))}function Qi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void On(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);On(t)}function Yi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t&&("$"===(t=e.data)||"$!"===t||"$?"===t))break}return e}function Ji(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zi=0;var es=Math.random().toString(36).slice(2),ts="__reactFiber$"+es,ns="__reactProps$"+es,rs="__reactContainer$"+es,is="__reactEvents$"+es,ss="__reactListeners$"+es,os="__reactHandles$"+es;function as(e){var t=e[ts];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[ts]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ji(e);null!==e;){if(n=e[ts])return n;e=Ji(e)}return t}n=(e=n).parentNode}return null}function ls(e){return!(e=e[ts]||e[rs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function us(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(W(33))}function cs(e){return e[ns]||null}var hs=[],ds=-1;function fs(e){return{current:e}}function ps(e){0>ds||(e.current=hs[ds],hs[ds]=null,ds--)}function ms(e,t){ds++,hs[ds]=e.current,e.current=t}var gs={},ys=fs(gs),vs=fs(!1),bs=gs;function ws(e,t){var n=e.type.contextTypes;if(!n)return gs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Es(e){return null!=(e=e.childContextTypes)}function Ss(){ps(vs),ps(ys)}function Cs(e,t,n){if(ys.current!==gs)throw Error(W(168));ms(ys,t),ms(vs,n)}function ks(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(W(108,Re(e)||"Unknown",i));return $({},n,r)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,bs=ys.current,ms(ys,e),ms(vs,vs.current),!0}function Ts(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=ks(e,t,bs),r.__reactInternalMemoizedMergedChildContext=e,ps(vs),ps(ys),ms(ys,e)):ps(vs),ms(vs,n)}var Is=null,_s=!1,Ns=!1;function Ls(){if(!Ns&&null!==Is){Ns=!0;var e=0,t=un;try{var n=Is;for(un=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Is=null,_s=!1}catch(t){throw null!==Is&&(Is=Is.slice(e+1)),Vt($t,Ls),t}finally{un=t,Ns=!1}}return null}var Ds=le.ReactCurrentBatchConfig;function As(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ps=fs(null),Os=null,Rs=null,Ms=null;function Fs(){Ms=Rs=Os=null}function Vs(e){var t=Ps.current;ps(Ps),e._currentValue=t}function js(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Us(e,t){Os=e,Ms=Rs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(Ms!==e)if(e={context:e,memoizedValue:t,next:null},null===Rs){if(null===Os)throw Error(W(308));Rs=e,Os.dependencies={lanes:0,firstContext:e}}else Rs=Rs.next=e;return t}var Bs=null,qs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Rl&&0!=(1&e.mode)&&0==(2&Ol)?(null===(e=n.interleaved)?(t.next=t,null===Bs?Bs=[n]:Bs.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Gs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,sn(e,n)}}function Qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var i=e.updateQueue;qs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-32769&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=$({},h,d);break e;case 2:qs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=o,e.lanes=o,e.memoizedState=h}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(W(191,i));i.call(r)}}}var Js=(new H.Component).refs;function Zs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var eo={isMounted:function(e){return!!(e=e._reactInternals)&&Pt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),s=Ks(r,i);s.payload=t,null!=n&&(s.callback=n),Ws(e,s),null!==(t=su(e,i,r))&&Gs(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),s=Ks(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),Ws(e,s),null!==(t=su(e,i,r))&&Gs(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ru(),r=iu(e),i=Ks(n,r);i.tag=2,null!=t&&(i.callback=t),Ws(e,i),null!==(t=su(e,r,n))&&Gs(t,e,r)}};function to(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jr(n,r)||!Jr(i,s))}function no(e,t,n){var r=!1,i=gs,s=t.contextType;return"object"==typeof s&&null!==s?s=zs(s):(i=Es(t)?bs:ys.current,s=(r=null!=(r=t.contextTypes))?ws(e,i):gs),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ro(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function io(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Js,$s(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=zs(s):(s=Es(t)?bs:ys.current,i.context=ws(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Zs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&eo.enqueueReplaceState(i,i.state,null),Ys(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=1048580)}function so(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Js&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function oo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ao(e){return(0,e._init)(e._payload)}function lo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===he?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===we&&ao(s)===t.type)?((r=i(t,n.props)).ref=so(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=so(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ue:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=so(e,null,t),n.return=e,n;case ce:return(t=zu(t,e.mode,n)).return=e,t;case we:return h(e,(0,t._init)(t._payload),n)}if(We(t)||Ne(t))return(t=Vu(t,e.mode,n,null)).return=e,t;oo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ue:return n.key===i?l(e,t,n,r):null;case ce:return n.key===i?u(e,t,n,r):null;case we:return d(e,t,(i=n._init)(n._payload),r)}if(We(n)||Ne(n))return null!==i?null:c(e,t,n,r,null);oo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ue:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case ce:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case we:return f(e,t,n,(0,r._init)(r._payload),i)}if(We(r)||Ne(r))return c(t,e=e.get(n)||null,r,i,null);oo(t,r)}return null}function p(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),u;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}function m(i,o,a,l){var u=Ne(a);if("function"!=typeof u)throw Error(W(150));if(null==(a=u.call(a)))throw Error(W(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=h(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),u}return function e(r,s,a,l){if("object"==typeof a&&null!==a&&a.type===he&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case ue:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===he){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===we&&ao(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=so(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===he?((s=Vu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=so(r,s,a),l.return=r,r=l)}return o(r);case ce:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zu(a,r.mode,l)).return=r,r=s}return o(r);case we:return e(r,s,(c=a._init)(a._payload),l)}if(We(a))return p(r,s,a,l);if(Ne(a))return m(r,s,a,l);oo(r,a)}return"string"==typeof a||"number"==typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Uu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var uo=lo(!0),co=lo(!1),ho={},fo=fs(ho),po=fs(ho),mo=fs(ho);function go(e){if(e===ho)throw Error(W(174));return e}function yo(e,t){switch(ms(mo,t),ms(po,e),ms(fo,ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:et(null,"");break;default:t=et(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ps(fo),ms(fo,t)}function vo(){ps(fo),ps(po),ps(mo)}function bo(e){go(mo.current);var t=go(fo.current),n=et(t,e.type);t!==n&&(ms(po,e),ms(fo,n))}function wo(e){po.current===e&&(ps(fo),ps(po))}var Eo=fs(0);function So(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=null,ko=null,xo=!1;function To(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,!0);default:return!1}}function _o(e){if(xo){var t=ko;if(t){var n=t;if(!Io(e,t)){if(!(t=Xi(n.nextSibling))||!Io(e,t))return e.flags=-2049&e.flags|2,xo=!1,void(Co=e);To(Co,n)}Co=e,ko=Xi(t.firstChild)}else e.flags=-2049&e.flags|2,xo=!1,Co=e}}function No(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function Lo(e){if(e!==Co)return!1;if(!xo)return No(e),xo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!qi(e.type,e.memoizedProps)),t)for(t=ko;t;)To(e,t),t=Xi(t.nextSibling);if(No(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ko=Xi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ko=null}}else ko=Co?Xi(e.stateNode.nextSibling):null;return!0}function Do(){ko=Co=null,xo=!1}var Ao=[];function Po(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}function Oo(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}var Ro=le.ReactCurrentDispatcher,Mo=le.ReactCurrentBatchConfig,Fo=0,Vo=null,jo=null,Uo=null,zo=!1,Bo=!1;function qo(){throw Error(W(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function Ho(e,t,n,r,i,s){if(Fo=s,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=null===e||null===e.memoizedState?Ea:Sa,e=n(r,i),Bo){s=0;do{if(Bo=!1,!(25>s))throw Error(W(301));s+=1,Uo=jo=null,t.updateQueue=null,Ro.current=Ca,e=n(r,i)}while(Bo)}if(Ro.current=wa,t=null!==jo&&null!==jo.next,Fo=0,Uo=jo=Vo=null,zo=!1,t)throw Error(W(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Uo?Vo.memoizedState=Uo=e:Uo=Uo.next=e,Uo}function Wo(){if(null===jo){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=jo.next;var t=null===Uo?Vo.memoizedState:Uo.next;if(null!==t)Uo=t,jo=e;else{if(null===e)throw Error(W(310));e={memoizedState:(jo=e).memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},null===Uo?Vo.memoizedState=Uo=e:Uo=Uo.next=e}return Uo}function Go(e,t){return"function"==typeof t?t(e):t}function Qo(e){var t=Wo(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=jo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Fo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,Vo.lanes|=c,Bl|=c}u=u.next}while(null!==u&&u!==s);null===l?o=r:l.next=a,Xr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Vo.lanes|=s,Bl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yo(e){var t=Wo(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Xr(s,t.memoizedState)||(Ma=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Xo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Fo&e)===e)&&(t._workInProgressVersionPrimary=r,Ao.push(t))),e)return n(t._source);throw Ao.push(t),Error(W(350))}function Jo(e,t,n,r){var i=Rl;if(null===i)throw Error(W(349));var s=t._getVersion,o=s(t._source),a=Ro.current,l=a.useState((function(){return Xo(i,t,n)})),u=l[1],c=l[0];l=Uo;var h=e.memoizedState,d=h.refs,f=d.getSnapshot,p=h.source;h=h.subscribe;var m=Vo;return e.memoizedState={refs:d,source:t,subscribe:r},a.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var e=s(t._source);Xr(o,e)||(e=n(t._source),Xr(c,e)||(u(e),e=iu(m),i.mutableReadLanes|=e&i.pendingLanes),sn(i,i.mutableReadLanes))}),[n,t,r]),a.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=iu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Xr(f,n)&&Xr(p,t)&&Xr(h,r)||((e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:c}).dispatch=u=ba.bind(null,Vo,e),l.queue=e,l.baseQueue=null,c=Xo(i,t,n),l.memoizedState=l.baseState=c),c}function Zo(e,t,n){return Jo(Wo(),e,t,n)}function ea(e,t){var n=Vo,r=Ko(),i=t();r.memoizedState=i;var s={value:i,getSnapshot:t};if(r.queue=s,ca(ra.bind(null,n,s,e),[e]),n.flags|=1024,oa(5,na.bind(null,n,s,i,t),void 0,null),null===Rl)throw Error(W(349));return 0!=(30&Fo)||ta(n,t,i),i}function ta(e,t,n){e.flags|=8192,e={getSnapshot:t,value:n},null===(t=Vo.updateQueue)?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function na(e,t,n,r){t.value=n,t.getSnapshot=r,ia(t)&&su(e,1,-1)}function ra(e,t,n){return n((function(){ia(t)&&su(e,1,-1)}))}function ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xr(e,n)}catch(e){return!0}}function sa(e){var t=Ko();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=ba.bind(null,Vo,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null,stores:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aa(){return Wo().memoizedState}function la(e,t,n,r){var i=Ko();Vo.flags|=e,i.memoizedState=oa(1|t,n,void 0,void 0===r?null:r)}function ua(e,t,n,r){var i=Wo();r=void 0===r?null:r;var s=void 0;if(null!==jo){var o=jo.memoizedState;if(s=o.destroy,null!==r&&$o(r,o.deps))return void(i.memoizedState=oa(t,n,s,r))}Vo.flags|=e,i.memoizedState=oa(1|t,n,s,r)}function ca(e,t){return la(2098176,4,e,t)}function ha(e,t){return ua(1024,4,e,t)}function da(e,t){return ua(4,2,e,t)}function fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function pa(e,t,n){return n=null!=n?n.concat([e]):null,ua(4,2,fa.bind(null,t,e),n)}function ma(){}function ga(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ya(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function va(e,t){var n=un;un=0!==n&&4>n?n:4,e(!0);var r=Mo.transition;Mo.transition=1;try{e(!1),t()}finally{un=n,Mo.transition=r}}function ba(e,t,n){var r=ru(),i=iu(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.alternate;if(e===Vo||null!==o&&o===Vo)Bo=zo=!0,null===(i=t.pending)?s.next=s:(s.next=i.next,i.next=s),t.pending=s;else{if(null!==Rl&&0!=(1&e.mode)&&0==(2&Ol)){var a=t.interleaved;null===a?(s.next=s,null===Bs?Bs=[t]:Bs.push(t)):(s.next=a.next,a.next=s),t.interleaved=s}else null===(a=t.pending)?s.next=s:(s.next=a.next,a.next=s),t.pending=s;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=o(l,n);if(s.eagerReducer=o,s.eagerState=u,Xr(u,l))return}catch(e){}s=su(e,i,r),0!=(4194240&i)&&null!==s&&(e=t.lanes,i|=e&=s.pendingLanes,t.lanes=i,sn(s,i))}}var wa={readContext:zs,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useDeferredValue:qo,useTransition:qo,useMutableSource:qo,useSyncExternalStore:qo,useOpaqueIdentifier:qo,unstable_isNewReconciler:!1},Ea={readContext:zs,useCallback:function(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,la(1048580,2,fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return la(1048580,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ba.bind(null,Vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:sa,useDebugValue:ma,useDeferredValue:function(e){var t=sa(e),n=t[0],r=t[1];return ca((function(){var t=Mo.transition;Mo.transition=1;try{r(e)}finally{Mo.transition=t}}),[e]),n},useTransition:function(){var e=sa(!1),t=e[0];return e=va.bind(null,e[1]),Ko().memoizedState=e,[t,e]},useMutableSource:function(e,t,n){var r=Ko();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Jo(r,e,t,n)},useSyncExternalStore:ea,useOpaqueIdentifier:function(){if(xo){var e=!1,t=function(e){return{$$typeof:Ee,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zi++).toString(36))),Error(W(355))})),n=sa(t)[1];return 0==(1&Vo.mode)&&(Vo.flags|=1024,oa(5,(function(){n("r:"+(Zi++).toString(36))}),void 0,null)),t}return sa(t="r:"+(Zi++).toString(36)),t},unstable_isNewReconciler:!1},Sa={readContext:zs,useCallback:ga,useContext:zs,useEffect:ha,useImperativeHandle:pa,useLayoutEffect:da,useMemo:ya,useReducer:Qo,useRef:aa,useState:function(){return Qo(Go)},useDebugValue:ma,useDeferredValue:function(e){var t=Qo(Go),n=t[0],r=t[1];return ha((function(){var t=Mo.transition;Mo.transition=1;try{r(e)}finally{Mo.transition=t}}),[e]),n},useTransition:function(){return[Qo(Go)[0],Wo().memoizedState]},useMutableSource:Zo,useSyncExternalStore:function(e,t){var n=Vo,r=Wo(),i=t(),s=!Xr(r.memoizedState,i);if(s&&(r.memoizedState=i,Ma=!0),r=r.queue,ha(ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Uo&&1&Uo.memoizedState.tag){if(n.flags|=1024,oa(5,na.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(W(349));0!=(30&Fo)||ta(n,t,i)}return i},useOpaqueIdentifier:function(){return Qo(Go)[0]},unstable_isNewReconciler:!1},Ca={readContext:zs,useCallback:ga,useContext:zs,useEffect:ha,useImperativeHandle:pa,useLayoutEffect:da,useMemo:ya,useReducer:Yo,useRef:aa,useState:function(){return Yo(Go)},useDebugValue:ma,useDeferredValue:function(e){var t=Yo(Go),n=t[0],r=t[1];return ha((function(){var t=Mo.transition;Mo.transition=1;try{r(e)}finally{Mo.transition=t}}),[e]),n},useTransition:function(){return[Yo(Go)[0],Wo().memoizedState]},useMutableSource:Zo,useSyncExternalStore:ea,useOpaqueIdentifier:function(){return Yo(Go)[0]},unstable_isNewReconciler:!1};function ka(e,t){try{var n="",r=t;do{n+=Pe(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function xa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ta,Ia,_a,Na="function"==typeof WeakMap?WeakMap:Map;function La(e,t,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),xa(0,t)},n}function Da(e,t,n){(n=Ks(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xa(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){xa(0,t),"function"!=typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Aa(e,t){if(!xo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=3670016&i.subtreeFlags,r|=3670016&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pa(t),null;case 1:case 17:return Es(t.type)&&Ss(),Pa(t),null;case 3:return r=t.stateNode,vo(),ps(vs),ps(ys),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Lo(t)?t.flags|=4:r.hydrate||(t.flags|=512)),Pa(t),null;case 5:wo(t);var i=go(mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ia(e,t,n,r),e.ref!==t.ref&&(t.flags|=256,t.flags|=524288);else{if(!r){if(null===t.stateNode)throw Error(W(166));return Pa(t),null}if(e=go(fo.current),Lo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ts]=t,r[ns]=s,n){case"dialog":Ni("cancel",r),Ni("close",r);break;case"iframe":case"object":case"embed":Ni("load",r);break;case"video":case"audio":for(e=0;e<xi.length;e++)Ni(xi[e],r);break;case"source":Ni("error",r);break;case"img":case"image":case"link":Ni("error",r),Ni("load",r);break;case"details":Ni("toggle",r);break;case"input":Be(r,s),Ni("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ni("invalid",r);break;case"textarea":Ye(r,s),Ni("invalid",r)}for(var o in ct(n,s),e=null,s)s.hasOwnProperty(o)&&(i=s[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):Q.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&Ni("scroll",r));switch(n){case"input":Ve(r),He(r,s,!0);break;case"textarea":Ve(r),Je(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=ji)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Ze(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ts]=t,e[ns]=r,Ta(e,t),t.stateNode=e,o=ht(n,r),n){case"dialog":Ni("cancel",e),Ni("close",e),i=r;break;case"iframe":case"object":case"embed":Ni("load",e),i=r;break;case"video":case"audio":for(i=0;i<xi.length;i++)Ni(xi[i],e);i=r;break;case"source":Ni("error",e),i=r;break;case"img":case"image":case"link":Ni("error",e),Ni("load",e),i=r;break;case"details":Ni("toggle",e),i=r;break;case"input":Be(e,r),i=ze(e,r),Ni("invalid",e);break;default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$({},r,{value:void 0}),Ni("invalid",e);break;case"textarea":Ye(e,r),i=Qe(e,r),Ni("invalid",e)}ct(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?lt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&rt(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&it(e,l):"number"==typeof l&&it(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Q.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ni("scroll",e):null!=l&&ae(e,s,l,o))}switch(n){case"input":Ve(e),He(e,r,!1);break;case"textarea":Ve(e),Je(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Me(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Ge(e,!!r.multiple,s,!1):null!=r.defaultValue&&Ge(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ji)}Bi(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=256,t.flags|=524288)}return Pa(t),null;case 6:if(e&&null!=t.stateNode)_a(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(W(166));n=go(mo.current),go(fo.current),Lo(t)?(r=t.stateNode,n=t.memoizedProps,r[ts]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ts]=t,t.stateNode=r)}return Pa(t),null;case 13:if(ps(Eo),null!==(r=t.memoizedState)&&null!==r.dehydrated){if(null===e){if(!Lo(t))throw Error(W(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(W(317));r[ts]=t}else Do(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Pa(t),null}return 0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Lo(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=4096,0!=(1&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Eo.current)?0===Ul&&(Ul=3):vu())),null!==t.updateQueue&&(t.flags|=4),Pa(t),null);case 4:return vo(),null===e&&Ai(t.stateNode.containerInfo),Pa(t),null;case 10:return Vs(t.type._context),Pa(t),null;case 19:if(ps(Eo),null===(s=t.memoizedState))return Pa(t),null;if(r=0!=(128&t.flags),null===(o=s.rendering))if(r)Aa(s,!1);else{if(0!==Ul||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=So(e))){for(t.flags|=128,Aa(s,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=3670018,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ms(Eo,1&Eo.current|2),t.child}e=e.sibling}null!==s.tail&&Bt()>Kl&&(t.flags|=128,r=!0,Aa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=So(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Aa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!xo)return Pa(t),null}else 2*Bt()-s.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Aa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bt(),t.sibling=null,n=Eo.current,ms(Eo,r?1&n|2:1&n),t):(Pa(t),null);case 22:case 23:return pu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&"unstable-defer-without-hiding"!==r.mode&&23!==t.tag&&(t.flags|=4096),n&&0!=(1&t.mode)?0!=(1073741824&Vl)&&(Pa(t),23!==t.tag&&6&t.subtreeFlags&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4096)):Pa(t),null}throw Error(W(156,t.tag))}Ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,go(fo.current);var s,o=null;switch(n){case"input":i=ze(e,i),r=ze(e,r),o=[];break;case"select":i=$({},i,{value:void 0}),r=$({},r,{value:void 0}),o=[];break;case"textarea":i=Qe(e,i),r=Qe(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ji)}for(u in ct(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Q.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Q.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ni("scroll",e),o||a===l||(o=[])):"object"==typeof l&&null!==l&&l.$$typeof===Ee?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},_a=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ra=le.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?co(t,null,n,r):uo(t,e.child,n,r)}function Va(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=Ho(e,t,n,r,s,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,il(e,t,i))}function ja(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ru(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ua(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Jr)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Mu(s,r)).ref=t.ref,e.return=t,t.child=e}function Ua(e,t,n,r,i){if(null!==e&&Jr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(e.lanes&i))return t.lanes=e.lanes,il(e,t,i);0!=(65536&e.flags)&&(Ma=!0)}return qa(e,t,n,r,i)}function za(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ms(jl,Vl),Vl|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ms(jl,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,ms(jl,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ms(jl,Vl),Vl|=r;return Fa(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=256,t.flags|=524288)}function qa(e,t,n,r,i){var s=Es(n)?bs:ys.current;return s=ws(t,s),Us(t,i),n=Ho(e,t,n,r,s,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-1029,e.lanes&=~i,il(e,t,i))}function $a(e,t,n,r,i){if(Es(n)){var s=!0;xs(t)}else s=!1;if(Us(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),no(t,n,r),io(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=zs(u):u=ws(t,u=Es(n)?bs:ys.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ro(t,o,r,u),qs=!1;var d=t.memoizedState;o.state=d,Ys(t,r,o,i),l=t.memoizedState,a!==r||d!==l||vs.current||qs?("function"==typeof c&&(Zs(t,n,c,r),l=t.memoizedState),(a=qs||to(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=1048580)):("function"==typeof o.componentDidMount&&(t.flags|=1048580),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=1048580),r=!1)}else{o=t.stateNode,Hs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:As(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=zs(l):l=ws(t,l=Es(n)?bs:ys.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ro(t,o,r,l),qs=!1,d=t.memoizedState,o.state=d,Ys(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||vs.current||qs?("function"==typeof f&&(Zs(t,n,f,r),p=t.memoizedState),(u=qs||to(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=512)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=512),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=512),r=!1)}return Ha(e,t,n,r,s,i)}function Ha(e,t,n,r,i,s){Ba(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&Ts(t,n,!1),il(e,t,s);r=t.stateNode,Ra.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=uo(t,e.child,null,s),t.child=uo(t,null,a,s)):Fa(e,t,a,s),t.memoizedState=r.state,i&&Ts(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?Cs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Cs(0,t.context,!1),yo(e,t.containerInfo)}var Wa={dehydrated:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null}}function Qa(e,t,n){var r,i=t.pendingProps,s=Eo.current,o=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||!0===i.unstable_avoidThisFallback||(s|=1),ms(Eo,1&s),null===e)return _o(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(e=i.children,s=i.fallback,o?(e=Xa(t,e,s,n),t.child.memoizedState=Ga(n),t.memoizedState=Wa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,s,n),t.child.memoizedState=Ga(n),t.memoizedState=Wa,t.lanes=4194304,e):Ya(t,e));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(a)return null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=ju({mode:"visible",children:i.children},s,0,null),(o=Vu(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&uo(t,e.child,null,n),t.child.memoizedState=Ga(n),t.memoizedState=Wa,o);if(0!=(8&Ol)||0==(1&t.mode)||"$!"===r.data)t=el(e,t,n);else if(i=0!=(n&e.childLanes),Ma||i){if(null!==(i=Rl)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,su(e,i,-1))}vu(),t=el(e,t,n)}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Lu.bind(null,e),r._reactRetry=t,t=null):(ko=Xi(r.nextSibling),No(t),xo=!0,(t=Ya(t,t.pendingProps.children)).flags|=2048);return t}return o?(i=Za(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Ga(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Wa,i):(n=Ja(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Za(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Ga(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Wa,i):(n=Ja(e,t,i.children,n),t.memoizedState=null,n)}function Ya(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Xa(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=ju(t,i,0,null),n=Vu(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Ja(e,t,n,r){var i=e.child;return e=i.sibling,n=Mu(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Za(e,t,n,r,i){var s=t.mode,o=(e=e.child).sibling,a={mode:"hidden",children:n};return 0==(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null):(n=Mu(e,a)).subtreeFlags=3670016&e.subtreeFlags,null!==o?r=Mu(o,r):(r=Vu(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function el(e,t,n){return uo(t,e.child,null,n),(e=Ya(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),js(e.return,t)}function nl(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fa(e,t,r.children,n),0!=(2&(r=Eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n);else if(19===e.tag)tl(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ms(Eo,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===So(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===So(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s);break;case"together":nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(W(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e){switch(e.tag){case 1:Es(e.type)&&Ss();var t=e.flags;return 32768&t?(e.flags=-32769&t|128,e):null;case 3:if(vo(),ps(vs),ps(ys),Po(),0!=(128&(t=e.flags)))throw Error(W(285));return e.flags=-32769&t|128,e;case 5:return wo(e),null;case 13:if(ps(Eo),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(W(340));Do()}return 32768&(t=e.flags)?(e.flags=-32769&t|128,e):null;case 19:return ps(Eo),null;case 4:return vo(),null;case 10:return Vs(e.type._context),null;case 22:case 23:return pu(),null;default:return null}}var ol=!1,al=!1,ll="function"==typeof WeakSet?WeakSet:Set,ul=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Iu(e,t,n)}else n.current=null}var hl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;if(i.destroy=void 0,void 0!==s){var o=t,a=n;try{s()}catch(e){Iu(o,a,e)}}}i=i.next}while(i!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ml(e,t,n){if(Qt&&"function"==typeof Qt.onCommitFiberUnmount)try{Qt.onCommitFiberUnmount(Gt,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;if(i=i.tag,void 0!==s&&0!=(2&i)){i=t;var o=n;try{s()}catch(e){Iu(i,o,e)}}r=r.next}while(r!==e)}break;case 1:if(cl(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Iu(t,n,e)}break;case 5:cl(t,n);break;case 4:El(e,t,n)}}function gl(e){var t=e.alternate;null!==t&&(e.alternate=null,gl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ts],delete t[ns],delete t[is],delete t[ss],delete t[os])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yl(e){return 5===e.tag||3===e.tag||4===e.tag}function vl(e){e:{for(var t=e.return;null!==t;){if(yl(t))break e;t=t.return}throw Error(W(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(W(161))}32&n.flags&&(it(t,""),n.flags&=-33);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||yl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bl(e,n,t):wl(e,n,t)}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ji));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function El(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(W(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag){e:for(var a=e,l=s,u=n,c=l;;)if(ml(a,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(a=r,l=s.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):r.removeChild(s.stateNode)}else if(18===s.tag)i?(a=r,l=s.stateNode,8===a.nodeType?Qi(a.parentNode,l):1===a.nodeType&&Qi(a,l),On(a)):Qi(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(ml(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function Sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return void dl(3,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[ns]=r,"input"===e&&"radio"===r.type&&null!=r.name&&qe(n,r),ht(e,i),t=ht(e,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];"style"===o?lt(n,a):"dangerouslySetInnerHTML"===o?rt(n,a):"children"===o?it(n,a):ae(n,o,a,t)}switch(e){case"input":$e(n,r);break;case"textarea":Xe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?Ge(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ge(n,!!r.multiple,r.defaultValue,!0):Ge(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(W(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,On(n.containerInfo)));case 13:case 19:return void Cl(t)}throw Error(W(163))}function Cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ll),t.forEach((function(t){var r=Du.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function kl(e,t,n){ul=e,xl(e)}function xl(e,t,n){for(var r=0!=(1&e.mode);null!==ul;){var i=ul,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||ol;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||al;a=ol;var u=al;if(ol=o,(al=l)&&!u)for(ul=i;null!==ul;)l=(o=ul).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,ul=l):_l(i);for(;null!==s;)ul=s,xl(s),s=s.sibling;ul=i,ol=a,al=u}Tl(e)}else 0!=(4420&i.subtreeFlags)&&null!==s?(s.return=i,ul=s):Tl(e)}}function Tl(e){for(;null!==ul;){var t=ul;if(0!=(4420&t.flags)){var n=t.alternate;try{if(0!=(4420&t.flags))switch(t.tag){case 0:case 11:case 15:al||fl(3,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:As(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Xs(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,o,n)}break;case 5:var a=t.stateNode;null===n&&4&t.flags&&(n=a,Bi(t.type,t.memoizedProps)&&n.focus());break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&On(c)}}}break;default:throw Error(W(163))}al||256&t.flags&&pl(t)}catch(e){Iu(t,t.return,e)}}if(t===e){ul=null;break}if(null!==(n=t.sibling)){n.return=t.return,ul=n;break}ul=t.return}}function Il(e){for(;null!==ul;){var t=ul;if(t===e){ul=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ul=n;break}ul=t.return}}function _l(e){for(;null!==ul;){var t=ul;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(2,t)}catch(e){Iu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Iu(t,i,e)}}var s=t.return;try{pl(t)}catch(e){Iu(t,s,e)}break;case 5:var o=t.return;try{pl(t)}catch(e){Iu(t,o,e)}}}catch(e){Iu(t,t.return,e)}if(t===e){ul=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ul=a;break}ul=t.return}}var Nl,Ll=Math.ceil,Dl=le.ReactCurrentDispatcher,Al=le.ReactCurrentOwner,Pl=le.ReactCurrentBatchConfig,Ol=0,Rl=null,Ml=null,Fl=0,Vl=0,jl=fs(0),Ul=0,zl=null,Bl=0,ql=0,$l=0,Hl=0,Kl=1/0,Wl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,Zl=0,eu=null,tu=-1,nu=0;function ru(){return 0!=(6&Ol)?Bt():-1!==tu?tu:tu=Bt()}function iu(e){return 0==(1&e.mode)?1:0!=(2&Ol)&&0!==Fl?Fl&-Fl:0!==Ds.transition?(0===nu&&(e=Yt,0==(4194240&(Yt<<=1))&&(Yt=64),nu=e),nu):0!==(e=un)?e:e=void 0===(e=window.event)?16:zn(e.type)}function su(e,t,n){if(50<Zl)throw Zl=0,eu=null,Error(W(185));var r=ou(e,t);return null===r?null:(rn(r,t,n),r===Rl&&(0==(2&Ol)&&(ql|=t),4===Ul&&cu(r,Fl)),au(r,n),1===t&&0===Ol&&0==(1&e.mode)&&(Kl=Bt()+500,_s&&Ls()),r)}function ou(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function au(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-on(o),l=1<<a,u=s[a];-1===u?0!=(l&r)&&0==(l&i)||(s[a]=en(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}if(0===(r=Zt(e,e===Rl?Fl:0)))null!==n&&jt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&jt(n),1===t)0===e.tag?(n=hu.bind(null,e),_s=!0,null===Is?Is=[n]:Is.push(n)):(n=hu.bind(null,e),null===Is?Is=[n]:Is.push(n)),Wi(Ls),n=null;else{switch(cn(r)){case 1:n=$t;break;case 4:n=Ht;break;default:n=Kt;break;case 536870912:n=Wt}n=Au(n,lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lu(e,t){if(tu=-1,nu=0,0!=(6&Ol))throw Error(W(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=Zt(e,e===Rl?Fl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=bu(e,r);else{t=r;var i=Ol;Ol|=2;var s=yu();for(Rl===e&&Fl===t||(Kl=Bt()+500,mu(e,t));;)try{Eu();break}catch(t){gu(e,t)}Fs(),Dl.current=s,Ol=i,null!==Ml?t=0:(Rl=null,Fl=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=tn(e))&&(r=i,t=uu(e,i))),1===t)throw n=zl,mu(e,0),cu(e,r),au(e,Bt()),n;if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(8192&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xr(s(),i))return!1}catch(e){return!1}}}if(n=t.child,8192&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=bu(e,r))&&(0!==(s=tn(e))&&(r=s,t=uu(e,s))),1===t))throw n=zl,mu(e,0),cu(e,r),au(e,Bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:case 5:ku(e);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(t=Hl+500-Bt())){if(0!==Zt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ru(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$i(ku.bind(null,e),t);break}ku(e);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Bt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=$i(ku.bind(null,e),r);break}ku(e);break;default:throw Error(W(329))}}return au(e,Bt()),e.callbackNode===n?lu.bind(null,e):null}function uu(e,t){var n=Ol;return Ol|=8,e.hydrate&&(e.hydrate=!1,Yi(e.containerInfo)),e=bu(e,t),Ol=n,e}function cu(e,t){for(t&=~$l,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function hu(e){if(0!=(6&Ol))throw Error(W(327));xu();var t=Zt(e,0);if(0==(1&t))return au(e,Bt()),null;var n=bu(e,t);if(0!==e.tag&&2===n){var r=Ol;Ol|=8,e.hydrate&&(e.hydrate=!1,Yi(e.containerInfo));var i=tn(e);0!==i&&(n=bu(e,t=i)),Ol=r}if(1===n)throw n=zl,mu(e,0),cu(e,t),au(e,Bt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e),au(e,Bt()),null}function du(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Kl=Bt()+500,_s&&Ls())}}function fu(e){null!==Xl&&0===Xl.tag&&0==(6&Ol)&&xu();var t=Ol;Ol|=1;var n=Pl.transition,r=un;try{if(Pl.transition=0,un=1,e)return e()}finally{un=r,Pl.transition=n,0==(6&(Ol=t))&&Ls()}}function pu(){Vl=jl.current,ps(jl)}function mu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hi(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ss();break;case 3:vo(),ps(vs),ps(ys),Po();break;case 5:wo(r);break;case 4:vo();break;case 13:case 19:ps(Eo);break;case 10:Vs(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Rl=e,Ml=Mu(e.current,null),Fl=Vl=t,Ul=0,zl=null,$l=ql=Bl=0,null!==Bs){for(e=0;e<Bs.length;e++)if(null!==(n=(t=Bs[e]).interleaved)){t.interleaved=null,r=n.next;var i=t.pending;if(null!==i){var s=i.next;i.next=r,n.next=s}t.pending=n}Bs=null}}function gu(e,t){for(;;){var n=Ml;try{if(Fs(),Ro.current=wa,zo){for(var r=Vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}zo=!1}if(Fo=0,Uo=jo=Vo=null,Bo=!1,Al.current=null,null===n||null===n.return){Ul=1,zl=t,Ml=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Fl,a.flags|=16384,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a.tag;if(0==(1&a.mode)&&(0===c||11===c||15===c)){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.lanes=h.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!=(1&Eo.current),f=o;do{var p;if(p=13===f.tag){var m=f.memoizedState;p=null!==m?null!==m.dehydrated:!0!==f.memoizedProps.unstable_avoidThisFallback||!d}if(p){var g=f.updateQueue;if(null===g){var y=new Set;y.add(u),f.updateQueue=y}else g.add(u);if(0==(1&f.mode)&&f!==o){if(f.flags|=128,a.flags|=65536,a.flags&=-26437,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Ks(-1,1);v.tag=2,Ws(a,v)}a.lanes|=1;break e}l=void 0,a=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new Na,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(a)){l.add(a);var w=_u.bind(null,s,u,a);u.then(w,w)}f.flags|=32768,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((Re(a)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ul&&(Ul=2),l=ka(l,a),f=o;do{switch(f.tag){case 3:s=l,f.flags|=32768,t&=-t,f.lanes|=t,Qs(f,La(0,s,t));break e;case 1:s=l;var E=f.type,S=f.stateNode;if(0==(128&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ql||!Ql.has(S)))){f.flags|=32768,t&=-t,f.lanes|=t,Qs(f,Da(f,s,t));break e}}f=f.return}while(null!==f)}Cu(n)}catch(e){t=e,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function yu(){var e=Dl.current;return Dl.current=wa,null===e?wa:e}function vu(){0!==Ul&&3!==Ul||(Ul=4),null===Rl||0==(268435455&Bl)&&0==(268435455&ql)||cu(Rl,Fl)}function bu(e,t){var n=Ol;Ol|=2;var r=yu();for(Rl===e&&Fl===t||mu(e,t);;)try{wu();break}catch(t){gu(e,t)}if(Fs(),Ol=n,Dl.current=r,null!==Ml)throw Error(W(261));return Rl=null,Fl=0,Ul}function wu(){for(;null!==Ml;)Su(Ml)}function Eu(){for(;null!==Ml&&!Ut();)Su(Ml)}function Su(e){var t=Nl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Cu(e):Ml=t,Al.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(16384&t.flags)){if(null!==(n=Oa(n,t,Vl)))return void(Ml=n)}else{if(null!==(n=sl(t)))return n.flags&=16383,void(Ml=n);null!==e&&(e.flags|=16384,e.subtreeFlags=0,e.deletions=null)}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Ul&&(Ul=5)}function ku(e){var t=un,n=Pl.transition;try{Pl.transition=0,un=1,function(e,t){do{xu()}while(null!==Xl);if(0!=(6&Ol))throw Error(W(327));var n=e.finishedWork,r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,i),e===Rl&&(Ml=Rl=null,Fl=0),0==(1040&n.subtreeFlags)&&0==(1040&n.flags)||Yl||(Yl=!0,Au(Kt,(function(){return xu(),null}))),i=0!=(8054&n.flags),0!=(8054&n.subtreeFlags)||i){i=Pl.transition,Pl.transition=0;var s=un;un=1;var o=Ol;Ol|=4,Al.current=null,function(e,t){if(Ui=Mn,ri(e=ni())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(a=o+i),h!==s||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zi={focusedElem:e,selectionRange:n},Mn=!1,ul=t;null!==ul;)if(e=(t=ul).child,0!=(516&t.subtreeFlags)&&null!==e)e.return=t,ul=e;else for(;null!==ul;){t=ul;try{var p=t.alternate;if(0!=(512&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:As(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:Yi(t.stateNode.containerInfo);break;default:throw Error(W(163))}}catch(e){Iu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,ul=e;break}ul=t.return}p=hl,hl=!1}(e,n),function(e,t){for(ul=t;null!==ul;){var n=(t=ul).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{El(e,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){Iu(i,t,e)}}if(n=t.child,0!=(6454&t.subtreeFlags)&&null!==n)n.return=t,ul=n;else for(;null!==ul;){t=ul;try{var o=t.flags;if(32&o&&it(t.stateNode,""),256&o){var a=t.alternate;if(null!==a){var l=a.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(4096&o)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(Hl=Bt())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{i=c;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var y=p.stateNode,v=p.memoizedProps.style,b=null!=v&&v.hasOwnProperty("display")?v.display:null;y.style.display=at("display",b)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!d&&0!=(1&n.mode)){ul=n;for(var w=n.child;null!==w;){for(n=ul=w;null!==ul;){var E=(r=ul).child;switch(r.tag){case 0:case 11:case 14:case 15:dl(2,r,r.return);break;case 1:cl(r,r.return);var S=r.stateNode;if("function"==typeof S.componentWillUnmount){var C=r.return;try{S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(e){Iu(r,C,e)}}break;case 5:cl(r,r.return);break;case 22:if(null!==r.memoizedState){Il(n);continue}}null!==E?(E.return=r,ul=E):Il(n)}w=w.sibling}}}switch(2054&o){case 2:vl(t),t.flags&=-3;break;case 6:vl(t),t.flags&=-3,Sl(t.alternate,t);break;case 2048:t.flags&=-2049;break;case 2052:t.flags&=-2049,Sl(t.alternate,t);break;case 4:Sl(t.alternate,t)}}catch(e){Iu(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,ul=n;break}ul=t.return}}}(e,n),ii(zi),Mn=!!Ui,zi=Ui=null,e.current=n,kl(n),zt(),Ol=o,un=s,Pl.transition=i}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Jl=r),0===(i=e.pendingLanes)&&(Ql=null),function(e){if(Qt&&"function"==typeof Qt.onCommitFiberRoot)try{Qt.onCommitFiberRoot(Gt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),au(e,Bt()),Wl)throw Wl=!1,e=Gl,Gl=null,e;0!=(1&Jl)&&0!==e.tag&&xu(),0!=(1&(i=e.pendingLanes))?e===eu?Zl++:(Zl=0,eu=e):Zl=0,Ls()}(e)}finally{Pl.transition=n,un=t}return null}function xu(){if(null!==Xl){var e=cn(Jl),t=Pl.transition,n=un;try{if(Pl.transition=0,un=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!=(6&Ol))throw Error(W(331));var i=Ol;for(Ol|=4,ul=e.current;null!==ul;){var s=ul,o=s.child;if(0!=(16&ul.flags)){var a=s.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(ul=u;null!==ul;){var c=ul;switch(c.tag){case 0:case 11:case 15:dl(4,c,s)}var h=c.child;if(null!==h)h.return=c,ul=h;else for(;null!==ul;){var d=(c=ul).sibling,f=c.return;if(gl(c),c===u){ul=null;break}if(null!==d){d.return=f,ul=d;break}ul=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ul=s}}if(0!=(1040&s.subtreeFlags)&&null!==o)o.return=s,ul=o;else e:for(;null!==ul;){if(0!=(1024&(s=ul).flags))switch(s.tag){case 0:case 11:case 15:dl(5,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,ul=y;break e}ul=s.return}}var v=e.current;for(ul=v;null!==ul;){var b=(o=ul).child;if(0!=(1040&o.subtreeFlags)&&null!==b)b.return=o,ul=b;else e:for(o=v;null!==ul;){if(0!=(1024&(a=ul).flags))try{switch(a.tag){case 0:case 11:case 15:fl(5,a)}}catch(e){Iu(a,a.return,e)}if(a===o){ul=null;break e}var w=a.sibling;if(null!==w){w.return=a.return,ul=w;break e}ul=a.return}}if(Ol=i,Ls(),Qt&&"function"==typeof Qt.onPostCommitFiberRoot)try{Qt.onPostCommitFiberRoot(Gt,e)}catch(e){}r=!0}return r}finally{un=n,Pl.transition=t}}return!1}function Tu(e,t,n){Ws(e,t=La(0,t=ka(n,t),1)),t=ru(),null!==(e=ou(e,1))&&(rn(e,1,t),au(e,t))}function Iu(e,t,n){if(3===e.tag)Tu(e,e,n);else for(t=e.return;null!==t;){if(3===t.tag){Tu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){Ws(t,e=Da(t,e=ka(n,e),1)),e=ru(),null!==(t=ou(t,1))&&(rn(t,1,e),au(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ru(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Fl&n)===n&&(4===Ul||3===Ul&&(130023424&Fl)===Fl&&500>Bt()-Hl?mu(e,0):$l|=n),au(e,t)}function Nu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Xt,0==(130023424&(Xt<<=1))&&(Xt=4194304)));var n=ru();null!==(e=ou(e,t))&&(rn(e,t,n),au(e,n))}function Lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Du(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}null!==r&&r.delete(t),Nu(e,n)}function Au(e,t){return Vt(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=3670016&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Ru(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case he:return Vu(n.children,i,s,t);case Se:o=8,i|=4;break;case de:o=8,i|=8;break;case fe:return(e=Ou(12,n,t,2|i)).elementType=fe,e.lanes=s,e;case ye:return(e=Ou(13,n,t,i)).elementType=ye,e.lanes=s,e;case ve:return(e=Ou(19,n,t,i)).elementType=ve,e.lanes=s,e;case Ce:return ju(n,i,s,t);case ke:return(e=Ou(23,n,t,i)).elementType=ke,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case pe:o=10;break e;case me:o=9;break e;case ge:o=11;break e;case be:o=14;break e;case we:o=16,r=null;break e}throw Error(W(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=Ce,e.lanes=n,e}function Uu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=nn(0),this.expirationTimes=nn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,i){return e=new Bu(e,t,n),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ou(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:null},$s(i),e}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ce,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hu(e,t,n,r){var i=t.current,s=ru(),o=iu(i);e:if(n){t:{if(Pt(n=n._reactInternals)!==n||1!==n.tag)throw Error(W(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Es(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(W(171))}if(1===n.tag){var l=n.type;if(Es(l)){n=ks(n,l,a);break e}}n=a}else n=gs;return null===t.context?t.context=n:t.pendingContext=n,(t=Ks(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ws(i,t),null!==(e=su(i,o,s))&&Gs(e,i,o),o}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var e=Ku(o);a.call(e)}}Hu(t,o,e,i)}else{if(o=s=n._reactRootContainer=function(e,t){if(!t)for(var n;n=e.lastChild;)e.removeChild(n);return t=qu(e,0,t,0,!1),e[rs]=t.current,Ai(8===e.nodeType?e.parentNode:e),t}(n,r),"function"==typeof i){var l=i;i=function(){var e=Ku(o);l.call(e)}}fu((function(){Hu(t,o,e,i)}))}return Ku(o)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||vs.current)Ma=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Ma=!1,function(e,t,n){switch(t.tag){case 3:Ka(t),Do();break;case 5:bo(t);break;case 1:Es(t.type)&&xs(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ms(Ps,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ms(Eo,1&Eo.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Qa(e,t,n):(ms(Eo,1&Eo.current),null!==(e=il(e,t,n))?e.sibling:null);ms(Eo,1&Eo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ms(Eo,Eo.current),r)break;return null;case 22:case 23:return t.lanes=0,za(e,t,n)}return il(e,t,n)}(e,t,n);Ma=0!=(65536&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ws(t,ys.current);if(Us(t,n),i=Ho(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(r)){var s=!0;xs(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t),i.updater=eo,t.stateNode=i,i._reactInternals=t,io(t,r,e,n),t=Ha(null,t,r,!0,s,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===ge)return 11;if(e===be)return 14}return 2}(r),e=As(r,e),i){case 0:t=qa(null,t,r,e,n);break e;case 1:t=$a(null,t,r,e,n);break e;case 11:t=Va(null,t,r,e,n);break e;case 14:t=ja(null,t,r,As(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:As(r,i),n);case 1:return r=t.type,i=t.pendingProps,$a(e,t,r,i=t.elementType===r?i:As(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(W(282));if(r=t.pendingProps,i=t.memoizedState.element,Hs(e,t),Ys(t,r,null,n),s=t.stateNode,(r=t.memoizedState.element)===i)Do(),t=il(e,t,n);else{if((i=s.hydrate)&&(ko=Xi(t.stateNode.containerInfo.firstChild),Co=t,i=xo=!0),i){if(null!=(e=s.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ao.push(s);for(n=co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|2048,n=n.sibling}else Fa(e,t,r,n),Do();t=t.child}return t;case 5:bo(t),null===e&&_o(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null;var o=i.children;return qi(r,i)?o=null:null!==s&&qi(r,s)&&(t.flags|=32),Ba(e,t),Fa(e,t,o,n),t.child;case 6:return null===e&&_o(t),null;case 13:return Qa(e,t,n);case 4:return yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=uo(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:As(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ms(Ps,r._currentValue),r._currentValue=o,null!==s)if(Xr(s.value,o)){if(s.children===i.children&&!vs.current){t=il(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){o=s.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Ks(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),js(s.return,n),a.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(W(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),js(o,n),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),r=r(i=zs(i)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return i=As(r=t.type,t.pendingProps),ja(e,t,r,i=As(r.type,i),n);case 15:return Ua(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:As(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Es(r)?(e=!0,xs(t)):e=!1,Us(t,n),no(t,r,i),io(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return rl(e,t,n);case 22:case 23:return za(e,t,n)}throw Error(W(156,t.tag))},Qu.prototype.render=function(e){Hu(e,this._internalRoot,null,null)},Qu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hu(null,e,null,(function(){t[rs]=null}))},hn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=Jt(t.pendingLanes);0!==n&&(sn(t,1|n),au(t,Bt()),0==(6&Ol)&&(Kl=Bt()+500,Ls()))}break;case 13:var r=ru();fu((function(){return su(e,1,r)})),Gu(e,1)}},dn=function(e){13===e.tag&&(su(e,1,ru()),Gu(e,1))},fn=function(e){13===e.tag&&(su(e,134217728,ru()),Gu(e,134217728))},pn=function(e){if(13===e.tag){var t=ru(),n=iu(e);su(e,n,t),Gu(e,n)}},mn=function(e,t){var n=un;try{return un=e,t()}finally{un=n}},ft=function(e,t,n){switch(t){case"input":if($e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cs(r);if(!i)throw Error(W(90));je(r),$e(r,i)}}}break;case"textarea":Xe(e,n);break;case"select":null!=(t=n.value)&&Ge(e,!!n.multiple,t,!1)}},bt=du,wt=fu;var Zu={Events:[ls,us,cs,yt,vt,du]},ec={findFiberByHostInstance:as,bundleType:0,version:"18.0.0-fd5e01c2e-20210913",rendererPackageName:"react-dom"},tc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Mt(e))?null:e.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,getIsStrictMode:null,reconcilerVersion:"18.0.0-fd5e01c2e-20210913"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Gt=nc.inject(tc),Qt=nc}catch(nt){}}z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,z.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(W(200));return $u(e,t,null,n)},z.createRoot=function(e,t){if(!Xu(e))throw Error(W(299));var n=null!=t&&null!=t.hydrationOptions&&t.hydrationOptions.mutableSources||null;if(t=qu(e,1,null!=t&&!0===t.hydrate,null!=t&&t.hydrationOptions,null!=t&&!0===t.unstable_strictMode),e[rs]=t.current,Ai(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++)Oo(t,n[e]);return new Qu(t)},z.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(W(188));throw Error(W(268,Object.keys(e)))}return e=null===(e=Mt(t))?null:e.stateNode},z.flushSync=function(e){return fu(e)},z.hydrate=function(e,t,n){if(!Xu(t))throw Error(W(200));return Ju(null,e,t,!0,n)},z.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(W(405));var r=null!=n&&n.hydratedSources||null;if(n=qu(e,1,!0,0,null!=n&&!0===n.unstable_strictMode),e[rs]=n.current,Ai(e),r)for(e=0;e<r.length;e++)Oo(n,r[e]);return Hu(t,n,null,null),new Qu(n)},z.render=function(e,t,n){if(!Xu(t))throw Error(W(200));return Ju(null,e,t,!1,n)},z.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(W(40));return!!e._reactRootContainer&&(fu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[rs]=null}))})),!0)},z.unstable_batchedUpdates=du,z.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(W(200));if(null==e||void 0===e._reactInternals)throw Error(W(38));return Ju(e,t,n,!1,r)},z.version="18.0.0-fd5e01c2e-20210913",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),U.exports=z;var rc=U.exports;function ic(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function sc(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function oc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ac(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function lc(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}class uc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function cc(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hc(){return!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dc(){return"object"==typeof indexedDB}class fc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(mc,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new fc(r,o,n)}}const mc=/\{\$([^}]+)}/g;function gc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(yc(n)&&yc(s)){if(!gc(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function yc(e){return null!==e&&"object"==typeof e}function vc(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function bc(e){return e&&e._delegate?e._delegate:e}var wc=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ec="[DEFAULT]",Sc=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new uc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ec})}catch(e){}try{for(var r=oc(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=ac(i.value,2),o=s[0],a=s[1],l=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ec),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return ic(this,void 0,void 0,(function(){var e;return sc(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(lc(lc([],ac(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),ac(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ec),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=Ec),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var a=oc(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var u=ac(l.value,2),c=u[0],h=u[1];s===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=oc(i),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ec?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Ec),this.component?this.component.multipleInstances?e:Ec:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var Cc,kc=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Sc(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cc||(Cc={}));const xc={debug:Cc.DEBUG,verbose:Cc.VERBOSE,info:Cc.INFO,warn:Cc.WARN,error:Cc.ERROR,silent:Cc.SILENT},Tc=Cc.INFO,Ic={[Cc.DEBUG]:"log",[Cc.VERBOSE]:"log",[Cc.INFO]:"info",[Cc.WARN]:"warn",[Cc.ERROR]:"error"},_c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Ic[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Nc{constructor(e){this.name=e,this._logLevel=Tc,this._logHandler=_c,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cc))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cc.DEBUG,...e),this._logHandler(this,Cc.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cc.VERBOSE,...e),this._logHandler(this,Cc.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cc.INFO,...e),this._logHandler(this,Cc.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cc.WARN,...e),this._logHandler(this,Cc.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cc.ERROR,...e),this._logHandler(this,Cc.ERROR,...e)}}class Lc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Dc="@firebase/app",Ac="0.7.4",Pc=new Nc("@firebase/app"),Oc="[DEFAULT]",Rc={[Dc]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mc=new Map,Fc=new Map;function Vc(e,t){try{e.container.addComponent(t)}catch(n){Pc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jc(e){const t=e.name;if(Fc.has(t))return Pc.debug(`There were multiple attempts to register component ${t}.`),!1;Fc.set(t,e);for(const t of Mc.values())Vc(t,e);return!0}function Uc(e,t){return e.container.getProvider(t)}const zc=new pc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Bc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}const qc="9.1.3";function $c(e="[DEFAULT]"){const t=Mc.get(e);if(!t)throw zc.create("no-app",{appName:e});return t}function Hc(e,t,n){var r;let i=null!==(r=Rc[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Pc.warn(e.join(" "))}jc(new wc(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}var Kc;Kc="",jc(new wc("platform-logger",(e=>new Lc(e)),"PRIVATE")),Hc(Dc,Ac,Kc),Hc(Dc,Ac,"esm2017"),Hc("fire-js","");var Wc,Gc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qc=Qc||{},Yc=Gc||self;function Xc(){}function Jc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Zc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var eh="closure_uid_"+(1e9*Math.random()>>>0),th=0;function nh(e,t,n){return e.call.apply(e.bind,arguments)}function rh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ih(e,t,n){return(ih=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nh:rh).apply(null,arguments)}function sh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function oh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ah(){this.s=this.s,this.o=this.o}var lh={};ah.prototype.s=!1,ah.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,eh)&&e[eh]||(e[eh]=++th)}(this);delete lh[e]}},ah.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ch=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function hh(e){return Array.prototype.concat.apply([],arguments)}function dh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fh(e){return/^[\s\xa0]*$/.test(e)}var ph,mh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gh(e,t){return-1!=e.indexOf(t)}function yh(e,t){return e<t?-1:e>t?1:0}e:{var vh=Yc.navigator;if(vh){var bh=vh.userAgent;if(bh){ph=bh;break e}}ph=""}function wh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Eh(e){const t={};for(const n in e)t[n]=e[n];return t}var Sh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ch(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Sh.length;t++)n=Sh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kh(e){return kh[" "](e),e}kh[" "]=Xc;var xh,Th=gh(ph,"Opera"),Ih=gh(ph,"Trident")||gh(ph,"MSIE"),_h=gh(ph,"Edge"),Nh=_h||Ih,Lh=gh(ph,"Gecko")&&!(gh(ph.toLowerCase(),"webkit")&&!gh(ph,"Edge"))&&!(gh(ph,"Trident")||gh(ph,"MSIE"))&&!gh(ph,"Edge"),Dh=gh(ph.toLowerCase(),"webkit")&&!gh(ph,"Edge");function Ah(){var e=Yc.document;return e?e.documentMode:void 0}e:{var Ph="",Oh=function(){var e=ph;return Lh?/rv:([^\);]+)(\)|;)/.exec(e):_h?/Edge\/([\d\.]+)/.exec(e):Ih?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dh?/WebKit\/(\S+)/.exec(e):Th?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Oh&&(Ph=Oh?Oh[1]:""),Ih){var Rh=Ah();if(null!=Rh&&Rh>parseFloat(Ph)){xh=String(Rh);break e}}xh=Ph}var Mh,Fh={};function Vh(){return function(e){var t=Fh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=mh(String(xh)).split("."),n=mh("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=yh(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||yh(0==i[2].length,0==s[2].length)||yh(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(Yc.document&&Ih){var jh=Ah();Mh=jh||(parseInt(xh,10)||void 0)}else Mh=void 0;var Uh=Mh,zh=function(){if(!Yc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Yc.addEventListener("test",Xc,t),Yc.removeEventListener("test",Xc,t)}catch(e){}return e}();function Bh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function qh(e,t){if(Bh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lh){e:{try{kh(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qh.Z.h.call(this)}}Bh.prototype.h=function(){this.defaultPrevented=!0},oh(qh,Bh);var $h={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),Kh=0;function Wh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Kh,this.ca=this.fa=!1}function Gh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Qh(e){this.src=e,this.g={},this.h=0}function Yh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=uh(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Gh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Qh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Xh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Wh(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Jh="closure_lm_"+(1e6*Math.random()|0),Zh={};function ed(e,t,n,r,i){if(r&&r.once)return nd(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ed(e,t[s],n,r,i);return null}return n=ud(n),e&&e[Hh]?e.N(t,n,Zc(r)?!!r.capture:!!r,i):td(e,t,n,!1,r,i)}function td(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Zc(i)?!!i.capture:!!i,a=ad(e);if(a||(e[Jh]=a=new Qh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=od;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function nd(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)nd(e,t[s],n,r,i);return null}return n=ud(n),e&&e[Hh]?e.O(t,n,Zc(r)?!!r.capture:!!r,i):td(e,t,n,!0,r,i)}function rd(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)rd(e,t[s],n,r,i);else r=Zc(r)?!!r.capture:!!r,n=ud(n),e&&e[Hh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xh(s=e.g[t],n,r,i))&&(Gh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ad(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xh(t,n,r,i)),(n=-1<e?t[e]:null)&&id(n))}function id(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Hh])Yh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ad(t))?(Yh(n,e),0==n.h&&(n.src=null,t[Jh]=null)):Gh(e)}}}function sd(e){return e in Zh?Zh[e]:Zh[e]="on"+e}function od(e,t){if(e.ca)e=!0;else{t=new qh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&id(e),e=n.call(r,t)}return e}function ad(e){return(e=e[Jh])instanceof Qh?e:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(e){return"function"==typeof e?e:(e[ld]||(e[ld]=function(t){return e.handleEvent(t)}),e[ld])}function cd(){ah.call(this),this.i=new Qh(this),this.P=this,this.I=null}function hd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Bh(t,e);else if(t instanceof Bh)t.target=t.target||e;else{var i=t;Ch(t=new Bh(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=dd(o,r,!0,t)&&i}if(i=dd(o=t.g=e,r,!0,t)&&i,i=dd(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=dd(o=t.g=n[s],r,!1,t)&&i}function dd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Yh(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}oh(cd,ah),cd.prototype[Hh]=!0,cd.prototype.removeEventListener=function(e,t,n,r){rd(this,e,t,n,r)},cd.prototype.M=function(){if(cd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gh(n[r]);delete t.g[e],t.h--}}this.I=null},cd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fd=Yc.JSON.stringify;function pd(){var e=Ed;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var md,gd=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new yd),(e=>e.reset()));class yd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vd(e){Yc.setTimeout((()=>{throw e}),0)}function bd(e,t){md||function(){var e=Yc.Promise.resolve(void 0);md=function(){e.then(Sd)}}(),wd||(md(),wd=!0),Ed.add(e,t)}var wd=!1,Ed=new class{constructor(){this.h=this.g=null}add(e,t){const n=gd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Sd(){for(var e;e=pd();){try{e.h.call(e.g)}catch(e){vd(e)}var t=gd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wd=!1}function Cd(e,t){cd.call(this),this.h=e||1,this.g=t||Yc,this.j=ih(this.kb,this),this.l=Date.now()}function kd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xd(e,t,n){if("function"==typeof e)n&&(e=ih(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ih(e.handleEvent,e)}return 2147483647<Number(t)?-1:Yc.setTimeout(e,t||0)}function Td(e){e.g=xd((()=>{e.g=null,e.i&&(e.i=!1,Td(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}oh(Cd,cd),(Wc=Cd.prototype).da=!1,Wc.S=null,Wc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hd(this,"tick"),this.da&&(kd(this),this.start()))}},Wc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wc.M=function(){Cd.Z.M.call(this),kd(this),delete this.g};class Id extends ah{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Td(this)}M(){super.M(),this.g&&(Yc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _d(e){ah.call(this),this.h=e,this.g={}}oh(_d,ah);var Nd=[];function Ld(e,t,n,r){Array.isArray(n)||(n&&(Nd[0]=n.toString()),n=Nd);for(var i=0;i<n.length;i++){var s=ed(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Dd(e){wh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&id(e)}),e),e.g={}}function Ad(){this.g=!0}function Pd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fd(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}_d.prototype.M=function(){_d.Z.M.call(this),Dd(this)},_d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ad.prototype.Aa=function(){this.g=!1},Ad.prototype.info=function(){};var Od={},Rd=null;function Md(){return Rd=Rd||new cd}function Fd(e){Bh.call(this,Od.Ma,e)}function Vd(e){const t=Md();hd(t,new Fd(t,e))}function jd(e,t){Bh.call(this,Od.STAT_EVENT,e),this.stat=t}function Ud(e){const t=Md();hd(t,new jd(t,e))}function zd(e,t){Bh.call(this,Od.Na,e),this.size=t}function Bd(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Yc.setTimeout((function(){e()}),t)}Od.Ma="serverreachability",oh(Fd,Bh),Od.STAT_EVENT="statevent",oh(jd,Bh),Od.Na="timingevent",oh(zd,Bh);var qd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$d={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hd(){}function Kd(e){return e.h||(e.h=e.i())}function Wd(){}Hd.prototype.h=null;var Gd,Qd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yd(){Bh.call(this,"d")}function Xd(){Bh.call(this,"c")}function Jd(){}function Zd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new _d(this),this.P=tf,e=Nh?125:void 0,this.W=new Cd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ef}function ef(){this.i=null,this.g="",this.h=!1}oh(Yd,Bh),oh(Xd,Bh),oh(Jd,Hd),Jd.prototype.g=function(){return new XMLHttpRequest},Jd.prototype.i=function(){return{}},Gd=new Jd;var tf=45e3,nf={},rf={};function sf(e,t,n){e.K=1,e.v=_f(Sf(t)),e.s=n,e.U=!0,of(e,null)}function of(e,t){e.F=Date.now(),cf(e),e.A=Sf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),zf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ef,e.g=zp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Id(ih(e.Ia,e,e.g),e.O)),Ld(e.V,e.g,"readystatechange",e.gb),t=e.H?Eh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vd(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function af(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function lf(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=uf(e,n),r==rf){4==t&&(e.o=4,Ud(14),i=!1),Pd(e.j,e.m,null,"[Incomplete Response]");break}if(r==nf){e.o=4,Ud(15),Pd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pd(e.j,e.m,r,null),mf(e,r)}af(e)&&r!=rf&&r!=nf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ud(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pp(t),t.L=!0,Ud(11))):(Pd(e.j,e.m,n,"[Invalid Chunked Response]"),pf(e),ff(e))}function uf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?rf:(n=Number(t.substring(n,r)),isNaN(n)?nf:(r+=1)+n>t.length?rf:(t=t.substr(r,n),e.C=r+n,t))}function cf(e){e.Y=Date.now()+e.P,hf(e,e.P)}function hf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bd(ih(e.eb,e),t)}function df(e){e.B&&(Yc.clearTimeout(e.B),e.B=null)}function ff(e){0==e.l.G||e.I||Mp(e.l,e)}function pf(e){df(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kd(e.W),Dd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wf(n.i,e)))if(n.I=e.N,!e.J&&Wf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Rp(n),kp(n)}Ap(n),Ud(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Bd(ih(n.ab,n),6e3));if(1>=Kf(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Vp(n,11)}else if((e.J||n.g==e)&&Rp(n),!fh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(gh(e,"spdy")||gh(e,"quic")||gh(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Gf(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,If(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Up(r,r.H?r.la:null,r.W),o.J){Qf(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(df(a),cf(a)),r.g=o}else Dp(r);0<n.l.length&&Ip(n)}else"stop"!=u[0]&&"close"!=u[0]||Vp(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Vp(n,7):Cp(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Vd(4)}catch(e){}}function gf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Jc(e)||"string"==typeof e)ch(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Jc(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Jc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function yf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function vf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];bf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)bf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function bf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Wc=Zd.prototype).setTimeout=function(e){this.P=e},Wc.gb=function(e){e=e.target;const t=this.L;t&&3==vp(e)?t.l():this.Ia(e)},Wc.Ia=function(e){try{if(e==this.g)e:{const c=vp(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Nh||this.g&&(this.h.h||this.g.ga()||bp(this.g)))){this.I||4!=c||7==t||Vd(8==t||0>=h?3:2),df(this);var n=this.g.ba();this.N=n;t:if(af(this)){var r=bp(this.g);e="";var i=r.length,s=4==vp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pf(this),ff(this);var o="";break t}this.h.i=new Yc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ud(12),pf(this),ff(this);break e}Pd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mf(this,n)}this.U?(lf(this,c,o),Nh&&this.i&&3==c&&(Ld(this.V,this.W,"tick",this.fb),this.W.start())):(Pd(this.j,this.m,o,null),mf(this,o)),4==c&&pf(this),this.i&&!this.I&&(4==c?Mp(this.l,this):(this.i=!1,cf(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ud(12)):(this.o=0,Ud(13)),pf(this),ff(this)}}}catch(e){}},Wc.fb=function(){if(this.g){var e=vp(this.g),t=this.g.ga();this.C<t.length&&(df(this),lf(this,e,t),this.i&&4!=e&&cf(this))}},Wc.cancel=function(){this.I=!0,pf(this)},Wc.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vd(3),Ud(17)),pf(this),this.o=2,ff(this)):hf(this,this.Y-e)},(Wc=yf.prototype).R=function(){vf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Wc.T=function(){return vf(this),this.g.concat()},Wc.get=function(e,t){return bf(this.h,e)?this.h[e]:t},Wc.set=function(e,t){bf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Wc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var wf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ef(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ef){this.g=void 0!==t?t:e.g,Cf(this,e.j),this.s=e.s,kf(this,e.i),xf(this,e.m),this.l=e.l,t=e.h;var n=new Ff;n.i=t.i,t.g&&(n.g=new yf(t.g),n.h=t.h),Tf(this,n),this.o=e.o}else e&&(n=String(e).match(wf))?(this.g=!!t,Cf(this,n[1]||"",!0),this.s=Nf(n[2]||""),kf(this,n[3]||"",!0),xf(this,n[4]),this.l=Nf(n[5]||"",!0),Tf(this,n[6]||"",!0),this.o=Nf(n[7]||"")):(this.g=!!t,this.h=new Ff(null,this.g))}function Sf(e){return new Ef(e)}function Cf(e,t,n){e.j=n?Nf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kf(e,t,n){e.i=n?Nf(t,!0):t}function xf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tf(e,t,n){t instanceof Ff?(e.h=t,function(e,t){t&&!e.j&&(Vf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jf(this,t),zf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Lf(t,Rf)),e.h=new Ff(t,e.g))}function If(e,t,n){e.h.set(t,n)}function _f(e){return If(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lf(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Df),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Df(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ef.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lf(t,Af,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lf(t,Af,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lf(n,"/"==n.charAt(0)?Of:Pf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lf(n,Mf)),e.join("")};var Af=/[#\/\?@]/g,Pf=/[#\?:]/g,Of=/[#\?]/g,Rf=/[#\?@]/g,Mf=/#/g;function Ff(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vf(e){e.g||(e.g=new yf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jf(e,t){Vf(e),t=Bf(e,t),bf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,bf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&vf(e)))}function Uf(e,t){return Vf(e),t=Bf(e,t),bf(e.g.h,t)}function zf(e,t,n){jf(e,t),0<n.length&&(e.i=null,e.g.set(Bf(e,t),dh(n)),e.h+=n.length)}function Bf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wc=Ff.prototype).add=function(e,t){Vf(this),this.i=null,e=Bf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wc.forEach=function(e,t){Vf(this),this.g.forEach((function(n,r){ch(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Wc.T=function(){Vf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Wc.R=function(e){Vf(this);var t=[];if("string"==typeof e)Uf(this,e)&&(t=hh(t,this.g.get(Bf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hh(t,e[n])}return t},Wc.set=function(e,t){return Vf(this),this.i=null,Uf(this,e=Bf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Wc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};function qf(e){this.l=e||$f,Yc.PerformanceNavigationTiming?e=0<(e=Yc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Yc.g&&Yc.g.Ea&&Yc.g.Ea()&&Yc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $f=10;function Hf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kf(e){return e.h?1:e.g?e.g.size:0}function Wf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gf(e,t){e.g?e.g.add(t):e.h=t}function Qf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return dh(e.i)}function Xf(){}function Jf(){this.g=new Xf}function Zf(e,t,n){const r=n||"";try{gf(e,(function(e,n){let i=e;Zc(e)&&(i=fd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ep(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function tp(e){this.l=e.$b||null,this.j=e.ib||!1}function np(e,t){cd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qf.prototype.cancel=function(){if(this.i=Yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Xf.prototype.stringify=function(e){return Yc.JSON.stringify(e,void 0)},Xf.prototype.parse=function(e){return Yc.JSON.parse(e,void 0)},oh(tp,Hd),tp.prototype.g=function(){return new np(this.l,this.j)},tp.prototype.i=function(e){return function(){return e}}({}),oh(np,cd);var rp=0;function ip(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function sp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,op(e)}function op(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wc=np.prototype).open=function(e,t){if(this.readyState!=rp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,op(this)},Wc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Yc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Wc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=rp},Wc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Yc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ip(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Wc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sp(this):op(this),3==this.readyState&&ip(this)}},Wc.Ua=function(e){this.g&&(this.response=this.responseText=e,sp(this))},Wc.Ta=function(e){this.g&&(this.response=e,sp(this))},Wc.ha=function(){this.g&&sp(this)},Wc.setRequestHeader=function(e,t){this.v.append(e,t)},Wc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ap=Yc.JSON.parse;function lp(e){cd.call(this),this.headers=new yf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=up,this.K=this.L=!1}oh(lp,cd);var up="",cp=/^https?$/i,hp=["POST","PUT"];function dp(e){return"content-type"==e.toLowerCase()}function fp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pp(e),gp(e)}function pp(e){e.D||(e.D=!0,hd(e,"complete"),hd(e,"error"))}function mp(e){if(e.h&&void 0!==Qc&&(!e.C[1]||4!=vp(e)||2!=e.ba()))if(e.v&&4==vp(e))xd(e.Fa,0,e);else if(hd(e,"readystatechange"),4==vp(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(wf)[1]||null;if(!i&&Yc.self&&Yc.self.location){var s=Yc.self.location.protocol;i=s.substr(0,s.length-1)}r=!cp.test(i?i.toLowerCase():"")}n=r}if(n)hd(e,"complete"),hd(e,"success");else{e.m=6;try{var o=2<vp(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",pp(e)}}finally{gp(e)}}}function gp(e,t){if(e.g){yp(e);const n=e.g,r=e.C[0]?Xc:null;e.g=null,e.C=null,t||hd(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function yp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Yc.clearTimeout(e.A),e.A=null)}function vp(e){return e.g?e.g.readyState:0}function bp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case up:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return wh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):If(e,t,n))}function Ep(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sp(e){this.za=0,this.l=[],this.h=new Ad,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ep("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ep("baseRetryDelayMs",5e3,e),this.$a=Ep("retryDelaySeedMs",1e4,e),this.Ya=Ep("forwardChannelMaxRetries",2,e),this.ra=Ep("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new qf(e&&e.concurrentRequestLimit),this.Ca=new Jf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Cp(e){if(xp(e),3==e.G){var t=e.V++,n=Sf(e.F);If(n,"SID",e.J),If(n,"RID",t),If(n,"TYPE","terminate"),Np(e,n),(t=new Zd(e,e.h,t,void 0)).K=2,t.v=_f(Sf(n)),n=!1,Yc.navigator&&Yc.navigator.sendBeacon&&(n=Yc.navigator.sendBeacon(t.v.toString(),"")),!n&&Yc.Image&&((new Image).src=t.v,n=!0),n||(t.g=zp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),cf(t)}jp(e)}function kp(e){e.g&&(Pp(e),e.g.cancel(),e.g=null)}function xp(e){kp(e),e.u&&(Yc.clearTimeout(e.u),e.u=null),Rp(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Yc.clearTimeout(e.m),e.m=null)}function Tp(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Ip(e)}function Ip(e){Hf(e.i)||e.m||(e.m=!0,bd(e.Ha,e),e.C=0)}function _p(e,t){var n;n=t?t.m:e.V++;const r=Sf(e.F);If(r,"SID",e.J),If(r,"RID",n),If(r,"AID",e.U),Np(e,r),e.o&&e.s&&wp(r,e.o,e.s),n=new Zd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Lp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gf(e.i,n),sf(n,r,t)}function Np(e,t){e.j&&gf({},(function(e,n){If(t,n,e)}))}function Lp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ih(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Zf(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Dp(e){e.g||e.u||(e.Y=1,bd(e.Ga,e),e.A=0)}function Ap(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Bd(ih(e.Ga,e),Fp(e,e.A)),e.A++,!0)}function Pp(e){null!=e.B&&(Yc.clearTimeout(e.B),e.B=null)}function Op(e){e.g=new Zd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sf(e.oa);If(t,"RID","rpc"),If(t,"SID",e.J),If(t,"CI",e.N?"0":"1"),If(t,"AID",e.U),Np(e,t),If(t,"TYPE","xmlhttp"),e.o&&e.s&&wp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_f(Sf(t)),n.s=null,n.U=!0,of(n,e)}function Rp(e){null!=e.v&&(Yc.clearTimeout(e.v),e.v=null)}function Mp(e,t){var n=null;if(e.g==t){Rp(e),Pp(e),e.g=null;var r=2}else{if(!Wf(e.i,t))return;n=t.D,Qf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hd(r=Md(),new zd(r,n,t,i)),Ip(e)}else Dp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Kf(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Bd(ih(e.Ha,e,t),Fp(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ap(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vp(e,5);break;case 4:Vp(e,10);break;case 3:Vp(e,6);break;default:Vp(e,2)}}function Fp(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ih(e.jb,e);n||(n=new Ef("//www.google.com/images/cleardot.gif"),Yc.location&&"http"==Yc.location.protocol||Cf(n,"https"),_f(n)),function(e,t){const n=new Ad;if(Yc.Image){const r=new Image;r.onload=sh(ep,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sh(ep,n,r,"TestLoadImage: error",!1,t),r.onabort=sh(ep,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sh(ep,n,r,"TestLoadImage: timeout",!1,t),Yc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ud(2);e.G=0,e.j&&e.j.va(t),jp(e),xp(e)}function jp(e){e.G=0,e.I=-1,e.j&&(0==Yf(e.i).length&&0==e.l.length||(e.i.i.length=0,dh(e.l),e.l.length=0),e.j.ua())}function Up(e,t,n){let r=function(e){return e instanceof Ef?Sf(e):new Ef(e,void 0)}(n);if(""!=r.i)t&&kf(r,t+"."+r.i),xf(r,r.m);else{const e=Yc.location;r=function(e,t,n,r){var i=new Ef(null,void 0);return e&&Cf(i,e),t&&kf(i,t),n&&xf(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&wh(e.aa,(function(e,t){If(r,t,e)})),t=e.D,n=e.sa,t&&n&&If(r,t,n),If(r,"VER",e.ma),Np(e,r),r}function zp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new lp(new tp({ib:!0})):new lp(e.qa)).L=e.H,t}function Bp(){}function qp(){if(Ih&&!(10<=Number(Uh)))throw Error("Environmental error: no available transport.")}function $p(e,t){cd.call(this),this.g=new Sp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wp(this)}function Hp(e){Yd.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Kp(){Xd.call(this),this.status=1}function Wp(e){this.g=e}(Wc=lp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=this.u?Kd(this.u):Kd(Gd),this.g.onreadystatechange=ih(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void fp(this,e)}e=n||"";const i=new yf(this.headers);r&&gf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=dp;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Yc.FormData&&e instanceof Yc.FormData,!(0<=uh(hp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yp(this),0<this.B&&((this.K=function(e){return Ih&&Vh()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ih(this.pa,this)):this.A=xd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){fp(this,e)}},Wc.pa=function(){void 0!==Qc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hd(this,"timeout"),this.abort(8))},Wc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hd(this,"complete"),hd(this,"abort"),gp(this))},Wc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gp(this,!0)),lp.Z.M.call(this)},Wc.Fa=function(){this.s||(this.F||this.v||this.l?mp(this):this.cb())},Wc.cb=function(){mp(this)},Wc.ba=function(){try{return 2<vp(this)?this.g.status:-1}catch(e){return-1}},Wc.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Wc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ap(t)}},Wc.Da=function(){return this.m},Wc.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wc=Sp.prototype).ma=8,Wc.G=1,Wc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Wc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Zd(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Eh(s),Ch(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Lp(this,i,t),If(n=Sf(this.F),"RID",e),If(n,"CVER",22),this.D&&If(n,"X-HTTP-Session-Id",this.D),Np(this,n),this.o&&s&&wp(n,this.o,s),Gf(this.i,i),this.Ra&&If(n,"TYPE","init"),this.ja?(If(n,"$req",t),If(n,"SID","null"),i.$=!0,sf(i,n,null)):sf(i,n,t),this.G=2}}else 3==this.G&&(e?_p(this,e):0==this.l.length||Hf(this.i)||_p(this))},Wc.Ga=function(){if(this.u=null,Op(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Bd(ih(this.bb,this),e)}},Wc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ud(10),kp(this),Op(this))},Wc.ab=function(){null!=this.v&&(this.v=null,kp(this),Ap(this),Ud(19))},Wc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ud(2)):(this.h.info("Failed to ping google.com"),Ud(1))},(Wc=Bp.prototype).xa=function(){},Wc.wa=function(){},Wc.va=function(){},Wc.ua=function(){},Wc.Oa=function(){},qp.prototype.g=function(e,t){return new $p(e,t)},oh($p,cd),$p.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),bd(ih(e.hb,e,t))),Ud(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Up(e,null,e.W),Ip(e)},$p.prototype.close=function(){Cp(this.g)},$p.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Tp(this.g,t)}else this.v?((t={}).__data__=fd(e),Tp(this.g,t)):Tp(this.g,e)},$p.prototype.M=function(){this.g.j=null,delete this.j,Cp(this.g),delete this.g,$p.Z.M.call(this)},oh(Hp,Yd),oh(Kp,Xd),oh(Wp,Bp),Wp.prototype.xa=function(){hd(this.g,"a")},Wp.prototype.wa=function(e){hd(this.g,new Hp(e))},Wp.prototype.va=function(e){hd(this.g,new Kp(e))},Wp.prototype.ua=function(){hd(this.g,"b")},qp.prototype.createWebChannel=qp.prototype.g,$p.prototype.send=$p.prototype.u,$p.prototype.open=$p.prototype.m,$p.prototype.close=$p.prototype.close,qd.NO_ERROR=0,qd.TIMEOUT=8,qd.HTTP_ERROR=6,$d.COMPLETE="complete",Wd.EventType=Qd,Qd.OPEN="a",Qd.CLOSE="b",Qd.ERROR="c",Qd.MESSAGE="d",cd.prototype.listen=cd.prototype.N,lp.prototype.listenOnce=lp.prototype.O,lp.prototype.getLastError=lp.prototype.La,lp.prototype.getLastErrorCode=lp.prototype.Da,lp.prototype.getStatus=lp.prototype.ba,lp.prototype.getResponseJson=lp.prototype.Qa,lp.prototype.getResponseText=lp.prototype.ga,lp.prototype.send=lp.prototype.ea;var Gp=qd,Qp=$d,Yp=Od,Xp=10,Jp=11,Zp=tp,em=Wd,tm=lp;const nm="@firebase/firestore";class rm{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rm.UNAUTHENTICATED=new rm(null),rm.GOOGLE_CREDENTIALS=new rm("google-credentials-uid"),rm.FIRST_PARTY=new rm("first-party-uid"),rm.MOCK_USER=new rm("mock-user");let im="9.1.3";const sm=new Nc("@firebase/firestore");function om(){return sm.logLevel}function am(e,...t){if(sm.logLevel<=Cc.DEBUG){const n=t.map(cm);sm.debug(`Firestore (${im}): ${e}`,...n)}}function lm(e,...t){if(sm.logLevel<=Cc.ERROR){const n=t.map(cm);sm.error(`Firestore (${im}): ${e}`,...n)}}function um(e,...t){if(sm.logLevel<=Cc.WARN){const n=t.map(cm);sm.warn(`Firestore (${im}): ${e}`,...n)}}function cm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hm(e="Unexpected state"){const t=`FIRESTORE (${im}) INTERNAL ASSERTION FAILED: `+e;throw lm(t),new Error(t)}function dm(e,t){e||hm()}function fm(e,t){return e}const pm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mm extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gm{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ym{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class vm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rm.UNAUTHENTICATED)))}shutdown(){}}class bm{constructor(e){this.t=e,this.currentUser=rm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gm,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{am("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(am("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gm)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(am("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dm("string"==typeof t.accessToken),new ym(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dm(null===e||"string"==typeof e),new rm(e)}}class wm{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=rm.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Em{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new wm(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(rm.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Cm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Sm.T=-1;class km{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Cm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function xm(e,t){return e<t?-1:e>t?1:0}function Tm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Im(e){return e+"\0"}class _m{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mm(pm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mm(pm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mm(pm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mm(pm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _m.fromMillis(Date.now())}static fromDate(e){return _m.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new _m(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xm(this.nanoseconds,e.nanoseconds):xm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nm(e)}static min(){return new Nm(new _m(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Lm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Am(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Pm{constructor(e,t,n){void 0===t?t=0:t>e.length&&hm(),void 0===n?n=e.length-t:n>e.length-t&&hm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Om extends Pm{construct(e,t,n){return new Om(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new mm(pm.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Om(t)}static emptyPath(){return new Om([])}}const Rm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mm extends Pm{construct(e,t,n){return new Mm(e,t,n)}static isValidIdentifier(e){return Rm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mm(pm.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mm(pm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mm(pm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new mm(pm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mm(t)}static emptyPath(){return new Mm([])}}class Fm{constructor(e){this.fields=e,e.sort(Mm.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Vm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Vm(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vm.EMPTY_BYTE_STRING=new Vm("");const jm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Um(e){if(dm(!!e),"string"==typeof e){let t=0;const n=jm.exec(e);if(dm(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zm(e.seconds),nanos:zm(e.nanos)}}function zm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bm(e){return"string"==typeof e?Vm.fromBase64String(e):Vm.fromUint8Array(e)}function qm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $m(e){const t=e.mapValue.fields.__previous_value__;return qm(t)?$m(t):t}function Hm(e){const t=Um(e.mapValue.fields.__local_write_time__.timestampValue);return new _m(t.seconds,t.nanos)}function Km(e){return null==e}function Wm(e){return 0===e&&1/e==-1/0}class Gm{constructor(e){this.path=e}static fromPath(e){return new Gm(Om.fromString(e))}static fromName(e){return new Gm(Om.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Om.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Om.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gm(new Om(e.slice()))}}function Qm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qm(e)?4:10:hm()}function Ym(e,t){const n=Qm(e);if(n!==Qm(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hm(e).isEqual(Hm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Um(e.timestampValue),r=Um(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bm(e.bytesValue).isEqual(Bm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zm(e.geoPointValue.latitude)===zm(t.geoPointValue.latitude)&&zm(e.geoPointValue.longitude)===zm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zm(e.integerValue)===zm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zm(e.doubleValue),r=zm(t.doubleValue);return n===r?Wm(n)===Wm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tm(e.arrayValue.values||[],t.arrayValue.values||[],Ym);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lm(n)!==Lm(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Ym(n[e],r[e])))return!1;return!0}(e,t);default:return hm()}}function Xm(e,t){return void 0!==(e.values||[]).find((e=>Ym(e,t)))}function Jm(e,t){const n=Qm(e),r=Qm(t);if(n!==r)return xm(n,r);switch(n){case 0:return 0;case 1:return xm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=zm(e.integerValue||e.doubleValue),r=zm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zm(e.timestampValue,t.timestampValue);case 4:return Zm(Hm(e),Hm(t));case 5:return xm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bm(e),r=Bm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=xm(n[e],r[e]);if(0!==t)return t}return xm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xm(zm(e.latitude),zm(t.latitude));return 0!==n?n:xm(zm(e.longitude),zm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Jm(n[e],r[e]);if(t)return t}return xm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=xm(r[e],s[e]);if(0!==t)return t;const o=Jm(n[r[e]],i[s[e]]);if(0!==o)return o}return xm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hm()}}function Zm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xm(e,t);const n=Um(e),r=Um(t),i=xm(n.seconds,r.seconds);return 0!==i?i:xm(n.nanos,r.nanos)}function eg(e){return tg(e)}function tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Um(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Gm.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=tg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${tg(e.fields[i])}`;return n+"}"}(e.mapValue):hm();var t,n}function ng(e){return!!e&&"integerValue"in e}function rg(e){return!!e&&"arrayValue"in e}function ig(e){return!!e&&"nullValue"in e}function sg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function og(e){return!!e&&"mapValue"in e}function ag(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ag(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ag(e.arrayValue.values[n]);return t}return Object.assign({},e)}class lg{constructor(e){this.value=e}static empty(){return new lg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!og(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ag(t)}setAll(e){let t=Mm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ag(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());og(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ym(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];og(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Dm(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new lg(ag(this.value))}}function ug(e){const t=[];return Dm(e.fields,((e,n)=>{const r=new Mm([e]);if(og(n)){const e=ug(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Fm(t)}class cg{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new cg(e,0,Nm.min(),lg.empty(),0)}static newFoundDocument(e,t,n){return new cg(e,1,t,n,0)}static newNoDocument(e,t){return new cg(e,2,t,lg.empty(),0)}static newUnknownDocument(e,t){return new cg(e,3,t,lg.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new cg(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hg{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function dg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new hg(e,t,n,r,i,s,o)}function fg(e){const t=fm(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+eg(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Km(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Tg(t.startAt)),t.endAt&&(e+="|ub:",e+=Tg(t.endAt)),t.A=e}return t.A}function pg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_g(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Ym(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lg(e.startAt,t.startAt)&&Lg(e.endAt,t.endAt)}function mg(e){return Gm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gg extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new yg(e,t,n):"array-contains"===t?new Eg(e,n):"in"===t?new Sg(e,n):"not-in"===t?new Cg(e,n):"array-contains-any"===t?new kg(e,n):new gg(e,t,n)}static R(e,t,n){return"in"===t?new vg(e,n):new bg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Jm(t,this.value)):null!==t&&Qm(this.value)===Qm(t)&&this.P(Jm(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hm()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yg extends gg{constructor(e,t,n){super(e,t,n),this.key=Gm.fromName(n.referenceValue)}matches(e){const t=Gm.comparator(e.key,this.key);return this.P(t)}}class vg extends gg{constructor(e,t){super(e,"in",t),this.keys=wg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bg extends gg{constructor(e,t){super(e,"not-in",t),this.keys=wg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Gm.fromName(e.referenceValue)))}class Eg extends gg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&Xm(t.arrayValue,this.value)}}class Sg extends gg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xm(this.value.arrayValue,t)}}class Cg extends gg{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xm(this.value.arrayValue,t)}}class kg extends gg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xm(this.value.arrayValue,e)))}}class xg{constructor(e,t){this.position=e,this.before=t}}function Tg(e){return`${e.before?"b":"a"}:${e.position.map((e=>eg(e))).join(",")}`}class Ig{constructor(e,t="asc"){this.field=e,this.dir=t}}function _g(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ng(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Gm.comparator(Gm.fromName(o.referenceValue),n.key):Jm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Lg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ym(e.position[n],t.position[n]))return!1;return!0}class Dg{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function Ag(e){return new Dg(e)}function Pg(e){return!Km(e.limit)&&"F"===e.limitType}function Og(e){return!Km(e.limit)&&"L"===e.limitType}function Rg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mg(e){for(const t of e.filters)if(t.v())return t.field;return null}function Fg(e){const t=fm(e);if(null===t.V){t.V=[];const e=Mg(t),n=Rg(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Ig(e)),t.V.push(new Ig(Mm.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ig(Mm.keyField(),e))}}}return t.V}function Vg(e){const t=fm(e);if(!t.S)if("F"===t.limitType)t.S=dg(t.path,t.collectionGroup,Fg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Fg(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ig(n.field,t))}const n=t.endAt?new xg(t.endAt.position,!t.endAt.before):null,r=t.startAt?new xg(t.startAt.position,!t.startAt.before):null;t.S=dg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function jg(e,t,n){return new Dg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ug(e,t){return pg(Vg(e),Vg(t))&&e.limitType===t.limitType}function zg(e){return`${fg(Vg(e))}|lt:${e.limitType}`}function Bg(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${eg(t.value)}`;var t})).join(", ")}]`),Km(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+Tg(e.startAt)),e.endAt&&(t+=", endAt: "+Tg(e.endAt)),`Target(${t})`}(Vg(e))}; limitType=${e.limitType})`}function qg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ng(e.startAt,Fg(e),t))&&(!e.endAt||!Ng(e.endAt,Fg(e),t))}(e,t)}function $g(e){return(t,n)=>{let r=!1;for(const i of Fg(e)){const e=Hg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hg(e,t,n){const r=e.field.isKeyField()?Gm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jm(r,i):hm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hm()}}function Kg(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(t)?"-0":t}}function Wg(e){return{integerValue:""+e}}function Gg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Wm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Wg(t):Kg(e,t)}class Qg{constructor(){this._=void 0}}function Yg(e,t,n){return e instanceof Zg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ey?ty(e,t):e instanceof ny?ry(e,t):function(e,t){const n=Jg(e,t),r=sy(n)+sy(e.C);return ng(n)&&ng(e.C)?Wg(r):Kg(e.N,r)}(e,t)}function Xg(e,t,n){return e instanceof ey?ty(e,t):e instanceof ny?ry(e,t):n}function Jg(e,t){return e instanceof iy?ng(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Zg extends Qg{}class ey extends Qg{constructor(e){super(),this.elements=e}}function ty(e,t){const n=oy(t);for(const t of e.elements)n.some((e=>Ym(e,t)))||n.push(t);return{arrayValue:{values:n}}}class ny extends Qg{constructor(e){super(),this.elements=e}}function ry(e,t){let n=oy(t);for(const t of e.elements)n=n.filter((e=>!Ym(e,t)));return{arrayValue:{values:n}}}class iy extends Qg{constructor(e,t){super(),this.N=e,this.C=t}}function sy(e){return zm(e.integerValue||e.doubleValue)}function oy(e){return rg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ay{constructor(e,t){this.field=e,this.transform=t}}class ly{constructor(e,t){this.version=e,this.transformResults=t}}class uy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uy}static exists(e){return new uy(void 0,e)}static updateTime(e){return new uy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hy{}function dy(e,t,n){e instanceof yy?function(e,t,n){const r=e.value.clone(),i=wy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vy?function(e,t,n){if(!cy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(by(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fy(e,t,n){e instanceof yy?function(e,t,n){if(!cy(e.precondition,t))return;const r=e.value.clone(),i=Ey(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gy(t),r).setHasLocalMutations()}(e,t,n):e instanceof vy?function(e,t,n){if(!cy(e.precondition,t))return;const r=Ey(e.fieldTransforms,n,t),i=t.data;i.setAll(by(e)),i.setAll(r),t.convertToFoundDocument(gy(t),i).setHasLocalMutations()}(e,t,n):function(e,t){cy(e.precondition,t)&&t.convertToNoDocument(Nm.min())}(e,t)}function py(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Jg(r.transform,e||null);null!=i&&(null==n&&(n=lg.empty()),n.set(r.field,i))}return n||null}function my(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ey&&t instanceof ey||e instanceof ny&&t instanceof ny?Tm(e.elements,t.elements,Ym):e instanceof iy&&t instanceof iy?Ym(e.C,t.C):e instanceof Zg&&t instanceof Zg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gy(e){return e.isFoundDocument()?e.version:Nm.min()}class yy extends hy{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class vy extends hy{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function by(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wy(e,t,n){const r=new Map;dm(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Xg(o,a,n[i]))}return r}function Ey(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Yg(e,s,t))}return r}class Sy extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Cy extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ky{constructor(e){this.count=e}}var xy,Ty;function Iy(e){if(void 0===e)return lm("GRPC error has no .code"),pm.UNKNOWN;switch(e){case xy.OK:return pm.OK;case xy.CANCELLED:return pm.CANCELLED;case xy.UNKNOWN:return pm.UNKNOWN;case xy.DEADLINE_EXCEEDED:return pm.DEADLINE_EXCEEDED;case xy.RESOURCE_EXHAUSTED:return pm.RESOURCE_EXHAUSTED;case xy.INTERNAL:return pm.INTERNAL;case xy.UNAVAILABLE:return pm.UNAVAILABLE;case xy.UNAUTHENTICATED:return pm.UNAUTHENTICATED;case xy.INVALID_ARGUMENT:return pm.INVALID_ARGUMENT;case xy.NOT_FOUND:return pm.NOT_FOUND;case xy.ALREADY_EXISTS:return pm.ALREADY_EXISTS;case xy.PERMISSION_DENIED:return pm.PERMISSION_DENIED;case xy.FAILED_PRECONDITION:return pm.FAILED_PRECONDITION;case xy.ABORTED:return pm.ABORTED;case xy.OUT_OF_RANGE:return pm.OUT_OF_RANGE;case xy.UNIMPLEMENTED:return pm.UNIMPLEMENTED;case xy.DATA_LOSS:return pm.DATA_LOSS;default:return hm()}}(Ty=xy||(xy={}))[Ty.OK=0]="OK",Ty[Ty.CANCELLED=1]="CANCELLED",Ty[Ty.UNKNOWN=2]="UNKNOWN",Ty[Ty.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ty[Ty.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ty[Ty.NOT_FOUND=5]="NOT_FOUND",Ty[Ty.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ty[Ty.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ty[Ty.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ty[Ty.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ty[Ty.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ty[Ty.ABORTED=10]="ABORTED",Ty[Ty.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ty[Ty.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ty[Ty.INTERNAL=13]="INTERNAL",Ty[Ty.UNAVAILABLE=14]="UNAVAILABLE",Ty[Ty.DATA_LOSS=15]="DATA_LOSS";class _y{constructor(e,t){this.comparator=e,this.root=t||Ly.EMPTY}insert(e,t){return new _y(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ly.BLACK,null,null))}remove(e){return new _y(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ly.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ny(this.root,e,this.comparator,!0)}}class Ny{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ly{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ly.RED,this.left=null!=r?r:Ly.EMPTY,this.right=null!=i?i:Ly.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ly(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ly.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ly.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ly.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ly.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hm();if(this.right.isRed())throw hm();const e=this.left.check();if(e!==this.right.check())throw hm();return e+(this.isRed()?0:1)}}Ly.EMPTY=null,Ly.RED=!0,Ly.BLACK=!1,Ly.EMPTY=new class{constructor(){this.size=0}get key(){throw hm()}get value(){throw hm()}get color(){throw hm()}get left(){throw hm()}get right(){throw hm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ly(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dy{constructor(e){this.comparator=e,this.data=new _y(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Dy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dy(this.comparator);return t.data=e,t}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Py=new _y(Gm.comparator);function Oy(){return Py}const Ry=new _y(Gm.comparator);function My(){return Ry}const Fy=new _y(Gm.comparator);const Vy=new Dy(Gm.comparator);function jy(...e){let t=Vy;for(const n of e)t=t.add(n);return t}const Uy=new Dy(xm);function zy(){return Uy}class By{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,qy.createSynthesizedTargetChangeForCurrentChange(e,t)),new By(Nm.min(),n,zy(),Oy(),jy())}}class qy{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new qy(Vm.EMPTY_BYTE_STRING,t,jy(),jy(),jy())}}class $y{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Hy{constructor(e,t){this.targetId=e,this.O=t}}class Ky{constructor(e,t,n=Vm.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wy{constructor(){this.F=0,this.M=Yy(),this.L=Vm.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=jy(),t=jy(),n=jy();return this.M.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hm()}})),new qy(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Yy()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Gy{constructor(e){this.tt=e,this.et=new Map,this.nt=Oy(),this.st=Qy(),this.it=new Dy(xm)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,(t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:hm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(((e,n)=>{this.ht(n)&&t(n)}))}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(mg(e))if(0===n){const n=new Gm(e.path);this.at(t,n,cg.newNoDocument(n,Nm.min()))}else dm(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&mg(i.target)){const t=new Gm(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,cg.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}}));let n=jy();this.st.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new By(e,t,this.it,this.nt,n);return this.nt=Oy(),this.st=Qy(),this.it=new Dy(xm),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Wy,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Dy(xm),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||am("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Wy),this.tt.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Qy(){return new _y(Gm.comparator)}function Yy(){return new _y(Gm.comparator)}const Xy={asc:"ASCENDING",desc:"DESCENDING"},Jy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zy{constructor(e,t){this.databaseId=e,this.D=t}}function ev(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tv(e,t){return e.D?t.toBase64():t.toUint8Array()}function nv(e,t){return ev(e,t.toTimestamp())}function rv(e){return dm(!!e),Nm.fromTimestamp(function(e){const t=Um(e);return new _m(t.seconds,t.nanos)}(e))}function iv(e,t){return function(e){return new Om(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sv(e){const t=Om.fromString(e);return dm(_v(t)),t}function ov(e,t){return iv(e.databaseId,t.path)}function av(e,t){const n=sv(t);if(n.get(1)!==e.databaseId.projectId)throw new mm(pm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mm(pm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gm(hv(n))}function lv(e,t){return iv(e.databaseId,t)}function uv(e){const t=sv(e);return 4===t.length?Om.emptyPath():hv(t)}function cv(e){return new Om(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hv(e){return dm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dv(e,t,n){return{name:ov(e,t),fields:n.value.mapValue.fields}}function fv(e,t){let n;if(t instanceof yy)n={update:dv(e,t.key,t.value)};else if(t instanceof Sy)n={delete:ov(e,t.key)};else if(t instanceof vy)n={update:dv(e,t.key,t.data),updateMask:Iv(t.fieldMask)};else{if(!(t instanceof Cy))return hm();n={verify:ov(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ey)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ny)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iy)return{fieldPath:t.field.canonicalString(),increment:n.C};throw hm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hm()}(e,t.precondition)),n}function pv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?uy.updateTime(rv(e.updateTime)):void 0!==e.exists?uy.exists(e.exists):uy.none()}(t.currentDocument):uy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)dm("REQUEST_TIME"===t.setToServerValue),n=new Zg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ey(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ny(e)}else"increment"in t?n=new iy(e,t.increment):hm();const r=Mm.fromServerFormat(t.fieldPath);return new ay(r,n)}(e,t))):[];if(t.update){t.update.name;const i=av(e,t.update.name),s=new lg({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Fm(t.map((e=>Mm.fromServerFormat(e))))}(t.updateMask);return new vy(i,s,e,n,r)}return new yy(i,s,n,r)}if(t.delete){const r=av(e,t.delete);return new Sy(r,n)}if(t.verify){const r=av(e,t.verify);return new Cy(r,n)}return hm()}function mv(e,t){return{documents:[lv(e,t.path)]}}function gv(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(sg(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NAN"}};if(ig(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sg(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NOT_NAN"}};if(ig(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cv(e.field),op:Sv(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Cv(e.field),direction:Ev(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Km(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=bv(t.startAt)),t.endAt&&(n.structuredQuery.endAt=bv(t.endAt)),n}function yv(e){let t=uv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dm(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=vv(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Ig(kv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Km(t)?null:t}(n.limit));let l=null;n.startAt&&(l=wv(n.startAt));let u=null;return n.endAt&&(u=wv(n.endAt)),function(e,t,n,r,i,s,o,a){return new Dg(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function vv(e){return e?void 0!==e.unaryFilter?[Tv(e)]:void 0!==e.fieldFilter?[xv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>vv(e))).reduce(((e,t)=>e.concat(t))):hm():[]}function bv(e){return{before:e.before,values:e.position}}function wv(e){const t=!!e.before,n=e.values||[];return new xg(n,t)}function Ev(e){return Xy[e]}function Sv(e){return Jy[e]}function Cv(e){return{fieldPath:e.canonicalString()}}function kv(e){return Mm.fromServerFormat(e.fieldPath)}function xv(e){return gg.create(kv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Tv(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kv(e.unaryFilter.field);return gg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kv(e.unaryFilter.field);return gg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kv(e.unaryFilter.field);return gg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kv(e.unaryFilter.field);return gg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hm()}}function Iv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _v(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Dv(t)),t=Lv(e.get(n),t);return Dv(t)}function Lv(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Dv(e){return e+""}function Av(e){const t=e.length;if(dm(t>=2),2===t)return dm(""===e.charAt(0)&&""===e.charAt(1)),Om.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&hm(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:hm()}s=t+2}return new Om(r)}class Pv{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ov{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Ov.store="owner",Ov.key="owner";class Rv{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Rv.store="mutationQueues",Rv.keyPath="userId";class Mv{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Mv.store="mutations",Mv.keyPath="batchId",Mv.userMutationsIndex="userMutationsIndex",Mv.userMutationsKeyPath=["userId","batchId"];class Fv{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Nv(t)]}static key(e,t,n){return[e,Nv(t),n]}}Fv.store="documentMutations",Fv.PLACEHOLDER=new Fv;class Vv{constructor(e,t){this.path=e,this.readTime=t}}class jv{constructor(e,t){this.path=e,this.version=t}}class Uv{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Uv.store="remoteDocuments",Uv.readTimeIndex="readTimeIndex",Uv.readTimeIndexPath="readTime",Uv.collectionReadTimeIndex="collectionReadTimeIndex",Uv.collectionReadTimeIndexPath=["parentPath","readTime"];class zv{constructor(e){this.byteSize=e}}zv.store="remoteDocumentGlobal",zv.key="remoteDocumentGlobalKey";class Bv{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Bv.store="targets",Bv.keyPath="targetId",Bv.queryTargetsIndexName="queryTargetsIndex",Bv.queryTargetsKeyPath=["canonicalId","targetId"];class qv{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}qv.store="targetDocuments",qv.keyPath=["targetId","path"],qv.documentTargetsIndex="documentTargetsIndex",qv.documentTargetsKeyPath=["path","targetId"];class $v{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}$v.key="targetGlobalKey",$v.store="targetGlobal";class Hv{constructor(e,t){this.collectionId=e,this.parent=t}}Hv.store="collectionParents",Hv.keyPath=["collectionId","parent"];class Kv{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Kv.store="clientMetadata",Kv.keyPath="clientId";class Wv{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Wv.store="bundles",Wv.keyPath="bundleId";class Gv{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Gv.store="namedQueries",Gv.keyPath="name";const Qv=[Rv.store,Mv.store,Fv.store,Uv.store,Bv.store,Ov.store,$v.store,qv.store,Kv.store,zv.store,Hv.store,Wv.store,Gv.store],Yv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Jv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Jv?t:Jv.resolve(t)}catch(e){return Jv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Jv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Jv.reject(t)}static resolve(e){return new Jv(((t,n)=>{t(e)}))}static reject(e){return new Jv(((t,n)=>{n(e)}))}static waitFor(e){return new Jv(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Jv.resolve(!1);for(const n of e)t=t.next((e=>e?Jv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Zv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new gm,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new nb(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=ab(t.target.error);this.Et.reject(new nb(e,n))}}static open(e,t,n,r){try{return new Zv(t,e.transaction(r,n))}catch(e){throw new nb(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(am("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new ib(t)}}class eb{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===eb.Rt(cc())&&lm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return am("SimpleDb","Removing database:",e),sb(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!dc())return!1;if(eb.Pt())return!0;const e=cc(),t=eb.Rt(e),n=0<t&&t<10,r=eb.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(am("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new nb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new mm(pm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new mm(pm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new nb(e,r))},r.onupgradeneeded=e=>{am("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next((()=>{am("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=Zv.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Jv.reject(e)))).toPromise();return s.catch((()=>{})),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(am("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tb{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return sb(this.kt.delete())}}class nb extends mm{constructor(e,t){super(pm.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rb(e){return"IndexedDbTransactionError"===e.name}class ib{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(am("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(am("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sb(n)}add(e){return am("SimpleDb","ADD",this.store.name,e,e),sb(this.store.add(e))}get(e){return sb(this.store.get(e)).next((t=>(void 0===t&&(t=null),am("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return am("SimpleDb","DELETE",this.store.name,e),sb(this.store.delete(e))}count(){return am("SimpleDb","COUNT",this.store.name),sb(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,((e,t)=>{r.push(t)})).next((()=>r))}Ut(e,t){am("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,((e,t,n)=>n.delete()))}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Jv(((n,r)=>{t.onerror=e=>{const t=ab(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Bt(e,t){const n=[];return new Jv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new tb(i),o=t(i.primaryKey,i.value,s);if(o instanceof Jv){const e=o.catch((e=>(s.done(),Jv.reject(e))));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}})).next((()=>Jv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sb(e){return new Jv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ab(e.target.error);n(t)}}))}let ob=!1;function ab(e){const t=eb.Rt(cc());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new mm("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ob||(ob=!0,setTimeout((()=>{throw e}),0)),e}}return e}class lb extends Xv{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ub(e,t){const n=fm(e);return eb.St(n.Qt,t)}class cb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&dy(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Nm.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),jy())}isEqual(e){return this.batchId===e.batchId&&Tm(this.mutations,e.mutations,((e,t)=>my(e,t)))&&Tm(this.baseMutations,e.baseMutations,((e,t)=>my(e,t)))}}class hb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dm(e.mutations.length===n.length);let r=Fy;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new hb(e,t,n,r)}}class db{constructor(e,t,n,r,i=Nm.min(),s=Nm.min(),o=Vm.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new db(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new db(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new db(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fb{constructor(e){this.Wt=e}}function pb(e,t){if(t.document)return function(e,t,n){const r=av(e,t.name),i=rv(t.updateTime),s=new lg({mapValue:{fields:t.fields}}),o=cg.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Gm.fromSegments(t.noDocument.path),n=vb(t.noDocument.readTime),r=cg.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Gm.fromSegments(t.unknownDocument.path),n=vb(t.unknownDocument.version);return cg.newUnknownDocument(e,n)}return hm()}function mb(e,t,n){const r=gb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:ov(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ev(e,t.version.toTimestamp())}}(e.Wt,t),s=t.hasCommittedMutations;return new Uv(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=yb(t.version),s=t.hasCommittedMutations;return new Uv(null,new Vv(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=yb(t.version);return new Uv(new jv(e,n),null,null,!0,r,i)}return hm()}function gb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function yb(e){const t=e.toTimestamp();return new Pv(t.seconds,t.nanoseconds)}function vb(e){const t=new _m(e.seconds,e.nanoseconds);return Nm.fromTimestamp(t)}function bb(e,t){const n=(t.baseMutations||[]).map((t=>pv(e.Wt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>pv(e.Wt,t))),i=_m.fromMillis(t.localWriteTimeMs);return new cb(t.batchId,i,n,r)}function wb(e){const t=vb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?vb(e.lastLimboFreeSnapshotVersion):Nm.min();let r;var i;return void 0!==e.query.documents?(dm(1===(i=e.query).documents.length),r=Vg(Ag(uv(i.documents[0])))):r=function(e){return Vg(yv(e))}(e.query),new db(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Vm.fromBase64String(e.resumeToken))}function Eb(e,t){const n=yb(t.snapshotVersion),r=yb(t.lastLimboFreeSnapshotVersion);let i;i=mg(t.target)?mv(e.Wt,t.target):gv(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Bv(t.targetId,fg(t.target),n,s,t.sequenceNumber,r,i)}function Sb(e){const t=yv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jg(t,t.limit,"L"):t}class Cb{getBundleMetadata(e,t){return kb(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:vb(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return kb(e).put({bundleId:(n=t).id,createTime:yb(rv(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return xb(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Sb(t.bundledQuery),readTime:vb(t.readTime)};var t}))}saveNamedQuery(e,t){return xb(e).put(function(e){return{name:e.name,readTime:yb(rv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function kb(e){return ub(e,Wv.store)}function xb(e){return ub(e,Gv.store)}class Tb{constructor(){this.Gt=new Ib}addToCollectionParentIndex(e,t){return this.Gt.add(t),Jv.resolve()}getCollectionParents(e,t){return Jv.resolve(this.Gt.getEntries(t))}}class Ib{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dy(Om.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Dy(Om.comparator)).toArray()}}class _b{constructor(){this.zt=new Ib}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.zt.add(t)}));const i={collectionId:n,parent:Nv(r)};return Nb(e).put(i)}return Jv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Im(t),""],!1,!0);return Nb(e).Lt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Av(r.parent))}return n}))}}function Nb(e){return ub(e,Hv.store)}const Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Db{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Db(e,Db.DEFAULT_COLLECTION_PERCENTILE,Db.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ab(e,t,n){const r=e.store(Mv.store),i=e.store(Fv.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{dm(1===a)})));const u=[];for(const e of n.mutations){const r=Fv.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Jv.waitFor(s).next((()=>u))}function Pb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hm();t=e.noDocument}return JSON.stringify(t).length}Db.DEFAULT_COLLECTION_PERCENTILE=10,Db.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Db.DEFAULT=new Db(41943040,Db.DEFAULT_COLLECTION_PERCENTILE,Db.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Db.DISABLED=new Db(-1,0,0);class Ob{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){dm(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ob(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mb(e).Kt({index:Mv.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Fb(e),s=Mb(e);return s.add({}).next((o=>{dm("number"==typeof o);const a=new cb(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>fv(e.Wt,t))),i=n.mutations.map((t=>fv(e.Wt,t)));return new Mv(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),u=[];let c=new Dy(((e,t)=>xm(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Fv.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Fv.PLACEHOLDER))}return c.forEach((t=>{u.push(this.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Jt[o]=a.keys()})),Jv.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Mb(e).get(t).next((e=>e?(dm(e.userId===this.userId),bb(this.N,e)):null))}Xt(e,t){return this.Jt[t]?Jv.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Mb(e).Kt({index:Mv.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(dm(t.batchId>=n),i=bb(this.N,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Mb(e).Kt({index:Mv.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mb(e).Lt(Mv.userMutationsIndex,t).next((e=>e.map((e=>bb(this.N,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Fv.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Fb(e).Kt({range:r},((n,r,s)=>{const[o,a,l]=n,u=Av(a);if(o===this.userId&&t.path.isEqual(u))return Mb(e).get(l).next((e=>{if(!e)throw hm();dm(e.userId===this.userId),i.push(bb(this.N,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dy(xm);const r=[];return t.forEach((t=>{const i=Fv.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Fb(e).Kt({range:s},((e,r,i)=>{const[s,o,a]=e,l=Av(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Jv.waitFor(r).next((()=>this.Zt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Fv.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Dy(xm);return Fb(e).Kt({range:s},((e,t,i)=>{const[s,a,l]=e,u=Av(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Zt(e,o)))}Zt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Mb(e).get(t).next((e=>{if(null===e)throw hm();dm(e.userId===this.userId),n.push(bb(this.N,e))})))})),Jv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ab(e.Qt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.te(t.batchId)})),Jv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Jv.resolve();const n=IDBKeyRange.lowerBound(Fv.prefixForUser(this.userId)),r=[];return Fb(e).Kt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Av(e[1]);r.push(t)}else n.done()})).next((()=>{dm(0===r.length)}))}))}containsKey(e,t){return Rb(e,this.userId,t)}ee(e){return Vb(e).get(this.userId).next((e=>e||new Rv(this.userId,-1,"")))}}function Rb(e,t,n){const r=Fv.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Fb(e).Kt({range:s,qt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Mb(e){return ub(e,Mv.store)}function Fb(e){return ub(e,Fv.store)}function Vb(e){return ub(e,Rv.store)}class jb{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new jb(0)}static ie(){return new jb(-1)}}class Ub{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next((t=>{const n=new jb(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.re(e).next((e=>Nm.fromTimestamp(new _m(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.re(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.re(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.re(e).next((n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zb(e).delete(t.targetId))).next((()=>this.re(e))).next((t=>(dm(t.targetCount>0),t.targetCount-=1,this.oe(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zb(e).Kt(((s,o)=>{const a=wb(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Jv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zb(e).Kt(((e,n)=>{const r=wb(n);t(r)}))}re(e){return Bb(e).get($v.key).next((e=>(dm(null!==e),e)))}oe(e,t){return Bb(e).put($v.key,t)}ae(e,t){return zb(e).put(Eb(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next((e=>e.targetCount))}getTargetData(e,t){const n=fg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zb(e).Kt({range:r,index:Bv.queryTargetsIndexName},((e,n,r)=>{const s=wb(n);pg(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qb(e);return t.forEach((t=>{const s=Nv(t.path);r.push(i.put(new qv(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Jv.waitFor(r)}removeMatchingKeys(e,t,n){const r=qb(e);return Jv.forEach(t,(t=>{const i=Nv(t.path);return Jv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qb(e);let i=jy();return r.Kt({range:n,qt:!0},((e,t,n)=>{const r=Av(e[1]),s=new Gm(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Nv(t.path),r=IDBKeyRange.bound([n],[Im(n)],!1,!0);let i=0;return qb(e).Kt({index:qv.documentTargetsIndex,qt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Tt(e,t){return zb(e).get(t).next((e=>e?wb(e):null))}}function zb(e){return ub(e,Bv.store)}function Bb(e){return ub(e,$v.store)}function qb(e){return ub(e,qv.store)}async function $b(e){if(e.code!==pm.FAILED_PRECONDITION||e.message!==Yv)throw e;am("LocalStore","Unexpectedly lost primary lease")}function Hb([e,t],[n,r]){const i=xm(e,n);return 0===i?xm(t,r):i}class Kb{constructor(e){this.ue=e,this.buffer=new Dy(Hb),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;am("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){rb(e)?am("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await $b(e)}await this._e(e)}))}}class Gb{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Jv.resolve(Sm.T);const n=new Kb(t);return this.me.forEachTarget(e,(e=>n.fe(e.sequenceNumber))).next((()=>this.me.ye(e,(e=>n.fe(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector","Garbage collection skipped; disabled"),Jv.resolve(Lb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lb):this.pe(e,t)))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(am("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),om()<=Cc.DEBUG&&am("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Jv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Qb{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Gb(e,t)}(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Te(e){let t=0;return this.ye(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,((e,n)=>t(n)))}addReference(e,t,n){return Yb(e,n)}removeReference(e,t,n){return Yb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Yb(e,t)}Ie(e,t){return function(e,t){let n=!1;return Vb(e).jt((r=>Rb(e,r,t).next((e=>(e&&(n=!0),Jv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,((s,o)=>{if(o<=t){const t=this.Ie(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),qb(e).delete([0,Nv(s.path)]))))}));r.push(t)}})).next((()=>Jv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Yb(e,t)}Ee(e,t){const n=qb(e);let r,i=Sm.T;return n.Kt({index:qv.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Sm.T&&t(new Gm(Av(r)),i),i=o,r=s):i=Sm.T})).next((()=>{i!==Sm.T&&t(new Gm(Av(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yb(e,t){return qb(e).put(function(e,t){return new qv(0,Nv(e.path),t)}(t,e.currentSequenceNumber))}class Xb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Dm(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Am(this.inner)}}class Jb{constructor(){this.changes=new Xb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Nm.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:cg.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jv.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zb{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return nw(e).put(rw(t),n)}removeEntry(e,t){const n=nw(e),r=rw(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Ae(e,n))))}getEntry(e,t){return nw(e).get(rw(t)).next((e=>this.Re(t,e)))}be(e,t){return nw(e).get(rw(t)).next((e=>({document:this.Re(t,e),size:Pb(e)})))}getEntries(e,t){let n=Oy();return this.Pe(e,t,((e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)})).next((()=>n))}ve(e,t){let n=Oy(),r=new _y(Gm.comparator);return this.Pe(e,t,((e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Pb(t))})).next((()=>({documents:n,Ve:r})))}Pe(e,t,n){if(t.isEmpty())return Jv.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return nw(e).Kt({range:r},((e,t,r)=>{const o=Gm.fromSegments(e);for(;s&&Gm.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=Oy();const i=t.path.length+1,s={};if(n.isEqual(Nm.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=gb(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Uv.collectionReadTimeIndex}return nw(e).Kt(s,((e,n,s)=>{if(e.length!==i)return;const o=pb(this.N,n);t.path.isPrefixOf(o.key.path)?qg(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new ew(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return tw(e).get(zv.key).next((e=>(dm(!!e),e)))}Ae(e,t){return tw(e).put(zv.key,t)}Re(e,t){if(t){const e=pb(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(Nm.min()))return e}return cg.newInvalidDocument(e)}}class ew extends Jb{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Xb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Dy(((e,t)=>xm(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=mb(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=Pb(a);n+=l-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=mb(this.Se.N,cg.newNoDocument(i,Nm.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))})),t.push(this.Se.updateMetadata(e,n)),Jv.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next((e=>(this.De.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Se.ve(e,t).next((({documents:e,Ve:t})=>(t.forEach(((e,t)=>{this.De.set(e,t)})),e)))}}function tw(e){return ub(e,zv.store)}function nw(e){return ub(e,Uv.store)}function rw(e){return e.path.toArray()}class iw{constructor(e){this.N=e}Ct(e,t,n,r){dm(n<r&&n>=0&&r<=11);const i=new Zv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ov.store)}(e),function(e){e.createObjectStore(Rv.store,{keyPath:Rv.keyPath}),e.createObjectStore(Mv.store,{keyPath:Mv.keyPath,autoIncrement:!0}).createIndex(Mv.userMutationsIndex,Mv.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Fv.store)}(e),sw(e),function(e){e.createObjectStore(Uv.store)}(e));let s=Jv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qv.store),e.deleteObjectStore(Bv.store),e.deleteObjectStore($v.store)}(e),sw(e)),s=s.next((()=>function(e){const t=e.store($v.store),n=new $v(0,0,Nm.min().toTimestamp(),0);return t.put($v.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Mv.store).Lt().next((n=>{e.deleteObjectStore(Mv.store),e.createObjectStore(Mv.store,{keyPath:Mv.keyPath,autoIncrement:!0}).createIndex(Mv.userMutationsIndex,Mv.userMutationsKeyPath,{unique:!0});const r=t.store(Mv.store),i=n.map((e=>r.put(e)));return Jv.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Kv.store,{keyPath:Kv.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ce(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(zv.store)}(e),this.Ne(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.ke(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Uv.store);t.createIndex(Uv.readTimeIndex,Uv.readTimeIndexPath,{unique:!1}),t.createIndex(Uv.collectionReadTimeIndex,Uv.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.$e(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Wv.store,{keyPath:Wv.keyPath})}(e),function(e){e.createObjectStore(Gv.store,{keyPath:Gv.keyPath})}(e)}))),s}Ne(e){let t=0;return e.store(Uv.store).Kt(((e,n)=>{t+=Pb(n)})).next((()=>{const n=new zv(t);return e.store(zv.store).put(zv.key,n)}))}Ce(e){const t=e.store(Rv.store),n=e.store(Mv.store);return t.Lt().next((t=>Jv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Mv.userMutationsIndex,r).next((n=>Jv.forEach(n,(n=>{dm(n.userId===t.userId);const r=bb(this.N,n);return Ab(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(qv.store),n=e.store(Uv.store);return e.store($v.store).get($v.key).next((e=>{const r=[];return n.Kt(((n,i)=>{const s=new Om(n),o=function(e){return[0,Nv(e)]}(s);r.push(t.get(o).next((n=>n?Jv.resolve():(n=>t.put(new qv(0,Nv(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Jv.waitFor(r)))}))}ke(e,t){e.createObjectStore(Hv.store,{keyPath:Hv.keyPath});const n=t.store(Hv.store),r=new Ib,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Nv(r)})}};return t.store(Uv.store).Kt({qt:!0},((e,t)=>{const n=new Om(e);return i(n.popLast())})).next((()=>t.store(Fv.store).Kt({qt:!0},(([e,t,n],r)=>{const s=Av(t);return i(s.popLast())}))))}$e(e){const t=e.store(Bv.store);return t.Kt(((e,n)=>{const r=wb(n),i=Eb(this.N,r);return t.put(i)}))}}function sw(e){e.createObjectStore(qv.store,{keyPath:qv.keyPath}).createIndex(qv.documentTargetsIndex,qv.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bv.store,{keyPath:Bv.keyPath}).createIndex(Bv.queryTargetsIndexName,Bv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($v.store)}const ow="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aw{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!aw.bt())throw new mm(pm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qb(this,r),this.We=t+"main",this.N=new fb(a),this.Ge=new eb(this.We,11,new iw(this.N)),this.ze=new Ub(this.referenceDelegate,this.N),this.Ht=new _b,this.He=function(e,t){return new Zb(e,t)}(this.N,this.Ht),this.Je=new Cb,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&lm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new mm(pm.FAILED_PRECONDITION,ow);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ze.getHighestSequenceNumber(e)))})).then((e=>{this.Le=new Sm(e,this.Fe)})).then((()=>{this.Be=!0})).catch((e=>(this.Ge&&this.Ge.close(),Promise.reject(e))))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Xe()})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uw(e).put(new Kv(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.sn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))))}))})).next((()=>this.rn(e))).next((t=>this.isPrimary&&!t?this.on(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(rb(e))return am("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return am("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.Qe(e))),this.isPrimary=e}))}sn(e){return lw(e).get(Ov.key).next((e=>Jv.resolve(this.cn(e))))}un(e){return uw(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ub(e,Kv.store);return t.Lt().next((e=>{const n=this.fn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Jv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Xe().then((()=>this.hn())).then((()=>this.en()))))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Jv.resolve(!0):lw(e).get(Ov.key).next((t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new mm(pm.FAILED_PRECONDITION,ow);return!1}}return!(!this.networkEnabled||!this.inForeground)||uw(e).Lt().next((e=>void 0===this.fn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&am("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[Ov.store,Kv.store],(e=>{const t=new lb(e,Sm.T);return this.on(t).next((()=>this.un(t)))})),this.Ge.close(),this.yn()}fn(e,t){return e.filter((e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId)))}pn(){return this.runTransaction("getActiveClients","readonly",(e=>uw(e).Lt().next((e=>this.fn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Be}getMutationQueue(e){return Ob.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){am("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Ge.runTransaction(e,r,Qv,(r=>(i=new lb(r,this.Le?this.Le.next():Sm.T),"readwrite-primary"===t?this.sn(i).next((e=>!!e||this.rn(i))).next((t=>{if(!t)throw lm(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))),new mm(pm.FAILED_PRECONDITION,Yv);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.Tn(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}Tn(e){return lw(e).get(Ov.key).next((e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new mm(pm.FAILED_PRECONDITION,ow)}))}an(e){const t=new Ov(this.clientId,this.allowTabSynchronization,Date.now());return lw(e).put(Ov.key,t)}static bt(){return eb.bt()}on(e){const t=lw(e);return t.get(Ov.key).next((e=>this.cn(e)?(am("IndexedDbPersistence","Releasing primary lease."),t.delete(Ov.key)):Jv.resolve()))}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(lm(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe())))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),hc()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return am("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return lm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){lm("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lw(e){return ub(e,Ov.store)}function uw(e){return ub(e,Kv.store)}class cw{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Rn(e,t,n)))}Rn(e,t,n){return this.He.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Pn(e,t){return this.He.getEntries(e,t).next((t=>this.vn(e,t).next((()=>t))))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Gm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Gm(t)).next((e=>{let t=My();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Sn(e,t,n){const r=t.collectionGroup;let i=My();return this.Ht.getCollectionParents(e,r).next((s=>Jv.forEach(s,(s=>{const o=function(e,t){return new Dg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Cn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=cg.newInvalidDocument(n),r=r.insert(n,i)),fy(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{qg(t,n)||(r=r.remove(e))})),r)))}Cn(e,t,n){let r=jy();for(const e of t)for(const t of e.mutations)t instanceof vy&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class hw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=jy(),r=jy();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new hw(e,t.fromCache,n,r)}}class dw{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Nm.min())?this.Fn(e,t):this.On.Pn(e,r).next((i=>{const s=this.Mn(t,i);return(Pg(t)||Og(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(om()<=Cc.DEBUG&&am("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bg(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Mn(e,t){let n=new Dy($g(e));return t.forEach(((t,r)=>{qg(e,r)&&(n=n.add(r))})),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return om()<=Cc.DEBUG&&am("QueryEngine","Using full collection scan to execute query:",Bg(t)),this.On.getDocumentsMatchingQuery(e,t,Nm.min())}}class fw{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new _y(xm),this.qn=new Xb((e=>fg(e)),pg),this.Kn=Nm.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new cw(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Un)))}}function pw(e,t,n,r){return new fw(e,t,n,r)}async function mw(e,t){const n=fm(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.In.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new cw(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=jy();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next((e=>({Wn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function gw(e){const t=fm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ze.getLastRemoteSnapshotVersion(e)))}function yw(e,t){const n=fm(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.ze.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return dm(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,t)&&o.push(n.ze.updateTargetData(e,u))}}));let a=Oy();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n,r,i){let s=jy();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=Oy();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Nm.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):am("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(Nm.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next((t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Jv.waitFor(o).next((()=>s.apply(e))).next((()=>n.Qn.vn(e,a))).next((()=>a))})).then((e=>(n.Un=i,e)))}function vw(e,t){const n=fm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t))))}async function bw(e,t,n){const r=fm(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rb(e))throw e;am("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function ww(e,t,n){const r=fm(e);let i=Nm.min(),s=jy();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=fm(e),i=r.qn.get(n);return void 0!==i?Jv.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Vg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Nm.min(),n?s:jy()))).next((e=>({documents:e,Gn:s})))))}async function Ew(e){const t=fm(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=nw(e);let n=Nm.min();return t.Kt({index:Uv.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=function(e){const t=new _m(e[0],e[1]);return Nm.fromTimestamp(t)}(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.Kn=e}))}class Sw{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Jv.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:rv(n.createTime)}),Jv.resolve()}getNamedQuery(e,t){return Jv.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Sb(e.bundledQuery),readTime:rv(e.readTime)}}(t)),Jv.resolve()}}class Cw{constructor(){this.Zn=new Dy(kw.ts),this.es=new Dy(kw.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new kw(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new kw(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}cs(e){const t=new Gm(new Om([])),n=new kw(t,e),r=new kw(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}us(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Gm(new Om([])),n=new kw(t,e),r=new kw(t,e+1);let i=jy();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new kw(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class kw{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Gm.comparator(e.key,t.key)||xm(e.ls,t.ls)}static ns(e,t){return xm(e.ls,t.ls)||Gm.comparator(e.key,t.key)}}class xw{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Dy(kw.ts)}checkEmpty(e){return Jv.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new cb(i,t,n,r);this.In.push(s);for(const t of r)this.ds=this.ds.add(new kw(t.key,i)),this.Ht.addToCollectionParentIndex(e,t.key.path.popLast());return Jv.resolve(s)}lookupMutationBatch(e,t){return Jv.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return Jv.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Jv.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Jv.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new kw(t,0),r=new kw(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this.ws(e.ls);i.push(t)})),Jv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dy(xm);return t.forEach((e=>{const t=new kw(e,0),r=new kw(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),Jv.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Gm.isDocumentKey(i)||(i=i.child(""));const s=new kw(new Gm(i),0);let o=new Dy(xm);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),s),Jv.resolve(this.gs(o))}gs(e){const t=[];return e.forEach((e=>{const n=this.ws(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dm(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Jv.forEach(t.mutations,(r=>{const i=new kw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}te(e){}containsKey(e,t){const n=new kw(t,0),r=this.ds.firstAfterOrEqual(n);return Jv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,Jv.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Tw{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new _y(Gm.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Jv.resolve(n?n.document.clone():cg.newInvalidDocument(t))}getEntries(e,t){let n=Oy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():cg.newInvalidDocument(e))})),Jv.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Oy();const i=new Gm(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||qg(t,i)&&(r=r.insert(i.key,i.clone()))}return Jv.resolve(r)}Ts(e,t){return Jv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Iw(this)}getSize(e){return Jv.resolve(this.size)}}class Iw extends Jb{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),Jv.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class _w{constructor(e){this.persistence=e,this.Es=new Xb((e=>fg(e)),pg),this.lastRemoteSnapshotVersion=Nm.min(),this.highestTargetId=0,this.Is=0,this.As=new Cw,this.targetCount=0,this.Rs=jb.se()}forEachTarget(e,t){return this.Es.forEach(((e,n)=>t(n))),Jv.resolve()}getLastRemoteSnapshotVersion(e){return Jv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jv.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Jv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Jv.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new jb(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Jv.resolve()}updateTargetData(e,t){return this.ae(t),Jv.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Jv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Jv.waitFor(i).next((()=>r))}getTargetCount(e){return Jv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return Jv.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Jv.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Jv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Jv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Jv.resolve(n)}containsKey(e,t){return Jv.resolve(this.As.containsKey(t))}}class Nw{constructor(e,t){this.bs={},this.Le=new Sm(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new _w(this),this.Ht=new Tb,this.He=function(e,t){return new Tw(e,t)}(this.Ht,(e=>this.referenceDelegate.Ps(e))),this.N=new fb(t),this.Je=new Sw(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new xw(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){am("MemoryPersistence","Starting transaction:",e);const r=new Lw(this.Le.next());return this.referenceDelegate.vs(),n(r).next((e=>this.referenceDelegate.Vs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ss(e,t){return Jv.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class Lw extends Xv{constructor(e){super(),this.currentSequenceNumber=e}}class Dw{constructor(e){this.persistence=e,this.Ds=new Cw,this.Cs=null}static Ns(e){return new Dw(e)}get xs(){if(this.Cs)return this.Cs;throw hm()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Jv.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Jv.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Jv.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jv.forEach(this.xs,(n=>{const r=Gm.fromPath(n);return this.ks(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Cs=null,t.apply(e))))}updateLimboDocument(e,t){return this.ks(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}Ps(e){return 0}ks(e,t){return Jv.or([()=>Jv.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class Aw{constructor(){this.activeTargetIds=zy()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pw{constructor(){this.yi=new Aw,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Aw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ow{Ti(e){}shutdown(){}}class Rw{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){am("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){am("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fw{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Vw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);am("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then((e=>(am("RestConnection","Received: ",e),e)),(t=>{throw um("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=Mw[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise(((i,s)=>{const o=new tm;o.listenOnce(Qp.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Gp.NO_ERROR:const t=o.getResponseJson();am("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Gp.TIMEOUT:am("Connection",'RPC "'+e+'" timed out'),s(new mm(pm.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:const n=o.getStatus();if(am("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pm).indexOf(t)>=0?t:pm.UNKNOWN}(e.status);s(new mm(t,e.message))}else s(new mm(pm.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new mm(pm.UNAVAILABLE,"Connection failed."));break;default:hm()}}finally{am("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new qp,i=Md(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Zp({})),this.Ui(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cc())||"object"==typeof navigator&&"ReactNative"===navigator.product||cc().indexOf("Electron/")>=0||function(){const e=cc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||cc().indexOf("MSAppHost/")>=0||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");am("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,u=!1;const c=new Fw({vi:e=>{u?am("Connection","Not sending because WebChannel is closed:",e):(l||(am("Connection","Opening WebChannel transport."),a.open(),l=!0),am("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(a,em.EventType.OPEN,(()=>{u||am("Connection","WebChannel transport opened.")})),h(a,em.EventType.CLOSE,(()=>{u||(u=!0,am("Connection","WebChannel transport closed"),c.$i())})),h(a,em.EventType.ERROR,(e=>{u||(u=!0,um("Connection","WebChannel transport errored:",e),c.$i(new mm(pm.UNAVAILABLE,"The operation could not be completed")))})),h(a,em.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];dm(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){am("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=xy[e];if(void 0!==t)return Iy(t)}(e),n=i.message;void 0===t&&(t=pm.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,c.$i(new mm(t,n)),a.close()}else am("Connection","WebChannel received:",n),c.Oi(n)}})),h(i,Yp.STAT_EVENT,(e=>{e.stat===Xp?am("Connection","Detected buffering proxy"):e.stat===Jp&&am("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.ki()}),0),c}}function jw(){return"undefined"!=typeof document?document:null}function Uw(e){return new Zy(e,!0)}class zw{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&am("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),e()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Bw{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new zw(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===pm.RESOURCE_EXHAUSTED?(lm(t.toString()),lm("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===pm.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then((e=>{this.sr===t&&this.yr(e)}),(t=>{e((()=>{const e=new mm(pm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)}))}))}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si((()=>{t((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((e=>{t((()=>this.pr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(e){return am("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget((()=>this.sr===e?t():(am("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qw extends Bw{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(dm(void 0===t||"string"==typeof t),Vm.fromBase64String(t||"")):(dm(void 0===t||t instanceof Uint8Array),Vm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?pm.UNKNOWN:Iy(e.code);return new mm(t,e.message||"")}(o);n=new Ky(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=av(e,r.document.name),s=rv(r.document.updateTime),o=new lg({mapValue:{fields:r.document.fields}}),a=cg.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $y(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=av(e,r.document),s=r.readTime?rv(r.readTime):Nm.min(),o=cg.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $y([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=av(e,r.document),s=r.removedTargetIds||[];n=new $y([],s,i,null)}else{if(!("filter"in t))return hm();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new ky(r),s=e.targetId;n=new Hy(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Nm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nm.min():t.readTime?rv(t.readTime):Nm.min()}(e);return this.listener.Er(t,n)}Ir(e){const t={};t.database=cv(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=mg(r)?{documents:mv(e,r)}:{query:gv(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tv(e,t.resumeToken):t.snapshotVersion.compareTo(Nm.min())>0&&(n.readTime=ev(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=cv(this.N),t.removeTarget=e,this.wr(t)}}class $w extends Bw{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(dm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(dm(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rv(e.updateTime):rv(t);return n.isEqual(Nm.min())&&(n=rv(t)),new ly(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rv(e.commitTime);return this.listener.vr(n,t)}return dm(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=cv(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fv(this.N,e)))};this.wr(t)}}class Hw extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new mm(pm.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===pm.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new mm(pm.UNKNOWN,e.toString())}))}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===pm.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new mm(pm.UNKNOWN,e.toString())}))}terminate(){this.Dr=!0}}class Kw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(lm(t),this.$r=!1):am("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Ww{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti((e=>{n.enqueueAndForget((async()=>{nE(this)&&(am("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fm(e);t.Kr.add(4),await Qw(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Gw(t)}(this))}))})),this.Wr=new Kw(n,r)}}async function Gw(e){if(nE(e))for(const t of e.jr)await t(!0)}async function Qw(e){for(const t of e.jr)await t(!1)}function Yw(e,t){const n=fm(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),tE(n)?eE(n):vE(n).cr()&&Jw(n,t))}function Xw(e,t){const n=fm(e),r=vE(n);n.qr.delete(t),r.cr()&&Zw(n,t),0===n.qr.size&&(r.cr()?r.lr():nE(n)&&n.Wr.set("Unknown"))}function Jw(e,t){e.Gr.Y(t.targetId),vE(e).Ir(t)}function Zw(e,t){e.Gr.Y(t),vE(e).Ar(t)}function eE(e){e.Gr=new Gy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qr.get(t)||null}),vE(e).start(),e.Wr.Or()}function tE(e){return nE(e)&&!vE(e).ar()&&e.qr.size>0}function nE(e){return 0===fm(e).Kr.size}function rE(e){e.Gr=void 0}async function iE(e){e.qr.forEach(((t,n)=>{Jw(e,t)}))}async function sE(e,t){rE(e),tE(e)?(e.Wr.Lr(t),eE(e)):e.Wr.set("Unknown")}async function oE(e,t,n){if(e.Wr.set("Online"),t instanceof Ky&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){am("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await aE(e,n)}else if(t instanceof $y?e.Gr.rt(t):t instanceof Hy?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Nm.min()))try{const t=await gw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Vm.EMPTY_BYTE_STRING,n.snapshotVersion)),Zw(e,t);const r=new db(n.target,t,1,n.sequenceNumber);Jw(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){am("RemoteStore","Failed to raise snapshot:",t),await aE(e,t)}}async function aE(e,t,n){if(!rb(t))throw t;e.Kr.add(1),await Qw(e),e.Wr.set("Offline"),n||(n=()=>gw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{am("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Gw(e)}))}function lE(e,t){return t().catch((n=>aE(e,n,t)))}async function uE(e){const t=fm(e),n=bE(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;cE(t);)try{const e=await vw(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,hE(t,e)}catch(e){await aE(t,e)}dE(t)&&fE(t)}function cE(e){return nE(e)&&e.Ur.length<10}function hE(e,t){e.Ur.push(t);const n=bE(e);n.cr()&&n.br&&n.Pr(t.mutations)}function dE(e){return nE(e)&&!bE(e).ar()&&e.Ur.length>0}function fE(e){bE(e).start()}async function pE(e){bE(e).Sr()}async function mE(e){const t=bE(e);for(const n of e.Ur)t.Pr(n.mutations)}async function gE(e,t,n){const r=e.Ur.shift(),i=hb.from(r,t,n);await lE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await uE(e)}async function yE(e,t){t&&bE(e).br&&await async function(e,t){if(function(e){switch(e){default:return hm();case pm.CANCELLED:case pm.UNKNOWN:case pm.DEADLINE_EXCEEDED:case pm.RESOURCE_EXHAUSTED:case pm.INTERNAL:case pm.UNAVAILABLE:case pm.UNAUTHENTICATED:return!1;case pm.INVALID_ARGUMENT:case pm.NOT_FOUND:case pm.ALREADY_EXISTS:case pm.PERMISSION_DENIED:case pm.FAILED_PRECONDITION:case pm.ABORTED:case pm.OUT_OF_RANGE:case pm.UNIMPLEMENTED:case pm.DATA_LOSS:return!0}}(n=t.code)&&n!==pm.ABORTED){const n=e.Ur.shift();bE(e).hr(),await lE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await uE(e)}var n}(e,t),dE(e)&&fE(e)}function vE(e){return e.zr||(e.zr=function(e,t,n){const r=fm(e);return r.Cr(),new qw(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:iE.bind(null,e),Ci:sE.bind(null,e),Er:oE.bind(null,e)}),e.jr.push((async t=>{t?(e.zr.hr(),tE(e)?eE(e):e.Wr.set("Unknown")):(await e.zr.stop(),rE(e))}))),e.zr}function bE(e){return e.Hr||(e.Hr=function(e,t,n){const r=fm(e);return r.Cr(),new $w(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:pE.bind(null,e),Ci:yE.bind(null,e),Vr:mE.bind(null,e),vr:gE.bind(null,e)}),e.jr.push((async t=>{t?(e.Hr.hr(),await uE(e)):(await e.Hr.stop(),e.Ur.length>0&&(am("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))}))),e.Hr}class wE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new wE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mm(pm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(e,t){if(lm("AsyncQueue",`${t}: ${e}`),rb(e))return new mm(pm.UNAVAILABLE,`${t}: ${e}`);throw e}class SE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gm.comparator(t.key,n.key):(e,t)=>Gm.comparator(e.key,t.key),this.keyedMap=My(),this.sortedSet=new _y(this.comparator)}static emptySet(e){return new SE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof SE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new SE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class CE{constructor(){this.Jr=new _y(Gm.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):hm():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kE{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new kE(e,t,SE.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class xE{constructor(){this.Xr=void 0,this.listeners=[]}}class TE{constructor(){this.queries=new Xb((e=>zg(e)),Ug),this.onlineState="Unknown",this.Zr=new Set}}function IE(e,t){const n=fm(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.no(e)&&(r=!0);i.Xr=e}}r&&NE(n)}function _E(e,t,n){const r=fm(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function NE(e){e.Zr.forEach((e=>{e.next()}))}class LE{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)}oo(e){if(e.docChanges.length>0)return!0;const t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}co(e){e=kE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class DE{constructor(e){this.key=e}}class AE{constructor(e){this.key=e}}class PE{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=jy(),this.mutatedKeys=jy(),this.po=$g(e),this.To=new SE(this.po)}get Eo(){return this._o}Io(e,t){const n=t?t.Ao:new CE,r=t?t.To:this.To;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Pg(this.query)&&r.size===this.query.limit?r.last():null,l=Og(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=qg(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.po(c,a)>0||l&&this.po(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Pg(this.query)||Og(this.query))for(;s.size>this.query.limit;){const e=Pg(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hm()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc))),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new kE(this.query,e.To,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new CE,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach((e=>this._o=this._o.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this._o=this._o.delete(e))),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=jy(),this.To.forEach((e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))}));const t=[];return e.forEach((e=>{this.yo.has(e)||t.push(new AE(e))})),this.yo.forEach((n=>{e.has(n)||t.push(new DE(n))})),t}So(e){this._o=e.Gn,this.yo=jy();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return kE.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class OE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class RE{constructor(e){this.key=e,this.Co=!1}}class ME{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Xb((e=>zg(e)),Ug),this.ko=new Map,this.$o=new Set,this.Oo=new _y(Gm.comparator),this.Fo=new Map,this.Mo=new Cw,this.Lo={},this.Bo=new Map,this.Uo=jb.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function FE(e,t){const n=function(e){const t=fm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zE.bind(null,t),t.No.Er=IE.bind(null,t.eventManager),t.No.jo=_E.bind(null,t.eventManager),t}(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await function(e,t){const n=fm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ze.getTargetData(e,t).next((i=>i?(r=i,Jv.resolve(r)):n.ze.allocateTargetId(e).next((i=>(r=new db(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}(n.localStore,Vg(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await ww(e.localStore,t.query,!1).then((({documents:e})=>t.view.Io(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return GE(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const i=await ww(e.localStore,t,!0),s=new PE(t,i.Gn),o=s.Io(i.documents),a=qy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);GE(e,n,l.vo);const u=new OE(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot}(n,t,r,"current"===s),n.isPrimaryClient&&Yw(n.remoteStore,e)}return i}async function VE(e,t){const n=fm(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((e=>!Ug(e,t)))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xw(n.remoteStore,r.targetId),KE(n,r.targetId)})).catch($b)):(KE(n,r.targetId),await bw(n.localStore,r.targetId,!0))}async function jE(e,t){const n=fm(e);try{const e=await yw(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fo.get(t);r&&(dm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?dm(r.Co):e.removedDocuments.size>0&&(dm(r.Co),r.Co=!1))})),await XE(n,e,t)}catch(e){await $b(e)}}function UE(e,t,n){const r=fm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.eo(t)&&(r=!0)})),r&&NE(n)}(r.eventManager,t),e.length&&r.No.Er(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zE(e,t,n){const r=fm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new _y(Gm.comparator);e=e.insert(s,cg.newNoDocument(s,Nm.min()));const n=jy().add(s),i=new By(Nm.min(),new Map,new Dy(xm),e,n);await jE(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),YE(r)}else await bw(r.localStore,t,!1).then((()=>KE(r,t,n))).catch($b)}async function BE(e,t){const n=fm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Jv.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);dm(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.In.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(n.localStore,t);HE(n,r,null),$E(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await XE(n,e)}catch(e){await $b(e)}}async function qE(e,t,n){const r=fm(e);try{const e=await function(e,t){const n=fm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.In.lookupMutationBatch(e,t).next((t=>(dm(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)))).next((()=>n.In.performConsistencyCheck(e))).next((()=>n.Qn.Pn(e,r)))}))}(r.localStore,t);HE(r,t,n),$E(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await XE(r,e)}catch(n){await $b(n)}}function $E(e,t){(e.Bo.get(t)||[]).forEach((e=>{e.resolve()})),e.Bo.delete(t)}function HE(e,t,n){const r=fm(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function KE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((t=>{e.Mo.containsKey(t)||WE(e,t)}))}function WE(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Xw(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),YE(e))}function GE(e,t,n){for(const r of n)r instanceof DE?(e.Mo.addReference(r.key,t),QE(e,r)):r instanceof AE?(am("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||WE(e,r.key)):hm()}function QE(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(am("SyncEngine","New document in limbo: "+n),e.$o.add(r),YE(e))}function YE(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Gm(Om.fromString(t)),r=e.Uo.next();e.Fo.set(r,new RE(n)),e.Oo=e.Oo.insert(n,r),Yw(e.remoteStore,new db(Vg(Ag(n.path)),r,2,Sm.T))}}async function XE(e,t,n){const r=fm(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((e,a)=>{o.push(r.Ko(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=hw.kn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.No.Er(i),await async function(e,t){const n=fm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Jv.forEach(t,(t=>Jv.forEach(t.Nn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Jv.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!rb(e))throw e;am("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function JE(e,t){const n=fm(e);if(!n.currentUser.isEqual(t)){am("SyncEngine","User change. New user:",t.toKey());const e=await mw(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach((e=>{e.forEach((e=>{e.reject(new mm(pm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await XE(n,e.Wn)}}function ZE(e,t){const n=fm(e),r=n.Fo.get(t);if(r&&r.Co)return jy().add(r.key);{let e=jy();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.Eo)}return e}}function eS(e){const t=fm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qE.bind(null,t),t}class tS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Uw(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return pw(this.persistence,new dw,e.initialUser,this.N)}Go(e){return new Nw(Dw.Ns,this.N)}Wo(e){return new Pw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nS extends tS{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await Ew(this.localStore),await this.Jo.initialize(this,e),await eS(this.Jo.syncEngine),await uE(this.Jo.remoteStore),await this.persistence.nn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ho(e){return pw(this.persistence,new dw,e.initialUser,this.N)}zo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Wb(t,e.asyncQueue)}Go(e){const t=function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Db.withCacheSize(this.cacheSizeBytes):Db.DEFAULT;return new aw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,jw(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Pw}}class rS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>UE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=JE.bind(null,this.syncEngine),await async function(e,t){const n=fm(e);t?(n.Kr.delete(2),await Gw(n)):t||(n.Kr.add(2),await Qw(n),n.Wr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new TE}createDatastore(e){const t=Uw(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Vw(r));var r;return function(e,t,n){return new Hw(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>UE(this.syncEngine,e,0),s=Rw.bt()?new Rw:new Ow,new Ww(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ME(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=fm(e);am("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Qw(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}class iS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class sS{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=rm.UNAUTHENTICATED,this.clientId=km.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,(async e=>{am("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mm(pm.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=EE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function oS(e,t){e.asyncQueue.verifyOperationInProgress(),am("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function aS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(am("FirestoreClient","Using default OfflineComponentProvider"),await oS(e,new tS)),e.offlineComponents}(e);am("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=fm(e);n.asyncQueue.verifyOperationInProgress(),am("RemoteStore","RemoteStore received new credentials");const r=nE(n);n.Kr.add(3),await Qw(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Gw(n)}(t.remoteStore,e))),e.onlineComponents=t}async function lS(e){return e.onlineComponents||(am("FirestoreClient","Using default OnlineComponentProvider"),await aS(e,new rS)),e.onlineComponents}async function uS(e){const t=await lS(e),n=t.eventManager;return n.onListen=FE.bind(null,t.syncEngine),n.onUnlisten=VE.bind(null,t.syncEngine),n}class cS{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class hS{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hS&&e.projectId===this.projectId&&e.database===this.database}}const dS=new Map;function fS(e,t,n){if(!n)throw new mm(pm.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pS(e){if(!Gm.isDocumentKey(e))throw new mm(pm.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mS(e){if(Gm.isDocumentKey(e))throw new mm(pm.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function gS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":hm()}function yS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mm(pm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gS(e);throw new mm(pm.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class vS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mm(pm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mm(pm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new mm(pm.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bS{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,e instanceof hS?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mm(pm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hS(e.options.projectId)}(e))}get app(){if(!this._app)throw new mm(pm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mm(pm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new vm;switch(e.type){case"gapi":const t=e.client;return dm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Em(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mm(pm.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dS.get(e);t&&(am("ComponentProvider","Removing Datastore"),dS.delete(e),t.terminate())}(this),Promise.resolve()}}class wS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new SS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wS(this.firestore,e,this._key)}}class ES{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ES(this.firestore,e,this._query)}}class SS extends ES{constructor(e,t,n){super(e,t,Ag(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wS(this.firestore,null,new Gm(e))}withConverter(e){return new SS(this.firestore,e,this._path)}}function CS(e,t,...n){if(e=bc(e),fS("collection","path",t),e instanceof bS){const r=Om.fromString(t,...n);return mS(r),new SS(e,null,r)}{if(!(e instanceof wS||e instanceof SS))throw new mm(pm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Om.fromString(t,...n));return mS(r),new SS(e.firestore,null,r)}}function kS(e,t,...n){if(e=bc(e),1===arguments.length&&(t=km.I()),fS("doc","path",t),e instanceof bS){const r=Om.fromString(t,...n);return pS(r),new wS(e,null,new Gm(r))}{if(!(e instanceof wS||e instanceof SS))throw new mm(pm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Om.fromString(t,...n));return pS(r),new wS(e.firestore,e instanceof SS?e.converter:null,new Gm(r))}}class xS{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new zw(this,"async_queue_retry"),this.Ta=()=>{const e=jw();e&&am("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=jw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=jw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise((()=>{}));const t=new gm;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.da.push(e),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!rb(e))throw e;am("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(e){const t=this.fa.then((()=>(this.ga=!0,e().catch((e=>{this.ma=e,this.ga=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lm("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.ga=!1,e))))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const r=wE.createAndSchedule(this,e,t,n,(e=>this.Ra(e)));return this._a.push(r),r}Ea(){this.ma&&hm()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then((()=>{this._a.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()}))}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function TS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class IS extends bS{constructor(e,t){super(e,t),this.type="firestore",this._queue=new xS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NS(this),this._firestoreClient.terminate()}}function _S(e){return e._firestoreClient||NS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NS(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new cS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sS(e._credentials,e._queue,r)}class LS{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new mm(pm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new DS(Vm.fromBase64String(e))}catch(e){throw new mm(pm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new DS(Vm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class AS{constructor(e){this._methodName=e}}class PS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mm(pm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mm(pm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xm(this._lat,e._lat)||xm(this._long,e._long)}}const OS=/^__.*__$/;class RS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vy(e,this.data,this.fieldMask,t,this.fieldTransforms):new yy(e,this.data,t,this.fieldTransforms)}}class MS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hm()}}class VS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new VS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return XS(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(FS(this.Da)&&OS.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class jS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Uw(e)}Ba(e,t,n,r=!1){return new VS({Da:e,methodName:t,La:n,path:Mm.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function US(e){const t=e._freezeSettings(),n=Uw(e._databaseId);return new jS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zS(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);WS("Data must be an object, but it was:",o,r);const a=HS(r,o);let l,u;if(s.merge)l=new Fm(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=GS(t,r,n);if(!o.contains(i))throw new mm(pm.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);JS(e,i)||e.push(i)}l=new Fm(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new RS(new lg(a),l,u)}class BS extends AS{_toFieldTransform(e){if(2!==e.Da)throw 1===e.Da?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof BS}}class qS extends AS{_toFieldTransform(e){return new ay(e.path,new Zg)}isEqual(e){return e instanceof qS}}function $S(e,t){if(KS(e=bc(e)))return WS("Unsupported field value:",t,e),HS(e,t);if(e instanceof AS)return function(e,t){if(!FS(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$S(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gg(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_m.fromDate(e);return{timestampValue:ev(t.N,n)}}if(e instanceof _m){const n=new _m(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ev(t.N,n)}}if(e instanceof PS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof DS)return{bytesValue:tv(t.N,e._byteString)};if(e instanceof wS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${gS(e)}`)}(e,t)}function HS(e,t){const n={};return Am(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dm(e,((e,r)=>{const i=$S(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function KS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _m||e instanceof PS||e instanceof DS||e instanceof wS||e instanceof AS)}function WS(e,t,n){if(!KS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gS(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function GS(e,t,n){if((t=bc(t))instanceof LS)return t._internalPath;if("string"==typeof t)return YS(e,t);throw XS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const QS=new RegExp("[~\\*/\\[\\]]");function YS(e,t,n){if(t.search(QS)>=0)throw XS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new LS(...t.split("."))._internalPath}catch(r){throw XS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new mm(pm.INVALID_ARGUMENT,a+e+l)}function JS(e,t){return e.some((e=>e.isEqual(t)))}class ZS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eC extends ZS{data(){return super.data()}}function tC(e,t){return"string"==typeof t?YS(e,t):t instanceof LS?t._internalPath:t._delegate._internalPath}class nC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends ZS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iC extends rC{data(e={}){return super.data(e)}}class sC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new iC(this._firestore,this._userDataWriter,n.key,n,new nC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mm(pm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new iC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new iC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:oC(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hm()}}class aC{}class lC extends aC{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new mm(pm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mm(pm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ig(t,n);return function(e,t){if(null===Rg(e)){const n=Mg(e);null!==n&&function(e,t,n){if(!n.isEqual(t))throw new mm(pm.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new ES(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Dg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class uC extends aC{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new ES(e.firestore,e.converter,jg(e._query,this.Ga,this.za))}}function cC(e){return function(e,t){if(t<=0)throw new mm(pm.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limitToLast",e),new uC("limitToLast",e,"L")}function hC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dC extends class{convertValue(e,t="none"){switch(Qm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hm()}}convertObject(e,t){const n={};return Dm(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new PS(zm(e.latitude),zm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=$m(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hm(e));default:return null}}convertTimestamp(e){const t=Um(e);return new _m(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Om.fromString(e);dm(_v(n));const r=new hS(n.get(1),n.get(3)),i=new Gm(n.popFirst(5));return r.isEqual(t)||lm(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new DS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wS(this.firestore,null,t)}}function fC(e,t,n){e=yS(e,wS);const r=yS(e.firestore,IS),i=hC(e.converter,t,n);return vC(r,[zS(US(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uy.none())])}function pC(e,t,n,...r){e=yS(e,wS);const i=yS(e.firestore,IS),s=US(i);let o;return o="string"==typeof(t=bc(t))||t instanceof LS?function(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[GS(t,r,n)],l=[i];if(s.length%2!=0)throw new mm(pm.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(GS(t,s[e])),l.push(s[e+1]);const u=[],c=lg.empty();for(let e=a.length-1;e>=0;--e)if(!JS(u,a[e])){const t=a[e];let n=l[e];n=bc(n);const r=o.$a(t);if(n instanceof BS)u.push(t);else{const e=$S(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Fm(u);return new MS(c,h,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Ba(1,t,n);WS("Data must be an object, but it was:",i,r);const s=[],o=lg.empty();Dm(r,((e,r)=>{const a=YS(t,e,n);r=bc(r);const l=i.$a(a);if(r instanceof BS)s.push(a);else{const e=$S(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Fm(s);return new MS(o,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),vC(i,[o.toMutation(e._key,uy.exists(!0))])}function mC(e){return vC(yS(e.firestore,IS),[new Sy(e._key,uy.none())])}function gC(e,t){const n=yS(e.firestore,IS),r=kS(e),i=hC(e.converter,t);return vC(n,[zS(US(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uy.exists(!1))]).then((()=>r))}function yC(e,...t){var n,r,i;e=bc(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||TS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(TS(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof wS)u=yS(e.firestore,IS),c=Ag(e._key.path),l={next:n=>{t[o]&&t[o](function(e,t,n){const r=n.docs.get(t._key),i=new dC(e);return new rC(e,i,t._key,r,new nC(n.hasPendingWrites,n.fromCache),t.converter)}(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=yS(e,ES);u=yS(n.firestore,IS),c=n._query;const r=new dC(u);l={next:e=>{t[o]&&t[o](new sC(u,r,n,e))},error:t[o+1],complete:t[o+2]},function(e){if(Og(e)&&0===e.explicitOrderBy.length)throw new mm(pm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new iS(r),s=new LE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=fm(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xE),i)try{s.Xr=await n.onListen(r)}catch(e){const n=EE(e,`Initialization of query '${Bg(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&NE(n)}(await uS(e),s))),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=fm(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await uS(e),s)))}}(_S(u),c,a,l)}function vC(e,t){return function(e,t){const n=new gm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=eS(e);try{const e=await function(e,t){const n=fm(e),r=_m.now(),i=t.reduce(((e,t)=>e.add(t.key)),jy());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Qn.Pn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=py(e,s.get(e.key));null!=t&&o.push(new vy(e.key,t,ug(t.value.mapValue),uy.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new _y(xm)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await XE(r,e.changes),await uE(r.remoteStore)}catch(e){const t=EE(e,"Failed to persist write");n.reject(t)}}(await function(e){return lS(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(_S(e),t)}im="9.1.3",jc(new wc("firestore",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new IS(n,new bm(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),Hc(nm,"3.1.1",undefined),Hc(nm,"3.1.1","esm2017");function bC(e){return Array.prototype.slice.call(e)}function wC(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function EC(e,t,n){var r,i=new Promise((function(i,s){wC(r=e[t].apply(e,n)).then(i,s)}));return i.request=r,i}function SC(e,t,n){var r=EC(e,t,n);return r.then((function(e){if(e)return new _C(e,r.request)}))}function CC(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function kC(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return EC(this[t],r,arguments)})}))}function xC(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function TC(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return SC(this[t],r,arguments)})}))}function IC(e){this._index=e}function _C(e,t){this._cursor=e,this._request=t}function NC(e){this._store=e}function LC(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function DC(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new LC(n)}function AC(e){this._db=e}Hc("firebase","9.1.3","app"),CC(IC,"_index",["name","keyPath","multiEntry","unique"]),kC(IC,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),TC(IC,"_index",IDBIndex,["openCursor","openKeyCursor"]),CC(_C,"_cursor",["direction","key","primaryKey","value"]),kC(_C,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(_C.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),wC(t._request).then((function(e){if(e)return new _C(e,t._request)}))}))})})),NC.prototype.createIndex=function(){return new IC(this._store.createIndex.apply(this._store,arguments))},NC.prototype.index=function(){return new IC(this._store.index.apply(this._store,arguments))},CC(NC,"_store",["name","keyPath","indexNames","autoIncrement"]),kC(NC,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),TC(NC,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),xC(NC,"_store",IDBObjectStore,["deleteIndex"]),LC.prototype.objectStore=function(){return new NC(this._tx.objectStore.apply(this._tx,arguments))},CC(LC,"_tx",["objectStoreNames","mode"]),xC(LC,"_tx",IDBTransaction,["abort"]),DC.prototype.createObjectStore=function(){return new NC(this._db.createObjectStore.apply(this._db,arguments))},CC(DC,"_db",["name","version","objectStoreNames"]),xC(DC,"_db",IDBDatabase,["deleteObjectStore","close"]),AC.prototype.transaction=function(){return new LC(this._db.transaction.apply(this._db,arguments))},CC(AC,"_db",["name","version","objectStoreNames"]),xC(AC,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[NC,IC].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=bC(arguments),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[IC,NC].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));const PC="@firebase/installations",OC="0.5.2",RC=1e4,MC="w:0.5.2",FC="FIS_v2",VC=36e5,jC=new pc("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function UC(e){return e instanceof fc&&e.code.includes("request-failed")}function zC({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function BC(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function qC(e,t){const n=(await t.json()).error;return jC.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function $C({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function HC(e,{refreshToken:t}){const n=$C(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function KC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function WC(e){return new Promise((t=>{setTimeout(t,e)}))}const GC=/^[cdef][\w-]{21}$/;function QC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return GC.test(t)?t:""}catch(e){return""}}function YC(e){return`${e.appName}!${e.appId}`}const XC=new Map;function JC(e,t){const n=YC(e);ZC(n,t),function(e,t){const n=function(){!ek&&"BroadcastChannel"in self&&(ek=new BroadcastChannel("[Firebase] FID Change"),ek.onmessage=e=>{ZC(e.data.key,e.data.fid)});return ek}();n&&n.postMessage({key:e,fid:t});0===XC.size&&ek&&(ek.close(),ek=null)}(n,t)}function ZC(e,t){const n=XC.get(e);if(n)for(const e of n)e(t)}let ek=null;const tk="firebase-installations-store";let nk=null;function rk(){return nk||(nk=function(e,t,n){var r=EC(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new DC(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new AC(e)}))}("firebase-installations-database",1,(e=>{if(0===e.oldVersion)e.createObjectStore(tk)}))),nk}async function ik(e,t){const n=YC(e),r=(await rk()).transaction(tk,"readwrite"),i=r.objectStore(tk),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||JC(e,t.fid),t}async function sk(e){const t=YC(e),n=(await rk()).transaction(tk,"readwrite");await n.objectStore(tk).delete(t),await n.complete}async function ok(e,t){const n=YC(e),r=(await rk()).transaction(tk,"readwrite"),i=r.objectStore(tk),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||JC(e,o.fid),o}async function ak(e){let t;const n=await ok(e,(n=>{const r=function(e){return ck(e||{fid:QC(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(jC.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=zC(e),r=$C(e),i={fid:t,authVersion:FC,appId:e.appId,sdkVersion:MC},s={method:"POST",headers:r,body:JSON.stringify(i)},o=await KC((()=>fetch(n,s)));if(o.ok){const e=await o.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:BC(e.authToken)}}throw await qC("Create Installation",o)}(e,t);return ik(e,n)}catch(n){throw UC(n)&&409===n.customData.serverCode?await sk(e):await ik(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:lk(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function lk(e){let t=await uk(e);for(;1===t.registrationStatus;)await WC(100),t=await uk(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ak(e);return n||t}return t}function uk(e){return ok(e,(e=>{if(!e)throw jC.create("installation-not-found");return ck(e)}))}function ck(e){return 1===(t=e).registrationStatus&&t.registrationTime+RC<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function hk({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${zC(e)}/${t}/authTokens:generate`}(e,n),i=HC(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={installation:{sdkVersion:MC}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await KC((()=>fetch(r,a)));if(l.ok){return BC(await l.json())}throw await qC("Generate Auth Token",l)}async function dk(e,t=!1){let n;const r=await ok(e.appConfig,(r=>{if(!pk(r))throw jC.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+VC}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await fk(e.appConfig);for(;1===n.authToken.requestStatus;)await WC(100),n=await fk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?dk(e,t):r}(e,t),r;{if(!navigator.onLine)throw jC.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await hk(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ik(e.appConfig,r),n}catch(n){if(!UC(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ik(e.appConfig,n)}else await sk(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function fk(e){return ok(e,(e=>{if(!pk(e))throw jC.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+RC<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function pk(e){return void 0!==e&&2===e.registrationStatus}async function mk(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await ak(e);t&&await t}(n.appConfig);return(await dk(n,t)).token}function gk(e){return jC.create("missing-app-config-values",{valueName:e})}const yk="installations",vk=e=>{const t=Uc(e.getProvider("app").getImmediate(),yk).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ak(t.appConfig);return r?r.catch(console.error):dk(t).catch(console.error),n.fid}(t),getToken:e=>mk(t,e)}};jc(new wc(yk,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw gk("App Configuration");if(!e.name)throw gk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw gk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Uc(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),jc(new wc("installations-internal",vk,"PRIVATE")),Hc(PC,OC),Hc(PC,OC,"esm2017");const bk="@firebase/remote-config",wk="0.3.1";class Ek{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}const Sk="remote-config",Ck=new pc("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});const kk=["1","true","t","yes","y","on"];class xk{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&kk.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}async function Tk(e){const t=bc(e),n=new Ek;setTimeout((async()=>{n.abort()}),t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n}),await t._storageCache.setLastFetchStatus("success")}catch(e){const n=function(e,t){return e instanceof fc&&-1!==e.code.indexOf(t)}(e,"fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(n),e}}class Ik{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}function _k(e=navigator){return e.languages&&e.languages[0]||e.language}class Nk{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,i={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:_k()},o={method:"POST",headers:i,body:JSON.stringify(s)},a=fetch(r,o),l=new Promise(((t,n)=>{e.signal.addEventListener((()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))}));let u;try{await Promise.race([a,l]),u=await a}catch(e){let t="fetch-client-network";throw"AbortError"===e.name&&(t="fetch-timeout"),Ck.create(t,{originalErrorMessage:e.message})}let c=u.status;const h=u.headers.get("ETag")||void 0;let d,f;if(200===u.status){let e;try{e=await u.json()}catch(e){throw Ck.create("fetch-client-parse",{originalErrorMessage:e.message})}d=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?c=500:"NO_CHANGE"===f?c=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(d={}),304!==c&&200!==c)throw Ck.create("fetch-status",{httpStatus:c});return{status:c,eTag:h,config:d}}}class Lk{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(Ck.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(t){if(!function(e){if(!(e instanceof fc&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t))throw t;const r={throttleEndTimeMillis:Date.now()+vc(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(e,r)}}}class Dk{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ak(e,t){const n=e.target.error||void 0;return Ck.create(t,{originalErrorMessage:n&&n.message})}const Pk="app_namespace_store";class Ok{constructor(e,t,n,r=function(){return new Promise(((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Ak(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Pk,{keyPath:"compositeKey"})}}catch(e){t(Ck.create("storage-open",{originalErrorMessage:e}))}}))}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([Pk],"readonly").objectStore(Pk),s=this.createCompositeKey(e);try{const e=i.get(s);e.onerror=e=>{r(Ak(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(e){r(Ck.create("storage-get",{originalErrorMessage:e&&e.message}))}}))}async set(e,t){const n=await this.openDbPromise;return new Promise(((r,i)=>{const s=n.transaction([Pk],"readwrite").objectStore(Pk),o=this.createCompositeKey(e);try{const e=s.put({compositeKey:o,value:t});e.onerror=e=>{i(Ak(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(e){i(Ck.create("storage-set",{originalErrorMessage:e&&e.message}))}}))}async delete(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([Pk],"readwrite").objectStore(Pk),s=this.createCompositeKey(e);try{const e=i.delete(s);e.onerror=e=>{r(Ak(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(e){r(Ck.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Rk{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const s=await n;s&&(this.activeConfig=s)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}async function Mk(e){return e=bc(e),await Tk(e),async function(e){const t=bc(e),[n,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)}(e)}jc(new wc(Sk,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ck.create("registration-window");if(!dc())throw Ck.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:o}=n.options;if(!i)throw Ck.create("registration-project-id");if(!s)throw Ck.create("registration-api-key");if(!o)throw Ck.create("registration-app-id");t=t||"firebase";const a=new Ok(o,n.name,t),l=new Rk(a),u=new Nc(bk);u.logLevel=Cc.ERROR;const c=new Nk(r,qc,t,i,s,o),h=new Lk(c,a),d=new Ik(h,a,l,u),f=new Dk(n,d,l,a,u);return function(e){const t=bc(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((()=>{t._isInitializationComplete=!0}))),t._initializePromise}(f),f}),"PUBLIC").setMultipleInstances(!0)),Hc(bk,wk),Hc(bk,wk,"esm2017"),function(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:Oc,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw zc.create("bad-app-name",{appName:String(r)});const i=Mc.get(r);if(i){if(gc(e,i.options)&&gc(n,i.config))return i;throw zc.create("duplicate-app",{appName:r})}const s=new kc(r);for(const e of Fc.values())s.addComponent(e);const o=new Bc(e,n,s);Mc.set(r,o)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",authDomain:"rebot-f643e.firebaseapp.com",databaseURL:"https://rebot-f643e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rebot-f643e",storageBucket:"rebot-f643e.appspot.com",messagingSenderId:"329205426356",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1",measurementId:"G-R054X17WD2"});const Fk=function(e=$c()){return Uc(e,"firestore").getImmediate()}();!function(e,t){!function(e){if(e._initialized||e._terminated)throw new mm(pm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(e=yS(e,IS));const n=_S(e),r=e._freezeSettings(),i=new rS;(function(e,t,n){const r=new gm;e.asyncQueue.enqueue((async()=>{try{await oS(e,n),await aS(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===pm.FAILED_PRECONDITION||e.code===pm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))})(n,i,new nS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(Fk,{forceOwnership:!0});const Vk=function(e=$c()){return Uc(e=bc(e),Sk).getImmediate()}();Vk.settings.minimumFetchIntervalMillis=24e5;const jk=t.exports.createContext(null),Uk=t.exports.createContext(null),zk=t.exports.createContext(null);var Bk={},qk="function"==typeof Symbol&&Symbol.for,$k=qk?Symbol.for("react.element"):60103,Hk=qk?Symbol.for("react.portal"):60106,Kk=qk?Symbol.for("react.fragment"):60107,Wk=qk?Symbol.for("react.strict_mode"):60108,Gk=qk?Symbol.for("react.profiler"):60114,Qk=qk?Symbol.for("react.provider"):60109,Yk=qk?Symbol.for("react.context"):60110,Xk=qk?Symbol.for("react.async_mode"):60111,Jk=qk?Symbol.for("react.concurrent_mode"):60111,Zk=qk?Symbol.for("react.forward_ref"):60112,ex=qk?Symbol.for("react.suspense"):60113,tx=qk?Symbol.for("react.suspense_list"):60120,nx=qk?Symbol.for("react.memo"):60115,rx=qk?Symbol.for("react.lazy"):60116,ix=qk?Symbol.for("react.block"):60121,sx=qk?Symbol.for("react.fundamental"):60117,ox=qk?Symbol.for("react.responder"):60118,ax=qk?Symbol.for("react.scope"):60119;function lx(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case $k:switch(e=e.type){case Xk:case Jk:case Kk:case Gk:case Wk:case ex:return e;default:switch(e=e&&e.$$typeof){case Yk:case Zk:case rx:case nx:case Qk:return e;default:return t}}case Hk:return t}}}function ux(e){return lx(e)===Jk}Bk.AsyncMode=Xk,Bk.ConcurrentMode=Jk,Bk.ContextConsumer=Yk,Bk.ContextProvider=Qk,Bk.Element=$k,Bk.ForwardRef=Zk,Bk.Fragment=Kk,Bk.Lazy=rx,Bk.Memo=nx,Bk.Portal=Hk,Bk.Profiler=Gk,Bk.StrictMode=Wk,Bk.Suspense=ex,Bk.isAsyncMode=function(e){return ux(e)||lx(e)===Xk},Bk.isConcurrentMode=ux,Bk.isContextConsumer=function(e){return lx(e)===Yk},Bk.isContextProvider=function(e){return lx(e)===Qk},Bk.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===$k},Bk.isForwardRef=function(e){return lx(e)===Zk},Bk.isFragment=function(e){return lx(e)===Kk},Bk.isLazy=function(e){return lx(e)===rx},Bk.isMemo=function(e){return lx(e)===nx},Bk.isPortal=function(e){return lx(e)===Hk},Bk.isProfiler=function(e){return lx(e)===Gk},Bk.isStrictMode=function(e){return lx(e)===Wk},Bk.isSuspense=function(e){return lx(e)===ex},Bk.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Kk||e===Jk||e===Gk||e===Wk||e===ex||e===tx||"object"==typeof e&&null!==e&&(e.$$typeof===rx||e.$$typeof===nx||e.$$typeof===Qk||e.$$typeof===Yk||e.$$typeof===Zk||e.$$typeof===sx||e.$$typeof===ox||e.$$typeof===ax||e.$$typeof===ix)},Bk.typeOf=lx;Function.call.bind(Object.prototype.hasOwnProperty);function cx(){}function hx(){}hx.resetWarningCache=cx;function dx(e,n){const[r,i]=t.exports.useState(null);return t.exports.useEffect((()=>{const t=localStorage.getItem("RC_CACHED_"+e);t&&i(JSON.parse(t)),Mk(Vk).then((()=>{const t=function(e,t){const n=bc(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new xk("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new xk("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new xk("static"))}(Vk,e).asString(),n=JSON.parse(t);localStorage.setItem("RC_CACHED_"+e,t),i(n)}))}),[e]),t.exports.useEffect((()=>{r&&n&&n(r)}),[r,n]),r}function fx(e){const[n,r]=t.exports.useState(null);return t.exports.useEffect((()=>{const t=yC(e,(e=>{r(e.data())}));return()=>t()}),[e]),n}!function(){function e(e,t,n,r,i,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hx,resetWarningCache:cx};n.PropTypes=n}();class px{constructor(e){this.manifest=e,this.box_container=document.querySelector("#boxes"),this.viewbox_template=document.querySelector(".template #viewbox"),this.status_title=document.querySelector("#current-subj"),this.search=document.querySelector(".search input"),document.querySelectorAll("#rebot header button").forEach((e=>{"brainly"!=e.id&&"math"!=e.id&&(e.onclick=()=>{((e,t)=>{const n=document.querySelector("#rebot .search"),r=n.querySelector("input.rebot"),i=n.querySelector("input.google"),s=n.querySelector("img.google"),o=n.querySelector("img.rebot");r.classList.add("active"),i.classList.remove("active"),r.focus(),s.classList.remove("active"),o.classList.add("active"),r.addEventListener("keydown",(function n(i){if("Enter"==i.key){const i=r.value.replace(" ","").split(",");e(t,i),r.value="",r.blur(),r.removeEventListener("keydown",n)}})),r.addEventListener("blur",(function n(){const a=r.value.replace(" ","").split(",");r.value?(e(t,a),r.value=""):r.value="",r.classList.remove("active"),i.classList.add("active"),o.classList.remove("active"),s.classList.add("active"),r.removeEventListener("blur",n)}),{once:!0})})(((e,t)=>{this.open(e,t)}),e.id)})})),this.search.addEventListener("keydown",(e=>{"Enter"==e.key&&(window.open("https://www.google.com/search?q="+this.search.value,"_blank"),this.search.value="",this.search.blur())}))}open(e,t){let n;if(null==t){if(n=prompt("Введи номер или номера через запятую:"),!n)return;n=n.split(",")}else n=t;const r=this.manifest[e];this.status_title.textContent=r.title;for(let t of n){if(!t)continue;if(this.box_container.querySelector(`.viewbox[num='${t}']`))continue;let n=this.viewbox_template.cloneNode(!0);if(r.section){n.querySelector("#prew").remove(),n.querySelector("#next").remove(),n.querySelector("#alt-re").remove(),n.querySelector("#view").src=r.url.replace("*",t-("Химия"==r.title?1:0)).replace("?",1);let e,i=2;for(;i<12;)e=n.querySelector("#view").cloneNode(!0),e.onerror=function(){this.remove()},e.src=r.url.replace("*",t-("Химия"==r.title?1:0)).replace("?",i),n.querySelector(".viewbox-content").append(e),i++}else n.querySelector("#view").src=r.url.replace("?",t),r.full_img||(n.querySelector("#view2").src=r.url.replace("?",t+"_2"),n.querySelector("#view3").src=r.url.replace("?",t+"_3"));this.box_container.prepend(n),n.querySelector(".num").textContent=t,n.setAttribute("num",t),n.setAttribute("subj_id",e)}}change_num(e,t){const n=e.parentNode.parentNode;let r=this.manifest[n.getAttribute("subj_id")],i=parseInt(n.getAttribute("num"))+t;if(n.querySelector("#view").src=r.url.replace("?",i),0==r.full_img){const e=n.querySelector("#view2"),t=n.querySelector("#view3");e.style.display="",t.style.display="",e.src=r.url.replace("?",i+"_2"),t.src=r.url.replace("?",i+"_3")}n.setAttribute("num",i),n.querySelector(".num").textContent=i}remove(e){e.remove(),0==this.box_container.childElementCount&&(this.status_title.textContent="ReBot")}open_alt(e){const t=e.getAttribute("num"),n=this.manifest[e.getAttribute("subj_id")];if(n.alt_url){const e=n.alt_url.replace("?",t);window.open(e,"_blank")}else alert("Для этого предмета нет другого решебника")}}var mx,gx={exports:{}};"undefined"!=typeof self&&self,gx.exports=(mx=t.exports,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),s=r(n(8)),o=r(n(2)),a=n(10),l=r(n(3)),u=r(n(6)),c=function(e){return e.query||(0,l.default)(e)},h=function(e){if(!e)return null;var t=Object.keys(e);return 0===t.length?null:t.reduce((function(t,n){return t[(0,o.default)(n)]=e[n],t}),{})},d=function(){var e=i.default.useRef(!1);return i.default.useEffect((function(){e.current=!0}),[]),e.current},f=function(e){var t=i.default.useContext(u.default),n=function(){return h(e)||h(t)||{}},r=i.default.useState(n),s=r[0],o=r[1];return i.default.useEffect((function(){var e=n();(0,a.shallowEqualObjects)(s,e)||o(e)}),[e,t]),s},p=function(e){var t=function(){return c(e)},n=i.default.useState(t),r=n[0],s=n[1];return i.default.useEffect((function(){var e=t();r!==e&&s(e)}),[e]),r},m=function(e,t){var n=function(){return(0,s.default)(e,t)},r=i.default.useState(n),o=r[0],a=r[1],l=d();return i.default.useEffect((function(){if(l){var e=n();return a(e),function(){e&&e.dispose()}}}),[e,t]),o},g=function(e){var t=i.default.useState(e.matches),n=t[0],r=t[1];return i.default.useEffect((function(){var t=function(){r(e.matches)};return e.addListener(t),t(),function(){e.removeListener(t)}}),[e]),n},y=function(e,t,n){var r=f(t),s=p(e);if(!s)throw new Error("Invalid or missing MediaQuery!");var o=m(s,r),a=g(o),l=d();return i.default.useEffect((function(){l&&n&&n(a)}),[a]),i.default.useEffect((function(){return function(){o&&o.dispose()}}),[]),a};t.default=y},function(e,t){e.exports=mx},function(e,t,n){function r(e){return"-"+e.toLowerCase()}function i(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(s,r);return a[e]=o.test(t)?"-"+t:t}Object.defineProperty(t,"__esModule",{value:!0});var s=/[A-Z]/g,o=/^ms-/,a={};t.default=i},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),s=r(n(11)),o=function(e){return"not "+e},a=function(e,t){var n=(0,i.default)(e);return"number"==typeof t&&(t+="px"),!0===t?n:!1===t?o(n):"("+n+": "+t+")"},l=function(e){return e.join(" and ")},u=function(e){var t=[];return Object.keys(s.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(a(n,r))})),l(t)};t.default=u},function(e,t,n){e.exports=n(13)},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)).default.createContext({});t.default=i},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n(0));t.useMediaQuery=i.default;var s=r(n(17));t.default=s.default;var o=r(n(3));t.toQuery=o.default;var a=r(n(6));t.Context=a.default},function(e,t,n){function r(e,t,n){function r(e){c&&c.addListener(e)}function i(e){c&&c.removeListener(e)}function a(e){u.matches=e.matches,u.media=e.media}function l(){c&&c.removeListener(a)}var u=this;if(o&&!n){var c=o.call(window,e);this.matches=c.matches,this.media=c.media,c.addListener(a)}else this.matches=s(e,t),this.media=e;this.addListener=r,this.removeListener=i,this.dispose=l}function i(e,t,n){return new r(e,t,n)}var s=n(9).match,o="undefined"!=typeof window?window.matchMedia:null;e.exports=i},function(e,t,n){function r(e,t){return i(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var i=e.expressions.every((function(e){var n=e.feature,r=e.modifier,i=e.value,l=t[n];if(!l)return!1;switch(n){case"orientation":case"scan":return l.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=a(i),l=a(l);break;case"resolution":i=o(i),l=o(l);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=s(i),l=s(l);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,l=parseInt(l,10)||0}switch(r){case"min":return l>=i;case"max":return l<=i;default:return l===i}}));return i&&!n||!i&&n}))}function i(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(l),n=t[1],r=t[2],i=t[3]||"",s={};return s.inverse=!!n&&"not"===n.toLowerCase(),s.type=r?r.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],s.expressions=i.map((function(e){var t=e.match(u),n=t[1].toLowerCase().match(c);return{modifier:n[1],feature:n[2],value:t[2]}})),s}))}function s(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function o(e){var t=parseFloat(e);switch(String(e).match(d)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function a(e){var t=parseFloat(e);switch(String(e).match(h)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=r,t.parse=i;var l=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,u=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,c=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,d=/(dpi|dpcm|dppx)?$/},function(e,t,n){function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var o=n[s];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"shallowEqualArrays",(function(){return i})),n.d(t,"shallowEqualObjects",(function(){return r}))},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(12)),a=o.default.oneOfType([o.default.string,o.default.number]),l={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},u={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:a,deviceHeight:a,width:a,deviceWidth:a,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:a,type:Object.keys(l)},c=i(u,["type"]),h=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:a,maxHeight:a,minDeviceHeight:a,maxDeviceHeight:a,minWidth:a,maxWidth:a,minDeviceWidth:a,maxDeviceWidth:a,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:a,maxResolution:a},c),d=r(r({},l),h);t.default={all:d,types:l,matchers:u,features:h}},function(e,t,n){var r=n(4);e.exports=n(14)(r.isElement,!0)},function(e,t,n){!function(){function e(e){return"string"==typeof e||"function"==typeof e||e===b||e===x||e===E||e===w||e===I||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===L||e.$$typeof===N||e.$$typeof===S||e.$$typeof===C||e.$$typeof===T||e.$$typeof===A||e.$$typeof===P||e.$$typeof===O||e.$$typeof===D)}function n(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case y:var n=e.type;switch(n){case k:case x:case b:case E:case w:case I:return n;default:var r=n&&n.$$typeof;switch(r){case C:case T:case L:case N:case S:return r;default:return t}}case v:return t}}}function r(e){return G||(G=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),i(e)||n(e)===k}function i(e){return n(e)===x}function s(e){return n(e)===C}function o(e){return n(e)===S}function a(e){return"object"==typeof e&&null!==e&&e.$$typeof===y}function l(e){return n(e)===T}function u(e){return n(e)===b}function c(e){return n(e)===L}function h(e){return n(e)===N}function d(e){return n(e)===v}function f(e){return n(e)===E}function p(e){return n(e)===w}function m(e){return n(e)===I}var g="function"==typeof Symbol&&Symbol.for,y=g?Symbol.for("react.element"):60103,v=g?Symbol.for("react.portal"):60106,b=g?Symbol.for("react.fragment"):60107,w=g?Symbol.for("react.strict_mode"):60108,E=g?Symbol.for("react.profiler"):60114,S=g?Symbol.for("react.provider"):60109,C=g?Symbol.for("react.context"):60110,k=g?Symbol.for("react.async_mode"):60111,x=g?Symbol.for("react.concurrent_mode"):60111,T=g?Symbol.for("react.forward_ref"):60112,I=g?Symbol.for("react.suspense"):60113,_=g?Symbol.for("react.suspense_list"):60120,N=g?Symbol.for("react.memo"):60115,L=g?Symbol.for("react.lazy"):60116,D=g?Symbol.for("react.block"):60121,A=g?Symbol.for("react.fundamental"):60117,P=g?Symbol.for("react.responder"):60118,O=g?Symbol.for("react.scope"):60119,R=k,M=x,F=C,V=S,j=y,U=T,z=b,B=L,q=N,$=v,H=E,K=w,W=I,G=!1;t.AsyncMode=R,t.ConcurrentMode=M,t.ContextConsumer=F,t.ContextProvider=V,t.Element=j,t.ForwardRef=U,t.Fragment=z,t.Lazy=B,t.Memo=q,t.Portal=$,t.Profiler=H,t.StrictMode=K,t.Suspense=W,t.isAsyncMode=r,t.isConcurrentMode=i,t.isContextConsumer=s,t.isContextProvider=o,t.isElement=a,t.isForwardRef=l,t.isFragment=u,t.isLazy=c,t.isMemo=h,t.isPortal=d,t.isProfiler=f,t.isStrictMode=p,t.isSuspense=m,t.isValidElementType=e,t.typeOf=n}()},function(e,t,n){function r(){return null}var i=n(4),s=n(15),o=n(5),a=n(16),l=Function.call.bind(Object.prototype.hasOwnProperty),u=function(){};u=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function n(e){var t=e&&(I&&e[I]||e[_]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){this.message=e,this.stack=""}function d(e){function n(n,s,a,l,c,d,f){if(l=l||N,d=d||a,f!==o){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("undefined"!=typeof console){var m=l+":"+a;!r[m]&&i<3&&(u("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[m]=!0,i++)}}return null==s[a]?n?new h(null===s[a]?"The "+c+" `"+d+"` is marked as required in `"+l+"`, but its value is `null`.":"The "+c+" `"+d+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(s,a,l,c,d)}var r={},i=0,s=n.bind(null,!1);return s.isRequired=n.bind(null,!0),s}function f(e){function t(t,n,r,i,s,o){var a=t[n];return C(a)!==e?new h("Invalid "+i+" `"+s+"` of type `"+k(a)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function p(e){function t(t,n,r,i,s){if("function"!=typeof e)return new h("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new h("Invalid "+i+" `"+s+"` of type `"+C(a)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<a.length;l++){var u=e(a,l,r,i,s+"["+l+"]",o);if(u instanceof Error)return u}return null}return d(t)}function m(e){function t(t,n,r,i,s){if(!(t[n]instanceof e)){var o=e.name||N;return new h("Invalid "+i+" `"+s+"` of type `"+T(t[n])+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}return null}return d(t)}function g(e){function t(t,n,r,i,s){for(var o=t[n],a=0;a<e.length;a++)if(c(o,e[a]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===k(t)?String(t):t}));return new h("Invalid "+i+" `"+s+"` of value `"+String(o)+"` supplied to `"+r+"`, expected one of "+l+".")}return Array.isArray(e)?d(t):(u(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)}function y(e){function t(t,n,r,i,s){if("function"!=typeof e)return new h("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=C(a);if("object"!==u)return new h("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(l(a,c)){var d=e(a,c,r,i,s+"."+c,o);if(d instanceof Error)return d}return null}return d(t)}function v(e){function t(t,n,r,i,s){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,s,o))return null;return new h("Invalid "+i+" `"+s+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return u("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return u("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+x(i)+" at index "+n+"."),r}return d(t)}function b(e){function t(t,n,r,i,s){var a=t[n],l=C(a);if("object"!==l)return new h("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var d=c(a,u,r,i,s+"."+u,o);if(d)return d}}return null}return d(t)}function w(e){function t(t,n,r,i,a){var l=t[n],u=C(l);if("object"!==u)return new h("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var c=s({},t[n],e);for(var d in c){var f=e[d];if(!f)return new h("Invalid "+i+" `"+a+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=f(l,d,r,i,a+"."+d,o);if(p)return p}return null}return d(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,s=r.call(t);if(r!==t.entries){for(;!(i=s.next()).done;)if(!E(i.value))return!1}else for(;!(i=s.next()).done;){var o=i.value;if(o&&!E(o[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function C(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function k(e){if(null==e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){var t=k(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:N}var I="function"==typeof Symbol&&Symbol.iterator,_="@@iterator",N="<<anonymous>>",L={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(r),arrayOf:p,element:function(){function t(t,n,r,i,s){var o=t[n];return e(o)?null:new h("Invalid "+i+" `"+s+"` of type `"+C(o)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}(),elementType:function(){function e(e,t,n,r,s){var o=e[t];return i.isValidElementType(o)?null:new h("Invalid "+r+" `"+s+"` of type `"+C(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")}return d(e)}(),instanceOf:m,node:function(){function e(e,t,n,r,i){return E(e[t])?null:new h("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:y,oneOf:g,oneOfType:v,shape:b,exact:w};return h.prototype=Error.prototype,L.checkPropTypes=a,L.resetWarningCache=a.resetWarningCache,L.PropTypes=L,L}},function(e,t,n){function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=r(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))s.call(n,c)&&(l[c]=n[c]);if(i){a=i(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},function(e,t,n){function r(e,t,n,r,l){for(var u in e)if(a(e,u)){var c;try{if("function"!=typeof e[u]){var h=Error((r||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[u]+"`.");throw h.name="Invariant Violation",h}c=e[u](t,u,r,n,null,s)}catch(e){c=e}if(!c||c instanceof Error||i((r||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in o)){o[c.message]=!0;var d=l?l():"";i("Failed "+n+" type: "+c.message+(null!=d?d:""))}}}var i=function(){},s=n(5),o={},a=Function.call.bind(Object.prototype.hasOwnProperty);i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},r.resetWarningCache=function(){o={}},e.exports=r},function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),o=function(e){var t=e.children,n=e.device,i=e.onChange,o=r(e,["children","device","onChange"]),a=(0,s.default)(o,n,i);return"function"==typeof t?t(a):a?t:null};t.default=o}]));var yx=t.exports.forwardRef((function(e,t){return j.createElement(j.Fragment,null,e.children,j.createElement("div",{ref:t,onClick:e.onClick,className:e.active?"backdrop":""}))})),vx=null;function bx(e){const n=t.exports.useRef(),r=t.exports.useRef(),i=gx.exports.useMediaQuery({query:"(min-width: 700px) and (orientation: landscape)"})&&"split"==e.direction,s=(e=>{const[n,r]=t.exports.useState({});return(t,i,s)=>{e.current.animate([n,t],{duration:i.duration??500,fill:i.fill??"forwards",easing:i.easing??"ease-in-out"}).onfinish=s,r(t)}})(n),[o,a]=t.exports.useState(!0),[l,u]=t.exports.useState(null);t.exports.useEffect((()=>{r.current.animate([{opacity:0},{opacity:1}],{duration:320,fill:"forwards"})}),[]);const c=()=>{s({transform:"translateY(100vh) "+("left"==l?"translateX(-50%)":"right"==l?"translateX(50%)":"")},{duration:220,easing:"ease-in"},e.handleClose),r.current.animate([{opacity:1},{opacity:0}],{duration:320,fill:"forwards",easing:"ease-in-out"});document.getElementById("hw-re-container").childElementCount<=2?document.body.classList.remove("mini-left","mini-right"):"left"==l?(document.body.classList.remove("mini-right"),document.body.classList.add("mini-left")):"right"==l&&(document.body.classList.remove("mini-left"),document.body.classList.add("mini-right"))};function h(e){n.current.style.width="50vw",s(function(e){return{transform:`translateX(${"left"==e?"-50%":"50%"})`,borderRadius:0,top:0}}(e),{duration:300,easing:"ease-out"});document.getElementById("hw-re-container").childElementCount<=2&&(document.body.classList.remove("mini-left","mini-right"),document.body.classList.add("right"==e?"mini-left":"mini-right")),a(!1),u(e)}return j.createElement(yx,{active:o,ref:r,onClick:c},j.createElement("div",{ref:n,onTouchStart:e=>{vx=e.touches[0].clientY},onTouchMove:t=>{if(null==vx)return;const n=t.touches[0].clientY;vx-n<-8&&0==e.scrollContainer.current.scrollTop&&c(),vx=null},className:"adaptive-panel"},j.createElement("header",{style:{background:i?"":"none"}},i&&"left"!=l&&j.createElement("button",{className:"split-left",onClick:()=>h("left")},j.createElement("i",{className:"fas fa-caret-left"})),i&&"right"!=l&&j.createElement("button",{className:"split-right",onClick:()=>h("right")},j.createElement("i",{className:"fas fa-caret-right"})),j.createElement("button",{className:"close",onClick:c},j.createElement("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"var(--text2)"},j.createElement("path",{d:"M0.32373 11.209C0.0161133 11.5166 0.00146484 12.0659 0.331055 12.3882C0.65332 12.7104 1.20264 12.7031 1.51025 12.3955L5.99268 7.90576L10.4824 12.3955C10.7974 12.7104 11.3394 12.7104 11.6616 12.3882C11.9766 12.0586 11.9839 11.5239 11.6616 11.209L7.1792 6.71924L11.6616 2.23682C11.9839 1.92188 11.9839 1.37988 11.6616 1.05762C11.332 0.742676 10.7974 0.735352 10.4824 1.05029L5.99268 5.54004L1.51025 1.05029C1.20264 0.742676 0.645996 0.728027 0.331055 1.05762C0.00878906 1.37988 0.0161133 1.9292 0.32373 2.23682L4.81348 6.71924L0.32373 11.209Z"})))),e.children))}const wx=({text:e})=>j.createElement("h1",{className:"H1"},e),Ex=({title:e,icon:t,descr:n,checked:r,onChange:i})=>j.createElement("div",{className:"_Switch"},t,j.createElement("div",{className:"label-block"},j.createElement("a",{className:"title"},e),j.createElement("a",{className:"descr"},n)),j.createElement("label",{className:"ios7-switch"},j.createElement("input",{type:"checkbox",checked:r,onChange:i}),j.createElement("span",null))),Sx=({title:e,id:t,onSelect:n,selected:r})=>j.createElement("button",{className:"Item"+(r?" selected":""),onClick:n},e),Cx=({children:e,variants:n,defaultState:r,onChange:i})=>{const[s,o]=t.exports.useState(r);t.exports.useEffect((()=>{o(r)}),[r]);const a=[];return n.forEach((e=>{a.push(j.createElement(Sx,{key:e.id,selected:e.id==s,title:e.title,onSelect:()=>(e=>{o(e),i(e)})(e.id)}))})),j.createElement("div",{className:"_Radio"},a)},kx=({children:e})=>j.createElement("div",{className:"_VerticalLayout"},e),xx=({text:e,onClick:t})=>j.createElement("button",{className:"_Button",onClick:t},e),Tx=()=>{const[e,n]=t.exports.useState(!1),[r,i]=t.exports.useState(!1);return t.exports.useEffect((()=>{if(navigator.serviceWorker){const e=navigator.serviceWorker.addEventListener("message",(e=>{"soft-update-complete"==e.data.type&&setTimeout((()=>{n(!0),i(!1)}),950)}));return()=>{navigator.serviceWorker.removeEventListener("message",e)}}}),[]),j.createElement("div",{className:"Updater"},j.createElement("button",{className:"check-btn"+(r?" active":""),onClick:()=>{r||(i(!0),(async()=>{var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache");var t={method:"GET",headers:e},n=new Request("updates.json");const r=await fetch(n,t),i=await r.json();return localStorage.getItem("appVersion")!=i.version&&(localStorage.appVersion=i.version,!0)})().then((e=>{e?navigator.serviceWorker.ready.then((e=>{e.active.postMessage({type:"do-soft-update"})})):setTimeout((()=>i(!1)),1e3)})))}},j.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M13.7451 12.0986C14 12.0986 14.2021 12.0195 14.3604 11.8525L17.9639 8.22266C18.1572 8.0293 18.2451 7.81836 18.2451 7.57227C18.2451 7.33496 18.1484 7.10645 17.9639 6.93066L14.3604 3.26562C14.2021 3.08984 14 3.00195 13.7451 3.00195C13.2705 3.00195 12.8926 3.39746 12.8926 3.88086C12.8926 4.11816 12.9805 4.31152 13.1299 4.47852L15.2305 6.53516C14.8174 6.47363 14.3955 6.43848 13.9736 6.43848C9.62305 6.43848 6.14258 9.91895 6.14258 14.2783C6.14258 18.6377 9.64941 22.1445 14 22.1445C18.3594 22.1445 21.8574 18.6377 21.8574 14.2783C21.8574 13.751 21.4883 13.373 20.9609 13.373C20.4512 13.373 20.1084 13.751 20.1084 14.2783C20.1084 17.6709 17.3926 20.3955 14 20.3955C10.6162 20.3955 7.8916 17.6709 7.8916 14.2783C7.8916 10.8594 10.5898 8.15234 13.9736 8.15234C14.5449 8.15234 15.0723 8.19629 15.5381 8.27539L13.1387 10.6484C12.9805 10.8066 12.8926 11 12.8926 11.2373C12.8926 11.7207 13.2705 12.0986 13.7451 12.0986Z"}))),j.createElement("div",{className:"descr"},j.createElement("span",{className:"title"},e?"Доступно обновление":"Обновления"),j.createElement("span",{className:"info"},r?"Проверка..":"Последняя проверка: 18:30")),e&&j.createElement("button",{className:"update-btn",onClick:()=>location.reload()},"Обновить"),!e&&j.createElement("span",{className:"version"},"V1.0.3"))},Ix=({inversion:e,changeInversion:t,theme:n,changeTheme:r,logout:i,chat:s,changeChat:o})=>j.createElement(kx,null,j.createElement(wx,{text:"Настройки"}),j.createElement(Cx,{defaultState:n,onChange:e=>r(e),variants:[{title:"Темная",id:"dark"},{title:"Светлая",id:"light"}]}),j.createElement(Tx,null),j.createElement(Ex,{title:"Затемнять решения",descr:"Светлый текст на темном фоне",icon:j.createElement("i",{className:"fas fa-moon"}),onChange:e=>t(e.target.checked),checked:e}),j.createElement(Ex,{title:"Чат (бета)",descr:"Может сломать приложение :)",icon:j.createElement("i",{className:"fas fa-moon"}),onChange:e=>o(e.target.checked),checked:s}),j.createElement(xx,{text:"Выйти из аккаунта",onClick:i})),_x=()=>{const[e,n]=t.exports.useState(),[r,i]=t.exports.useState(),[s,o]=t.exports.useState();t.exports.useEffect((()=>{const e=localStorage.theme??"dark";o(e);const t="true"==localStorage.inversion,r="true"==localStorage.chat;t?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),n(t),i(r)}),[]);return j.createElement(Ix,{changeChat:e=>{localStorage.chat=e,location.reload()},chat:r,logout:()=>{localStorage.user=null,window.location.reload()},inversion:e,theme:s,changeInversion:e=>{e?document.documentElement.style.removeProperty("--inv"):document.documentElement.style.setProperty("--inv",0),localStorage.setItem("inversion",e),n(e)},changeTheme:e=>{o(e),document.documentElement.setAttribute("theme",e);document.querySelector("meta[name=theme-color]").content=getComputedStyle(document.documentElement).getPropertyValue("--bg2"),localStorage.theme=e}})};function Nx(){return Nx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(this,arguments)}function Lx(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Dx(e,t){return Dx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dx(e,t)}function Ax(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dx(e,t)}function Px(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ox=!1,Rx=j.createContext(null),Mx="unmounted",Fx="exited",Vx="entering",jx="entered",Ux="exiting",zx=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Fx,r.appearStatus=Vx):i=jx:i=t.unmountOnExit||t.mountOnEnter?Mx:Fx,r.state={status:i},r.nextCallback=null,r}Ax(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Mx?{status:Fx}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Vx&&n!==jx&&(t=Vx):n!==Vx&&n!==jx||(t=Ux)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Vx?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Fx&&this.setState({status:Mx})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[rc.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Ox?this.safeSetState({status:jx},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:Vx},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:jx},(function(){t.props.onEntered(s,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:rc.findDOMNode(this);t&&!Ox?(this.props.onExit(r),this.safeSetState({status:Ux},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Fx},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Fx},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:rc.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Mx)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=Lx(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return j.createElement(Rx.Provider,{value:null},"function"==typeof n?n(e,r):j.cloneElement(j.Children.only(n),r))},t}(j.Component);function Bx(){}zx.contextType=Rx,zx.propTypes={},zx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bx,onEntering:Bx,onEntered:Bx,onExit:Bx,onExiting:Bx,onExited:Bx},zx.UNMOUNTED=Mx,zx.EXITED=Fx,zx.ENTERING=Vx,zx.ENTERED=jx,zx.EXITING=Ux;var qx=zx,$x=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))},Hx=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Px(n.className,r):n.setAttribute("class",Px(n.className&&n.className.baseVal||"",r)));var n,r}))},Kx=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Ax(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,$x(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&Hx(e,r),i&&Hx(e,i),s&&Hx(e,s)},n.render=function(){var e=this.props;e.classNames;var t=Lx(e,["classNames"]);return j.createElement(qx,Nx({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(j.Component);Kx.defaultProps={classNames:""},Kx.propTypes={};var Wx=Kx;function Gx(e){const t=e.currentPanel==e.id;return j.createElement(Wx,{in:t,timeout:500,classNames:"main"==e.id?"view-panel-main":"view-panel",unmountOnExit:!0},j.createElement("div",{className:"view-panel"},e.children))}function Qx(e){return j.createElement("div",{className:"notebook",onClick:e.onClick},j.createElement("img",{src:e.img}))}function Yx(e){return j.createElement("div",{className:"panel-header"},e.backButton&&j.createElement("button",{onClick:e.onBack},j.createElement("i",{className:"fas fa-chevron-left"})),e.icon&&j.createElement("div",{className:"panel-header-icon"},e.icon),j.createElement("div",{className:"title"},e.title))}function Xx(e){const n=t.exports.useRef(null),r=t.exports.useRef(null);return t.exports.useEffect((()=>{e.currentPanel==e.id&&setTimeout((()=>{r.current.style.display="none",n.current.style.display="block"}),450)}),[e.currentPanel,e.id]),j.createElement(Gx,{currentPanel:e.currentPanel,id:e.id},j.createElement(Yx,{title:e.title,backButton:!0,onBack:()=>e.setCurrentPanel("main")}),j.createElement("div",{className:"notebook-loader",ref:r},j.createElement("i",{className:"fas fa-spinner fa-spin fa-2x"})),j.createElement("iframe",{ref:n,style:{display:"none"},frameBorder:"0",src:e.url,className:"notebook-iframe",sandbox:e.scripts?"allow-same-origin allow-scripts":"allow-same-origin"}))}function Jx(){const[e,n]=t.exports.useState("main");return j.createElement(j.Fragment,null,j.createElement(Gx,{currentPanel:e,id:"main"},j.createElement("div",{className:"notebooks-grid"},j.createElement(Qx,{onClick:()=>n("phis"),img:"./static/img/phis.webp"}),j.createElement(Qx,{onClick:()=>n("bio"),img:"./static/img/bio.webp"}),j.createElement(Qx,{onClick:()=>n("him"),img:"./static/img/him.webp"}),j.createElement(Qx,{onClick:()=>n("eng"),img:"./static/img/engwb.webp"}),j.createElement(Qx,{onClick:()=>n("geo"),img:"./static/img/geo.webp"}))),j.createElement(Xx,{id:"phis",setCurrentPanel:n,currentPanel:e,url:"https://superresheba.by/9-physics-wbook_25",title:"Физика",scripts:!0}),j.createElement(Xx,{id:"bio",setCurrentPanel:n,currentPanel:e,url:"https://superresheba.by/9-biology-wbook_24",title:"Биология"}),j.createElement(Xx,{id:"him",setCurrentPanel:n,currentPanel:e,url:"https://superresheba.by/9-chemistry-wbook_147",title:"Химия"}),j.createElement(Xx,{id:"eng",setCurrentPanel:n,currentPanel:e,url:"https://megaresheba.ru/publ/reshebnik/anglijskij/otvety_k_english_workbook_9_klass_lapickaja/42-1-0-1202",title:"Английский WB"}),j.createElement(Xx,{id:"geo",setCurrentPanel:n,currentPanel:e,url:"https://superresheba.by/10-geography-wbook_6",title:"География"}))}const Zx=({setActiveTab:e,isActive:t,icon:n,title:r})=>j.createElement("button",{onClick:e,className:"NavButton "+(t?"active":"")},n,j.createElement("span",null,r)),eT=({activeTab:e,setActiveTab:n})=>{const r=t.exports.useContext(Uk);return j.createElement("div",{className:"bottom-nav"},j.createElement(Zx,{title:"Главная",icon:j.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},j.createElement("path",{d:"M15.1295491,2.69100093 L24.0662484,11.1808652 C24.6624397,11.747247 25,12.53353 25,13.3558635 L25,21.9972407 C25,23.3779526 23.8807119,24.4972407 22.5,24.4972407 L16.5,24.4972407 C15.9477153,24.4972407 15.5,24.0495254 15.5,23.4972407 L15.5,17.9971013 C15.5,17.1686742 14.8284271,16.4971013 14,16.4971013 C13.1715729,16.4971013 12.5,17.1686742 12.5,17.9971013 L12.5,23.4972407 C12.5,24.0495254 12.0522847,24.4972407 11.5,24.4972407 L5.5,24.4972407 C4.11928813,24.4972407 3,23.3779526 3,21.9972407 L3,13.3558635 C3,12.53353 3.33756025,11.747247 3.93375161,11.1808652 L12.8704509,2.69100093 C13.5034346,2.08966636 14.4965654,2.08966636 15.1295491,2.69100093 Z M14,4.37655211 L5.31125054,12.6308641 C5.11252008,12.819658 5,13.0817523 5,13.3558635 L5,21.9972407 C5,22.2733831 5.22385763,22.4972407 5.5,22.4972407 L10.5,22.4972407 L10.5,17.9971013 C10.5,16.0641047 12.0670034,14.4971013 14,14.4971013 C15.9329966,14.4971013 17.5,16.0641047 17.5,17.9971013 L17.5,22.4972407 L22.5,22.4972407 C22.7761424,22.4972407 23,22.2733831 23,21.9972407 L23,13.3558635 C23,13.0817523 22.8874799,12.819658 22.6887495,12.6308641 L14,4.37655211 Z",fill:"currentColor"})),setActiveTab:()=>n(1),isActive:1==e}),j.createElement(Zx,{title:"Поиск",icon:j.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},j.createElement("path",{d:"M20.5216013,18.9659665 L24.2778174,22.7221826 C24.7073941,23.1517593 24.7073941,23.8482407 24.2778174,24.2778174 C23.8482407,24.7073941 23.1517593,24.7073941 22.7221826,24.2778174 L18.9659665,20.5216013 C17.3277266,21.8227597 15.2546304,22.5999999 13,22.5999999 C7.69806645,22.5999999 3.4000001,18.3019335 3.4000001,13 C3.4000001,7.69806645 7.69806645,3.4000001 13,3.4000001 C18.3019335,3.4000001 22.5999999,7.69806645 22.5999999,13 C22.5999999,15.2546304 21.8227597,17.3277266 20.5216013,18.9659665 Z M13,20.4000001 C17.0869072,20.4000001 20.4000001,17.0869072 20.4000001,13 C20.4000001,8.9130928 17.0869072,5.5999999 13,5.5999999 C8.9130928,5.5999999 5.5999999,8.9130928 5.5999999,13 C5.5999999,17.0869072 8.9130928,20.4000001 13,20.4000001 Z",fill:"currentColor"})),setActiveTab:()=>n(2),isActive:2==e}),r.chat&&j.createElement(Zx,{title:"Чат",icon:j.createElement("svg",{width:"38",height:"38",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M7.79492 23.2168C9.0166 23.2168 11.4863 22.0303 13.3496 20.7031C19.5547 20.8174 24.1953 17.2314 24.1953 12.5205C24.1953 7.97656 19.6514 4.32031 13.9912 4.32031C8.33105 4.32031 3.7959 7.97656 3.7959 12.5205C3.7959 15.4121 5.58887 17.9873 8.33984 19.332C7.96191 20.0439 7.29395 21.0195 6.91602 21.5293C6.35352 22.2764 6.74023 23.2168 7.79492 23.2168ZM8.8584 21.3975C8.74414 21.4414 8.7002 21.3799 8.7793 21.2832C9.22754 20.7383 9.88672 19.8682 10.2119 19.2529C10.4756 18.7695 10.3877 18.3477 9.8252 18.084C7.14453 16.8271 5.58887 14.8145 5.58887 12.5205C5.58887 8.9873 9.31543 6.11328 13.9912 6.11328C18.667 6.11328 22.3936 8.9873 22.3936 12.5205C22.3936 16.0537 18.667 18.9365 13.9912 18.9365C13.833 18.9365 13.5869 18.9277 13.2881 18.9277C12.9102 18.9189 12.6289 19.0332 12.2773 19.3057C11.2139 20.0967 9.64062 21.0811 8.8584 21.3975Z"})),setActiveTab:()=>n(3),isActive:3==e}),j.createElement(Zx,{title:"Оценки",icon:j.createElement("svg",{width:"32",height:"32",viewBox:"0 0 28 28"},j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4275 6.04347C13.0109 5.09342 14.9891 5.09342 16.5725 6.04346L23.2541 10.0524C23.5849 10.2509 23.5758 10.7333 23.2378 10.9192L16.4098 14.6748C14.9094 15.5001 13.091 15.5001 11.5905 14.6748L4.76228 10.9192C4.42426 10.7333 4.4152 10.2509 4.746 10.0524L11.4275 6.04347ZM17.6015 4.32847L24.2831 8.33741C25.9371 9.32979 25.8918 11.7421 24.2017 12.6717L17.3737 16.4272C15.2731 17.5826 12.7273 17.5826 10.6267 16.4272L3.79844 12.6717C2.10834 11.7421 2.06301 9.3298 3.717 8.3374L10.3985 4.32848C12.6153 2.99842 15.3847 2.99841 17.6015 4.32847Z",fill:"currentColor"}),j.createElement("path",{d:"M23.4999 10.5001C23.4999 9.94784 23.9476 9.50013 24.4999 9.50013C25.0521 9.50013 25.4999 9.94784 25.4999 10.5001V15.5001C25.4999 16.0524 25.0521 16.5001 24.4999 16.5001C23.9476 16.5001 23.4999 16.0524 23.4999 15.5001V10.5001Z",fill:"currentColor"}),j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99985 13.0001V18.0001C7.99985 20.7616 10.2384 23.0001 12.9998 23.0001H14.9998C17.7613 23.0001 19.9998 20.7616 19.9998 18.0001V13.0001H21.9998V18.0001C21.9998 21.8661 18.8658 25.0001 14.9998 25.0001H12.9998C9.13386 25.0001 5.99985 21.8661 5.99985 18.0001V13.0001H7.99985Z",fill:"currentColor"})),setActiveTab:()=>n(4),isActive:4==e}),j.createElement(Zx,{title:"Неделя",icon:j.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 28 28"},j.createElement("path",{d:"M19,1 C19.5522847,1 20,1.44771525 20,2 L20.0007134,3.15981736 C20.840564,3.29343733 21.3843149,3.50927527 21.9305371,3.80139811 C22.9083149,4.32431939 23.6756806,5.09168511 24.1986019,6.06946289 C24.6736814,6.9577844 24.9469986,7.83956959 24.9930333,9.99907027 L25,10 L25,17.3083444 L24.9946707,17.9183846 C24.9538793,20.1381287 24.6796895,21.0309816 24.1986019,21.9305371 C23.6756806,22.9083149 22.9083149,23.6756806 21.9305371,24.1986019 C20.9527593,24.7215232 19.9829006,25 17.3083444,25 L10.6916556,25 L10.0816154,24.9946707 C7.8618713,24.9538793 6.96901844,24.6796895 6.06946289,24.1986019 C5.09168511,23.6756806 4.32431939,22.9083149 3.80139811,21.9305371 C3.29939368,20.9918704 3.02266926,20.060502 3.00133451,17.6212182 L3,10.6916556 L3,10 C3.05300141,7.83956959 3.32631857,6.9577844 3.80139811,6.06946289 C4.32431939,5.09168511 5.09168511,4.32431939 6.06946289,3.80139811 C6.61590733,3.50915642 7.15987843,3.29326172 8.00031181,3.15965432 L8,2 C8,1.44771525 8.44771525,1 9,1 C9.55228475,1 10,1.44771525 10,2 L9.99907027,3.00696674 C10.2165376,3.00233094 10.4469622,3 10.6916556,3 L17.3083444,3 C17.5534172,3 17.7841769,3.00233817 18.0019411,3.00698832 L18,2 C18,1.44771525 18.4477153,1 19,1 Z M22.999,12 L5,12 L5.0009221,17.591291 L5.00977072,18.1601475 C5.04864664,19.667315 5.20790244,20.3195792 5.56502451,20.9873394 C5.90154619,21.6165802 6.38341978,22.0984538 7.01266061,22.4349755 C7.75898085,22.8341119 8.48594441,22.9860867 10.408709,22.9990779 L17.591291,22.9990779 L18.1601475,22.9902293 C19.667315,22.9513534 20.3195792,22.7920976 20.9873394,22.4349755 C21.6165802,22.0984538 22.0984538,21.6165802 22.4349755,20.9873394 C22.8341119,20.2410191 22.9860867,19.5140556 22.9990779,17.591291 L22.999,12 Z M19.0460121,17 C19.478797,17 19.8195548,17.0812224 20.10474,17.2337411 C20.3899252,17.3862598 20.6137402,17.6100748 20.7662589,17.89526 C20.9187776,18.1804452 21,18.521203 21,18.9539879 L21,19.0460121 C21,19.478797 20.9187776,19.8195548 20.7662589,20.10474 C20.6137402,20.3899252 20.3899252,20.6137402 20.10474,20.7662589 C19.8195548,20.9187776 19.478797,21 19.0460121,21 L18.9539879,21 C18.521203,21 18.1804452,20.9187776 17.89526,20.7662589 C17.6100748,20.6137402 17.3862598,20.3899252 17.2337411,20.10474 C17.0812224,19.8195548 17,19.478797 17,19.0460121 L17,18.9539879 C17,18.521203 17.0812224,18.1804452 17.2337411,17.89526 C17.3862598,17.6100748 17.6100748,17.3862598 17.89526,17.2337411 C18.1804452,17.0812224 18.521203,17 18.9539879,17 L19.0460121,17 Z M17.591291,5.0009221 L10.408709,5.0009221 L10,5.006 L10,6 C10,6.55228475 9.55228475,7 9,7 C8.44771525,7 8,6.55228475 8,6 L7.99925005,5.19251184 C7.618557,5.28042372 7.31722055,5.40214407 7.01266061,5.56502451 C6.38341978,5.90154619 5.90154619,6.38341978 5.56502451,7.01266061 C5.19560369,7.70341749 5.03791225,8.37759259 5.00617938,9.99864362 L22.993,10 L22.9902293,9.83985252 C22.9513534,8.33268497 22.7920976,7.68042082 22.4349755,7.01266061 C22.0984538,6.38341978 21.6165802,5.90154619 20.9873394,5.56502451 C20.6828516,5.40218264 20.3815857,5.28048136 20.0010204,5.1925743 L20,6 C20,6.55228475 19.5522847,7 19,7 C18.4477153,7 18,6.55228475 18,6 L18.0023619,5.00619909 C17.8716635,5.00363578 17.7348083,5.00189178 17.591291,5.0009221 Z",fill:"currentColor"})),setActiveTab:()=>n(5),isActive:5==e}))},tT=()=>{const e=(new Date).getDay();return{dayNum:e,isWeekend:0==e||6==e}},nT=()=>{const[e,n]=t.exports.useState(tT());return t.exports.useEffect((()=>{const t=setInterval((()=>{const t=tT();t.dayNum!==e.dayNum&&n(t)}),1e3);return()=>clearInterval(t)}),[]),e},rT=e=>{const t=document.querySelector(".alert");t.textContent=e,t.style="display: block; animation: alert 0.45s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",globalThis.active_timeout&&clearTimeout(globalThis.active_timeout),globalThis.active_timeout=setTimeout((()=>{t.style="display: block; animation: alert-down 0.4s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",t.addEventListener("animationend",(()=>{t.style=""}),{once:!0}),globalThis.active_timeout=null}),1400)};const iT=({subjectInfo:e,startNum:n})=>{const[r,i]=t.exports.useState(n),s=t.exports.useMemo((()=>function(e,t){const n=[];if(e.section){const r=e.url.replace("*",t-("Химия"==e.title?1:0));for(let e=1;e<10;e++){const t=r.replace("?",e);n.push(j.createElement("img",{key:t,src:t,width:"100%",onError:e=>e.target.style.display="none"}))}}else{const r=e.url.replace("?",t);if(e.full_img)n.push(j.createElement("img",{key:r,src:r,width:"100%",onError:e=>e.target.style.display="none"}));else{n.push(j.createElement("img",{key:r,src:r,width:"100%",onError:e=>e.target.style.display="none"}));for(let r=1;r<4;r++){const i=e.url.replace("?",t+"_"+r);n.push(j.createElement("img",{key:i,src:i,width:"100%",onError:e=>e.target.style.display="none"}))}}}return n}(e,r)),[e,r]);return j.createElement(j.Fragment,null,j.createElement("div",{className:"hwr-sol-tools"},j.createElement("button",{className:"alt block",onClick:()=>{const t=e.alt_url.replace("?",e.section&&"Физика"==e.title?r+2:r);window.open(t,"_blank")}},"Решебник 2"),j.createElement("div",{className:"center-section"},j.createElement("button",{className:"block",onClick:()=>i(r-1)},j.createElement("i",{className:"fas fa-chevron-left fa-lg"})),j.createElement("button",{className:"num block"},r),j.createElement("button",{className:"block",onClick:()=>i(r+1)},j.createElement("i",{className:"fas fa-chevron-right fa-lg"})))),j.createElement("div",{className:"hwr-sol-imgs"},s))},sT=({subjectInfo:e,toOpen:t,hwRaw:n})=>{const r=[];t.forEach(((t,n)=>{t&&r.push(j.createElement(iT,{key:n,subjectInfo:e,startNum:t}))}));const i={backgroundColor:e.color};return j.createElement(j.Fragment,null,j.createElement("div",{className:"sol-subj"},j.createElement("div",{className:"title block",style:i},e.title),j.createElement("div",{className:"homework block"},n)),j.createElement("div",{className:"sol-content"},r))};var oT=null;function aT(e){e.addEventListener("touchstart",(e=>{oT=e.touches[0].clientY}),{passive:!1}),e.addEventListener("touchmove",(t=>{if(null===oT)return;const n=t.touches[0].clientY;oT-n>0?e.scrollHeight-e.scrollTop<=e.clientHeight&&t.preventDefault():0==e.scrollTop&&t.preventDefault(),oT=null}),{passive:!1})}const lT=e=>{const n=t.exports.useContext(jk),r=t.exports.useRef(null);t.exports.useEffect((()=>{globalThis.ios&&aT(r.current)}),[]);const i=[];for(let t in e.lessonsData){const r=e.lessonsData[t],s=n[r.id];if(!s.url)continue;const o=r.hw.replace(/ *\([^)]*\) */g,"").split(",").map((e=>(e=e.replace(/\D/g,""),parseInt(e))));i.push(j.createElement(sT,{key:r.id,subjectInfo:s,toOpen:o,hwRaw:r.hw}))}return rc.createPortal(j.createElement(bx,{handleClose:e.handleClose,direction:"split",scrollContainer:r},j.createElement("div",{className:"scroll-content hw-re",ref:r},i)),document.getElementById("hw-re-container"))},uT=t.exports.forwardRef((({value:e,onSave:n,onChange:r},i)=>{const[s,o]=t.exports.useState(!1),a=t.exports.useRef(null),l=e=>{13==e.keyCode&&a.current.blur()};t.exports.useEffect((()=>{s?(a.current.addEventListener("keydown",l),document.body.classList.add("keyboard-active")):document.body.classList.remove("keyboard-active")}),[s]),t.exports.useImperativeHandle(i,(()=>({focus(){o(!0)}})));return j.createElement("div",{className:"editable-field",onClick:()=>o(!0)},s?j.createElement("input",{type:"text",value:e,onChange:()=>{r(a.current.value)},onBlur:()=>{n(a.current.value),o(!1)},ref:a,autoFocus:!0,autoComplete:"off",spellCheck:"false"}):e)}));function cT(e){const[n,r]=t.exports.useState(!1),i=t.exports.useRef(null),s=()=>{i.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=()=>r(!1)};return j.createElement("div",{className:"dropdown "+(e.custom?"custom":"")},j.createElement("button",{className:"menuBtn",onClick:()=>{r(!0)},onBlur:s,onMouseOut:window.ios?s:()=>{}},e.icon??j.createElement("i",{className:"fas fa-ellipsis-v"})),n&&j.createElement("div",{className:"dropdown-content",ref:i},e.children))}uT.displayName="EditableField";const hT=({onClick:e,title:t,icon:n})=>j.createElement("button",{className:"withIcon",onClick:e},n,j.createElement("span",null,t)),dT=({lesson:e,path:n})=>{var r;const i=(()=>{const e=t.exports.useContext(Uk).database.timetable;return t=>{pC(e,t)}})(),s=null===(r=t.exports.useContext(jk))||void 0===r?void 0:r[e.id],[o,a]=t.exports.useState(e.hw),[l,u]=t.exports.useState(!1);t.exports.useEffect((()=>{a(e.hw)}),[e.hw]);const c=(null==s?void 0:s.title)??j.createElement("i",{className:"fas fa-circle-notch fa-spin"}),h={backgroundColor:(null==s?void 0:s.color)??"var(--bg3)"};return j.createElement("div",{className:"flexRow"},j.createElement("div",{className:"rowBlock medium colored",style:h},c),j.createElement("div",{className:"rowBlock mainField"},j.createElement(uT,{value:o??"",onChange:a,onSave:()=>{o!==e.hw&&i({[n+".hw"]:o})}})),j.createElement("div",{className:"rowBlock square"},j.createElement(cT,null,(null==s?void 0:s.url)&&j.createElement(hT,{onClick:()=>{u(!0)},title:"Решение",icon:j.createElement("i",{className:"fas fa-book"})}),j.createElement(hT,{onClick:()=>{try{navigator.clipboard.writeText(o).then((()=>{rT("Скопировано")}))}catch{rT("Ошибка")}},title:"Скопировать",icon:j.createElement("i",{className:"fas fa-clone"})})),l&&j.createElement(lT,{lessonsData:[e],handleClose:()=>{u(!1)}})))};var fT=t.exports.memo(dT);const pT={1:"Понедельник",2:"Вторник",3:"Среда",4:"Четверг",5:"Пятница",6:"Суббота",7:"Воскресенье"},mT=({dayNum:e,week:n,timetable:r,pathToDay:i})=>{const[s,o]=t.exports.useState(!1),a=t.exports.useContext(Uk).user.group,l=new Date,u=l.getDay();let c=0;1==n?c=-7:3==n&&(c=7);const h=e+c-(0!=u?u:7);l.setDate(l.getDate()+h);const d=l.toLocaleDateString("ru-RU",{day:"numeric",month:"numeric"}),f=[];for(let e in r){const t=r[e];let n,s;if(t.groups){if(!t[a])break;n=t[a],s=`${i}.${e}.${a}`}else n=t,s=`${i}.${e}`;f.push(j.createElement(fT,{key:e,path:s,lesson:n}))}return j.createElement("div",{className:"content-card"},s&&j.createElement(lT,{lessonsData:s,handleClose:()=>o(!1)}),j.createElement("header",{className:"day-header"},j.createElement("div",{className:"day-title"},pT[e]),j.createElement("div",{className:"day-date"},d)),j.createElement("button",{className:"table-btn tool",onClick:()=>{const e=[];for(let t in r){const n=r[t];if(n.groups){if(n[a]){let t=n[a];t.hw&&e.push(t)}}else n.hw&&e.push(n)}0!=e.length?o(e):rT("Решебники не найдены")}},j.createElement("i",{className:"fas fa-book fa-lg"})),j.createElement("div",{className:"content"},f))},gT=()=>{const[e,n]=t.exports.useState(""),r={day:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"};return t.exports.useEffect((()=>{const e=()=>{const e=(new Date).toLocaleString("ru",r);n(e)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]),j.createElement("div",{className:"time"},e)},yT=["8.00 - 8.45","8.55 - 9.40","9.55 - 10.40","10.55 - 11.40","11.55 - 12.40","12.50 - 13.35","13.55 - 14.40"],vT=()=>{const e=yT.map(((e,t)=>j.createElement("div",{className:"rings-row",key:t},j.createElement("span",{className:"index"},t+1),j.createElement("span",{className:"content"},e))));return j.createElement(cT,{custom:!0,icon:j.createElement("i",{className:"fas fa-bell"})},e)},bT=e=>j.createElement("header",{className:"homescreen-header"},j.createElement(gT,null),j.createElement("button",{onClick:()=>e.setSettingsOpen(!0)},j.createElement("i",{className:"fas fa-cog"})),j.createElement(vT,null)),wT=[["8.00","8.45"],["8.55","9.40"],["9.55","10.40"],["10.55","11.40"],["11.55","12.40"],["12.50","13.35"],["13.55","14.40"]];function ET(e){const t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}const ST=({day_data:e,pathToDay:n})=>{const r=t.exports.useContext(Uk).user.group,[i,s]=t.exports.useState(null),[o,a]=t.exports.useState("");function l(){const[e,t]=function(){let e=null,t=null;return wT.forEach(((n,r)=>{const i=n[0].split("."),s=n[1].split("."),o=new Date;o.setHours(i[0],i[1],0);const a=new Date;a.setHours(s[0],s[1],0);const l=new Date;o<=l&&l<=a?(e=r+1,t="До конца осталось: "+ET(a-l)):o>=l&&!e&&(e=r+1,t="До начала осталось: "+ET(o-l))})),[e,t]}();e?e!=i&&t!=o&&(s(e),a(t)):(s(null),a(""))}let u,c;if(t.exports.useEffect((()=>{l(),setInterval(l,1e3)}),[]),i&&e[i]){if(e[i].groups){if(!e[i][r])return null;u=e[i][r],c=`${n}.${i}.${r}`}else u=e[i],c=`${n}.${i}`;return i&&j.createElement("div",{className:"content-card Now"},j.createElement(fT,{lesson:u,path:c}),j.createElement("div",{className:"info"}," ",o))}return null},CT=t.exports.forwardRef((({children:e,reversed:n,returnBtn:r},i)=>{const[s,o]=t.exports.useState(r),a=t.exports.useRef(),l=t.exports.useRef(),u=t.exports.useContext(Uk);t.exports.useEffect((()=>{u.IS_SAFARI&&aT(a.current)}),[]);const c=e=>{n?a.current.scrollTo({top:a.current.scrollHeight,...e}):a.current.scrollTo({top:0,...e})};return t.exports.useImperativeHandle(i,(()=>({scrollToStart:c}))),j.createElement("div",{className:"VScroll__Wraper"},j.createElement("div",{className:"VScroll",ref:a,onScroll:r?()=>{const e=a.current;e.scrollHeight-e.scrollTop>e.clientHeight?o(!0):s&&(l.current.animate([{opacity:1},{opacity:0}],{duration:150,fill:"both"}).onfinish=()=>o(!1))}:null},e),s&&j.createElement("button",{className:"returnBtn",onClick:()=>c({behavior:"smooth"}),ref:l},j.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentcolor"},j.createElement("path",{d:"M14 18.4883C14.3076 18.4795 14.5889 18.3652 14.8174 18.1191L21.4971 11.2812C21.6904 11.0879 21.7959 10.8418 21.7959 10.5518C21.7959 9.97168 21.3389 9.50586 20.7588 9.50586C20.4775 9.50586 20.2051 9.62012 20.0029 9.82227L14.0088 15.9834L7.99707 9.82227C7.79492 9.62891 7.53125 9.50586 7.24121 9.50586C6.66113 9.50586 6.2041 9.97168 6.2041 10.5518C6.2041 10.8418 6.30957 11.0879 6.50293 11.2812L13.1914 18.1191C13.4287 18.3652 13.6924 18.4883 14 18.4883Z"}))))}));CT.displayName="VScroll";const kT=({children:e,styles:t})=>j.createElement(CT,null,j.createElement("div",{className:"Wraper",style:t},e));var xT="undefined"!=typeof document?t.exports.useLayoutEffect:t.exports.useEffect,TT=function(e,t){"function"!=typeof e?e.current=t:e(t)},IT={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},_T=function(e){Object.keys(IT).forEach((function(t){e.style.setProperty(t,IT[t],"important")}))},NT=null;var LT=function(){},DT=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],AT="undefined"!=typeof document&&!!document.documentElement.currentStyle,PT=function(e){var n,r,i=(n=e,r=t.exports.useRef(n),xT((function(){r.current=n})),r);t.exports.useLayoutEffect((function(){var e=function(e){i.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},OT=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=void 0===o?LT:o,l=e.onHeightChange,u=void 0===l?LT:l,c=Lx(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=void 0!==c.value,d=t.exports.useRef(null),f=function(e,n){var r=t.exports.useRef();return t.exports.useCallback((function(t){e.current=t,r.current&&TT(r.current,null),r.current=n,n&&TT(n,t)}),[n])}(d,n),p=t.exports.useRef(0),m=t.exports.useRef(),g=function(){var e=d.current,t=r&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,DT.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(AT&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),NT||((NT=document.createElement("textarea")).setAttribute("tabindex","-1"),NT.setAttribute("aria-hidden","true"),_T(NT)),null===NT.parentNode&&document.body.appendChild(NT);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;NT.style[t]=o[t]})),_T(NT),NT.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(NT,e);NT.value="x";var u=NT.scrollHeight-i,c=u*n;"border-box"===a&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return"border-box"===a&&(h=h+i+s),[l=Math.min(h,l),u]}(t,e.value||e.placeholder||"x",s,i),o=n[0],a=n[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),u(o,{rowHeight:a}))}};return"undefined"!=typeof document&&(t.exports.useLayoutEffect(g),PT(g)),t.exports.createElement("textarea",Nx({},c,{onChange:function(e){h||g(),a(e)},ref:f}))},RT=t.exports.forwardRef(OT);const MT=({noteData:e,docRef:n})=>{const r=t.exports.useRef(),[i,s]=t.exports.useState(e.text),o=e.isPinned;t.exports.useEffect((()=>{s(e.text)}),[e.text]);const a="note "+(o?"pinned":"");return j.createElement("div",{className:a},j.createElement(RT,{maxRows:10,ref:r,value:i,placeholder:"Новая заметка..",onBlur:function(){fC(n,{text:i},{merge:!0})},onChange:function(){s(r.current.value)}}),j.createElement(cT,null,j.createElement("button",{className:"withIcon",onClick:function(){fC(n,{isPinned:!o},{merge:!0})}},j.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M7.04785 16.3613C7.04785 17.1611 7.59277 17.6885 8.42773 17.6885H13.1211V21.8545C13.1211 23.0762 13.7539 24.333 14 24.333C14.2373 24.333 14.8701 23.0762 14.8701 21.8545V17.6885H19.5723C20.4072 17.6885 20.9434 17.1611 20.9434 16.3613C20.9434 14.4629 19.4404 12.5205 16.9531 11.6064L16.6719 7.51074C17.9814 6.77246 19.0186 5.95508 19.4668 5.36621C19.7129 5.05859 19.8271 4.7334 19.8271 4.45215C19.8271 3.87207 19.3877 3.44141 18.7197 3.44141H9.27148C8.6123 3.44141 8.16406 3.87207 8.16406 4.45215C8.16406 4.7334 8.27832 5.05859 8.52441 5.36621C8.97266 5.95508 10.0098 6.77246 11.3193 7.51074L11.0381 11.6064C8.55078 12.5205 7.04785 14.4629 7.04785 16.3613Z"})),j.createElement("span",null,o?"Открепить":"Закрепить")),j.createElement("button",{className:"withIcon",onClick:function(){navigator.clipboard.writeText(i).then((()=>{rT("Скопировано")}))}},j.createElement("i",{className:"fas fa-clone"}),j.createElement("span",null,"Скопировать")),j.createElement("button",{className:"withIcon danger",onClick:function(){mC(n)}},j.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M9.84277 22.4785H18.166C19.3701 22.4785 20.0732 21.8369 20.126 20.6416L20.6797 7.94141H21.8926C22.3408 7.94141 22.6836 7.58984 22.6836 7.15039C22.6836 6.71094 22.332 6.37695 21.8926 6.37695H18.0781V5.05859C18.0781 3.65234 17.1729 2.81738 15.6611 2.81738H12.3213C10.8096 2.81738 9.9043 3.65234 9.9043 5.05859V6.37695H6.10742C5.66797 6.37695 5.31641 6.71973 5.31641 7.15039C5.31641 7.59863 5.66797 7.94141 6.10742 7.94141H7.3291L7.8916 20.6416C7.93555 21.8369 8.63867 22.4785 9.84277 22.4785ZM11.7324 5.1377C11.7324 4.74219 12.0049 4.4873 12.4443 4.4873H15.5469C15.9863 4.4873 16.2588 4.74219 16.2588 5.1377V6.37695H11.7324V5.1377ZM11.1787 19.7803C10.8271 19.7803 10.5811 19.5518 10.5723 19.2002L10.3086 9.86621C10.2998 9.51465 10.5459 9.27734 10.915 9.27734C11.2666 9.27734 11.5127 9.50586 11.5215 9.85742L11.7852 19.1914C11.8027 19.543 11.5566 19.7803 11.1787 19.7803ZM14 19.7803C13.6309 19.7803 13.3848 19.5518 13.3848 19.2002V9.85742C13.3848 9.51465 13.6309 9.27734 14 9.27734C14.3691 9.27734 14.624 9.51465 14.624 9.85742V19.2002C14.624 19.5518 14.3691 19.7803 14 19.7803ZM16.8213 19.7891C16.4434 19.7891 16.1973 19.543 16.2148 19.2002L16.4785 9.85742C16.4873 9.50586 16.7334 9.27734 17.085 9.27734C17.4541 9.27734 17.7002 9.51465 17.6914 9.86621L17.4277 19.2002C17.4189 19.5518 17.1729 19.7891 16.8213 19.7891Z"})),j.createElement("span",null,"Удалить"))))},FT=()=>{var e;const n=t.exports.useContext(Uk).database,r=((null===(e=function(e){const[n,r]=t.exports.useState([]);return t.exports.useEffect((()=>{const t=yC(e,(e=>{r(e)}));return()=>t()}),[e]),n}(n.notes))||void 0===e?void 0:e.docs)??[]).map((e=>j.createElement(MT,{docRef:e.ref,key:e.id,noteData:e.data()})));return j.createElement("div",{className:"content-card",id:"notes"},j.createElement("h1",null,"Заметки"),j.createElement("button",{id:"add-note",onClick:()=>{r.length<=10?gC(n.notes,{text:"",isPinned:!1}):rT("Нельзя добавить больше 10 заметок")}},j.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM9.7373 13.6631C9.7373 13.1445 10.1064 12.7842 10.6162 12.7842H13.1211V10.2793C13.1211 9.76953 13.4727 9.40918 13.9736 9.40918C14.4922 9.40918 14.8525 9.76953 14.8525 10.2793V12.7842H17.3662C17.8672 12.7842 18.2363 13.1445 18.2363 13.6631C18.2363 14.1641 17.8672 14.5244 17.3662 14.5244H14.8525V17.0293C14.8525 17.5303 14.4922 17.8994 13.9736 17.8994C13.4727 17.8994 13.1211 17.5303 13.1211 17.0293V14.5244H10.6162C10.1064 14.5244 9.7373 14.1641 9.7373 13.6631Z"}))),j.createElement("div",{className:"content"},r))},VT=e=>{const[n,r]=t.exports.useState(!1),i=t.exports.useContext(zk);let{dayNum:s,isWeekend:o}=nT();t.exports.useEffect((()=>{const e=()=>{const e=(new Date).getHours();r(e>=7&&24!=e)};e(),setInterval(e,1e3)}),[]);let a=null;const l=(new Date).getHours();return o?(a="",s=1):l>15&&(5==s?(a="",s=1):(a="",s+=1)),j.createElement(kT,null,j.createElement("div",{className:"HomeScreen"},j.createElement(bT,{setSettingsOpen:e.setSettingsOpen}),i&&!o&&n&&j.createElement(ST,{day_data:i[2][s],pathToDay:"2."+s}),j.createElement("div",{id:"homescreen-layout"},j.createElement("div",{className:"side-left"},j.createElement(FT,null)),j.createElement("div",{className:"side-right"},i&&j.createElement(mT,{dayNum:s,week:o?3:2,timetable:i[o?3:2][s],pathToDay:(o?3:2)+"."+s,afterTitle:a})))))};var jT=t.exports.memo(VT);const UT=()=>{var e;const{isWeekend:n}=nT(),[r,i]=t.exports.useState(n?3:2),s=null===(e=t.exports.useContext(zk))||void 0===e?void 0:e[r],o=t.exports.useRef(null),a=1==r?"Прошлая неделя":2==r?"Эта неделя":"Следующая неделя",l=[];let u;for(u in s)l.push(j.createElement(mT,{key:u,dayNum:parseInt(u),week:r,timetable:s[u],pathToDay:r+"."+u}));const c=()=>{o.current.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(2%)",opacity:.5},{transform:"translateY(0)",opacity:1}],{ease:"ease-in-out",duration:280})};return j.createElement(kT,null,j.createElement("header",{id:"week-header"},r>1?j.createElement("button",{onClick:()=>{i(r-1),c()}},j.createElement("i",{className:"fas fa-chevron-left fa-2x"})):j.createElement("button",{className:"unactive"},j.createElement("i",{className:"fas fa-chevron-left fa-2x"})),j.createElement("span",null,a),r<3?j.createElement("button",{onClick:()=>{i(r+1),c()}},j.createElement("i",{className:"fas fa-chevron-right fa-2x"})):j.createElement("button",{className:"unactive"},j.createElement("i",{className:"fas fa-chevron-right fa-2x"}))),j.createElement("div",{className:"week-grid",ref:o},0!=l.length?l:j.createElement("div",{className:"no-timetable-alert content-card"},"Расписания пока нет")))};var zT=t.exports.memo(UT);function BT(e){function t(e){globalThis.ios?open(e):rT("Пока это работает только на iOS")}return j.createElement(kT,{styles:{padding:0,maxWidth:600,paddingBottom:100}},j.createElement("header",null,j.createElement("div",{className:"search"},j.createElement("img",{className:"google active",width:"20px",src:"static/icons/google.svg"}),j.createElement("img",{className:"rebot",width:"10px",src:"static/icons/resheba.svg"}),j.createElement("input",{className:"google active",type:"text",autoComplete:"off"}),j.createElement("input",{step:"1",inputMode:"decimal",className:"rebot",autoComplete:"off"})),j.createElement("div",{className:"wraper"},j.createElement("button",{id:"eng"},"Английский"),j.createElement("button",{id:"rus"},"Рус яз"),j.createElement("button",{id:"bel"},"Бел яз"),j.createElement("button",{id:"phis"},"Физика"),j.createElement("button",{id:"alg"},"Алгебра"),j.createElement("button",{id:"him"},"Химия"),j.createElement("button",{id:"brainly",onClick:()=>t("brainly://")},"Brainly"),j.createElement("button",{id:"geom"},"Геометрия"),j.createElement("button",{id:"math",onClick:()=>t("photomath://")},"Photomath"))),j.createElement("div",{className:"tool-bar"},j.createElement("button",{onClick:()=>e.setNotebooksOpen(!0)},j.createElement("svg",{width:"32",height:"32",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M9.5791 20.7207C11.1172 20.720 12.1807 21.2744 12.6553 21.5996C12.8223 21.6875 13.2617 21.96 13.376 21.9863V7.37891C12.7168 6.23633 10.915 5.33984 9.07812 5.33984C6.64355 5.33984 4.65723 6.71094 4.13867 7.74805V21.0283C4.14746 21.8105 4.58691 22.127 5.13184 22.127C5.53613 22.127 5.79102 21.9863 6.06348 21.7754C6.62598 21.3184 7.91797 20.7207 9.5791 20.7207ZM18.4209 20.7207C20.082 20.7207 21.3652 21.3184 21.9277 21.7754C22.2002 21.9863 22.4551 22.127 22.8506 22.127C23.3955 22.127 23.8525 21.8105 23.8525 21.0283V7.74805C23.334 6.71094 21.3477 5.33984 18.9219 5.33984C17.085 5.33984 15.2744 6.23633 14.624 7.37891V22.0039C14.7295 21.9775 15.1689 21.6963 15.3447 21.5996C15.8193 21.2744 16.8828 20.7207 18.4209 20.7207Z"}))),j.createElement("span",{id:"current-subj"},"ReBot"),j.createElement("button",{onClick:()=>e.setSettingsOpen(!0)},j.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M13.2002 23.0059H14.8086C15.3359 23.0059 15.7314 22.6895 15.8457 22.1709L16.2852 20.3164C16.584 20.2109 16.8652 20.0967 17.1289 19.9736L18.7549 20.9756C19.1855 21.248 19.7041 21.2041 20.0645 20.8438L21.1982 19.71C21.5586 19.3496 21.6113 18.8135 21.3213 18.374L20.3281 16.7656C20.4512 16.502 20.5654 16.2207 20.6533 15.9482L22.5254 15.5088C23.0439 15.3945 23.3516 14.999 23.3516 14.4717V12.8896C23.3516 12.3711 23.0439 11.9668 22.5254 11.8525L20.6709 11.4043C20.5742 11.0967 20.4512 10.8242 20.3457 10.5869L21.3389 8.94336C21.6201 8.49512 21.585 7.99414 21.207 7.625L20.0645 6.49121C19.6953 6.15723 19.2295 6.0957 18.7812 6.3418L17.1289 7.36133C16.874 7.23828 16.5928 7.12402 16.2939 7.01855L15.8457 5.1377C15.7314 4.61914 15.3359 4.30273 14.8086 4.30273H13.2002C12.6641 4.30273 12.2686 4.61914 12.1543 5.1377L11.7148 7.00977C11.416 7.10645 11.126 7.2207 10.8623 7.35254L9.21875 6.3418C8.77051 6.0957 8.31348 6.14844 7.93555 6.49121L6.79297 7.625C6.41504 7.99414 6.37988 8.49512 6.66113 8.94336L7.6543 10.5869C7.54883 10.8242 7.43457 11.0967 7.3291 11.4043L5.47461 11.8525C4.95605 11.9668 4.64844 12.3711 4.64844 12.8896V14.4717C4.64844 14.999 4.95605 15.3945 5.47461 15.5088L7.34668 15.9482C7.43457 16.2207 7.54883 16.502 7.67188 16.7656L6.67871 18.374C6.38867 18.8135 6.44141 19.3496 6.81055 19.71L7.93555 20.8438C8.2959 21.2041 8.81445 21.248 9.25391 20.9756L10.8711 19.9736C11.1348 20.0967 11.416 20.2109 11.7148 20.3164L12.1543 22.1709C12.2686 22.6895 12.6641 23.0059 13.2002 23.0059ZM14 16.7305C12.3125 16.7305 10.9326 15.3418 10.9326 13.6455C10.9326 11.9668 12.3125 10.5869 14 10.5869C15.6963 10.5869 17.0762 11.9668 17.0762 13.6455C17.0762 15.3418 15.6963 16.7305 14 16.7305Z"})))),j.createElement("div",{id:"boxes"}))}const qT=({subject:e,marksDefault:n})=>{const r=t.exports.useContext(Uk).database,i=t.exports.useRef(null),[s,o]=t.exports.useState(n);t.exports.useEffect((()=>{o(n)}),[n]);let a=0,l=0,u=null;if(s){s.split(",").map((e=>{let t=parseInt(e);t&&(a+=t,l++)})),u=a/l,u=!isNaN(u)&&u<=10?Number(u.toFixed(1)):null}return j.createElement("div",{className:"flexRow"},j.createElement("div",{className:"rowBlock medium colored",style:{backgroundColor:e.color}},e.title),j.createElement("div",{className:"rowBlock mainField"},j.createElement(uT,{ref:i,value:s,onChange:function(e){o(e)},onSave:function(){fC(r.marks,{[e.id]:s},{merge:!0})}})),s&&u&&j.createElement("div",{className:"rowBlock square"},u),j.createElement("div",{className:"rowBlock square",onClick:function(){i.current.focus(),","!=s.trim().slice(-1)&&""!=s&&o(s+", ")}},j.createElement("i",{className:"fas fa-plus"})))};var $T=t.exports.memo(qT);const HT=()=>{const e=t.exports.useContext(Uk).database,n=t.exports.useContext(jk);let r=fx(e.marks);r&&(r=Object.fromEntries(Object.entries(r).sort()));const i=[];for(let e in n){const t=n[e];t.id=e,t.marks&&i.push(j.createElement($T,{key:e,subject:t,marksDefault:r&&r[e]?r[e]:""}))}return j.createElement(kT,null,j.createElement("div",{className:"content-card"},j.createElement("header",{className:"day-header"},j.createElement("div",{className:"day-title"},"Оценки")),j.createElement("div",{className:"marks-grid"},i),j.createElement("div",{className:"info",style:{marginTop:10}},"Нужно разделять запятой, справа - средний балл")))};var KT=t.exports.memo(HT);function WT(){return WT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WT.apply(this,arguments)}function GT(e,n){const[r,i]=t.exports.useState([]);return t.exports.useEffect((()=>{const t=yC(e,(e=>{i(e.docs),e.docChanges().forEach((t=>{"added"!==t.type||e.metadata.fromCache||t.doc.metadata.hasPendingWrites||n&&n(t.doc.data())}))}));return()=>t()}),[e]),r}const QT=(e,n)=>{const{chatRef:r,membersRef:i,messagesRef:s,messagesQuery:o}=t.exports.useMemo((()=>{const t=kS(Fk,"chats",e),n=CS(Fk,"users"),r=CS(Fk,"chats",e,"messages"),i=function(e,...t){for(const n of t)e=n._apply(e);return e}(r,function(e,t="asc"){const n=t,r=tC("orderBy",e);return new lC(r,n)}("time"),cC(30));return{chatRef:t,membersRef:n,messagesRef:r,messagesQuery:i}}),[e]),a=GT(o,n),l=function(e){const[n,r]=t.exports.useState(null);return t.exports.useEffect((()=>{const t=yC(e,(e=>{r({...e.data(),docId:e.id})}));return()=>t()}),[e]),n}(r),u=GT(i),c={};return u.forEach((e=>{c[e.id]=e.data()})),{chatInfo:l,members:c,messages:u?a:[],sendText:(e,t)=>{(e=>{gC(s,e)})({time:new qS("serverTimestamp"),text:e,sender:t})},deleteMessage:t=>{mC(kS(Fk,"chats",e,"messages",t))}}},YT=t.exports.createContext(null);let XT=null;const JT=e=>U.exports.createPortal(j.createElement("div",{className:"Notification",onTouchStart:e=>{XT=e.touches[0].clientY},onTouchMove:t=>{if(null===XT)return;const n=t.touches[0].clientY;XT-n>0&&(t.currentTarget.animate([{transform:"translateY(-120px)"}],{duration:400,ease:"cubic-bezier(0.075, 0.82, 0.165, 1)",fill:"both"}).onfinish=e.handleClose),XT=null}},j.createElement("div",{className:"appIcon"}," ",e.appIcon," "),j.createElement("div",{className:"content"},j.createElement("div",{className:"title"},e.title),j.createElement("div",{className:"text"},e.text)),j.createElement("div",{className:"slider"})),document.getElementById("root")),ZT=({sendText:e,user:n})=>{const[r,i]=t.exports.useState(""),s=t.exports.useRef(null),[o,a]=t.exports.useState(!1);t.exports.useEffect((()=>{o?document.body.classList.add("keyboard-active"):document.body.classList.remove("keyboard-active")}),[o]);return j.createElement("div",{className:"Chat__Sender"},j.createElement(RT,{placeholder:"Сообщение..",className:"Chat__Sender__Input",value:r,minRows:1,ref:s,onFocus:()=>a(!0),onBlur:()=>a(!1),onChange:e=>{i(e.target.value)}}),""!==r&&j.createElement("button",{className:"Chat__Sender__SendBtn",onClick:()=>{s.current.focus(),e(r,n.id),i("")}},j.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"currentcolor"},j.createElement("path",{d:"M15.3359 23.4102C16.0215 23.4102 16.4961 22.8564 16.8213 22.0127L22.6221 6.83398C22.7715 6.44727 22.8594 6.10449 22.8594 5.80566C22.8594 5.18164 22.4639 4.78613 21.8311 4.78613C21.541 4.78613 21.1895 4.86523 20.8027 5.01465L5.5625 10.8506C4.80664 11.1406 4.23535 11.6152 4.23535 12.3008C4.23535 13.1357 4.85938 13.4521 5.7207 13.7158L10.2734 15.1045C10.8887 15.2979 11.249 15.2891 11.6797 14.8848L21.4707 5.81445C21.5938 5.7002 21.7432 5.71777 21.8398 5.80566C21.9365 5.89355 21.9365 6.05176 21.8311 6.16602L12.7783 15.9746C12.4092 16.3877 12.374 16.7744 12.5586 17.3896L13.9121 21.8545C14.1758 22.751 14.4922 23.4102 15.3359 23.4102Z"}))))};function eI(e){const n=t.exports.useRef(null);return j.createElement(yx,{onClick:()=>{n.current.animate([{opacity:1},{opacity:0}],{duration:120,fill:"both"}).onfinish=e.onClose},active:!0},j.createElement("div",{className:"ContextMenu",ref:n},e.children))}const tI=({onClick:e,title:t,icon:n})=>j.createElement("button",{className:"ContextMenu__Button",onClick:e},n,j.createElement("span",null,t)),nI=({messageData:e,needSenderTitle:n,deleteMessage:r,own:i,sender:s,setUserModal:o})=>{const[a,l]=t.exports.useState(!1),u=0===(null==e?void 0:e.text).replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|[\ud83c[\ude50\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"").length;let c;try{c=null==e?void 0:e.time.toDate().toLocaleString("ru",{hour:"numeric",minute:"numeric"})}catch{c=""}let h="Chat__Message";h+=i?" outcoming":" incoming",n&&(h+=" with-sender-title"),u&&(h+=" emoji");function d(){l(!1)}return j.createElement("div",{className:h},j.createElement("span",{className:"time"},""!=c?c:j.createElement("i",{className:"fas fa-circle-notch fa-spin fa-lg",style:{marginLeft:6}})),n&&(null==s?void 0:s.photo_url)&&j.createElement("div",{className:"avatar",onClick:()=>o(s)},j.createElement("img",{width:"32",height:"32",src:s.photo_url})),n&&j.createElement("span",{className:"sender"},null==s?void 0:s.first_name),j.createElement("div",{className:"message-text",onClick:a?d:()=>{l(!0)},onContextMenu:e=>{e.preventDefault(),l(!0)}},null==e?void 0:e.text),a&&j.createElement(eI,{onClose:d},i&&j.createElement(tI,{title:"Удалить",onClick:()=>{r(e.id)},icon:j.createElement("i",{className:"fas fa-book"})}),j.createElement(tI,{title:"Скопировать",icon:j.createElement("i",{className:"fas fa-clone"}),onClick:()=>{try{navigator.clipboard.writeText(e.text).then((()=>{rT("Скопировано")}))}catch{rT("Ошибка")}}})))};var rI=t.exports.memo(nI);const iI=({user:e,handleClose:t})=>j.createElement(bx,{handleClose:()=>t(!1)},j.createElement(kx,null,j.createElement("div",{className:"UserProfileHeader"},j.createElement("img",{className:"avatar",src:e.photo_url}),j.createElement("h3",{className:"name"},e.first_name)))),sI=({defaultValue:e,onSave:n})=>{const[r,i]=t.exports.useState(e);return j.createElement("div",{className:"_EditForm"},j.createElement(uT,{value:r,onChange:i,onSave:n}))},oI=({handleClose:e,chatID:t,chatInfo:n})=>j.createElement(bx,{handleClose:()=>e(!1)},j.createElement(kx,null,j.createElement(wx,{text:"Настройки чата"}),j.createElement(sI,{onSave:e=>{fC(kS(Fk,"chats",t),{title:e},{merge:!0})},defaultValue:null==n?void 0:n.title}))),aI=({setChatSettings:e,chatTitle:t})=>j.createElement("div",{className:"ChatHeader"},j.createElement("button",null),j.createElement("div",{className:"chat-title"},t),j.createElement("button",{className:"chat-settings-button",onClick:()=>e(!0)},j.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},j.createElement("path",{d:"M13.2002 23.0059H14.8086C15.3359 23.0059 15.7314 22.6895 15.8457 22.1709L16.2852 20.3164C16.584 20.2109 16.8652 20.0967 17.1289 19.9736L18.7549 20.9756C19.1855 21.248 19.7041 21.2041 20.0645 20.8438L21.1982 19.71C21.5586 19.3496 21.6113 18.8135 21.3213 18.374L20.3281 16.7656C20.4512 16.502 20.5654 16.2207 20.6533 15.9482L22.5254 15.5088C23.0439 15.3945 23.3516 14.999 23.3516 14.4717V12.8896C23.3516 12.3711 23.0439 11.9668 22.5254 11.8525L20.6709 11.4043C20.5742 11.0967 20.4512 10.8242 20.3457 10.5869L21.3389 8.94336C21.6201 8.49512 21.585 7.99414 21.207 7.625L20.0645 6.49121C19.6953 6.15723 19.2295 6.0957 18.7812 6.3418L17.1289 7.36133C16.874 7.23828 16.5928 7.12402 16.2939 7.01855L15.8457 5.1377C15.7314 4.61914 15.3359 4.30273 14.8086 4.30273H13.2002C12.6641 4.30273 12.2686 4.61914 12.1543 5.1377L11.7148 7.00977C11.416 7.10645 11.126 7.2207 10.8623 7.35254L9.21875 6.3418C8.77051 6.0957 8.31348 6.14844 7.93555 6.49121L6.79297 7.625C6.41504 7.99414 6.37988 8.49512 6.66113 8.94336L7.6543 10.5869C7.54883 10.8242 7.43457 11.0967 7.3291 11.4043L5.47461 11.8525C4.95605 11.9668 4.64844 12.3711 4.64844 12.8896V14.4717C4.64844 14.999 4.95605 15.3945 5.47461 15.5088L7.34668 15.9482C7.43457 16.2207 7.54883 16.502 7.67188 16.7656L6.67871 18.374C6.38867 18.8135 6.44141 19.3496 6.81055 19.71L7.93555 20.8438C8.2959 21.2041 8.81445 21.248 9.25391 20.9756L10.8711 19.9736C11.1348 20.0967 11.416 20.2109 11.7148 20.3164L12.1543 22.1709C12.2686 22.6895 12.6641 23.0059 13.2002 23.0059ZM14 16.7305C12.3125 16.7305 10.9326 15.3418 10.9326 13.6455C10.9326 11.9668 12.3125 10.5869 14 10.5869C15.6963 10.5869 17.0762 11.9668 17.0762 13.6455C17.0762 15.3418 15.6963 16.7305 14 16.7305Z"})))),lI=({chatID:e})=>{const[n,r]=t.exports.useState(!1),[i,s]=t.exports.useState(!1),[o,a]=t.exports.useState(null),l=t.exports.useRef(),u=t.exports.useContext(Uk).user,{chatInfo:c,messages:h,members:d,sendText:f,deleteMessage:p}=QT(e),m=[];let g=null;h&&h.forEach((e=>{const t=e.data();m.push(j.createElement(rI,{key:e.id,setUserModal:r,messageData:{...t,id:e.id},deleteMessage:p,sender:null==d?void 0:d[t.sender],own:t.sender==u.id,needSenderTitle:g!=t.sender&&t.sender!=u.id})),g=t.sender})),t.exports.useLayoutEffect((()=>{l.current.scrollIntoView({behavior:"smooth"})})),t.exports.useEffect((()=>{}),[h]);const y={...c,user:u,members:d};return j.createElement(j.Fragment,null,j.createElement(YT.Provider,{value:y},j.createElement("div",{className:"Chat"},j.createElement(CT,{reversed:!0,returnBtn:!0},j.createElement("div",{className:"Chat__Messages__Wraper"},m,j.createElement("span",{ref:l}))),j.createElement(aI,{chatTitle:null==c?void 0:c.title,setChatSettings:s,chatID:e}),j.createElement(ZT,{sendText:f,user:u}))),n&&j.createElement(iI,{user:n,handleClose:()=>r(!1)}),i&&j.createElement(oI,{chatID:e,chatInfo:c,handleClose:()=>s(!1)}),o&&j.createElement(JT,WT({},o,{handleClose:()=>a(null)})))},uI=()=>j.createElement(lI,{chatID:"test"}),cI=({config:e})=>{const[n,r]=t.exports.useState(1),i=dx("subjectsManifest",(e=>{globalThis.ReBot=new px(e)})),s=fx(e.database.timetable),[o,a]=t.exports.useState(!1),[l,u]=t.exports.useState(!1);return j.createElement(Uk.Provider,{value:e},j.createElement("div",{id:"hw-re-container"}),j.createElement("div",{id:"notifications-container"}),j.createElement(jk.Provider,{value:i},j.createElement(zk.Provider,{value:s},j.createElement(eT,{activeTab:n,setActiveTab:r}),j.createElement("div",{className:"Tab",hidden:1!=n},j.createElement(jT,{setSettingsOpen:u})),e.chat&&j.createElement("div",{className:"Tab Messenger",hidden:3!=n},j.createElement(uI,null)),j.createElement("div",{className:"Tab",hidden:4!=n},j.createElement(KT,null)),j.createElement("div",{className:"Tab",hidden:5!=n},j.createElement(zT,null)),j.createElement("div",{className:"Tab",id:"rebot",hidden:2!=n},j.createElement(BT,{setNotebooksOpen:a,setSettingsOpen:u})))),o&&j.createElement(bx,{handleClose:()=>a(!1),direction:"split"},j.createElement("div",{className:"scroll-content",style:{marginTop:60}},j.createElement(Jx,null))),l&&j.createElement(bx,{handleClose:()=>u(!1)},j.createElement(_x,null)))};var hI={},dI={exports:{}},fI={},pI=a,mI="function"==typeof Symbol&&Symbol.for,gI=mI?Symbol.for("react.element"):60103,yI=mI?Symbol.for("react.portal"):60106,vI=mI?Symbol.for("react.fragment"):60107,bI=mI?Symbol.for("react.strict_mode"):60108,wI=mI?Symbol.for("react.profiler"):60114,EI=mI?Symbol.for("react.provider"):60109,SI=mI?Symbol.for("react.context"):60110,CI=mI?Symbol.for("react.forward_ref"):60112,kI=mI?Symbol.for("react.suspense"):60113,xI=mI?Symbol.for("react.memo"):60115,TI=mI?Symbol.for("react.lazy"):60116,II="function"==typeof Symbol&&Symbol.iterator;function _I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LI={};function DI(e,t,n){this.props=e,this.context=t,this.refs=LI,this.updater=n||NI}function AI(){}function PI(e,t,n){this.props=e,this.context=t,this.refs=LI,this.updater=n||NI}DI.prototype.isReactComponent={},DI.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(_I(85));this.updater.enqueueSetState(this,e,t,"setState")},DI.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},AI.prototype=DI.prototype;var OI=PI.prototype=new AI;OI.constructor=PI,pI(OI,DI.prototype),OI.isPureReactComponent=!0;var RI={current:null},MI=Object.prototype.hasOwnProperty,FI={key:!0,ref:!0,__self:!0,__source:!0};function VI(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)MI.call(t,r)&&!FI.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:gI,type:e,key:s,ref:o,props:i,_owner:RI.current}}function jI(e){return"object"==typeof e&&null!==e&&e.$$typeof===gI}var UI=/\/+/g,zI=[];function BI(e,t,n,r){if(zI.length){var i=zI.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function qI(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>zI.length&&zI.push(e)}function $I(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gI:case yI:s=!0}}if(s)return n(r,e,""===t?"."+KI(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var o=0;o<e.length;o++){var a=t+KI(i=e[o],o);s+=$I(i,a,n,r)}else if(null===e||"object"!=typeof e?a=null:a="function"==typeof(a=II&&e[II]||e["@@iterator"])?a:null,"function"==typeof a)for(e=a.call(e),o=0;!(i=e.next()).done;)s+=$I(i=i.value,a=t+KI(i,o++),n,r);else if("object"===i)throw n=""+e,Error(_I(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function HI(e,t,n){return null==e?0:$I(e,"",t,n)}function KI(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function WI(e,t){e.func.call(e.context,t,e.count++)}function GI(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?QI(e,r,n,(function(e){return e})):null!=e&&(jI(e)&&(e=function(e,t){return{$$typeof:gI,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(UI,"$&/")+"/")+n)),r.push(e))}function QI(e,t,n,r,i){var s="";null!=n&&(s=(""+n).replace(UI,"$&/")+"/"),HI(e,GI,t=BI(t,s,r,i)),qI(t)}var YI={current:null};function XI(){var e=YI.current;if(null===e)throw Error(_I(321));return e}var JI={ReactCurrentDispatcher:YI,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:RI,IsSomeRendererActing:{current:!1},assign:pI};function ZI({setUser:e}){const[n,r]=t.exports.useState(1);t.exports.useEffect((()=>{navigator.serviceWorker.register("./sw.js")}),[]),t.exports.useEffect((()=>{localStorage.group=n}),[n]);return j.createElement("div",{className:"Login"},j.createElement("div",{className:"top-container"},j.createElement("header",null,j.createElement("div",{className:"logo"},j.createElement("img",{width:"36px",src:"static/icons/icon-128.png"})))),j.createElement("div",{className:"content"},j.createElement("div",{className:"block"},j.createElement("h5",{className:"group-title"},"Группа по английскому"),j.createElement("div",{className:"group"},j.createElement("button",{className:1==n?"active":"",onClick:()=>r(1)},"1"),j.createElement("button",{className:2==n?"active":"",onClick:()=>r(2)},"2"),j.createElement("button",{className:3==n?"active":"",onClick:()=>r(3)},"3")),j.createElement("div",{id:"auth"},j.createElement(hI.TLoginButton,{botName:"resh1_bot",buttonSize:hI.TLoginButtonSize.Large,lang:"ru",usePic:!0,cornerRadius:7,onAuthCallback:t=>{fC(kS(Fk,"users",`${t.id}`),t).then((()=>{e({...t,group:localStorage.group})})),localStorage.user=JSON.stringify({...t,group:localStorage.group})},requestAccess:"write"})))))}fI.Children={map:function(e,t,n){if(null==e)return e;var r=[];return QI(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;HI(e,WI,t=BI(null,null,t,n)),qI(t)},count:function(e){return HI(e,(function(){return null}),null)},toArray:function(e){var t=[];return QI(e,t,null,(function(e){return e})),t},only:function(e){if(!jI(e))throw Error(_I(143));return e}},fI.Component=DI,fI.Fragment=vI,fI.Profiler=wI,fI.PureComponent=PI,fI.StrictMode=bI,fI.Suspense=kI,fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JI,fI.cloneElement=function(e,t,n){if(null==e)throw Error(_I(267,e));var r=pI({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=RI.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)MI.call(t,l)&&!FI.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gI,type:e.type,key:i,ref:s,props:r,_owner:o}},fI.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:SI,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:EI,_context:e},e.Consumer=e},fI.createElement=VI,fI.createFactory=function(e){var t=VI.bind(null,e);return t.type=e,t},fI.createRef=function(){return{current:null}},fI.forwardRef=function(e){return{$$typeof:CI,render:e}},fI.isValidElement=jI,fI.lazy=function(e){return{$$typeof:TI,_ctor:e,_status:-1,_result:null}},fI.memo=function(e,t){return{$$typeof:xI,type:e,compare:void 0===t?null:t}},fI.useCallback=function(e,t){return XI().useCallback(e,t)},fI.useContext=function(e,t){return XI().useContext(e,t)},fI.useDebugValue=function(){},fI.useEffect=function(e,t){return XI().useEffect(e,t)},fI.useImperativeHandle=function(e,t,n){return XI().useImperativeHandle(e,t,n)},fI.useLayoutEffect=function(e,t){return XI().useLayoutEffect(e,t)},fI.useMemo=function(e,t){return XI().useMemo(e,t)},fI.useReducer=function(e,t,n){return XI().useReducer(e,t,n)},fI.useRef=function(e){return XI().useRef(e)},fI.useState=function(e){return XI().useState(e)},fI.version="16.14.0",dI.exports=fI,function(t){var n,r=e&&e.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TLoginButton=t.TLoginButtonSize=void 0;var a,l=o(dI.exports),u=dI.exports;(a=t.TLoginButtonSize||(t.TLoginButtonSize={})).Large="large",a.Medium="medium",a.Small="small";var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._containerRef=u.createRef(),t}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.botName,n=e.buttonSize,r=e.cornerRadius,i=e.requestAccess,s=e.usePic,o=e.onAuthCallback,a=e.redirectUrl,l=e.lang;null!=o&&(window.TelegramOnAuthCb=function(e){return o(e)});var u=document.createElement("script");u.src="https://telegram.org/js/telegram-widget.js?10",u.async=!0,u.setAttribute("data-telegram-login",t),null!=n&&u.setAttribute("data-size",n),null!=n&&u.setAttribute("data-radius",""+r),null!=s&&u.setAttribute("data-userpic",""+s),null!=l&&u.setAttribute("data-lang",l),null!=a&&u.setAttribute("data-auth-url",a),null!=o&&u.setAttribute("data-onauth","TelegramOnAuthCb(user)"),null!=i&&u.setAttribute("data-request-access",i),this._containerRef.current.appendChild(u)},t.prototype.render=function(){return l.createElement("div",{className:"tlogin-button",ref:this._containerRef})},t}(u.Component);t.TLoginButton=c}(hI);const e_=/iPad|iPhone/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;globalThis.ios=e_;const t_=()=>{const[e,n]=t.exports.useState(null),[r,i]=t.exports.useState(null);function s(e){const t=`${e.id}`,r={timetable:kS(Fk,"timeTables","9D"),marks:kS(Fk,"users",t,"userStorage","marks"),notes:CS(Fk,"users",t,"notes")};n(e),i(r)}return t.exports.useEffect((()=>{const e=localStorage.getItem("user");null!=e&&"null"!=e?s(JSON.parse(e)):n("login")}),[]),e&&r?j.createElement(cI,{config:{database:r,user:e,IS_SAFARI:window.ios,chat:localStorage.chat}}):"login"==e&&j.createElement(ZI,{setUser:s})};rc.createRoot(document.getElementById("root")).render(j.createElement(t_,null))}();
