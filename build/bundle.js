!function(){"use strict";var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,l=s(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(n){a=n(o);for(var h=0;h<a.length;h++)i.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l},a=o,l=60103,u=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var c=60109,h=60110,f=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var m=Symbol.for;l=m("react.element"),u=m("react.portal"),t.Fragment=m("react.fragment"),t.StrictMode=m("react.strict_mode"),t.Profiler=m("react.profiler"),c=m("react.provider"),h=m("react.context"),f=m("react.forward_ref"),t.Suspense=m("react.suspense"),d=m("react.memo"),p=m("react.lazy")}var g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function b(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=b.prototype;var k=S.prototype=new E;k.constructor=S,a(k,b.prototype),k.isPureReactComponent=!0;var T={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:l,type:e,key:s,ref:o,props:i,_owner:T.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var N=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case l:case u:o=!0}}if(o)return i=i(o=e),e=""===r?"."+D(o,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),L(i,t,n,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){var c=r+D(s=e[a],a);o+=L(s,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),a=0;!(s=e.next()).done;)o+=L(s=s.value,t,n,c=r+D(s,a++),i);else if("object"===s)throw t=""+e,Error(y(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function A(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(y(321));return e}var M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(y(143));return e}},t.Component=b,t.PureComponent=S,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=a({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=T.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:l,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,V={exports:{}},U={},j={exports:{}},z={};!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(c,0),e}};t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout,d=!1,p=null,m=-1,g=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e||(g=0<e?Math.floor(1e3/e):5)};var v=new MessageChannel,w=v.port2;v.port1.onmessage=function(){if(null!==p){var t=e.unstable_now();y=t+g;try{p(!0,t)?w.postMessage(null):(d=!1,p=null)}catch(e){throw w.postMessage(null),e}}else d=!1},t=function(e){p=e,d||(d=!0,w.postMessage(null))},n=function(t,n){m=h((function(){t(e.unstable_now())}),n)},r=function(){f(m),m=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>k(o,n))void 0!==l&&0>k(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],x=1,I=null,_=3,N=!1,D=!1,L=!1;function A(e){for(var t=E(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,b(T,t)}t=E(C)}}function R(e){if(L=!1,A(e),!D)if(null!==E(T))D=!0,t(P);else{var r=E(C);null!==r&&n(R,r.startTime-e)}}function P(t,i){D=!1,L&&(L=!1,r()),N=!0;var s=_;try{for(A(i),I=E(T);null!==I&&(!(I.expirationTime>i)||t&&!e.unstable_shouldYield());){var o=I.callback;if("function"==typeof o){I.callback=null,_=I.priorityLevel;var a=o(I.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?I.callback=a:I===E(T)&&S(T),A(i)}else S(T);I=E(T)}if(null!==I)var l=!0;else{var u=E(C);null!==u&&n(R,u.startTime-i),l=!1}return l}finally{I=null,_=s,N=!1}}var O=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){D||N||(D=!0,t(P))},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return E(T)},e.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=O,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},e.unstable_scheduleCallback=function(i,s,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:x++,callback:s,priorityLevel:i,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(i.sortIndex=o,b(C,i),null===E(T)&&i===E(C)&&(L?r():L=!0,n(R,o-a))):(i.sortIndex=l,b(T,i),D||N||(D=!0,t(P))),i},e.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}}(z),j.exports=z;var q=e.exports,B=o,$=j.exports;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!q)throw Error(H(227));var K=new Set,W={};function G(e,t){Q(e,t),Q(e+"Capture",t)}function Q(e,t){for(W[e]=t,e=0;e<t.length;e++)K.add(t[e])}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z=Object.prototype.hasOwnProperty,J={},ee={};function te(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function se(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Z.call(ee,e)||!Z.call(J,e)&&(X.test(e)?ee[e]=!0:(J[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var oe=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=60103,le=60106,ue=60107,ce=60108,he=60114,fe=60109,de=60110,pe=60112,me=60113,ge=60120,ye=60115,ve=60116,we=60121,be=60128,Ee=60129,Se=60130,ke=60131;if("function"==typeof Symbol&&Symbol.for){var Te=Symbol.for;ae=Te("react.element"),le=Te("react.portal"),ue=Te("react.fragment"),ce=Te("react.strict_mode"),he=Te("react.profiler"),fe=Te("react.provider"),de=Te("react.context"),pe=Te("react.forward_ref"),me=Te("react.suspense"),ge=Te("react.suspense_list"),ye=Te("react.memo"),ve=Te("react.lazy"),we=Te("react.block"),Te("react.scope"),be=Te("react.opaque.id"),Ee=Te("react.debug_trace_mode"),Se=Te("react.offscreen"),ke=Te("react.legacy_hidden")}var Ce,xe="function"==typeof Symbol&&Symbol.iterator;function Ie(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=xe&&e[xe]||e["@@iterator"])?e:null}function _e(e){if(void 0===Ce)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||""}return"\n"+Ce+e}var Ne=!1;function De(e,t){if(!e||Ne)return"";Ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{Ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_e(e):""}function Le(e){switch(e.tag){case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return _e("Suspense");case 19:return _e("SuspenseList");case 0:case 2:case 15:return e=De(e.type,!1);case 11:return e=De(e.type.render,!1);case 22:return e=De(e.type._render,!1);case 1:return e=De(e.type,!0);default:return""}}function Ae(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ue:return"Fragment";case le:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case me:return"Suspense";case ge:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ye:return Ae(e.type);case we:return Ae(e._render);case ve:t=e._payload,e=e._init;try{return Ae(e(t))}catch(e){}}return null}function Re(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Pe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Oe(e){e._valueTracker||(e._valueTracker=function(e){var t=Pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ve(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ue(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Re(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){null!=(t=t.checked)&&se(e,"checked",t,!1)}function ze(e,t){je(e,t);var n=Re(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Be(e,t.type,n):t.hasOwnProperty("defaultValue")&&Be(e,t.type,Re(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function qe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Be(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function $e(e,t){return e=B({children:void 0},t),(t=function(e){var t="";return q.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function He(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Re(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ke(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(H(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function We(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Re(n)}}function Ge(e,t){var n=Re(t.value),r=Re(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ye="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/svg";function Ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Xe||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];function ot(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function at(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ot(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){st.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var lt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(lt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(H(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(H(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(H(62))}}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,dt=null,pt=null;function mt(e){if(e=Ui(e)){if("function"!=typeof ft)throw Error(H(280));var t=e.stateNode;t&&(t=zi(t),ft(e.stateNode,e.type,t))}}function gt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function yt(){if(dt){var e=dt,t=pt;if(pt=dt=null,mt(e),t)for(e=0;e<t.length;e++)mt(t[e])}}function vt(e,t){return e(t)}function wt(e,t,n,r,i){return e(t,n,r,i)}function bt(){}var Et=vt,St=!1,kt=!1;function Tt(){null===dt&&null===pt||(bt(),yt())}function Ct(e,t){var n=e.stateNode;if(null===n)return null;var r=zi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(H(231,t,typeof n));return n}var xt=!1;if(Y)try{var It={};Object.defineProperty(It,"passive",{get:function(){xt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(tt){xt=!1}function _t(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Nt=!1,Dt=null,Lt=!1,At=null,Rt={onError:function(e){Nt=!0,Dt=e}};function Pt(e,t,n,r,i,s,o,a,l){Nt=!1,Dt=null,_t.apply(Rt,arguments)}function Ot(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(Ot(e)!==e)throw Error(H(188))}function Vt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ot(e)))throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ft(i),e;if(s===r)return Ft(i),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(3!==n.tag)throw Error(H(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ut(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var jt,zt,qt,Bt,$t=!1,Ht=[],Kt=null,Wt=null,Gt=null,Qt=new Map,Yt=new Map,Xt=[],Zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Qt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yt.delete(t.pointerId)}}function tn(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=Jt(t,n,r,i,s),null!==t&&(null!==(t=Ui(t))&&zt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Vi(e.target);if(null!==t){var n=Ot(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mt(n)))return e.blockedOn=t,void Bt(e.lanePriority,(function(){$.unstable_runWithPriority(e.priority,(function(){qt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ui(n))&&zt(t),e.blockedOn=n,!1;t.shift()}return!0}function sn(e,t,n){rn(e)&&n.delete(t)}function on(){for($t=!1;0<Ht.length;){var e=Ht[0];if(null!==e.blockedOn){null!==(e=Ui(e.blockedOn))&&jt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Ht.shift()}null!==Kt&&rn(Kt)&&(Kt=null),null!==Wt&&rn(Wt)&&(Wt=null),null!==Gt&&rn(Gt)&&(Gt=null),Qt.forEach(sn),Yt.forEach(sn)}function an(e,t){e.blockedOn===t&&(e.blockedOn=null,$t||($t=!0,$.unstable_scheduleCallback($.unstable_NormalPriority,on)))}function ln(e){function t(t){return an(t,e)}if(0<Ht.length){an(Ht[0],e);for(var n=1;n<Ht.length;n++){var r=Ht[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Kt&&an(Kt,e),null!==Wt&&an(Wt,e),null!==Gt&&an(Gt,e),Qt.forEach(t),Yt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)nn(n),null===n.blockedOn&&Xt.shift()}function un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionend:un("Transition","TransitionEnd")},hn={},fn={};function dn(e){if(hn[e])return hn[e];if(!cn[e])return e;var t,n=cn[e];for(t in n)if(n.hasOwnProperty(t)&&t in fn)return hn[e]=n[t];return e}Y&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var pn=dn("animationend"),mn=dn("animationiteration"),gn=dn("animationstart"),yn=dn("transitionend"),vn=new Map,wn=new Map,bn=["abort","abort",pn,"animationEnd",mn,"animationIteration",gn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yn,"transitionEnd","waiting","waiting"];function En(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),wn.set(r,t),vn.set(r,i),G(i,[r])}}(0,$.unstable_now)();var Sn=8;function kn(e){if(0!=(1&e))return Sn=15,1;if(0!=(2&e))return Sn=14,2;if(0!=(4&e))return Sn=13,4;var t=24&e;return 0!==t?(Sn=12,t):0!=(32&e)?(Sn=11,32):0!==(t=192&e)?(Sn=10,t):0!=(256&e)?(Sn=9,256):0!==(t=3584&e)?(Sn=8,t):0!=(4096&e)?(Sn=7,4096):0!==(t=4186112&e)?(Sn=6,t):0!==(t=62914560&e)?(Sn=5,t):67108864&e?(Sn=4,67108864):0!=(134217728&e)?(Sn=3,134217728):0!==(t=805306368&e)?(Sn=2,t):0!=(1073741824&e)?(Sn=1,1073741824):(Sn=8,e)}function Tn(e,t){var n=e.pendingLanes;if(0===n)return Sn=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Sn=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=kn(l),i=Sn):0!==(a&=s)&&(r=kn(a),i=Sn)}else 0!==(s=n&~o)?(r=kn(s),i=Sn):0!==a&&(r=kn(a),i=Sn);if(0===r)return 0;if(r=n&((0>(r=31-Dn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(kn(t),i<=Sn)return t;Sn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Dn(t)),r|=e[n],t&=~i;return r}function Cn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=In(24&~t))?xn(10,t):e;case 10:return 0===(e=In(192&~t))?xn(8,t):e;case 8:return 0===(e=In(3584&~t))&&(0===(e=In(4186112&~t))&&(e=512)),e;case 2:return 0===(t=In(805306368&~t))&&(t=268435456),t}throw Error(H(358,e))}function In(e){return e&-e}function _n(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Dn(t)]=n}var Dn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ln(e)/An|0)|0},Ln=Math.log,An=Math.LN2;var Rn=$.unstable_UserBlockingPriority,Pn=$.unstable_runWithPriority,On=!0;function Mn(e,t,n,r){St||bt();var i=Vn,s=St;St=!0;try{wt(i,e,t,n,r)}finally{(St=s)||Tt()}}function Fn(e,t,n,r){Pn(Rn,Vn.bind(null,e,t,n,r))}function Vn(e,t,n,r){var i;if(On)if((i=0==(4&t))&&0<Ht.length&&-1<Zt.indexOf(e))e=Jt(null,e,t,n,r),Ht.push(e);else{var s=Un(e,t,n,r);if(null===s)i&&en(e,r);else{if(i){if(-1<Zt.indexOf(e))return e=Jt(s,e,t,n,r),void Ht.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Kt=tn(Kt,e,t,n,r,i),!0;case"dragenter":return Wt=tn(Wt,e,t,n,r,i),!0;case"mouseover":return Gt=tn(Gt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qt.set(s,tn(Qt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yt.set(s,tn(Yt.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;en(e,r)}yi(e,t,r,null,n)}}}function Un(e,t,n,r){var i=ht(r);if(null!==(i=Vi(i))){var s=Ot(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Mt(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yi(e,t,r,i,n),null}var jn=null,zn=null,qn=null;function Bn(){if(qn)return qn;var e,t,n=zn,r=n.length,i="value"in jn?jn.value:jn.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qn=i.slice(e,1<t?1-t:void 0)}function $n(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Hn(){return!0}function Kn(){return!1}function Wn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Hn:Kn,this.isPropagationStopped=Kn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var Gn,Qn,Yn,Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zn=Wn(Xn),Jn=B({},Xn,{view:0,detail:0}),er=Wn(Jn),tr=B({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&"mousemove"===e.type?(Gn=e.screenX-Yn.screenX,Qn=e.screenY-Yn.screenY):Qn=Gn=0,Yn=e),Gn)},movementY:function(e){return"movementY"in e?e.movementY:Qn}}),nr=Wn(tr),rr=Wn(B({},tr,{dataTransfer:0})),ir=Wn(B({},Jn,{relatedTarget:0})),sr=Wn(B({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Wn(B({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ar=Wn(B({},Xn,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=cr[e])&&!!t[e]}function fr(){return hr}var dr=Wn(B({},Jn,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$n(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?$n(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$n(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Wn(B({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mr=Wn(B({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),gr=Wn(B({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),yr=Wn(B({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vr=[9,13,27,32],wr=Y&&"CompositionEvent"in window,br=null;Y&&"documentMode"in document&&(br=document.documentMode);var Er=Y&&"TextEvent"in window&&!br,Sr=Y&&(!wr||br&&8<br&&11>=br),kr=String.fromCharCode(32),Tr=!1;function Cr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ir=!1;var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_r[e.type]:"textarea"===t}function Dr(e,t,n,r){gt(r),0<(t=wi(t,"onChange")).length&&(n=new Zn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lr=null,Ar=null;function Rr(e){hi(e,0)}function Pr(e){if(Me(ji(e)))return e}function Or(e,t){if("change"===e)return t}var Mr=!1;if(Y){var Fr;if(Y){var Vr="oninput"in document;if(!Vr){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),Vr="function"==typeof Ur.oninput}Fr=Vr}else Fr=!1;Mr=Fr&&(!document.documentMode||9<document.documentMode)}function jr(){Lr&&(Lr.detachEvent("onpropertychange",zr),Ar=Lr=null)}function zr(e){if("value"===e.propertyName&&Pr(Ar)){var t=[];if(Dr(t,Ar,e,ht(e)),e=Rr,St)e(t);else{St=!0;try{vt(e,t)}finally{St=!1,Tt()}}}}function qr(e,t,n){"focusin"===e?(jr(),Ar=n,(Lr=t).attachEvent("onpropertychange",zr)):"focusout"===e&&jr()}function Br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pr(Ar)}function $r(e,t){if("click"===e)return Pr(t)}function Hr(e,t){if("input"===e||"change"===e)return Pr(t)}var Kr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Wr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Kr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!Kr(e[n[r]],t[n[r]]))return!1;return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var n,r=Qr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qr(r)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=Y&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function si(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Gr(ri,r)||(ri=r,0<(r=wi(ni,"onSelect")).length&&(t=new Zn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}En("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),En("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),En(bn,2);for(var oi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ai=0;ai<oi.length;ai++)wn.set(oi[ai],0);Q("onMouseEnter",["mouseout","mouseover"]),Q("onMouseLeave",["mouseout","mouseover"]),Q("onPointerEnter",["pointerout","pointerover"]),Q("onPointerLeave",["pointerout","pointerover"]),G("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),G("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),G("onBeforeInput",["compositionend","keypress","textInput","paste"]),G("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(Pt.apply(this,arguments),Nt){if(!Nt)throw Error(H(198));var u=Dt;Nt=!1,Dt=null,Lt||(Lt=!0,At=u)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ci(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ci(i,a,u),s=l}}}if(Lt)throw e=At,Lt=!1,At=null,e}function fi(e,t){var n=qi(t),r=e+"__bubble";n.has(r)||(gi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,K.forEach((function(t){ui.has(t)||mi(t,!1,e,null),mi(t,!0,e,null)})))}function mi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&ui.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=qi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),gi(s,e,i,t),o.add(a))}function gi(e,t,n,r){var i=wn.get(t);switch(void 0===i?2:i){case 0:i=Mn;break;case 1:i=Fn;break;default:i=Vn}n=i.bind(null,t,n,e),i=void 0,!xt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function yi(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(kt)return e(t,n);kt=!0;try{Et(e,t,n)}finally{kt=!1,Tt()}}((function(){var r=s,i=ht(n),o=[];e:{var a=vn.get(e);if(void 0!==a){var l=Zn,u=e;switch(e){case"keypress":if(0===$n(n))break e;case"keydown":case"keyup":l=dr;break;case"focusin":u="focus",l=ir;break;case"focusout":u="blur",l=ir;break;case"beforeblur":case"afterblur":l=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mr;break;case pn:case mn:case gn:l=sr;break;case yn:l=gr;break;case"scroll":l=er;break;case"wheel":l=yr;break;case"copy":case"cut":case"paste":l=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pr}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Ct(p,f))&&c.push(vi(p,m,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Vi(u)&&!u[Mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Vi(u):null)&&(u!==(h=Ot(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=nr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=pr,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:ji(l),d=null==u?a:ji(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=d,m=null,Vi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=bi(d))p++;for(d=0,m=f;m;m=bi(m))d++;for(;0<p-d;)c=bi(c),p--;for(;0<d-p;)f=bi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=bi(c),f=bi(f)}c=null}else c=null;null!==l&&Ei(o,a,l,c,!1),null!==u&&null!==h&&Ei(o,h,u,c,!0)}if("select"===(l=(a=r?ji(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Or;else if(Nr(a))if(Mr)g=Hr;else{g=Br;var y=qr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=$r);switch(g&&(g=g(e,r))?Dr(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&Be(a,"number",a.value)),y=r?ji(r):window,e){case"focusin":(Nr(y)||"true"===y.contentEditable)&&(ti=y,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,si(o,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":si(o,n,i)}var v;if(wr)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ir?Cr(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Sr&&"ko"!==n.locale&&(Ir||"onCompositionStart"!==w?"onCompositionEnd"===w&&Ir&&(v=Bn()):(zn="value"in(jn=i)?jn.value:jn.textContent,Ir=!0)),0<(y=wi(r,w)).length&&(w=new ar(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=xr(n))&&(w.data=v))),(v=Er?function(e,t){switch(e){case"compositionend":return xr(t);case"keypress":return 32!==t.which?null:(Tr=!0,kr);case"textInput":return(e=t.data)===kr&&Tr?null:e;default:return null}}(e,n):function(e,t){if(Ir)return"compositionend"===e||!wr&&Cr(e,t)?(e=Bn(),qn=zn=jn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=wi(r,"onBeforeInput")).length&&(i=new ar("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}hi(o,t)}))}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ct(e,n))&&r.unshift(vi(e,s,i)),null!=(s=Ct(e,t))&&r.push(vi(e,s,i))),e=e.return}return r}function bi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ei(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ct(n,s))&&o.unshift(vi(n,l,a)):i||null!=(l=Ct(n,s))&&o.push(vi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Si(){}var ki=null,Ti=null;function Ci(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ii="function"==typeof setTimeout?setTimeout:void 0,_i="function"==typeof clearTimeout?clearTimeout:void 0;function Ni(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ai=0;var Ri=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Ri,Oi="__reactProps$"+Ri,Mi="__reactContainer$"+Ri,Fi="__reactEvents$"+Ri;function Vi(e){var t=e[Pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Li(e);null!==e;){if(n=e[Pi])return n;e=Li(e)}return t}n=(e=n).parentNode}return null}function Ui(e){return!(e=e[Pi]||e[Mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ji(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(H(33))}function zi(e){return e[Oi]||null}function qi(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var Bi=[],$i=-1;function Hi(e){return{current:e}}function Ki(e){0>$i||(e.current=Bi[$i],Bi[$i]=null,$i--)}function Wi(e,t){$i++,Bi[$i]=e.current,e.current=t}var Gi={},Qi=Hi(Gi),Yi=Hi(!1),Xi=Gi;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ji(e){return null!=(e=e.childContextTypes)}function es(){Ki(Yi),Ki(Qi)}function ts(e,t,n){if(Qi.current!==Gi)throw Error(H(168));Wi(Qi,t),Wi(Yi,n)}function ns(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(H(108,Ae(t)||"Unknown",i));return B({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,Xi=Qi.current,Wi(Qi,e),Wi(Yi,Yi.current),!0}function is(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=ns(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Ki(Yi),Ki(Qi),Wi(Qi,e)):Ki(Yi),Wi(Yi,n)}var ss=null,os=null,as=$.unstable_runWithPriority,ls=$.unstable_scheduleCallback,us=$.unstable_cancelCallback,cs=$.unstable_shouldYield,hs=$.unstable_requestPaint,fs=$.unstable_now,ds=$.unstable_getCurrentPriorityLevel,ps=$.unstable_ImmediatePriority,ms=$.unstable_UserBlockingPriority,gs=$.unstable_NormalPriority,ys=$.unstable_LowPriority,vs=$.unstable_IdlePriority,ws={},bs=void 0!==hs?hs:function(){},Es=null,Ss=null,ks=!1,Ts=fs(),Cs=1e4>Ts?fs:function(){return fs()-Ts};function xs(){switch(ds()){case ps:return 99;case ms:return 98;case gs:return 97;case ys:return 96;case vs:return 95;default:throw Error(H(332))}}function Is(e){switch(e){case 99:return ps;case 98:return ms;case 97:return gs;case 96:return ys;case 95:return vs;default:throw Error(H(332))}}function _s(e,t){return e=Is(e),as(e,t)}function Ns(e,t,n){return e=Is(e),ls(e,t,n)}function Ds(){if(null!==Ss){var e=Ss;Ss=null,us(e)}Ls()}function Ls(){if(!ks&&null!==Es){ks=!0;var e=0;try{var t=Es;_s(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Es=null}catch(t){throw null!==Es&&(Es=Es.slice(e+1)),ls(ps,Ds),t}finally{ks=!1}}}var As=oe.ReactCurrentBatchConfig;function Rs(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ps=Hi(null),Os=null,Ms=null,Fs=null;function Vs(){Fs=Ms=Os=null}function Us(e){var t=Ps.current;Ki(Ps),e.type._context._currentValue=t}function js(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function zs(e,t){Os=e,Fs=Ms=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wa=!0),e.firstContext=null)}function qs(e,t){if(Fs!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Fs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ms){if(null===Os)throw Error(H(308));Ms=t,Os.dependencies={lanes:0,firstContext:t,responders:null}}else Ms=Ms.next=t;return e._currentValue}var Bs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Hs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Gs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var i=e.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var h=(c=c.updateQueue).lastBaseUpdate;h!==o&&(null===h?c.firstBaseUpdate=u:h.next=u,c.lastBaseUpdate=l)}}if(null!==s){for(h=i.baseState,o=0,c=u=l=null;;){a=s.lane;var f=s.eventTime;if((r&a)===a){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=e,p=s;switch(a=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,a);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(a="function"==typeof(d=p.payload)?d.call(f,h,a):d))break e;h=B({},h,a);break e;case 2:Bs=!0}}null!==s.callback&&(e.flags|=32,null===(a=i.effects)?i.effects=[s]:a.push(s))}else f={eventTime:f,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=a;if(null===(s=s.next)){if(null===(a=i.shared.pending))break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,Sl|=o,e.lanes=o,e.memoizedState=h}}function Ys(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(H(191,i));i.call(r)}}}var Xs=(new q.Component).refs;function Zs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Js={isMounted:function(e){return!!(e=e._reactInternals)&&Ot(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wl(),i=Gl(e),s=Ks(r,i);s.payload=t,null!=n&&(s.callback=n),Ws(e,s),Ql(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wl(),i=Gl(e),s=Ks(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),Ws(e,s),Ql(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wl(),r=Gl(e),i=Ks(n,r);i.tag=2,null!=t&&(i.callback=t),Ws(e,i),Ql(e,r,n)}};function eo(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,s))}function to(e,t,n){var r=!1,i=Gi,s=t.contextType;return"object"==typeof s&&null!==s?s=qs(s):(i=Ji(t)?Xi:Qi.current,s=(r=null!=(r=t.contextTypes))?Zi(e,i):Gi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function no(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Xs,$s(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=qs(s):(s=Ji(t)?Xi:Qi.current,i.context=Zi(e,s)),Qs(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Zs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Js.enqueueReplaceState(i,i.state,null),Qs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var io=Array.isArray;function so(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Xs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function oo(e,t){if("textarea"!==e.type)throw Error(H(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=so(e,t,n),r.return=e,r):((r=_u(n.type,n.key,n.props,null,e.mode,r)).ref=so(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ae:return(n=_u(t.type,t.key,t.props,null,e.mode,n)).ref=so(e,null,t),n.return=e,n;case le:return(t=Au(t,e.mode,n)).return=e,t}if(io(t)||Ie(t))return(t=Nu(t,e.mode,n,null)).return=e,t;oo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ae:return n.key===i?n.type===ue?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case le:return n.key===i?u(e,t,n,r):null}if(io(n)||Ie(n))return null!==i?null:c(e,t,n,r,null);oo(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ae:return e=e.get(null===r.key?n:r.key)||null,r.type===ue?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case le:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(io(r)||Ie(r))return c(t,e=e.get(n)||null,r,i,null);oo(t,r)}return null}function p(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=f(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),u;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<a.length;m++)null!==(g=d(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}function m(i,o,a,l){var u=Ie(a);if("function"!=typeof u)throw Error(H(150));if(null==(a=u.call(a)))throw Error(H(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=f(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=h(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=d(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),u}return function(e,r,s,a){var l="object"==typeof s&&null!==s&&s.type===ue&&null===s.key;l&&(s=s.props.children);var u="object"==typeof s&&null!==s;if(u)switch(s.$$typeof){case ae:e:{for(u=s.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(s.type===ue){n(e,l.sibling),(r=i(l,s.props.children)).return=e,e=r;break e}break;default:if(l.elementType===s.type){n(e,l.sibling),(r=i(l,s.props)).ref=so(e,l,s),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}s.type===ue?((r=Nu(s.props.children,e.mode,a,s.key)).return=e,e=r):((a=_u(s.type,s.key,s.props,null,e.mode,a)).ref=so(e,r,s),a.return=e,e=a)}return o(e);case le:e:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Au(s,e.mode,a)).return=e,e=r}return o(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Lu(s,e.mode,a)).return=e,e=r),o(e);if(io(s))return p(e,r,s,a);if(Ie(s))return m(e,r,s,a);if(u&&oo(e,s),void 0===s&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,Ae(e.type)||"Component"))}return n(e,r)}}var lo=ao(!0),uo=ao(!1),co={},ho=Hi(co),fo=Hi(co),po=Hi(co);function mo(e){if(e===co)throw Error(H(174));return e}function go(e,t){switch(Wi(po,t),Wi(fo,e),Wi(ho,co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Je(null,"");break;default:t=Je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ki(ho),Wi(ho,t)}function yo(){Ki(ho),Ki(fo),Ki(po)}function vo(e){mo(po.current);var t=mo(ho.current),n=Je(t,e.type);t!==n&&(Wi(fo,e),Wi(ho,n))}function wo(e){fo.current===e&&(Ki(ho),Ki(fo))}var bo=Hi(0);function Eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=null,ko=null,To=!1;function Co(e,t){var n=Cu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Io(e){if(To){var t=ko;if(t){var n=t;if(!xo(e,t)){if(!(t=Di(n.nextSibling))||!xo(e,t))return e.flags=-1025&e.flags|2,To=!1,void(So=e);Co(So,n)}So=e,ko=Di(t.firstChild)}else e.flags=-1025&e.flags|2,To=!1,So=e}}function _o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;So=e}function No(e){if(e!==So)return!1;if(!To)return _o(e),To=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xi(t,e.memoizedProps))for(t=ko;t;)Co(e,t),t=Di(t.nextSibling);if(_o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ko=Di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ko=null}}else ko=So?Di(e.stateNode.nextSibling):null;return!0}function Do(){ko=So=null,To=!1}var Lo=[];function Ao(){for(var e=0;e<Lo.length;e++)Lo[e]._workInProgressVersionPrimary=null;Lo.length=0}var Ro=oe.ReactCurrentDispatcher,Po=oe.ReactCurrentBatchConfig,Oo=0,Mo=null,Fo=null,Vo=null,Uo=!1,jo=!1;function zo(){throw Error(H(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kr(e[n],t[n]))return!1;return!0}function Bo(e,t,n,r,i,s){if(Oo=s,Mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=null===e||null===e.memoizedState?ma:ga,e=n(r,i),jo){s=0;do{if(jo=!1,!(25>s))throw Error(H(301));s+=1,Vo=Fo=null,t.updateQueue=null,Ro.current=ya,e=n(r,i)}while(jo)}if(Ro.current=pa,t=null!==Fo&&null!==Fo.next,Oo=0,Vo=Fo=Mo=null,Uo=!1,t)throw Error(H(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?Mo.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function Ho(){if(null===Fo){var e=Mo.alternate;e=null!==e?e.memoizedState:null}else e=Fo.next;var t=null===Vo?Mo.memoizedState:Vo.next;if(null!==t)Vo=t,Fo=e;else{if(null===e)throw Error(H(310));e={memoizedState:(Fo=e).memoizedState,baseState:Fo.baseState,baseQueue:Fo.baseQueue,queue:Fo.queue,next:null},null===Vo?Mo.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function Ko(e,t){return"function"==typeof t?t(e):t}function Wo(e){var t=Ho(),n=t.queue;if(null===n)throw Error(H(311));n.lastRenderedReducer=e;var r=Fo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((Oo&u)===u)null!==a&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(o=a=c,s=r):a=a.next=c,Mo.lanes|=u,Sl|=u}l=l.next}while(null!==l&&l!==i);null===a?s=r:a.next=o,Kr(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Go(e){var t=Ho(),n=t.queue;if(null===n)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Kr(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Oo&e)===e)&&(t._workInProgressVersionPrimary=r,Lo.push(t))),e)return n(t._source);throw Lo.push(t),Error(H(350))}function Yo(e,t,n,r){var i=pl;if(null===i)throw Error(H(349));var s=t._getVersion,o=s(t._source),a=Ro.current,l=a.useState((function(){return Qo(i,t,n)})),u=l[1],c=l[0];l=Vo;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var m=Mo;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!Kr(o,e)){e=n(t._source),Kr(c,e)||(u(e),e=Gl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Dn(a),h=1<<l;r[l]|=e,a&=~h}}}),[n,t,r]),a.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Gl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Kr(d,n)&&Kr(p,t)&&Kr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:c}).dispatch=u=da.bind(null,Mo,e),l.queue=e,l.baseQueue=null,c=Qo(i,t,n),l.memoizedState=l.baseState=c),c}function Xo(e,t,n){return Yo(Ho(),e,t,n)}function Zo(e){var t=$o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e}).dispatch=da.bind(null,Mo,e),[t.memoizedState,e]}function Jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Mo.updateQueue)?(t={lastEffect:null},Mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ea(e){return e={current:e},$o().memoizedState=e}function ta(){return Ho().memoizedState}function na(e,t,n,r){var i=$o();Mo.flags|=e,i.memoizedState=Jo(1|t,n,void 0,void 0===r?null:r)}function ra(e,t,n,r){var i=Ho();r=void 0===r?null:r;var s=void 0;if(null!==Fo){var o=Fo.memoizedState;if(s=o.destroy,null!==r&&qo(r,o.deps))return void Jo(t,n,s,r)}Mo.flags|=e,i.memoizedState=Jo(1|t,n,s,r)}function ia(e,t){return na(516,4,e,t)}function sa(e,t){return ra(516,4,e,t)}function oa(e,t){return ra(4,2,e,t)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,aa.bind(null,t,e),n)}function ua(){}function ca(e,t){var n=Ho();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Ho();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t){var n=xs();_s(98>n?98:n,(function(){e(!0)})),_s(97<n?97:n,(function(){var n=Po.transition;Po.transition=1;try{e(!1),t()}finally{Po.transition=n}}))}function da(e,t,n){var r=Wl(),i=Gl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Mo||null!==o&&o===Mo)jo=Uo=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Kr(l,a))return}catch(e){}Ql(e,i,r)}}var pa={readContext:qs,useCallback:zo,useContext:zo,useEffect:zo,useImperativeHandle:zo,useLayoutEffect:zo,useMemo:zo,useReducer:zo,useRef:zo,useState:zo,useDebugValue:zo,useDeferredValue:zo,useTransition:zo,useMutableSource:zo,useOpaqueIdentifier:zo,unstable_isNewReconciler:!1},ma={readContext:qs,useCallback:function(e,t){return $o().memoizedState=[e,void 0===t?null:t],e},useContext:qs,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=da.bind(null,Mo,e),[r.memoizedState,e]},useRef:ea,useState:Zo,useDebugValue:ua,useDeferredValue:function(e){var t=Zo(e),n=t[0],r=t[1];return ia((function(){var t=Po.transition;Po.transition=1;try{r(e)}finally{Po.transition=t}}),[e]),n},useTransition:function(){var e=Zo(!1),t=e[0];return ea(e=fa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=$o();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Yo(r,e,t,n)},useOpaqueIdentifier:function(){if(To){var e=!1,t=function(e){return{$$typeof:be,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ai++).toString(36))),Error(H(355))})),n=Zo(t)[1];return 0==(2&Mo.mode)&&(Mo.flags|=516,Jo(5,(function(){n("r:"+(Ai++).toString(36))}),void 0,null)),t}return Zo(t="r:"+(Ai++).toString(36)),t},unstable_isNewReconciler:!1},ga={readContext:qs,useCallback:ca,useContext:qs,useEffect:sa,useImperativeHandle:la,useLayoutEffect:oa,useMemo:ha,useReducer:Wo,useRef:ta,useState:function(){return Wo(Ko)},useDebugValue:ua,useDeferredValue:function(e){var t=Wo(Ko),n=t[0],r=t[1];return sa((function(){var t=Po.transition;Po.transition=1;try{r(e)}finally{Po.transition=t}}),[e]),n},useTransition:function(){var e=Wo(Ko)[0];return[ta().current,e]},useMutableSource:Xo,useOpaqueIdentifier:function(){return Wo(Ko)[0]},unstable_isNewReconciler:!1},ya={readContext:qs,useCallback:ca,useContext:qs,useEffect:sa,useImperativeHandle:la,useLayoutEffect:oa,useMemo:ha,useReducer:Go,useRef:ta,useState:function(){return Go(Ko)},useDebugValue:ua,useDeferredValue:function(e){var t=Go(Ko),n=t[0],r=t[1];return sa((function(){var t=Po.transition;Po.transition=1;try{r(e)}finally{Po.transition=t}}),[e]),n},useTransition:function(){var e=Go(Ko)[0];return[ta().current,e]},useMutableSource:Xo,useOpaqueIdentifier:function(){return Go(Ko)[0]},unstable_isNewReconciler:!1},va=oe.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?uo(t,null,n,r):lo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return zs(t,i),r=Bo(e,t,n,r,s,i),null===e||wa?(t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,za(e,t,i))}function Sa(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||xu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_u(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?za(e,t,s):(t.flags|=1,(e=Iu(o,r)).ref=t.ref,e.return=t,t.child=e)}function ka(e,t,n,r,i,s){if(null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref){if(wa=!1,0==(s&i))return t.lanes=e.lanes,za(e,t,s);0!=(16384&e.flags)&&(wa=!0)}return xa(e,t,n,r,s)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ru(t,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ru(t,e),null;t.memoizedState={baseLanes:0},ru(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ru(t,r);return ba(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function xa(e,t,n,r,i){var s=Ji(n)?Xi:Qi.current;return s=Zi(t,s),zs(t,i),n=Bo(e,t,n,r,s,i),null===e||wa?(t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,za(e,t,i))}function Ia(e,t,n,r,i){if(Ji(n)){var s=!0;rs(t)}else s=!1;if(zs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),to(t,n,r),ro(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=qs(u):u=Zi(t,u=Ji(n)?Xi:Qi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&no(t,o,r,u),Bs=!1;var f=t.memoizedState;o.state=f,Qs(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Yi.current||Bs?("function"==typeof c&&(Zs(t,n,c,r),l=t.memoizedState),(a=Bs||eo(t,n,a,r,f,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Hs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Rs(t.type,a),o.props=u,h=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=qs(l):l=Zi(t,l=Ji(n)?Xi:Qi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||f!==l)&&no(t,o,r,l),Bs=!1,f=t.memoizedState,o.state=f,Qs(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||Yi.current||Bs?("function"==typeof d&&(Zs(t,n,d,r),p=t.memoizedState),(u=Bs||eo(t,n,u,r,f,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return _a(e,t,n,r,s,i)}function _a(e,t,n,r,i,s){Ca(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&is(t,n,!1),za(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=lo(t,e.child,null,s),t.child=lo(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&is(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?ts(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ts(0,t.context,!1),go(e,t.containerInfo)}var Da,La,Aa,Ra={dehydrated:null,retryLane:0};function Pa(e,t,n){var r,i=t.pendingProps,s=bo.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),Wi(bo,1&s),null===e?(void 0!==i.fallback&&Io(t),e=i.children,s=i.fallback,o?(e=Oa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ra,e):"number"==typeof i.unstable_expectedLoadTime?(e=Oa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ra,t.lanes=33554432,e):((n=Du({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Fa(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Ra,i):(n=Ma(e,t,i.children,n),t.memoizedState=null,n))}function Oa(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Du(t,i,0,null),n=Nu(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Ma(e,t,n,r){var i=e.child;return e=i.sibling,n=Iu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fa(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Iu(o,a),null!==e?r=Iu(e,r):(r=Nu(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Va(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),js(e.return,t)}function Ua(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!=(2&(r=bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n);else if(19===e.tag)Va(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wi(bo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,s,t.lastEffect);break;case"together":Ua(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(H(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function qa(e,t){if(!To)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ba(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ji(t.type)&&es(),null;case 3:return yo(),Ki(Yi),Ki(Qi),Ao(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(No(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:wo(t);var i=mo(po.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(H(166));return null}if(e=mo(ho.current),No(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pi]=t,r[Oi]=s,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(e=0;e<li.length;e++)fi(li[e],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":Ue(r,s),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fi("invalid",r);break;case"textarea":We(r,s),fi("invalid",r)}for(var o in ut(n,s),e=null,s)s.hasOwnProperty(o)&&(i=s[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):W.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&fi("scroll",r));switch(n){case"input":Oe(r),qe(r,s,!0);break;case"textarea":Oe(r),Qe(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Si)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,e===Ye&&(e=Ze(n)),e===Ye?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pi]=t,e[Oi]=r,Da(e,t),t.stateNode=e,o=ct(n,r),n){case"dialog":fi("cancel",e),fi("close",e),i=r;break;case"iframe":case"object":case"embed":fi("load",e),i=r;break;case"video":case"audio":for(i=0;i<li.length;i++)fi(li[i],e);i=r;break;case"source":fi("error",e),i=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),i=r;break;case"details":fi("toggle",e),i=r;break;case"input":Ue(e,r),i=Ve(e,r),fi("invalid",e);break;case"option":i=$e(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),fi("invalid",e);break;case"textarea":We(e,r),i=Ke(e,r),fi("invalid",e);break;default:i=r}ut(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?at(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&nt(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&rt(e,l):"number"==typeof l&&rt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(W.hasOwnProperty(s)?null!=l&&"onScroll"===s&&fi("scroll",e):null!=l&&se(e,s,l,o))}switch(n){case"input":Oe(e),qe(e,r,!1);break;case"textarea":Oe(e),Qe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Re(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?He(e,!!r.multiple,s,!1):null!=r.defaultValue&&He(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Si)}Ci(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Aa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(H(166));n=mo(po.current),mo(ho.current),No(t)?(r=t.stateNode,n=t.memoizedProps,r[Pi]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Pi]=t,t.stateNode=r)}return null;case 13:return Ki(bo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&No(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&bo.current)?0===wl&&(wl=3):(0!==wl&&3!==wl||(wl=4),null===pl||0==(134217727&Sl)&&0==(134217727&kl)||Jl(pl,gl))),(r||n)&&(t.flags|=4),null);case 4:return yo(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return Us(t),null;case 17:return Ji(t.type)&&es(),null;case 19:if(Ki(bo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(o=r.rendering))if(s)qa(r,!1);else{if(0!==wl||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Eo(e))){for(t.flags|=64,qa(r,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wi(bo,1&bo.current|2),t.child}e=e.sibling}null!==r.tail&&Cs()>Il&&(t.flags|=64,s=!0,qa(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Eo(o))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!To)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Cs()-r.renderingStartTime>Il&&1073741824!==n&&(t.flags|=64,s=!0,qa(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Cs(),n.sibling=null,t=bo.current,Wi(bo,s?1&t|2:1&t),n):null;case 23:case 24:return iu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(H(156,t.tag))}function $a(e){switch(e.tag){case 1:Ji(e.type)&&es();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(yo(),Ki(Yi),Ki(Qi),Ao(),0!=(64&(t=e.flags)))throw Error(H(285));return e.flags=-4097&t|64,e;case 5:return wo(e),null;case 13:return Ki(bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ki(bo),null;case 4:return yo(),null;case 10:return Us(e),null;case 23:case 24:return iu(),null;default:return null}}function Ha(e,t){try{var n="",r=t;do{n+=Le(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mo(ho.current);var s,o=null;switch(n){case"input":i=Ve(e,i),r=Ve(e,r),o=[];break;case"option":i=$e(e,i),r=$e(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=Ke(e,i),r=Ke(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Si)}for(u in ut(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(W.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(W.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&fi("scroll",e),o||a===l||(o=[])):"object"==typeof l&&null!==l&&l.$$typeof===be?l.toString():(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ka="function"==typeof WeakMap?WeakMap:Map;function Wa(e,t,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Al=r)},n}function Ga(e,t,n){(n=Ks(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Rl?Rl=new Set([this]):Rl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Qa="function"==typeof WeakSet?WeakSet:Set;function Ya(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Eu(e,t)}else t.current=null}function Xa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Rs(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ni(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(H(163))}function Za(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(vu(n,e),yu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Rs(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Ys(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Ys(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ci(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ln(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function Ja(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ot("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function el(e,t){if(os&&"function"==typeof os.onCommitFiberUnmount)try{os.onCommitFiberUnmount(ss,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))vu(t,n);else{r=t;try{i()}catch(e){Eu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Ya(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Eu(t,e)}break;case 5:Ya(t);break;case 4:ol(e,t)}}function tl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:{for(var t=e.return;null!==t;){if(nl(t))break e;t=t.return}throw Error(H(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(H(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||nl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?il(e,n,t):sl(e,n,t)}function il(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Si));else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ol(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(H(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var o=e,a=i,l=a;;)if(el(o,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===a)break e;for(;null===l.sibling;){if(null===l.return||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(o=n,a=i.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(el(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function al(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Oi]=r,"input"===e&&"radio"===r.type&&null!=r.name&&je(n,r),ct(e,i),t=ct(e,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];"style"===o?at(n,a):"dangerouslySetInnerHTML"===o?nt(n,a):"children"===o?rt(n,a):se(n,o,a,t)}switch(e){case"input":ze(n,r);break;case"textarea":Ge(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?He(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?He(n,!!r.multiple,r.defaultValue,!0):He(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(H(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,ln(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(xl=Cs(),Ja(t.child,!0)),void ll(t);case 19:return void ll(t);case 17:return;case 23:case 24:return void Ja(t,null!==t.memoizedState)}throw Error(H(163))}function ll(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ul(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var cl=Math.ceil,hl=oe.ReactCurrentDispatcher,fl=oe.ReactCurrentOwner,dl=0,pl=null,ml=null,gl=0,yl=0,vl=Hi(0),wl=0,bl=null,El=0,Sl=0,kl=0,Tl=0,Cl=null,xl=0,Il=1/0;function _l(){Il=Cs()+500}var Nl,Dl=null,Ll=!1,Al=null,Rl=null,Pl=!1,Ol=null,Ml=90,Fl=[],Vl=[],Ul=null,jl=0,zl=null,ql=-1,Bl=0,$l=0,Hl=null,Kl=!1;function Wl(){return 0!=(48&dl)?Cs():-1!==ql?ql:ql=Cs()}function Gl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===xs()?1:2;if(0===Bl&&(Bl=El),0!==As.transition){0!==$l&&($l=null!==Cl?Cl.pendingLanes:0),e=Bl;var t=4186112&~$l;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=xs(),0!=(4&dl)&&98===e?e=xn(12,Bl):e=xn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Bl),e}function Ql(e,t,n){if(50<jl)throw jl=0,zl=null,Error(H(185));if(null===(e=Yl(e,t)))return null;Nn(e,t,n),e===pl&&(kl|=t,4===wl&&Jl(e,gl));var r=xs();1===t?0!=(8&dl)&&0==(48&dl)?eu(e):(Xl(e,n),0===dl&&(_l(),Ds())):(0==(4&dl)||98!==r&&99!==r||(null===Ul?Ul=new Set([e]):Ul.add(e)),Xl(e,n)),Cl=e}function Yl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Xl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Dn(o),l=1<<a,u=s[a];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,kn(l);var c=Sn;s[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);o&=~l}if(r=Tn(e,e===pl?gl:0),t=Sn,0===r)null!==n&&(n!==ws&&us(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ws&&us(n)}15===t?(n=eu.bind(null,e),null===Es?(Es=[n],Ss=ls(ps,Ls)):Es.push(n),n=ws):14===t?n=Ns(99,eu.bind(null,e)):n=Ns(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,e))}}(t),Zl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zl(e){if(ql=-1,$l=Bl=0,0!=(48&dl))throw Error(H(327));var t=e.callbackNode;if(gu()&&e.callbackNode!==t)return null;var n=Tn(e,e===pl?gl:0);if(0===n)return null;var r=n,i=dl;dl|=16;var s=au();for(pl===e&&gl===r||(_l(),su(e,r));;)try{cu();break}catch(t){ou(e,t)}if(Vs(),hl.current=s,dl=i,null!==ml?r=0:(pl=null,gl=0,r=wl),0!=(El&kl))su(e,0);else if(0!==r){if(2===r&&(dl|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(n=Cn(e))&&(r=lu(e,n))),1===r)throw t=bl,su(e,0),Jl(e,n),Xl(e,Cs()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:du(e);break;case 3:if(Jl(e,n),(62914560&n)===n&&10<(r=xl+500-Cs())){if(0!==Tn(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Wl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ii(du.bind(null,e),r);break}du(e);break;case 4:if(Jl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Dn(n);s=1<<o,(o=r[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=Cs()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cl(n/1960))-n)){e.timeoutHandle=Ii(du.bind(null,e),n);break}du(e);break;case 5:du(e);break;default:throw Error(H(329))}}return Xl(e,Cs()),e.callbackNode===t?Zl.bind(null,e):null}function Jl(e,t){for(t&=~Tl,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function eu(e){if(0!=(48&dl))throw Error(H(327));if(gu(),e===pl&&0!=(e.expiredLanes&gl)){var t=gl,n=lu(e,t);0!=(El&kl)&&(n=lu(e,t=Tn(e,t)))}else n=lu(e,t=Tn(e,0));if(0!==e.tag&&2===n&&(dl|=64,e.hydrate&&(e.hydrate=!1,Ni(e.containerInfo)),0!==(t=Cn(e))&&(n=lu(e,t))),1===n)throw n=bl,su(e,0),Jl(e,t),Xl(e,Cs()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,du(e),Xl(e,Cs()),null}function tu(e,t){var n=dl;dl|=1;try{return e(t)}finally{0===(dl=n)&&(_l(),Ds())}}function nu(e,t){var n=dl;dl&=-2,dl|=8;try{return e(t)}finally{0===(dl=n)&&(_l(),Ds())}}function ru(e,t){Wi(vl,yl),yl|=t,El|=t}function iu(){yl=vl.current,Ki(vl)}function su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_i(n)),null!==ml)for(n=ml.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&es();break;case 3:yo(),Ki(Yi),Ki(Qi),Ao();break;case 5:wo(r);break;case 4:yo();break;case 13:case 19:Ki(bo);break;case 10:Us(r);break;case 23:case 24:iu()}n=n.return}pl=e,ml=Iu(e.current,null),gl=yl=El=t,wl=0,bl=null,Tl=kl=Sl=0}function ou(e,t){for(;;){var n=ml;try{if(Vs(),Ro.current=pa,Uo){for(var r=Mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Uo=!1}if(Oo=0,Vo=Fo=Mo=null,jo=!1,fl.current=null,null===n||null===n.return){wl=1,bl=t,ml=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=gl,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&bo.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(u),f.updateQueue=y}else g.add(u);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Ks(-1,1);v.tag=2,Ws(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new Ka,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Su.bind(null,s,u,a);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((Ae(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wl&&(wl=2),l=Ha(l,a),f=o;do{switch(f.tag){case 3:s=l,f.flags|=4096,t&=-t,f.lanes|=t,Gs(f,Wa(0,s,t));break e;case 1:s=l;var E=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Rl||!Rl.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,Gs(f,Ga(f,s,t));break e}}f=f.return}while(null!==f)}fu(n)}catch(e){t=e,ml===n&&null!==n&&(ml=n=n.return);continue}break}}function au(){var e=hl.current;return hl.current=pa,null===e?pa:e}function lu(e,t){var n=dl;dl|=16;var r=au();for(pl===e&&gl===t||su(e,t);;)try{uu();break}catch(t){ou(e,t)}if(Vs(),dl=n,hl.current=r,null!==ml)throw Error(H(261));return pl=null,gl=0,wl}function uu(){for(;null!==ml;)hu(ml)}function cu(){for(;null!==ml&&!cs();)hu(ml)}function hu(e){var t=Nl(e.alternate,e,yl);e.memoizedProps=e.pendingProps,null===t?fu(e):ml=t,fl.current=null}function fu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Ba(n,t,yl)))return void(ml=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&yl)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=$a(t)))return n.flags&=2047,void(ml=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ml=t);ml=t=e}while(null!==t);0===wl&&(wl=5)}function du(e){var t=xs();return _s(99,pu.bind(null,e,t)),null}function pu(e,t){do{gu()}while(null!==Ol);if(0!=(48&dl))throw Error(H(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,a=e.expirationTimes;0<s;){var l=31-Dn(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(null!==Ul&&0==(24&r)&&Ul.has(e)&&Ul.delete(e),e===pl&&(ml=pl=null,gl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=dl,dl|=32,fl.current=null,ki=On,Jr(o=Zr())){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&0!==u.rangeCount){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch(e){a=null;break e}var c=0,h=-1,f=-1,d=0,p=0,m=o,g=null;t:for(;;){for(var y;m!==a||0!==s&&3!==m.nodeType||(h=c+s),m!==l||0!==u&&3!==m.nodeType||(f=c+u),3===m.nodeType&&(c+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===o)break t;if(g===a&&++d===s&&(h=c),g===l&&++p===u&&(f=c),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}a=-1===h||-1===f?null:{start:h,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;Ti={focusedElem:o,selectionRange:a},On=!1,Hl=null,Kl=!1,Dl=r;do{try{mu()}catch(e){if(null===Dl)throw Error(H(330));Eu(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);Hl=null,Dl=r;do{try{for(o=e;null!==Dl;){var v=Dl.flags;if(16&v&&rt(Dl.stateNode,""),128&v){var w=Dl.alternate;if(null!==w){var b=w.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(1038&v){case 2:rl(Dl),Dl.flags&=-3;break;case 6:rl(Dl),Dl.flags&=-3,al(Dl.alternate,Dl);break;case 1024:Dl.flags&=-1025;break;case 1028:Dl.flags&=-1025,al(Dl.alternate,Dl);break;case 4:al(Dl.alternate,Dl);break;case 8:ol(o,a=Dl);var E=a.alternate;tl(a),null!==E&&tl(E)}Dl=Dl.nextEffect}}catch(e){if(null===Dl)throw Error(H(330));Eu(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);if(b=Ti,w=Zr(),v=b.focusedElem,o=b.selectionRange,w!==v&&v&&v.ownerDocument&&Xr(v.ownerDocument.documentElement,v)){null!==o&&Jr(v)&&(w=o.start,void 0===(b=o.end)&&(b=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(b,v.value.length)):(b=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),a=v.textContent.length,E=Math.min(o.start,a),o=void 0===o.end?E:Math.min(o.end,a),!b.extend&&E>o&&(a=o,o=E,E=a),a=Yr(v,E),s=Yr(v,o),a&&s&&(1!==b.rangeCount||b.anchorNode!==a.node||b.anchorOffset!==a.offset||b.focusNode!==s.node||b.focusOffset!==s.offset)&&((w=w.createRange()).setStart(a.node,a.offset),b.removeAllRanges(),E>o?(b.addRange(w),b.extend(s.node,s.offset)):(w.setEnd(s.node,s.offset),b.addRange(w))))),w=[];for(b=v;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(b=w[v]).element.scrollLeft=b.left,b.element.scrollTop=b.top}On=!!ki,Ti=ki=null,e.current=n,Dl=r;do{try{for(v=e;null!==Dl;){var S=Dl.flags;if(36&S&&Za(v,Dl.alternate,Dl),128&S){w=void 0;var k=Dl.ref;if(null!==k){var T=Dl.stateNode;switch(Dl.tag){case 5:w=T;break;default:w=T}"function"==typeof k?k(w):k.current=w}}Dl=Dl.nextEffect}}catch(e){if(null===Dl)throw Error(H(330));Eu(Dl,e),Dl=Dl.nextEffect}}while(null!==Dl);Dl=null,bs(),dl=i}else e.current=n;if(Pl)Pl=!1,Ol=e,Ml=t;else for(Dl=r;null!==Dl;)t=Dl.nextEffect,Dl.nextEffect=null,8&Dl.flags&&((S=Dl).sibling=null,S.stateNode=null),Dl=t;if(0===(r=e.pendingLanes)&&(Rl=null),1===r?e===zl?jl++:(jl=0,zl=e):jl=0,n=n.stateNode,os&&"function"==typeof os.onCommitFiberRoot)try{os.onCommitFiberRoot(ss,n,void 0,64==(64&n.current.flags))}catch(e){}if(Xl(e,Cs()),Ll)throw Ll=!1,e=Al,Al=null,e;return 0!=(8&dl)||Ds(),null}function mu(){for(;null!==Dl;){var e=Dl.alternate;Kl||null===Hl||(0!=(8&Dl.flags)?Ut(Dl,Hl)&&(Kl=!0):13===Dl.tag&&ul(e,Dl)&&Ut(Dl,Hl)&&(Kl=!0));var t=Dl.flags;0!=(256&t)&&Xa(e,Dl),0==(512&t)||Pl||(Pl=!0,Ns(97,(function(){return gu(),null}))),Dl=Dl.nextEffect}}function gu(){if(90!==Ml){var e=97<Ml?97:Ml;return Ml=90,_s(e,wu)}return!1}function yu(e,t){Fl.push(t,e),Pl||(Pl=!0,Ns(97,(function(){return gu(),null})))}function vu(e,t){Vl.push(t,e),Pl||(Pl=!0,Ns(97,(function(){return gu(),null})))}function wu(){if(null===Ol)return!1;var e=Ol;if(Ol=null,0!=(48&dl))throw Error(H(331));var t=dl;dl|=32;var n=Vl;Vl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(e){if(null===s)throw Error(H(330));Eu(s,e)}}for(n=Fl,Fl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(e){if(null===s)throw Error(H(330));Eu(s,e)}}for(a=e.current.firstEffect;null!==a;)e=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=e;return dl=t,Ds(),!0}function bu(e,t,n){Ws(e,t=Wa(0,t=Ha(n,t),1)),t=Wl(),null!==(e=Yl(e,1))&&(Nn(e,1,t),Xl(e,t))}function Eu(e,t){if(3===e.tag)bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Rl||!Rl.has(r))){var i=Ga(n,e=Ha(t,e),1);if(Ws(n,i),i=Wl(),null!==(n=Yl(n,1)))Nn(n,1,i),Xl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Rl||!Rl.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Wl(),e.pingedLanes|=e.suspendedLanes&n,pl===e&&(gl&n)===n&&(4===wl||3===wl&&(62914560&gl)===gl&&500>Cs()-xl?su(e,0):Tl|=n),Xl(e,t)}function ku(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===xs()?1:2:(0===Bl&&(Bl=El),0===(t=In(62914560&~Bl))&&(t=4194304))),n=Wl(),null!==(e=Yl(e,t))&&(Nn(e,t,n),Xl(e,n))}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Cu(e,t,n,r){return new Tu(e,t,n,r)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Cu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _u(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)xu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case ue:return Nu(n.children,i,s,t);case Ee:o=8,i|=16;break;case ce:o=8,i|=1;break;case he:return(e=Cu(12,n,t,8|i)).elementType=he,e.type=he,e.lanes=s,e;case me:return(e=Cu(13,n,t,i)).type=me,e.elementType=me,e.lanes=s,e;case ge:return(e=Cu(19,n,t,i)).elementType=ge,e.lanes=s,e;case Se:return Du(n,i,s,t);case ke:return(e=Cu(24,n,t,i)).elementType=ke,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fe:o=10;break e;case de:o=9;break e;case pe:o=11;break e;case ye:o=14;break e;case ve:o=16,r=null;break e;case we:o=22;break e}throw Error(H(130,null==e?e:typeof e,""))}return(t=Cu(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Nu(e,t,n,r){return(e=Cu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Cu(23,e,r,t)).elementType=Se,e.lanes=n,e}function Lu(e,t,n){return(e=Cu(6,e,null,t)).lanes=n,e}function Au(e,t,n){return(t=Cu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ru(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_n(0),this.expirationTimes=_n(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.mutableSourceEagerHydrationData=null}function Pu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:le,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ou(e,t,n,r){var i=t.current,s=Wl(),o=Gl(i);e:if(n){t:{if(Ot(n=n._reactInternals)!==n||1!==n.tag)throw Error(H(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ji(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(H(171))}if(1===n.tag){var l=n.type;if(Ji(l)){n=ns(n,l,a);break e}}n=a}else n=Gi;return null===t.context?t.context=n:t.pendingContext=n,(t=Ks(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ws(i,t),Ql(i,o,s),o}function Mu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}function Uu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ru(e,t,null!=n&&!0===n.hydrate),t=Cu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,$s(t),e[Mi]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Mu(o);a.call(e)}}Ou(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Mu(o);l.call(e)}}nu((function(){Ou(t,o,e,i)}))}return Mu(o)}function qu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ju(t))throw Error(H(200));return Pu(e,t,null,n)}Nl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Yi.current)wa=!0;else{if(0==(n&r)){switch(wa=!1,t.tag){case 3:Na(t),Do();break;case 5:vo(t);break;case 1:Ji(t.type)&&rs(t);break;case 4:go(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Wi(Ps,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Pa(e,t,n):(Wi(bo,1&bo.current),null!==(t=za(e,t,n))?t.sibling:null);Wi(bo,1&bo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wi(bo,bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ta(e,t,n)}return za(e,t,n)}wa=0!=(16384&e.flags)}else wa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Zi(t,Qi.current),zs(t,n),i=Bo(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ji(r)){var s=!0;rs(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&Zs(t,r,o,e),i.updater=Js,t.stateNode=i,i._reactInternals=t,ro(t,r,e,n),t=_a(null,t,r,!0,s,n)}else t.tag=0,ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return xu(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===ye)return 14}return 2}(i),e=Rs(i,e),s){case 0:t=xa(null,t,i,e,n);break e;case 1:t=Ia(null,t,i,e,n);break e;case 11:t=Ea(null,t,i,e,n);break e;case 14:t=Sa(null,t,i,Rs(i.type,e),r,n);break e}throw Error(H(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:Rs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Rs(r,i),n);case 3:if(Na(t),r=t.updateQueue,null===e||null===r)throw Error(H(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Hs(e,t),Qs(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=za(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(ko=Di(t.stateNode.containerInfo.firstChild),So=t,s=To=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Lo.push(s);for(n=uo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ba(e,t,r,n),Do();t=t.child}return t;case 5:return vo(t),null===e&&Io(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,xi(r,i)?o=null:null!==s&&xi(r,s)&&(t.flags|=16),Ca(e,t),ba(e,t,o,n),t.child;case 6:return null===e&&Io(t),null;case 13:return Pa(e,t,n);case 4:return go(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=lo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:Rs(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var a=t.type._context;if(Wi(Ps,a._currentValue),a._currentValue=s,null!==o)if(a=o.value,0===(s=Kr(a,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,s):1073741823))){if(o.children===i.children&&!Yi.current){t=za(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&s)){1===a.tag&&((u=Ks(-1,n&-n)).tag=2,Ws(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),js(a.return,n),l.lanes|=n;break}u=u.next}}else o=10===a.tag&&a.type===t.type?null:a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,zs(t,n),r=r(i=qs(i,s.unstable_observedBits)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return s=Rs(i=t.type,t.pendingProps),Sa(e,t,i,s=Rs(i.type,s),r,n);case 15:return ka(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rs(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ji(r)?(e=!0,rs(t)):e=!1,zs(t,n),to(t,r,i),ro(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 23:case 24:return Ta(e,t,n)}throw Error(H(156,t.tag))},Uu.prototype.render=function(e){Ou(e,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ou(null,e,null,(function(){t[Mi]=null}))},jt=function(e){13===e.tag&&(Ql(e,4,Wl()),Vu(e,4))},zt=function(e){13===e.tag&&(Ql(e,67108864,Wl()),Vu(e,67108864))},qt=function(e){if(13===e.tag){var t=Wl(),n=Gl(e);Ql(e,n,t),Vu(e,n)}},Bt=function(e,t){return t()},ft=function(e,t,n){switch(t){case"input":if(ze(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zi(r);if(!i)throw Error(H(90));Me(r),ze(r,i)}}}break;case"textarea":Ge(e,n);break;case"select":null!=(t=n.value)&&He(e,!!n.multiple,t,!1)}},vt=tu,wt=function(e,t,n,r,i){var s=dl;dl|=4;try{return _s(98,e.bind(null,t,n,r,i))}finally{0===(dl=s)&&(_l(),Ds())}},bt=function(){0==(49&dl)&&(function(){if(null!==Ul){var e=Ul;Ul=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Xl(e,Cs())}))}Ds()}(),gu())},Et=function(e,t){var n=dl;dl|=2;try{return e(t)}finally{0===(dl=n)&&(_l(),Ds())}};var Bu={Events:[Ui,ji,zi,gt,yt,gu,{current:!1}]},$u={findFiberByHostInstance:Vi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hu={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Vt(e))?null:e.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ss=Ku.inject(Hu),os=Ku}catch(tt){}}U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bu,U.createPortal=qu,U.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(H(188));throw Error(H(268,Object.keys(e)))}return e=null===(e=Vt(t))?null:e.stateNode},U.flushSync=function(e,t){var n=dl;if(0!=(48&n))return e(t);dl|=1;try{if(e)return _s(99,e.bind(null,t))}finally{dl=n,Ds()}},U.hydrate=function(e,t,n){if(!ju(t))throw Error(H(200));return zu(null,e,t,!0,n)},U.render=function(e,t,n){if(!ju(t))throw Error(H(200));return zu(null,e,t,!1,n)},U.unmountComponentAtNode=function(e){if(!ju(e))throw Error(H(40));return!!e._reactRootContainer&&(nu((function(){zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mi]=null}))})),!0)},U.unstable_batchedUpdates=tu,U.unstable_createPortal=function(e,t){return qu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},U.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ju(n))throw Error(H(200));if(null==e||void 0===e._reactInternals)throw Error(H(38));return zu(e,t,n,!1,r)},U.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),V.exports=U;var Wu=V.exports,Gu=function(e,t){return(Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Qu(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function Yu(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function Xu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function Ju(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}var ec=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function tc(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nc(){return!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var rc=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ic.prototype.create),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),ic=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?sc(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new rc(i,a,r);return l},e}();function sc(e,t){return e.replace(oc,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var oc=/\{\$([^}]+)}/g;function ac(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){var o=s[i];if(!r.includes(o))return!1;var a=e[o],l=t[o];if(lc(a)&&lc(l)){if(!ac(a,l))return!1}else if(a!==l)return!1}for(var u=0,c=r;u<c.length;u++){o=c[u];if(!n.includes(o))return!1}return!0}function lc(e){return null!==e&&"object"==typeof e}function uc(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function cc(e){return e&&e._delegate?e._delegate:e}var hc=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),fc="[DEFAULT]",dc=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ec;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fc})}catch(e){}try{for(var r=Xu(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=Zu(i.value,2),o=s[0],a=s[1],l=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=fc),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ju(Ju([],Zu(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Zu(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=fc),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var a=Xu(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var u=Zu(l.value,2),c=u[0],h=u[1];s===this.normalizeInstanceIdentifier(c)&&h.resolve(o)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=Xu(i),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===fc?void 0:t),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=fc),this.component?this.component.multipleInstances?e:fc:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var pc,mc,gc=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new dc(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function yc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mc||(mc={}));var vc={debug:mc.DEBUG,verbose:mc.VERBOSE,info:mc.INFO,warn:mc.WARN,error:mc.ERROR,silent:mc.SILENT},wc=mc.INFO,bc=((pc={})[mc.DEBUG]="log",pc[mc.VERBOSE]="log",pc[mc.INFO]="info",pc[mc.WARN]="warn",pc[mc.ERROR]="error",pc),Ec=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){(new Date).toISOString();var i=bc[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Sc=function(){function e(e){this.name=e,this._logLevel=wc,this._logHandler=Ec,this._userLogHandler=null}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in mc))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?vc[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,yc([this,mc.DEBUG],e)),this._logHandler.apply(this,yc([this,mc.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,yc([this,mc.VERBOSE],e)),this._logHandler.apply(this,yc([this,mc.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,yc([this,mc.INFO],e)),this._logHandler.apply(this,yc([this,mc.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,yc([this,mc.WARN],e)),this._logHandler.apply(this,yc([this,mc.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,yc([this,mc.ERROR],e)),this._logHandler.apply(this,yc([this,mc.ERROR],e))},e}();class kc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Tc="@firebase/app-exp",Cc=new Sc("@firebase/app"),xc="[DEFAULT]",Ic={[Tc]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics-exp":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check-exp":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth-exp":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions-exp":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations-exp":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging-exp":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance-exp":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config-exp":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js","firebase-exp":"fire-js-all"},_c=new Map,Nc=new Map;function Dc(e,t){try{e.container.addComponent(t)}catch(n){Cc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Lc(e){const t=e.name;if(Nc.has(t))return Cc.debug(`There were multiple attempts to register component ${t}.`),!1;Nc.set(t,e);for(const t of _c.values())Dc(t,e);return!0}function Ac(e,t){return e.container.getProvider(t)}const Rc=new ic("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Pc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hc("app-exp",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rc.create("app-deleted",{appName:this._name})}}const Oc="9.0.0-beta.8";function Mc(e="[DEFAULT]"){const t=_c.get(e);if(!t)throw Rc.create("no-app",{appName:e});return t}function Fc(e,t,n){var r;let i=null!==(r=Ic[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Cc.warn(e.join(" "))}Lc(new hc(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}var Vc;Lc(new hc("platform-logger",(e=>new kc(e)),"PRIVATE")),Fc(Tc,"0.0.900-exp.8b4d7550f",Vc),Fc("fire-js","");var Uc=function(e,t){return(Uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function jc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zc,qc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bc=Bc||{},$c=qc||self;function Hc(){}function Kc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Wc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gc="closure_uid_"+(1e9*Math.random()>>>0),Qc=0;function Yc(e,t,n){return e.call.apply(e.bind,arguments)}function Xc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zc(e,t,n){return(Zc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yc:Xc).apply(null,arguments)}function Jc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function eh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function th(){this.s=this.s,this.o=this.o}var nh={};th.prototype.s=!1,th.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Gc)&&e[Gc]||(e[Gc]=++Qc)}(this);delete nh[e]}},th.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ih=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function sh(e){return Array.prototype.concat.apply([],arguments)}function oh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ah(e){return/^[\s\xa0]*$/.test(e)}var lh,uh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ch(e,t){return-1!=e.indexOf(t)}function hh(e,t){return e<t?-1:e>t?1:0}e:{var fh=$c.navigator;if(fh){var dh=fh.userAgent;if(dh){lh=dh;break e}}lh=""}function ph(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mh(e){var t={};for(var n in e)t[n]=e[n];return t}var gh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<gh.length;s++)n=gh[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vh(e){return vh[" "](e),e}vh[" "]=Hc;var wh,bh=ch(lh,"Opera"),Eh=ch(lh,"Trident")||ch(lh,"MSIE"),Sh=ch(lh,"Edge"),kh=Sh||Eh,Th=ch(lh,"Gecko")&&!(ch(lh.toLowerCase(),"webkit")&&!ch(lh,"Edge"))&&!(ch(lh,"Trident")||ch(lh,"MSIE"))&&!ch(lh,"Edge"),Ch=ch(lh.toLowerCase(),"webkit")&&!ch(lh,"Edge");function xh(){var e=$c.document;return e?e.documentMode:void 0}e:{var Ih="",_h=function(){var e=lh;return Th?/rv:([^\);]+)(\)|;)/.exec(e):Sh?/Edge\/([\d\.]+)/.exec(e):Eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ch?/WebKit\/(\S+)/.exec(e):bh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_h&&(Ih=_h?_h[1]:""),Eh){var Nh=xh();if(null!=Nh&&Nh>parseFloat(Ih)){wh=String(Nh);break e}}wh=Ih}var Dh,Lh={};function Ah(){return function(e){var t=Lh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=uh(String(wh)).split("."),n=uh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=hh(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||hh(0==s[2].length,0==o[2].length)||hh(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}))}if($c.document&&Eh){var Rh=xh();Dh=Rh||(parseInt(wh,10)||void 0)}else Dh=void 0;var Ph=Dh,Oh=function(){if(!$c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$c.addEventListener("test",Hc,t),$c.removeEventListener("test",Hc,t)}catch(e){}return e}();function Mh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fh(e,t){if(Mh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Th){e:{try{vh(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fh.Z.h.call(this)}}Mh.prototype.h=function(){this.defaultPrevented=!0},eh(Fh,Mh);var Vh={2:"touch",3:"pen",4:"mouse"};Fh.prototype.h=function(){Fh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Uh="closure_listenable_"+(1e6*Math.random()|0),jh=0;function zh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jh,this.ca=this.fa=!1}function qh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bh(e){this.src=e,this.g={},this.h=0}function $h(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=rh(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(qh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Hh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Bh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Hh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zh(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Kh="closure_lm_"+(1e6*Math.random()|0),Wh={};function Gh(e,t,n,r,i){if(r&&r.once)return Yh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gh(e,t[s],n,r,i);return null}return n=rf(n),e&&e[Uh]?e.N(t,n,Wc(r)?!!r.capture:!!r,i):Qh(e,t,n,!1,r,i)}function Qh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Wc(i)?!!i.capture:!!i,a=tf(e);if(a||(e[Kh]=a=new Bh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ef;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Oh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Yh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Yh(e,t[s],n,r,i);return null}return n=rf(n),e&&e[Uh]?e.O(t,n,Wc(r)?!!r.capture:!!r,i):Qh(e,t,n,!0,r,i)}function Xh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Xh(e,t[s],n,r,i);else r=Wc(r)?!!r.capture:!!r,n=rf(n),e&&e[Uh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Hh(s=e.g[t],n,r,i))&&(qh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=tf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Hh(t,n,r,i)),(n=-1<e?t[e]:null)&&Zh(n))}function Zh(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Uh])$h(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tf(t))?($h(n,e),0==n.h&&(n.src=null,t[Kh]=null)):qh(e)}}}function Jh(e){return e in Wh?Wh[e]:Wh[e]="on"+e}function ef(e,t){if(e.ca)e=!0;else{t=new Fh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zh(e),e=n.call(r,t)}return e}function tf(e){return(e=e[Kh])instanceof Bh?e:null}var nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function rf(e){return"function"==typeof e?e:(e[nf]||(e[nf]=function(t){return e.handleEvent(t)}),e[nf])}function sf(){th.call(this),this.i=new Bh(this),this.P=this,this.I=null}function of(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Mh(t,e);else if(t instanceof Mh)t.target=t.target||e;else{var i=t;yh(t=new Mh(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=af(o,r,!0,t)&&i}if(i=af(o=t.g=e,r,!0,t)&&i,i=af(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=af(o=t.g=n[s],r,!1,t)&&i}function af(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&$h(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}eh(sf,th),sf.prototype[Uh]=!0,sf.prototype.removeEventListener=function(e,t,n,r){Xh(this,e,t,n,r)},sf.prototype.M=function(){if(sf.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qh(n[r]);delete t.g[e],t.h--}}this.I=null},sf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},sf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var lf=$c.JSON.stringify;function uf(){var e=yf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cf,hf=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=ff.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),ff=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new df}),(function(e){return e.reset()})),df=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function pf(e){$c.setTimeout((function(){throw e}),0)}function mf(e,t){cf||function(){var e=$c.Promise.resolve(void 0);cf=function(){e.then(vf)}}(),gf||(cf(),gf=!0),yf.add(e,t)}var gf=!1,yf=new hf;function vf(){for(var e;e=uf();){try{e.h.call(e.g)}catch(e){pf(e)}var t=ff;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gf=!1}function wf(e,t){sf.call(this),this.h=e||1,this.g=t||$c,this.j=Zc(this.kb,this),this.l=Date.now()}function bf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ef(e,t,n){if("function"==typeof e)n&&(e=Zc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zc(e.handleEvent,e)}return 2147483647<Number(t)?-1:$c.setTimeout(e,t||0)}function Sf(e){e.g=Ef((function(){e.g=null,e.i&&(e.i=!1,Sf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}eh(wf,sf),(zc=wf.prototype).da=!1,zc.S=null,zc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),of(this,"tick"),this.da&&(bf(this),this.start()))}},zc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zc.M=function(){wf.Z.M.call(this),bf(this),delete this.g};var kf=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Uc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Sf(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&($c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(th);function Tf(e){th.call(this),this.h=e,this.g={}}eh(Tf,th);var Cf=[];function xf(e,t,n,r){Array.isArray(n)||(n&&(Cf[0]=n.toString()),n=Cf);for(var i=0;i<n.length;i++){var s=Gh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function If(e){ph(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zh(e)}),e),e.g={}}function _f(){this.g=!0}function Nf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lf(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Tf.prototype.M=function(){Tf.Z.M.call(this),If(this)},Tf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_f.prototype.Aa=function(){this.g=!1},_f.prototype.info=function(){};var Df={},Lf=null;function Af(){return Lf=Lf||new sf}function Rf(e){Mh.call(this,Df.Ma,e)}function Pf(e){var t=Af();of(t,new Rf(t,e))}function Of(e,t){Mh.call(this,Df.STAT_EVENT,e),this.stat=t}function Mf(e){var t=Af();of(t,new Of(t,e))}function Ff(e,t){Mh.call(this,Df.Na,e),this.size=t}function Vf(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return $c.setTimeout((function(){e()}),t)}Df.Ma="serverreachability",eh(Rf,Mh),Df.STAT_EVENT="statevent",eh(Of,Mh),Df.Na="timingevent",eh(Ff,Mh);var Uf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zf(){}function qf(e){return e.h||(e.h=e.i())}function Bf(){}zf.prototype.h=null;var $f,Hf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kf(){Mh.call(this,"d")}function Wf(){Mh.call(this,"c")}function Gf(){}function Qf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Tf(this),this.P=Xf,e=kh?125:void 0,this.W=new wf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yf}function Yf(){this.i=null,this.g="",this.h=!1}eh(Kf,Mh),eh(Wf,Mh),eh(Gf,zf),Gf.prototype.g=function(){return new XMLHttpRequest},Gf.prototype.i=function(){return{}},$f=new Gf;var Xf=45e3,Zf={},Jf={};function ed(e,t,n){e.K=1,e.v=kd(yd(t)),e.s=n,e.U=!0,td(e,null)}function td(e,t){e.F=Date.now(),sd(e),e.A=yd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Md(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yf,e.g=Fp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new kf(Zc(e.Ia,e,e.g),e.O)),xf(e.V,e.g,"readystatechange",e.gb),t=e.H?mh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pf(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function nd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function rd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=id(e,n))==Jf){4==t&&(e.o=4,Mf(14),i=!1),Nf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zf){e.o=4,Mf(15),Nf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nf(e.j,e.m,r,null),cd(e,r)}nd(e)&&r!=Jf&&r!=Zf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Mf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Np(t),t.L=!0,Mf(11))):(Nf(e.j,e.m,n,"[Invalid Chunked Response]"),ud(e),ld(e))}function id(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jf:(n=Number(t.substring(n,r)),isNaN(n)?Zf:(r+=1)+n>t.length?Jf:(t=t.substr(r,n),e.C=r+n,t))}function sd(e){e.Y=Date.now()+e.P,od(e,e.P)}function od(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vf(Zc(e.eb,e),t)}function ad(e){e.B&&($c.clearTimeout(e.B),e.B=null)}function ld(e){0==e.l.G||e.I||Ap(e.l,e)}function ud(e){ad(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bf(e.W),If(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function cd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bd(n.i,e)))if(n.I=e.N,!e.J&&Bd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Lp(n),bp(n)}_p(n),Mf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vf(Zc(n.ab,n),6e3));if(1>=qd(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Pp(n,11)}else if((e.J||n.g==e)&&Lp(n),!ah(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=s[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(ch(c,"spdy")||ch(c,"quic")||ch(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&($d(h,h.h),h.h=null))}if(r.D){var f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Sd(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Mp(r,r.H?r.la:null,r.W),d.J){Hd(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(ad(p),sd(p)),r.g=d}else Ip(r);0<n.l.length&&kp(n)}else"stop"!=s[0]&&"close"!=s[0]||Pp(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Pp(n,7):wp(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Pf(4)}catch(s){}}function hd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Kc(e)||"string"==typeof e)ih(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Kc(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Kc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function fd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];pd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)pd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function pd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zc=Qf.prototype).setTimeout=function(e){this.P=e},zc.gb=function(e){e=e.target;var t=this.L;t&&3==pp(e)?t.l():this.Ia(e)},zc.Ia=function(e){try{if(e==this.g)e:{var t=pp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||kh||this.g&&(this.h.h||this.g.ga()||mp(this.g)))){this.I||4!=t||7==n||Pf(8==n||0>=r?3:2),ad(this);var i=this.g.ba();this.N=i;t:if(nd(this)){var s=mp(this.g);e="";var o=s.length,a=4==pp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ud(this),ld(this);var l="";break t}this.h.i=new $c.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ah(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Mf(12),ud(this),ld(this);break e}Nf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cd(this,i)}this.U?(rd(this,t,l),kh&&this.i&&3==t&&(xf(this.V,this.W,"tick",this.fb),this.W.start())):(Nf(this.j,this.m,l,null),cd(this,l)),4==t&&ud(this),this.i&&!this.I&&(4==t?Ap(this.l,this):(this.i=!1,sd(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,Mf(12)):(this.o=0,Mf(13)),ud(this),ld(this)}}}catch(t){}},zc.fb=function(){if(this.g){var e=pp(this.g),t=this.g.ga();this.C<t.length&&(ad(this),rd(this,e,t),this.i&&4!=e&&sd(this))}},zc.cancel=function(){this.I=!0,ud(this)},zc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Pf(3),Mf(17)),ud(this),this.o=2,ld(this)):od(this,this.Y-e)},(zc=fd.prototype).R=function(){dd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},zc.T=function(){return dd(this),this.g.concat()},zc.get=function(e,t){return pd(this.h,e)?this.h[e]:t},zc.set=function(e,t){pd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},zc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var md=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof gd){this.g=void 0!==t?t:e.g,vd(this,e.j),this.s=e.s,wd(this,e.i),bd(this,e.m),this.l=e.l,t=e.h;var n=new Ad;n.i=t.i,t.g&&(n.g=new fd(t.g),n.h=t.h),Ed(this,n),this.o=e.o}else e&&(n=String(e).match(md))?(this.g=!!t,vd(this,n[1]||"",!0),this.s=Td(n[2]||""),wd(this,n[3]||"",!0),bd(this,n[4]),this.l=Td(n[5]||"",!0),Ed(this,n[6]||"",!0),this.o=Td(n[7]||"")):(this.g=!!t,this.h=new Ad(null,this.g))}function yd(e){return new gd(e)}function vd(e,t,n){e.j=n?Td(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wd(e,t,n){e.i=n?Td(t,!0):t}function bd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ed(e,t,n){t instanceof Ad?(e.h=t,function(e,t){t&&!e.j&&(Rd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pd(this,t),Md(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Cd(t,Dd)),e.h=new Ad(t,e.g))}function Sd(e,t,n){e.h.set(t,n)}function kd(e){return Sd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Td(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Cd(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,xd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Cd(t,Id,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Cd(t,Id,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Cd(n,"/"==n.charAt(0)?Nd:_d,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Cd(n,Ld)),e.join("")};var Id=/[#\/\?@]/g,_d=/[#\?:]/g,Nd=/[#\?]/g,Dd=/[#\?@]/g,Ld=/#/g;function Ad(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rd(e){e.g||(e.g=new fd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pd(e,t){Rd(e),t=Fd(e,t),pd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,pd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dd(e)))}function Od(e,t){return Rd(e),t=Fd(e,t),pd(e.g.h,t)}function Md(e,t,n){Pd(e,t),0<n.length&&(e.i=null,e.g.set(Fd(e,t),oh(n)),e.h+=n.length)}function Fd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zc=Ad.prototype).add=function(e,t){Rd(this),this.i=null,e=Fd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zc.forEach=function(e,t){Rd(this),this.g.forEach((function(n,r){ih(n,(function(n){e.call(t,n,r,this)}),this)}),this)},zc.T=function(){Rd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},zc.R=function(e){Rd(this);var t=[];if("string"==typeof e)Od(this,e)&&(t=sh(t,this.g.get(Fd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=sh(t,e[n])}return t},zc.set=function(e,t){return Rd(this),this.i=null,Od(this,e=Fd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},zc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Vd=function(e,t){this.h=e,this.g=t};function Ud(e){this.l=e||jd,$c.PerformanceNavigationTiming?e=0<(e=$c.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($c.g&&$c.g.Ea&&$c.g.Ea()&&$c.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jd=10;function zd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qd(e){return e.h?1:e.g?e.g.size:0}function Bd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $d(e,t){e.g?e.g.add(t):e.h=t}function Hd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Kd(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=jc(e.g.values()),s=i.next();!s.done;s=i.next()){var o=s.value;r=r.concat(o.D)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return oh(e.i)}function Wd(){}function Gd(){this.g=new Wd}function Qd(e,t,n){var r=n||"";try{hd(e,(function(e,n){var i=e;Wc(e)&&(i=lf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Yd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Xd(e){this.l=e.$b||null,this.j=e.ib||!1}function Zd(e,t){sf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ud.prototype.cancel=function(){var e,t;if(this.i=Kd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=jc(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Wd.prototype.stringify=function(e){return $c.JSON.stringify(e,void 0)},Wd.prototype.parse=function(e){return $c.JSON.parse(e,void 0)},eh(Xd,zf),Xd.prototype.g=function(){return new Zd(this.l,this.j)},Xd.prototype.i=function(e){return function(){return e}}({}),eh(Zd,sf);var Jd=0;function ep(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,np(e)}function np(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zc=Zd.prototype).open=function(e,t){if(this.readyState!=Jd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,np(this)},zc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$c).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tp(this)),this.readyState=Jd},zc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,np(this)),this.g&&(this.readyState=3,np(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$c.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ep(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},zc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tp(this):np(this),3==this.readyState&&ep(this)}},zc.Ua=function(e){this.g&&(this.response=this.responseText=e,tp(this))},zc.Ta=function(e){this.g&&(this.response=e,tp(this))},zc.ha=function(){this.g&&tp(this)},zc.setRequestHeader=function(e,t){this.v.append(e,t)},zc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rp=$c.JSON.parse;function ip(e){sf.call(this),this.headers=new fd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sp,this.K=this.L=!1}eh(ip,sf);var sp="",op=/^https?$/i,ap=["POST","PUT"];function lp(e){return"content-type"==e.toLowerCase()}function up(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cp(e),fp(e)}function cp(e){e.D||(e.D=!0,of(e,"complete"),of(e,"error"))}function hp(e){if(e.h&&void 0!==Bc&&(!e.C[1]||4!=pp(e)||2!=e.ba()))if(e.v&&4==pp(e))Ef(e.Fa,0,e);else if(of(e,"readystatechange"),4==pp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(md)[1]||null;if(!s&&$c.self&&$c.self.location){var o=$c.self.location.protocol;s=o.substr(0,o.length-1)}i=!op.test(s?s.toLowerCase():"")}t=i}if(t)of(e,"complete"),of(e,"success");else{e.m=6;try{var a=2<pp(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",cp(e)}}finally{fp(e)}}}function fp(e,t){if(e.g){dp(e);var n=e.g,r=e.C[0]?Hc:null;e.g=null,e.C=null,t||of(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function dp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($c.clearTimeout(e.A),e.A=null)}function pp(e){return e.g?e.g.readyState:0}function mp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ph(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Sd(e,t,n))}function yp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vp(e){this.za=0,this.l=[],this.h=new _f,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yp("baseRetryDelayMs",5e3,e),this.$a=yp("retryDelaySeedMs",1e4,e),this.Ya=yp("forwardChannelMaxRetries",2,e),this.ra=yp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ud(e&&e.concurrentRequestLimit),this.Ca=new Gd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wp(e){if(Ep(e),3==e.G){var t=e.V++,n=yd(e.F);Sd(n,"SID",e.J),Sd(n,"RID",t),Sd(n,"TYPE","terminate"),Cp(e,n),(t=new Qf(e,e.h,t,void 0)).K=2,t.v=kd(yd(n)),n=!1,$c.navigator&&$c.navigator.sendBeacon&&(n=$c.navigator.sendBeacon(t.v.toString(),"")),!n&&$c.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sd(t)}Op(e)}function bp(e){e.g&&(Np(e),e.g.cancel(),e.g=null)}function Ep(e){bp(e),e.u&&($c.clearTimeout(e.u),e.u=null),Lp(e),e.i.cancel(),e.m&&("number"==typeof e.m&&$c.clearTimeout(e.m),e.m=null)}function Sp(e,t){e.l.push(new Vd(e.Za++,t)),3==e.G&&kp(e)}function kp(e){zd(e.i)||e.m||(e.m=!0,mf(e.Ha,e),e.C=0)}function Tp(e,t){var n;n=t?t.m:e.V++;var r=yd(e.F);Sd(r,"SID",e.J),Sd(r,"RID",n),Sd(r,"AID",e.U),Cp(e,r),e.o&&e.s&&gp(r,e.o,e.s),n=new Qf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$d(e.i,n),ed(n,r,t)}function Cp(e,t){e.j&&hd({},(function(e,n){Sd(t,n,e)}))}function xp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zc(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=s))s=Math.max(0,i[l].h-100),a=!1;else try{Qd(c,o,"req"+u+"_")}catch(e){r&&r(c)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ip(e){e.g||e.u||(e.Y=1,mf(e.Ga,e),e.A=0)}function _p(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Vf(Zc(e.Ga,e),Rp(e,e.A)),e.A++,!0)}function Np(e){null!=e.B&&($c.clearTimeout(e.B),e.B=null)}function Dp(e){e.g=new Qf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yd(e.oa);Sd(t,"RID","rpc"),Sd(t,"SID",e.J),Sd(t,"CI",e.N?"0":"1"),Sd(t,"AID",e.U),Cp(e,t),Sd(t,"TYPE","xmlhttp"),e.o&&e.s&&gp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=kd(yd(t)),n.s=null,n.U=!0,td(n,e)}function Lp(e){null!=e.v&&($c.clearTimeout(e.v),e.v=null)}function Ap(e,t){var n=null;if(e.g==t){Lp(e),Np(e),e.g=null;var r=2}else{if(!Bd(e.i,t))return;n=t.D,Hd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;of(r=Af(),new Ff(r,n,t,i)),kp(e)}else Ip(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(qd(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Vf(Zc(e.Ha,e,t),Rp(e,e.C)),e.C++,0)))}(e,t)||2==r&&_p(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pp(e,5);break;case 4:Pp(e,10);break;case 3:Pp(e,6);break;default:Pp(e,2)}}function Rp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zc(e.jb,e);n||(n=new gd("//www.google.com/images/cleardot.gif"),$c.location&&"http"==$c.location.protocol||vd(n,"https"),kd(n)),function(e,t){var n=new _f;if($c.Image){var r=new Image;r.onload=Jc(Yd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jc(Yd,n,r,"TestLoadImage: error",!1,t),r.onabort=Jc(Yd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jc(Yd,n,r,"TestLoadImage: timeout",!1,t),$c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mf(2);e.G=0,e.j&&e.j.va(t),Op(e),Ep(e)}function Op(e){e.G=0,e.I=-1,e.j&&(0==Kd(e.i).length&&0==e.l.length||(e.i.i.length=0,oh(e.l),e.l.length=0),e.j.ua())}function Mp(e,t,n){var r=function(e){return e instanceof gd?yd(e):new gd(e,void 0)}(n);if(""!=r.i)t&&wd(r,t+"."+r.i),bd(r,r.m);else{var i=$c.location;r=function(e,t,n,r){var i=new gd(null,void 0);return e&&vd(i,e),t&&wd(i,t),n&&bd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ph(e.aa,(function(e,t){Sd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Sd(r,t,n),Sd(r,"VER",e.ma),Cp(e,r),r}function Fp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ip(new Xd({ib:!0})):new ip(e.qa)).L=e.H,t}function Vp(){}function Up(){if(Eh&&!(10<=Number(Ph)))throw Error("Environmental error: no available transport.")}function jp(e,t){sf.call(this),this.g=new vp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ah(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ah(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bp(this)}function zp(e){Kf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qp(){Wf.call(this),this.status=1}function Bp(e){this.g=e}(zc=ip.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$f.g(),this.C=this.u?qf(this.u):qf($f),this.g.onreadystatechange=Zc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void up(this,e)}e=n||"";var i=new fd(this.headers);r&&hd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lp,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=$c.FormData&&e instanceof $c.FormData,!(0<=rh(ap,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dp(this),0<this.B&&((this.K=function(e){return Eh&&Ah()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zc(this.pa,this)):this.A=Ef(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){up(this,e)}},zc.pa=function(){void 0!==Bc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,of(this,"timeout"),this.abort(8))},zc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,of(this,"complete"),of(this,"abort"),fp(this))},zc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fp(this,!0)),ip.Z.M.call(this)},zc.Fa=function(){this.s||(this.F||this.v||this.l?hp(this):this.cb())},zc.cb=function(){hp(this)},zc.ba=function(){try{return 2<pp(this)?this.g.status:-1}catch(e){return-1}},zc.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},zc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rp(t)}},zc.Da=function(){return this.m},zc.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(zc=vp.prototype).ma=8,zc.G=1,zc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},zc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yh(n=mh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xp(this,t,r),Sd(i=yd(this.F),"RID",e),Sd(i,"CVER",22),this.D&&Sd(i,"X-HTTP-Session-Id",this.D),Cp(this,i),this.o&&n&&gp(i,this.o,n),$d(this.i,t),this.Ra&&Sd(i,"TYPE","init"),this.ja?(Sd(i,"$req",r),Sd(i,"SID","null"),t.$=!0,ed(t,i,null)):ed(t,i,r),this.G=2}}else 3==this.G&&(e?Tp(this,e):0==this.l.length||zd(this.i)||Tp(this))},zc.Ga=function(){if(this.u=null,Dp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Vf(Zc(this.bb,this),e)}},zc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mf(10),bp(this),Dp(this))},zc.ab=function(){null!=this.v&&(this.v=null,bp(this),_p(this),Mf(19))},zc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Mf(2)):(this.h.info("Failed to ping google.com"),Mf(1))},(zc=Vp.prototype).xa=function(){},zc.wa=function(){},zc.va=function(){},zc.ua=function(){},zc.Oa=function(){},Up.prototype.g=function(e,t){return new jp(e,t)},eh(jp,sf),jp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),mf(Zc(e.hb,e,t))),Mf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mp(e,null,e.W),kp(e)},jp.prototype.close=function(){wp(this.g)},jp.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Sp(this.g,t)}else this.v?((t={}).__data__=lf(e),Sp(this.g,t)):Sp(this.g,e)},jp.prototype.M=function(){this.g.j=null,delete this.j,wp(this.g),delete this.g,jp.Z.M.call(this)},eh(zp,Kf),eh(qp,Wf),eh(Bp,Vp),Bp.prototype.xa=function(){of(this.g,"a")},Bp.prototype.wa=function(e){of(this.g,new zp(e))},Bp.prototype.va=function(e){of(this.g,new qp(e))},Bp.prototype.ua=function(){of(this.g,"b")},Up.prototype.createWebChannel=Up.prototype.g,jp.prototype.send=jp.prototype.u,jp.prototype.open=jp.prototype.m,jp.prototype.close=jp.prototype.close,Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,jf.COMPLETE="complete",Bf.EventType=Hf,Hf.OPEN="a",Hf.CLOSE="b",Hf.ERROR="c",Hf.MESSAGE="d",sf.prototype.listen=sf.prototype.N,ip.prototype.listenOnce=ip.prototype.O,ip.prototype.getLastError=ip.prototype.La,ip.prototype.getLastErrorCode=ip.prototype.Da,ip.prototype.getStatus=ip.prototype.ba,ip.prototype.getResponseJson=ip.prototype.Qa,ip.prototype.getResponseText=ip.prototype.ga,ip.prototype.send=ip.prototype.ea;var $p=Uf,Hp=jf,Kp=Df,Wp=10,Gp=11,Qp=Xd,Yp=Bf,Xp=ip;let Zp="8.8.1";class Jp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.t(e),this.i=e=>t.writeSequenceNumber(e))}t(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.i&&this.i(e),e}}Jp.o=-1;const em={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tm extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}const nm=new Sc("@firebase/firestore");function rm(){return nm.logLevel}function im(e,...t){if(nm.logLevel<=mc.DEBUG){const n=t.map(am);nm.debug(`Firestore (${Zp}): ${e}`,...n)}}function sm(e,...t){if(nm.logLevel<=mc.ERROR){const n=t.map(am);nm.error(`Firestore (${Zp}): ${e}`,...n)}}function om(e,...t){if(nm.logLevel<=mc.WARN){const n=t.map(am);nm.warn(`Firestore (${Zp}): ${e}`,...n)}}function am(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function lm(e="Unexpected state"){const t=`FIRESTORE (${Zp}) INTERNAL ASSERTION FAILED: `+e;throw sm(t),new Error(t)}function um(e,t){e||lm()}function cm(e,t){return e}function hm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class fm{static u(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=hm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function dm(e,t){return e<t?-1:e>t?1:0}function pm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function mm(e){return e+"\0"}class gm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gm.fromMillis(Date.now())}static fromDate(e){return gm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new gm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dm(this.nanoseconds,e.nanoseconds):dm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ym{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ym(e)}static min(){return new ym(new gm(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Em{constructor(e,t,n){void 0===t?t=0:t>e.length&&lm(),void 0===n?n=e.length-t:n>e.length-t&&lm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Em.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sm extends Em{construct(e,t,n){return new Sm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new tm(em.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Sm(t)}static emptyPath(){return new Sm([])}}const km=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tm extends Em{construct(e,t,n){return new Tm(e,t,n)}static isValidIdentifier(e){return km.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tm(em.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tm(em.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tm(em.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new tm(em.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tm(t)}static emptyPath(){return new Tm([])}}class Cm{constructor(e){this.fields=e,e.sort(Tm.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class xm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xm(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xm.EMPTY_BYTE_STRING=new xm("");const Im=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _m(e){if(um(!!e),"string"==typeof e){let t=0;const n=Im.exec(e);if(um(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nm(e.seconds),nanos:Nm(e.nanos)}}function Nm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dm(e){return"string"==typeof e?xm.fromBase64String(e):xm.fromUint8Array(e)}function Lm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Am(e){const t=e.mapValue.fields.__previous_value__;return Lm(t)?Am(t):t}function Rm(e){const t=_m(e.mapValue.fields.__local_write_time__.timestampValue);return new gm(t.seconds,t.nanos)}function Pm(e){return null==e}function Om(e){return 0===e&&1/e==-1/0}class Mm{constructor(e){this.path=e}static fromPath(e){return new Mm(Sm.fromString(e))}static fromName(e){return new Mm(Sm.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Sm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mm(new Sm(e.slice()))}}function Fm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lm(e)?4:10:lm()}function Vm(e,t){const n=Fm(e);if(n!==Fm(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rm(e).isEqual(Rm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_m(e.timestampValue),r=_m(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dm(e.bytesValue).isEqual(Dm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nm(e.geoPointValue.latitude)===Nm(t.geoPointValue.latitude)&&Nm(e.geoPointValue.longitude)===Nm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nm(e.integerValue)===Nm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nm(e.doubleValue),r=Nm(t.doubleValue);return n===r?Om(n)===Om(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pm(e.arrayValue.values||[],t.arrayValue.values||[],Vm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vm(n)!==vm(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Vm(n[e],r[e])))return!1;return!0}(e,t);default:return lm()}}function Um(e,t){return void 0!==(e.values||[]).find((e=>Vm(e,t)))}function jm(e,t){const n=Fm(e),r=Fm(t);if(n!==r)return dm(n,r);switch(n){case 0:return 0;case 1:return dm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nm(e.integerValue||e.doubleValue),r=Nm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zm(e.timestampValue,t.timestampValue);case 4:return zm(Rm(e),Rm(t));case 5:return dm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dm(e),r=Dm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=dm(n[e],r[e]);if(0!==t)return t}return dm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dm(Nm(e.latitude),Nm(t.latitude));return 0!==n?n:dm(Nm(e.longitude),Nm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=jm(n[e],r[e]);if(t)return t}return dm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=dm(r[e],s[e]);if(0!==t)return t;const o=jm(n[r[e]],i[s[e]]);if(0!==o)return o}return dm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw lm()}}function zm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dm(e,t);const n=_m(e),r=_m(t),i=dm(n.seconds,r.seconds);return 0!==i?i:dm(n.nanos,r.nanos)}function qm(e){return Bm(e)}function Bm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_m(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mm.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Bm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Bm(e.fields[i])}`;return n+"}"}(e.mapValue):lm();var t,n}function $m(e){return!!e&&"integerValue"in e}function Hm(e){return!!e&&"arrayValue"in e}function Km(e){return!!e&&"nullValue"in e}function Wm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gm(e){return!!e&&"mapValue"in e}function Qm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Qm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qm(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ym{constructor(e){this.value=e}static empty(){return new Ym({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(t)}setAll(e){let t=Tm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Qm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wm(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ym(Qm(this.value))}}function Xm(e){const t=[];return wm(e.fields,((e,n)=>{const r=new Tm([e]);if(Gm(n)){const e=Xm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Cm(t)}class Zm{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Zm(e,0,ym.min(),Ym.empty(),0)}static newFoundDocument(e,t,n){return new Zm(e,1,t,n,0)}static newNoDocument(e,t){return new Zm(e,2,t,Ym.empty(),0)}static newUnknownDocument(e,t){return new Zm(e,3,t,Ym.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ym.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ym.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Zm(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jm{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null}}function eg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Jm(e,t,n,r,i,s,o)}function tg(e){const t=cm(e);if(null===t.h){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+qm(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Pm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=pg(t.startAt)),t.endAt&&(e+="|ub:",e+=pg(t.endAt)),t.h=e}return t.h}function ng(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Vm(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vg(e.startAt,t.startAt)&&vg(e.endAt,t.endAt)}function rg(e){return Mm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ig extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new sg(e,t,n):"array-contains"===t?new ug(e,n):"in"===t?new cg(e,n):"not-in"===t?new hg(e,n):"array-contains-any"===t?new fg(e,n):new ig(e,t,n)}static l(e,t,n){return"in"===t?new og(e,n):new ag(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(jm(t,this.value)):null!==t&&Fm(this.value)===Fm(t)&&this.m(jm(t,this.value))}m(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lm()}}g(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sg extends ig{constructor(e,t,n){super(e,t,n),this.key=Mm.fromName(n.referenceValue)}matches(e){const t=Mm.comparator(e.key,this.key);return this.m(t)}}class og extends ig{constructor(e,t){super(e,"in",t),this.keys=lg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ag extends ig{constructor(e,t){super(e,"not-in",t),this.keys=lg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Mm.fromName(e.referenceValue)))}class ug extends ig{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hm(t)&&Um(t.arrayValue,this.value)}}class cg extends ig{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Um(this.value.arrayValue,t)}}class hg extends ig{constructor(e,t){super(e,"not-in",t)}matches(e){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Um(this.value.arrayValue,t)}}class fg extends ig{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Um(this.value.arrayValue,e)))}}class dg{constructor(e,t){this.position=e,this.before=t}}function pg(e){return`${e.before?"b":"a"}:${e.position.map((e=>qm(e))).join(",")}`}class mg{constructor(e,t="asc"){this.field=e,this.dir=t}}function gg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Mm.comparator(Mm.fromName(o.referenceValue),n.key):jm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function vg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vm(e.position[n],t.position[n]))return!1;return!0}class wg{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt}}function bg(e){return new wg(e)}function Eg(e){return!Pm(e.limit)&&"F"===e.limitType}function Sg(e){return!Pm(e.limit)&&"L"===e.limitType}function kg(e){const t=cm(e);if(null===t.p){t.p=[];const e=function(e){for(const t of e.filters)if(t.g())return t.field;return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.p.push(new mg(e)),t.p.push(new mg(Tm.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.p.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new mg(Tm.keyField(),e))}}}return t.p}function Tg(e){const t=cm(e);if(!t.T)if("F"===t.limitType)t.T=eg(t.path,t.collectionGroup,kg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of kg(t)){const t="desc"===n.dir?"asc":"desc";e.push(new mg(n.field,t))}const n=t.endAt?new dg(t.endAt.position,!t.endAt.before):null,r=t.startAt?new dg(t.startAt.position,!t.startAt.before):null;t.T=eg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.T}function Cg(e,t){return ng(Tg(e),Tg(t))&&e.limitType===t.limitType}function xg(e){return`${tg(Tg(e))}|lt:${e.limitType}`}function Ig(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${qm(t.value)}`;var t})).join(", ")}]`),Pm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+pg(e.startAt)),e.endAt&&(t+=", endAt: "+pg(e.endAt)),`Target(${t})`}(Tg(e))}; limitType=${e.limitType})`}function _g(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!yg(e.startAt,kg(e),t))&&(!e.endAt||!yg(e.endAt,kg(e),t))}(e,t)}function Ng(e){return(t,n)=>{let r=!1;for(const i of kg(e)){const e=Dg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Dg(e,t,n){const r=e.field.isKeyField()?Mm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jm(r,i):lm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lm()}}function Lg(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Om(t)?"-0":t}}function Ag(e){return{integerValue:""+e}}function Rg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Om(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Ag(t):Lg(e,t)}class Pg{constructor(){this._=void 0}}function Og(e,t,n){return e instanceof Vg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ug?jg(e,t):e instanceof zg?qg(e,t):function(e,t){const n=Fg(e,t),r=$g(n)+$g(e.A);return $m(n)&&$m(e.A)?Ag(r):Lg(e.R,r)}(e,t)}function Mg(e,t,n){return e instanceof Ug?jg(e,t):e instanceof zg?qg(e,t):n}function Fg(e,t){return e instanceof Bg?$m(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Vg extends Pg{}class Ug extends Pg{constructor(e){super(),this.elements=e}}function jg(e,t){const n=Hg(t);for(const t of e.elements)n.some((e=>Vm(e,t)))||n.push(t);return{arrayValue:{values:n}}}class zg extends Pg{constructor(e){super(),this.elements=e}}function qg(e,t){let n=Hg(t);for(const t of e.elements)n=n.filter((e=>!Vm(e,t)));return{arrayValue:{values:n}}}class Bg extends Pg{constructor(e,t){super(),this.R=e,this.A=t}}function $g(e){return Nm(e.integerValue||e.doubleValue)}function Hg(e){return Hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kg{constructor(e,t){this.field=e,this.transform=t}}class Wg{constructor(e,t){this.version=e,this.transformResults=t}}class Gg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gg}static exists(e){return new Gg(void 0,e)}static updateTime(e){return new Gg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yg{}function Xg(e,t,n){e instanceof ny?function(e,t,n){const r=e.value.clone(),i=sy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ry?function(e,t,n){if(!Qg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zg(e,t,n){e instanceof ny?function(e,t,n){if(!Qg(e.precondition,t))return;const r=e.value.clone(),i=oy(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ty(t),r).setHasLocalMutations()}(e,t,n):e instanceof ry?function(e,t,n){if(!Qg(e.precondition,t))return;const r=oy(e.fieldTransforms,n,t),i=t.data;i.setAll(iy(e)),i.setAll(r),t.convertToFoundDocument(ty(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Qg(e.precondition,t)&&t.convertToNoDocument(ym.min())}(e,t)}function Jg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fg(r.transform,e||null);null!=i&&(null==n&&(n=Ym.empty()),n.set(r.field,i))}return n||null}function ey(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ug&&t instanceof Ug||e instanceof zg&&t instanceof zg?pm(e.elements,t.elements,Vm):e instanceof Bg&&t instanceof Bg?Vm(e.A,t.A):e instanceof Vg&&t instanceof Vg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ty(e){return e.isFoundDocument()?e.version:ym.min()}class ny extends Yg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class ry extends Yg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function iy(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function sy(e,t,n){const r=new Map;um(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mg(o,a,n[i]))}return r}function oy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Og(e,s,t))}return r}class ay extends Yg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ly extends Yg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class uy{constructor(e){this.count=e}}var cy,hy;function fy(e){if(void 0===e)return sm("GRPC error has no .code"),em.UNKNOWN;switch(e){case cy.OK:return em.OK;case cy.CANCELLED:return em.CANCELLED;case cy.UNKNOWN:return em.UNKNOWN;case cy.DEADLINE_EXCEEDED:return em.DEADLINE_EXCEEDED;case cy.RESOURCE_EXHAUSTED:return em.RESOURCE_EXHAUSTED;case cy.INTERNAL:return em.INTERNAL;case cy.UNAVAILABLE:return em.UNAVAILABLE;case cy.UNAUTHENTICATED:return em.UNAUTHENTICATED;case cy.INVALID_ARGUMENT:return em.INVALID_ARGUMENT;case cy.NOT_FOUND:return em.NOT_FOUND;case cy.ALREADY_EXISTS:return em.ALREADY_EXISTS;case cy.PERMISSION_DENIED:return em.PERMISSION_DENIED;case cy.FAILED_PRECONDITION:return em.FAILED_PRECONDITION;case cy.ABORTED:return em.ABORTED;case cy.OUT_OF_RANGE:return em.OUT_OF_RANGE;case cy.UNIMPLEMENTED:return em.UNIMPLEMENTED;case cy.DATA_LOSS:return em.DATA_LOSS;default:return lm()}}(hy=cy||(cy={}))[hy.OK=0]="OK",hy[hy.CANCELLED=1]="CANCELLED",hy[hy.UNKNOWN=2]="UNKNOWN",hy[hy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hy[hy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hy[hy.NOT_FOUND=5]="NOT_FOUND",hy[hy.ALREADY_EXISTS=6]="ALREADY_EXISTS",hy[hy.PERMISSION_DENIED=7]="PERMISSION_DENIED",hy[hy.UNAUTHENTICATED=16]="UNAUTHENTICATED",hy[hy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hy[hy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hy[hy.ABORTED=10]="ABORTED",hy[hy.OUT_OF_RANGE=11]="OUT_OF_RANGE",hy[hy.UNIMPLEMENTED=12]="UNIMPLEMENTED",hy[hy.INTERNAL=13]="INTERNAL",hy[hy.UNAVAILABLE=14]="UNAVAILABLE",hy[hy.DATA_LOSS=15]="DATA_LOSS";class dy{constructor(e,t){this.comparator=e,this.root=t||my.EMPTY}insert(e,t){return new dy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,my.BLACK,null,null))}remove(e){return new dy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,my.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class my{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:my.RED,this.left=null!=r?r:my.EMPTY,this.right=null!=i?i:my.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new my(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return my.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return my.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,my.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,my.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lm();if(this.right.isRed())throw lm();const e=this.left.check();if(e!==this.right.check())throw lm();return e+(this.isRed()?0:1)}}my.EMPTY=null,my.RED=!0,my.BLACK=!1,my.EMPTY=new class{constructor(){this.size=0}get key(){throw lm()}get value(){throw lm()}get color(){throw lm()}get left(){throw lm()}get right(){throw lm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new my(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gy{constructor(e){this.comparator=e,this.data=new dy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof gy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new gy(this.comparator);return t.data=e,t}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const vy=new dy(Mm.comparator);function wy(){return vy}const by=new dy(Mm.comparator);function Ey(){return by}const Sy=new dy(Mm.comparator);const ky=new gy(Mm.comparator);function Ty(...e){let t=ky;for(const n of e)t=t.add(n);return t}const Cy=new gy(dm);function xy(){return Cy}class Iy{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,_y.createSynthesizedTargetChangeForCurrentChange(e,t)),new Iy(ym.min(),n,xy(),wy(),Ty())}}class _y{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _y(xm.EMPTY_BYTE_STRING,t,Ty(),Ty(),Ty())}}class Ny{constructor(e,t,n,r){this.P=e,this.removedTargetIds=t,this.key=n,this.v=r}}class Dy{constructor(e,t){this.targetId=e,this.V=t}}class Ly{constructor(e,t,n=xm.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ay{constructor(){this.S=0,this.D=Oy(),this.C=xm.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}get current(){return this.N}get resumeToken(){return this.C}get $(){return 0!==this.S}get O(){return this.k}F(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)}M(){let e=Ty(),t=Ty(),n=Ty();return this.D.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lm()}})),new _y(this.C,this.N,e,t,n)}L(){this.k=!1,this.D=Oy()}B(e,t){this.k=!0,this.D=this.D.insert(e,t)}U(e){this.k=!0,this.D=this.D.remove(e)}q(){this.S+=1}K(){this.S-=1}j(){this.k=!0,this.N=!0}}class Ry{constructor(e){this.W=e,this.G=new Map,this.H=wy(),this.J=Py(),this.Y=new gy(dm)}X(e){for(const t of e.P)e.v&&e.v.isFoundDocument()?this.Z(t,e.v):this.tt(t,e.key,e.v);for(const t of e.removedTargetIds)this.tt(t,e.key,e.v)}et(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.st(t)&&n.F(e.resumeToken);break;case 1:n.K(),n.$||n.L(),n.F(e.resumeToken);break;case 2:n.K(),n.$||this.removeTarget(t);break;case 3:this.st(t)&&(n.j(),n.F(e.resumeToken));break;case 4:this.st(t)&&(this.it(t),n.F(e.resumeToken));break;default:lm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(((e,n)=>{this.st(n)&&t(n)}))}rt(e){const t=e.targetId,n=e.V.count,r=this.ot(t);if(r){const e=r.target;if(rg(e))if(0===n){const n=new Mm(e.path);this.tt(t,n,Zm.newNoDocument(n,ym.min()))}else um(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}}ut(e){const t=new Map;this.G.forEach(((n,r)=>{const i=this.ot(r);if(i){if(n.current&&rg(i.target)){const t=new Mm(i.target.path);null!==this.H.get(t)||this.at(r,t)||this.tt(r,t,Zm.newNoDocument(t,e))}n.O&&(t.set(r,n.M()),n.L())}}));let n=Ty();this.J.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.ot(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Iy(e,t,this.Y,this.H,n);return this.H=wy(),this.J=Py(),this.Y=new gy(dm),r}Z(e,t){if(!this.st(e))return;const n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}tt(e,t,n){if(!this.st(e))return;const r=this.nt(e);this.at(e,t)?r.B(t,1):r.U(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}removeTarget(e){this.G.delete(e)}ct(e){const t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}q(e){this.nt(e).q()}nt(e){let t=this.G.get(e);return t||(t=new Ay,this.G.set(e,t)),t}ht(e){let t=this.J.get(e);return t||(t=new gy(dm),this.J=this.J.insert(e,t)),t}st(e){const t=null!==this.ot(e);return t||im("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.G.get(e);return t&&t.$?null:this.W.lt(e)}it(e){this.G.set(e,new Ay),this.W.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}at(e,t){return this.W.getRemoteKeysForTarget(e).has(t)}}function Py(){return new dy(Mm.comparator)}function Oy(){return new dy(Mm.comparator)}const My={asc:"ASCENDING",desc:"DESCENDING"},Fy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Vy{constructor(e,t){this.databaseId=e,this.I=t}}function Uy(e,t){return e.I?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jy(e,t){return e.I?t.toBase64():t.toUint8Array()}function zy(e,t){return Uy(e,t.toTimestamp())}function qy(e){return um(!!e),ym.fromTimestamp(function(e){const t=_m(e);return new gm(t.seconds,t.nanos)}(e))}function By(e,t){return function(e){return new Sm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $y(e){const t=Sm.fromString(e);return um(dv(t)),t}function Hy(e,t){return By(e.databaseId,t.path)}function Ky(e,t){const n=$y(t);if(n.get(1)!==e.databaseId.projectId)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mm(Yy(n))}function Wy(e,t){return By(e.databaseId,t)}function Gy(e){const t=$y(e);return 4===t.length?Sm.emptyPath():Yy(t)}function Qy(e){return new Sm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yy(e){return um(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xy(e,t,n){return{name:Hy(e,t),fields:n.value.mapValue.fields}}function Zy(e,t){let n;if(t instanceof ny)n={update:Xy(e,t.key,t.value)};else if(t instanceof ay)n={delete:Hy(e,t.key)};else if(t instanceof ry)n={update:Xy(e,t.key,t.data),updateMask:fv(t.fieldMask)};else{if(!(t instanceof ly))return lm();n={verify:Hy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Vg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ug)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bg)return{fieldPath:t.field.canonicalString(),increment:n.A};throw lm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lm()}(e,t.precondition)),n}function Jy(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Gg.updateTime(qy(e.updateTime)):void 0!==e.exists?Gg.exists(e.exists):Gg.none()}(t.currentDocument):Gg.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)um("REQUEST_TIME"===t.setToServerValue),n=new Vg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ug(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new zg(e)}else"increment"in t?n=new Bg(e,t.increment):lm();const r=Tm.fromServerFormat(t.fieldPath);return new Kg(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ky(e,t.update.name),s=new Ym({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Cm(t.map((e=>Tm.fromServerFormat(e))))}(t.updateMask);return new ry(i,s,e,n,r)}return new ny(i,s,n,r)}if(t.delete){const r=Ky(e,t.delete);return new ay(r,n)}if(t.verify){const r=Ky(e,t.verify);return new ly(r,n)}return lm()}function ev(e,t){return{documents:[Wy(e,t.path)]}}function tv(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Wm(e.value))return{unaryFilter:{field:lv(e.field),op:"IS_NAN"}};if(Km(e.value))return{unaryFilter:{field:lv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wm(e.value))return{unaryFilter:{field:lv(e.field),op:"IS_NOT_NAN"}};if(Km(e.value))return{unaryFilter:{field:lv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lv(e.field),op:av(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:lv(e.field),direction:ov(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.I||Pm(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=iv(t.startAt)),t.endAt&&(n.structuredQuery.endAt=iv(t.endAt)),n}function nv(e){let t=Gy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){um(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=rv(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new mg(uv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Pm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=sv(n.startAt));let u=null;return n.endAt&&(u=sv(n.endAt)),function(e,t,n,r,i,s,o,a){return new wg(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function rv(e){return e?void 0!==e.unaryFilter?[hv(e)]:void 0!==e.fieldFilter?[cv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>rv(e))).reduce(((e,t)=>e.concat(t))):lm():[]}function iv(e){return{before:e.before,values:e.position}}function sv(e){const t=!!e.before,n=e.values||[];return new dg(n,t)}function ov(e){return My[e]}function av(e){return Fy[e]}function lv(e){return{fieldPath:e.canonicalString()}}function uv(e){return Tm.fromServerFormat(e.fieldPath)}function cv(e){return ig.create(uv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return lm()}}(e.fieldFilter.op),e.fieldFilter.value)}function hv(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uv(e.unaryFilter.field);return ig.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=uv(e.unaryFilter.field);return ig.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uv(e.unaryFilter.field);return ig.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uv(e.unaryFilter.field);return ig.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return lm()}}function fv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function dv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gv(t)),t=mv(e.get(n),t);return gv(t)}function mv(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function gv(e){return e+""}function yv(e){const t=e.length;if(um(t>=2),2===t)return um(""===e.charAt(0)&&""===e.charAt(1)),Sm.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&lm(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:lm()}s=t+2}return new Sm(r)}class vv{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class wv{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}wv.store="owner",wv.key="owner";class bv{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}bv.store="mutationQueues",bv.keyPath="userId";class Ev{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Ev.store="mutations",Ev.keyPath="batchId",Ev.userMutationsIndex="userMutationsIndex",Ev.userMutationsKeyPath=["userId","batchId"];class Sv{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pv(t)]}static key(e,t,n){return[e,pv(t),n]}}Sv.store="documentMutations",Sv.PLACEHOLDER=new Sv;class kv{constructor(e,t){this.path=e,this.readTime=t}}class Tv{constructor(e,t){this.path=e,this.version=t}}class Cv{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Cv.store="remoteDocuments",Cv.readTimeIndex="readTimeIndex",Cv.readTimeIndexPath="readTime",Cv.collectionReadTimeIndex="collectionReadTimeIndex",Cv.collectionReadTimeIndexPath=["parentPath","readTime"];class xv{constructor(e){this.byteSize=e}}xv.store="remoteDocumentGlobal",xv.key="remoteDocumentGlobalKey";class Iv{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Iv.store="targets",Iv.keyPath="targetId",Iv.queryTargetsIndexName="queryTargetsIndex",Iv.queryTargetsKeyPath=["canonicalId","targetId"];class _v{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}_v.store="targetDocuments",_v.keyPath=["targetId","path"],_v.documentTargetsIndex="documentTargetsIndex",_v.documentTargetsKeyPath=["path","targetId"];class Nv{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Nv.key="targetGlobalKey",Nv.store="targetGlobal";class Dv{constructor(e,t){this.collectionId=e,this.parent=t}}Dv.store="collectionParents",Dv.keyPath=["collectionId","parent"];class Lv{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Lv.store="clientMetadata",Lv.keyPath="clientId";class Av{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Av.store="bundles",Av.keyPath="bundleId";class Rv{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Rv.store="namedQueries",Rv.keyPath="name";const Pv=[bv.store,Ev.store,Sv.store,Cv.store,Iv.store,wv.store,Nv.store,_v.store,Lv.store,xv.store,Dv.store,Av.store,Rv.store],Ov="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Fv{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Vv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Vv?t:Vv.resolve(t)}catch(e){return Vv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Vv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Vv.reject(t)}static resolve(e){return new Vv(((t,n)=>{t(e)}))}static reject(e){return new Vv(((t,n)=>{n(e)}))}static waitFor(e){return new Vv(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Vv.resolve(!1);for(const n of e)t=t.next((e=>e?Vv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Uv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Fv,this.transaction.oncomplete=()=>{this.ft.resolve()},this.transaction.onabort=()=>{t.error?this.ft.reject(new qv(e,t.error)):this.ft.resolve()},this.transaction.onerror=t=>{const n=Wv(t.target.error);this.ft.reject(new qv(e,n))}}static open(e,t,n,r){try{return new Uv(t,e.transaction(r,n))}catch(e){throw new qv(t,e)}}get dt(){return this.ft.promise}abort(e){e&&this.ft.reject(e),this.aborted||(im("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new $v(t)}}class jv{constructor(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===jv._t(tc())&&sm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return im("SimpleDb","Removing database:",e),Hv(window.indexedDB.deleteDatabase(e)).toPromise()}static gt(){if("undefined"==typeof indexedDB)return!1;if(jv.yt())return!0;const e=tc(),t=jv._t(e),n=0<t&&t<10,r=jv.Et(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static yt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)}static It(e,t){return e.store(t)}static _t(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Et(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async At(e){return this.db||(im("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new tm(em.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new qv(e,r))},r.onupgradeneeded=e=>{im("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.wt.Rt(t,r.transaction,e.oldVersion,this.version).next((()=>{im("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Pt&&(this.db.onversionchange=e=>this.Pt(e)),this.db}bt(e){this.Pt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.At(e);const t=Uv.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Vv.reject(e)))).toPromise();return s.catch((()=>{})),await t.dt,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(im("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class zv{constructor(e){this.vt=e,this.Vt=!1,this.St=null}get isDone(){return this.Vt}get Dt(){return this.St}set cursor(e){this.vt=e}done(){this.Vt=!0}Ct(e){this.St=e}delete(){return Hv(this.vt.delete())}}class qv extends tm{constructor(e,t){super(em.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bv(e){return"IndexedDbTransactionError"===e.name}class $v{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(im("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(im("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hv(n)}add(e){return im("SimpleDb","ADD",this.store.name,e,e),Hv(this.store.add(e))}get(e){return Hv(this.store.get(e)).next((t=>(void 0===t&&(t=null),im("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return im("SimpleDb","DELETE",this.store.name,e),Hv(this.store.delete(e))}count(){return im("SimpleDb","COUNT",this.store.name),Hv(this.store.count())}Nt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.xt(n,((e,t)=>{r.push(t)})).next((()=>r))}kt(e,t){im("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.$t=!1;const r=this.cursor(n);return this.xt(r,((e,t,n)=>n.delete()))}Ot(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.xt(r,t)}Ft(e){const t=this.cursor({});return new Vv(((n,r)=>{t.onerror=e=>{const t=Wv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}xt(e,t){const n=[];return new Vv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new zv(i),o=t(i.primaryKey,i.value,s);if(o instanceof Vv){const e=o.catch((e=>(s.done(),Vv.reject(e))));n.push(e)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}})).next((()=>Vv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.$t?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hv(e){return new Vv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Wv(e.target.error);n(t)}}))}let Kv=!1;function Wv(e){const t=jv._t(tc());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new tm("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kv||(Kv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Gv extends Mv{constructor(e,t){super(),this.Mt=e,this.currentSequenceNumber=t}}function Qv(e,t){const n=cm(e);return jv.It(n.Mt,t)}class Yv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Xg(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zg(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zg(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ym.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ty())}isEqual(e){return this.batchId===e.batchId&&pm(this.mutations,e.mutations,((e,t)=>ey(e,t)))&&pm(this.baseMutations,e.baseMutations,((e,t)=>ey(e,t)))}}class Xv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){um(e.mutations.length===n.length);let r=Sy;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Xv(e,t,n,r)}}class Zv{constructor(e,t,n,r,i=ym.min(),s=ym.min(),o=xm.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Zv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jv{constructor(e){this.Lt=e}}function ew(e,t){if(t.document)return function(e,t,n){const r=Ky(e,t.name),i=qy(t.updateTime),s=new Ym({mapValue:{fields:t.fields}}),o=Zm.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Mm.fromSegments(t.noDocument.path),n=iw(t.noDocument.readTime),r=Zm.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Mm.fromSegments(t.unknownDocument.path),n=iw(t.unknownDocument.version);return Zm.newUnknownDocument(e,n)}return lm()}function tw(e,t,n){const r=nw(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Hy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Uy(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Cv(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=rw(t.version),s=t.hasCommittedMutations;return new Cv(null,new kv(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=rw(t.version);return new Cv(new Tv(e,n),null,null,!0,r,i)}return lm()}function nw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rw(e){const t=e.toTimestamp();return new vv(t.seconds,t.nanoseconds)}function iw(e){const t=new gm(e.seconds,e.nanoseconds);return ym.fromTimestamp(t)}function sw(e,t){const n=(t.baseMutations||[]).map((t=>Jy(e.Lt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Jy(e.Lt,t))),i=gm.fromMillis(t.localWriteTimeMs);return new Yv(t.batchId,i,n,r)}function ow(e){const t=iw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?iw(e.lastLimboFreeSnapshotVersion):ym.min();let r;var i;return void 0!==e.query.documents?(um(1===(i=e.query).documents.length),r=Tg(bg(Gy(i.documents[0])))):r=function(e){return Tg(nv(e))}(e.query),new Zv(r,e.targetId,0,e.lastListenSequenceNumber,t,n,xm.fromBase64String(e.resumeToken))}function aw(e,t){const n=rw(t.snapshotVersion),r=rw(t.lastLimboFreeSnapshotVersion);let i;i=rg(t.target)?ev(e.Lt,t.target):tv(e.Lt,t.target);const s=t.resumeToken.toBase64();return new Iv(t.targetId,tg(t.target),n,s,t.sequenceNumber,r,i)}function lw(e){const t=nv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class uw{getBundleMetadata(e,t){return cw(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:iw(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return cw(e).put({bundleId:(n=t).id,createTime:rw(qy(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return hw(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:lw(t.bundledQuery),readTime:iw(t.readTime)};var t}))}saveNamedQuery(e,t){return hw(e).put(function(e){return{name:e.name,readTime:rw(qy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function cw(e){return Qv(e,Av.store)}function hw(e){return Qv(e,Rv.store)}class fw{constructor(){this.Bt=new dw}addToCollectionParentIndex(e,t){return this.Bt.add(t),Vv.resolve()}getCollectionParents(e,t){return Vv.resolve(this.Bt.getEntries(t))}}class dw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gy(Sm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gy(Sm.comparator)).toArray()}}class pw{constructor(){this.Ut=new dw}addToCollectionParentIndex(e,t){if(!this.Ut.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ut.add(t)}));const i={collectionId:n,parent:pv(r)};return mw(e).put(i)}return Vv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return mw(e).Nt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(yv(r.parent))}return n}))}}function mw(e){return Qv(e,Dv.store)}const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yw(e,yw.DEFAULT_COLLECTION_PERCENTILE,yw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vw(e,t,n){const r=e.store(Ev.store),i=e.store(Sv.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Ot({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{um(1===a)})));const u=[];for(const e of n.mutations){const r=Sv.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Vv.waitFor(s).next((()=>u))}function ww(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lm();t=e.noDocument}return JSON.stringify(t).length}yw.DEFAULT_COLLECTION_PERCENTILE=10,yw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yw.DEFAULT=new yw(41943040,yw.DEFAULT_COLLECTION_PERCENTILE,yw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yw.DISABLED=new yw(-1,0,0);class bw{constructor(e,t,n,r){this.userId=e,this.R=t,this.qt=n,this.referenceDelegate=r,this.Kt={}}static jt(e,t,n,r){um(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new bw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).Ot({index:Ev.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=kw(e),s=Sw(e);return s.add({}).next((o=>{um("number"==typeof o);const a=new Yv(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Zy(e.Lt,t))),i=n.mutations.map((t=>Zy(e.Lt,t)));return new Ev(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.R,this.userId,a),u=[];let c=new gy(((e,t)=>dm(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Sv.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Sv.PLACEHOLDER))}return c.forEach((t=>{u.push(this.qt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Kt[o]=a.keys()})),Vv.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Sw(e).get(t).next((e=>e?(um(e.userId===this.userId),sw(this.R,e)):null))}Qt(e,t){return this.Kt[t]?Vv.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Kt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Sw(e).Ot({index:Ev.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(um(t.batchId>=n),i=sw(this.R,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Sw(e).Ot({index:Ev.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sw(e).Nt(Ev.userMutationsIndex,t).next((e=>e.map((e=>sw(this.R,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Sv.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return kw(e).Ot({range:r},((n,r,s)=>{const[o,a,l]=n,u=yv(a);if(o===this.userId&&t.path.isEqual(u))return Sw(e).get(l).next((e=>{if(!e)throw lm();um(e.userId===this.userId),i.push(sw(this.R,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gy(dm);const r=[];return t.forEach((t=>{const i=Sv.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=kw(e).Ot({range:s},((e,r,i)=>{const[s,o,a]=e,l=yv(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Vv.waitFor(r).next((()=>this.Wt(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Sv.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new gy(dm);return kw(e).Ot({range:s},((e,t,i)=>{const[s,a,l]=e,u=yv(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Wt(e,o)))}Wt(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Sw(e).get(t).next((e=>{if(null===e)throw lm();um(e.userId===this.userId),n.push(sw(this.R,e))})))})),Vv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return vw(e.Mt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Gt(t.batchId)})),Vv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Gt(e){delete this.Kt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Vv.resolve();const n=IDBKeyRange.lowerBound(Sv.prefixForUser(this.userId)),r=[];return kw(e).Ot({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=yv(e[1]);r.push(t)}else n.done()})).next((()=>{um(0===r.length)}))}))}containsKey(e,t){return Ew(e,this.userId,t)}zt(e){return Tw(e).get(this.userId).next((e=>e||new bv(this.userId,-1,"")))}}function Ew(e,t,n){const r=Sv.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return kw(e).Ot({range:s,$t:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Sw(e){return Qv(e,Ev.store)}function kw(e){return Qv(e,Sv.store)}function Tw(e){return Qv(e,bv.store)}class Cw{constructor(e){this.Ht=e}next(){return this.Ht+=2,this.Ht}static Jt(){return new Cw(0)}static Yt(){return new Cw(-1)}}class xw{constructor(e,t){this.referenceDelegate=e,this.R=t}allocateTargetId(e){return this.Xt(e).next((t=>{const n=new Cw(t.highestTargetId);return t.highestTargetId=n.next(),this.Zt(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Xt(e).next((e=>ym.fromTimestamp(new gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Xt(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Xt(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Zt(e,r))))}addTargetData(e,t){return this.te(e,t).next((()=>this.Xt(e).next((n=>(n.targetCount+=1,this.ee(t,n),this.Zt(e,n))))))}updateTargetData(e,t){return this.te(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Iw(e).delete(t.targetId))).next((()=>this.Xt(e))).next((t=>(um(t.targetCount>0),t.targetCount-=1,this.Zt(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Iw(e).Ot(((s,o)=>{const a=ow(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Vv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Iw(e).Ot(((e,n)=>{const r=ow(n);t(r)}))}Xt(e){return _w(e).get(Nv.key).next((e=>(um(null!==e),e)))}Zt(e,t){return _w(e).put(Nv.key,t)}te(e,t){return Iw(e).put(aw(this.R,t))}ee(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Xt(e).next((e=>e.targetCount))}getTargetData(e,t){const n=tg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Iw(e).Ot({range:r,index:Iv.queryTargetsIndexName},((e,n,r)=>{const s=ow(n);ng(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Nw(e);return t.forEach((t=>{const s=pv(t.path);r.push(i.put(new _v(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Vv.waitFor(r)}removeMatchingKeys(e,t,n){const r=Nw(e);return Vv.forEach(t,(t=>{const i=pv(t.path);return Vv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Nw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nw(e);let i=Ty();return r.Ot({range:n,$t:!0},((e,t,n)=>{const r=yv(e[1]),s=new Mm(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=pv(t.path),r=IDBKeyRange.bound([n],[mm(n)],!1,!0);let i=0;return Nw(e).Ot({index:_v.documentTargetsIndex,$t:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}lt(e,t){return Iw(e).get(t).next((e=>e?ow(e):null))}}function Iw(e){return Qv(e,Iv.store)}function _w(e){return Qv(e,Nv.store)}function Nw(e){return Qv(e,_v.store)}async function Dw(e){if(e.code!==em.FAILED_PRECONDITION||e.message!==Ov)throw e;im("LocalStore","Unexpectedly lost primary lease")}function Lw([e,t],[n,r]){const i=dm(e,n);return 0===i?dm(t,r):i}class Aw{constructor(e){this.ne=e,this.buffer=new gy(Lw),this.se=0}ie(){return++this.se}re(e){const t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Lw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rw{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)}stop(){this.ce&&(this.ce.cancel(),this.ce=null)}get started(){return null!==this.ce}ue(e){const t=this.oe?3e5:6e4;im("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.ce=null,this.oe=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Bv(e)?im("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Dw(e)}await this.ue(e)}))}}class Pw{constructor(e,t){this.ae=e,this.params=t}calculateTargetCount(e,t){return this.ae.he(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Vv.resolve(Jp.o);const n=new Aw(t);return this.ae.forEachTarget(e,(e=>n.re(e.sequenceNumber))).next((()=>this.ae.le(e,(e=>n.re(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ae.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ae.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(im("LruGarbageCollector","Garbage collection skipped; disabled"),Vv.resolve(gw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(im("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.fe(e,t)))}getCacheSize(e){return this.ae.getCacheSize(e)}fe(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(im("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),rm()<=mc.DEBUG&&im("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Vv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Ow{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Pw(e,t)}(this,t)}he(e){const t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}de(e){let t=0;return this.le(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}le(e,t){return this.we(e,((e,n)=>t(n)))}addReference(e,t,n){return Mw(e,n)}removeReference(e,t,n){return Mw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Mw(e,t)}_e(e,t){return function(e,t){let n=!1;return Tw(e).Ft((r=>Ew(e,r,t).next((e=>(e&&(n=!0),Vv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.we(e,((s,o)=>{if(o<=t){const t=this._e(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),Nw(e).delete([0,pv(s.path)]))))}));r.push(t)}})).next((()=>Vv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Mw(e,t)}we(e,t){const n=Nw(e);let r,i=Jp.o;return n.Ot({index:_v.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Jp.o&&t(new Mm(yv(r)),i),i=o,r=s):i=Jp.o})).next((()=>{i!==Jp.o&&t(new Mm(yv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mw(e,t){return Nw(e).put(function(e,t){return new _v(0,pv(e.path),t)}(t,e.currentSequenceNumber))}class Fw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){wm(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return bm(this.inner)}}class Vw{constructor(){this.changes=new Fw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ym.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Zm.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vv.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uw{constructor(e,t){this.R=e,this.qt=t}addEntry(e,t,n){return qw(e).put(Bw(t),n)}removeEntry(e,t){const n=qw(e),r=Bw(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.me(e,n))))}getEntry(e,t){return qw(e).get(Bw(t)).next((e=>this.ge(t,e)))}ye(e,t){return qw(e).get(Bw(t)).next((e=>({document:this.ge(t,e),size:ww(e)})))}getEntries(e,t){let n=wy();return this.pe(e,t,((e,t)=>{const r=this.ge(e,t);n=n.insert(e,r)})).next((()=>n))}Ee(e,t){let n=wy(),r=new dy(Mm.comparator);return this.pe(e,t,((e,t)=>{const i=this.ge(e,t);n=n.insert(e,i),r=r.insert(e,ww(t))})).next((()=>({documents:n,Te:r})))}pe(e,t,n){if(t.isEmpty())return Vv.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return qw(e).Ot({range:r},((e,t,r)=>{const o=Mm.fromSegments(e);for(;s&&Mm.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=wy();const i=t.path.length+1,s={};if(n.isEqual(ym.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=nw(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Cv.collectionReadTimeIndex}return qw(e).Ot(s,((e,n,s)=>{if(e.length!==i)return;const o=ew(this.R,n);t.path.isPrefixOf(o.key.path)?_g(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new jw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return zw(e).get(xv.key).next((e=>(um(!!e),e)))}me(e,t){return zw(e).put(xv.key,t)}ge(e,t){if(t){const e=ew(this.R,t);if(!e.isNoDocument()||!e.version.isEqual(ym.min()))return e}return Zm.newInvalidDocument(e)}}class jw extends Vw{constructor(e,t){super(),this.Ie=e,this.trackRemovals=t,this.Ae=new Fw((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new gy(((e,t)=>dm(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Ae.get(i);if(s.document.isValidDocument()){const a=tw(this.Ie.R,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=ww(a);n+=l-o,t.push(this.Ie.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=tw(this.Ie.R,Zm.newNoDocument(i,ym.min()),this.getReadTime(i));t.push(this.Ie.addEntry(e,i,n))}else t.push(this.Ie.removeEntry(e,i))})),r.forEach((n=>{t.push(this.Ie.qt.addToCollectionParentIndex(e,n))})),t.push(this.Ie.updateMetadata(e,n)),Vv.waitFor(t)}getFromCache(e,t){return this.Ie.ye(e,t).next((e=>(this.Ae.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.Ie.Ee(e,t).next((({documents:e,Te:t})=>(t.forEach(((e,t)=>{this.Ae.set(e,t)})),e)))}}function zw(e){return Qv(e,xv.store)}function qw(e){return Qv(e,Cv.store)}function Bw(e){return e.path.toArray()}class $w{constructor(e){this.R=e}Rt(e,t,n,r){um(n<r&&n>=0&&r<=11);const i=new Uv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wv.store)}(e),function(e){e.createObjectStore(bv.store,{keyPath:bv.keyPath}),e.createObjectStore(Ev.store,{keyPath:Ev.keyPath,autoIncrement:!0}).createIndex(Ev.userMutationsIndex,Ev.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Sv.store)}(e),Hw(e),function(e){e.createObjectStore(Cv.store)}(e));let s=Vv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(_v.store),e.deleteObjectStore(Iv.store),e.deleteObjectStore(Nv.store)}(e),Hw(e)),s=s.next((()=>function(e){const t=e.store(Nv.store),n=new Nv(0,0,ym.min().toTimestamp(),0);return t.put(Nv.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Ev.store).Nt().next((n=>{e.deleteObjectStore(Ev.store),e.createObjectStore(Ev.store,{keyPath:Ev.keyPath,autoIncrement:!0}).createIndex(Ev.userMutationsIndex,Ev.userMutationsKeyPath,{unique:!0});const r=t.store(Ev.store),i=n.map((e=>r.put(e)));return Vv.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Lv.store,{keyPath:Lv.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Re(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(xv.store)}(e),this.Pe(i))))),n<7&&r>=7&&(s=s.next((()=>this.be(i)))),n<8&&r>=8&&(s=s.next((()=>this.ve(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Cv.store);t.createIndex(Cv.readTimeIndex,Cv.readTimeIndexPath,{unique:!1}),t.createIndex(Cv.collectionReadTimeIndex,Cv.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Ve(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Av.store,{keyPath:Av.keyPath})}(e),function(e){e.createObjectStore(Rv.store,{keyPath:Rv.keyPath})}(e)}))),s}Pe(e){let t=0;return e.store(Cv.store).Ot(((e,n)=>{t+=ww(n)})).next((()=>{const n=new xv(t);return e.store(xv.store).put(xv.key,n)}))}Re(e){const t=e.store(bv.store),n=e.store(Ev.store);return t.Nt().next((t=>Vv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Nt(Ev.userMutationsIndex,r).next((n=>Vv.forEach(n,(n=>{um(n.userId===t.userId);const r=sw(this.R,n);return vw(e,t.userId,r).next((()=>{}))}))))}))))}be(e){const t=e.store(_v.store),n=e.store(Cv.store);return e.store(Nv.store).get(Nv.key).next((e=>{const r=[];return n.Ot(((n,i)=>{const s=new Sm(n),o=function(e){return[0,pv(e)]}(s);r.push(t.get(o).next((n=>n?Vv.resolve():(n=>t.put(new _v(0,pv(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Vv.waitFor(r)))}))}ve(e,t){e.createObjectStore(Dv.store,{keyPath:Dv.keyPath});const n=t.store(Dv.store),r=new dw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pv(r)})}};return t.store(Cv.store).Ot({$t:!0},((e,t)=>{const n=new Sm(e);return i(n.popLast())})).next((()=>t.store(Sv.store).Ot({$t:!0},(([e,t,n],r)=>{const s=yv(t);return i(s.popLast())}))))}Ve(e){const t=e.store(Iv.store);return t.Ot(((e,n)=>{const r=ow(n),i=aw(this.R,r);return t.put(i)}))}}function Hw(e){e.createObjectStore(_v.store,{keyPath:_v.keyPath}).createIndex(_v.documentTargetsIndex,_v.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Iv.store,{keyPath:Iv.keyPath}).createIndex(Iv.queryTargetsIndexName,Iv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Nv.store)}const Kw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ww{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=s,this.document=o,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.$e=null,this.Oe=null,this.Fe=Number.NEGATIVE_INFINITY,this.Me=e=>Promise.resolve(),!Ww.gt())throw new tm(em.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ow(this,r),this.Le=t+"main",this.R=new Jv(a),this.Be=new jv(this.Le,11,new $w(this.R)),this.Ue=new xw(this.referenceDelegate,this.R),this.qt=new pw,this.qe=function(e,t){return new Uw(e,t)}(this.R,this.qt),this.Ke=new uw,this.window&&this.window.localStorage?this.je=this.window.localStorage:(this.je=null,!1===u&&sm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Qe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Kw);return this.We(),this.Ge(),this.ze(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ue.getHighestSequenceNumber(e)))})).then((e=>{this.Ne=new Jp(e,this.De)})).then((()=>{this.xe=!0})).catch((e=>(this.Be&&this.Be.close(),Promise.reject(e))))}He(e){return this.Me=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Be.bt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((async()=>{this.started&&await this.Qe()})))}Qe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Qw(e).put(new Lv(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.Je(e).next((e=>{e||(this.isPrimary=!1,this.Se.enqueueRetryable((()=>this.Me(!1))))}))})).next((()=>this.Ye(e))).next((t=>this.isPrimary&&!t?this.Xe(e).next((()=>!1)):!!t&&this.Ze(e).next((()=>!0)))))).catch((e=>{if(Bv(e))return im("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return im("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Se.enqueueRetryable((()=>this.Me(e))),this.isPrimary=e}))}Je(e){return Gw(e).get(wv.key).next((e=>Vv.resolve(this.tn(e))))}en(e){return Qw(e).delete(this.clientId)}async nn(){if(this.isPrimary&&!this.sn(this.Fe,18e5)){this.Fe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Qv(e,Lv.store);return t.Nt().next((e=>{const n=this.rn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Vv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.je)for(const t of e)this.je.removeItem(this.on(t.clientId))}}ze(){this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Qe().then((()=>this.nn())).then((()=>this.ze()))))}tn(e){return!!e&&e.ownerId===this.clientId}Ye(e){return this.Ce?Vv.resolve(!0):Gw(e).get(wv.key).next((t=>{if(null!==t&&this.sn(t.leaseTimestampMs,5e3)&&!this.cn(t.ownerId)){if(this.tn(t)&&this.networkEnabled)return!0;if(!this.tn(t)){if(!t.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Kw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qw(e).Nt().next((e=>void 0===this.rn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&im("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),await this.Be.runTransaction("shutdown","readwrite",[wv.store,Lv.store],(e=>{const t=new Gv(e,Jp.o);return this.Xe(t).next((()=>this.en(t)))})),this.Be.close(),this.ln()}rn(e,t){return e.filter((e=>this.sn(e.updateTimeMs,t)&&!this.cn(e.clientId)))}fn(){return this.runTransaction("getActiveClients","readonly",(e=>Qw(e).Nt().next((e=>this.rn(e,18e5).map((e=>e.clientId))))))}get started(){return this.xe}getMutationQueue(e){return bw.jt(e,this.R,this.qt,this.referenceDelegate)}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getIndexManager(){return this.qt}getBundleCache(){return this.Ke}runTransaction(e,t,n){im("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Be.runTransaction(e,r,Pv,(r=>(i=new Gv(r,this.Ne?this.Ne.next():Jp.o),"readwrite-primary"===t?this.Je(i).next((e=>!!e||this.Ye(i))).next((t=>{if(!t)throw sm(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Se.enqueueRetryable((()=>this.Me(!1))),new tm(em.FAILED_PRECONDITION,Ov);return n(i)})).next((e=>this.Ze(i).next((()=>e)))):this.dn(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}dn(e){return Gw(e).get(wv.key).next((e=>{if(null!==e&&this.sn(e.leaseTimestampMs,5e3)&&!this.cn(e.ownerId)&&!this.tn(e)&&!(this.Ce||this.allowTabSynchronization&&e.allowTabSynchronization))throw new tm(em.FAILED_PRECONDITION,Kw)}))}Ze(e){const t=new wv(this.clientId,this.allowTabSynchronization,Date.now());return Gw(e).put(wv.key,t)}static gt(){return jv.gt()}Xe(e){const t=Gw(e);return t.get(wv.key).next((e=>this.tn(e)?(im("IndexedDbPersistence","Releasing primary lease."),t.delete(wv.key)):Vv.resolve()))}sn(e,t){const n=Date.now();return!(e<n-t||e>n&&(sm(`Detected an update time that is in the future: ${e} > ${n}`),1))}We(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.$e=()=>{this.Se.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Qe())))},this.document.addEventListener("visibilitychange",this.$e),this.inForeground="visible"===this.document.visibilityState)}an(){this.$e&&(this.document.removeEventListener("visibilitychange",this.$e),this.$e=null)}Ge(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=()=>{this.un(),nc()&&navigator.appVersion.match("Version/14")&&this.Se.enterRestrictedMode(!0),this.Se.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ke))}hn(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)}cn(e){var t;try{const n=null!==(null===(t=this.je)||void 0===t?void 0:t.getItem(this.on(e)));return im("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return sm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}un(){if(this.je)try{this.je.setItem(this.on(this.clientId),String(Date.now()))}catch(e){sm("Failed to set zombie client id.",e)}}ln(){if(this.je)try{this.je.removeItem(this.on(this.clientId))}catch(e){}}on(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gw(e){return Qv(e,wv.store)}function Qw(e){return Qv(e,Lv.store)}class Yw{constructor(e,t,n){this.qe=e,this._n=t,this.qt=n}mn(e,t){return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.gn(e,t,n)))}gn(e,t,n){return this.qe.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}yn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}pn(e,t){return this.qe.getEntries(e,t).next((t=>this.En(e,t).next((()=>t))))}En(e,t){return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.yn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Mm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.In(e,t,n):this.An(e,t,n)}Tn(e,t){return this.mn(e,new Mm(t)).next((e=>{let t=Ey();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}In(e,t,n){const r=t.collectionGroup;let i=Ey();return this.qt.getCollectionParents(e,r).next((s=>Vv.forEach(s,(s=>{const o=function(e,t){return new wg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.An(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}An(e,t,n){let r,i;return this.qe.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this._n.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Rn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Zm.newInvalidDocument(n),r=r.insert(n,i)),Zg(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{_g(t,n)||(r=r.remove(e))})),r)))}Rn(e,t,n){let r=Ty();for(const e of t)for(const t of e.mutations)t instanceof ry&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.qe.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Xw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pn=n,this.bn=r}static vn(e,t){let n=Ty(),r=Ty();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Xw(e,t.fromCache,n,r)}}class Zw{Vn(e){this.Sn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ym.min())?this.Dn(e,t):this.Sn.pn(e,r).next((i=>{const s=this.Cn(t,i);return(Eg(t)||Sg(t))&&this.Nn(t.limitType,s,r,n)?this.Dn(e,t):(rm()<=mc.DEBUG&&im("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ig(t)),this.Sn.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Cn(e,t){let n=new gy(Ng(e));return t.forEach(((t,r)=>{_g(e,r)&&(n=n.add(r))})),n}Nn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Dn(e,t){return rm()<=mc.DEBUG&&im("QueryEngine","Using full collection scan to execute query:",Ig(t)),this.Sn.getDocumentsMatchingQuery(e,t,ym.min())}}class Jw{constructor(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new dy(dm),this.$n=new Fw((e=>tg(e)),ng),this.On=ym.min(),this._n=e.getMutationQueue(n),this.Fn=e.getRemoteDocumentCache(),this.Ue=e.getTargetCache(),this.Mn=new Yw(this.Fn,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.kn)))}}function eb(e,t,n,r){return new Jw(e,t,n,r)}async function tb(e,t){const n=cm(e);let r=n._n,i=n.Mn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n._n.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Yw(n.Fn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=Ty();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.pn(e,o).next((e=>({Ln:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s}function nb(e){const t=cm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ue.getLastRemoteSnapshotVersion(e)))}function rb(e,t){const n=cm(e),r=t.snapshotVersion;let i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Fn.newChangeBuffer({trackRemovals:!0});i=n.kn;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.Ue.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.Ue.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return um(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,t)&&o.push(n.Ue.updateTargetData(e,u))}}));let a=wy();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n,r,i){let s=Ty();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=wy();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ym.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):im("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(ym.min())){const t=n.Ue.getLastRemoteSnapshotVersion(e).next((t=>n.Ue.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Vv.waitFor(o).next((()=>s.apply(e))).next((()=>n.Mn.En(e,a))).next((()=>a))})).then((e=>(n.kn=i,e)))}function ib(e,t){const n=cm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t))))}async function sb(e,t,n){const r=cm(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Bv(e))throw e;im("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.kn=r.kn.remove(t),r.$n.delete(i.target)}function ob(e,t,n){const r=cm(e);let i=ym.min(),s=Ty();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=cm(e),i=r.$n.get(n);return void 0!==i?Vv.resolve(r.kn.get(i)):r.Ue.getTargetData(t,n)}(r,e,Tg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ue.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.xn.getDocumentsMatchingQuery(e,t,n?i:ym.min(),n?s:Ty()))).next((e=>({documents:e,Bn:s})))))}async function ab(e){const t=cm(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=qw(e);let n=ym.min();return t.Ot({index:Cv.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=function(e){const t=new gm(e[0],e[1]);return ym.fromTimestamp(t)}(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.On=e}))}class lb{constructor(e){this.R=e,this.jn=new Map,this.Qn=new Map}getBundleMetadata(e,t){return Vv.resolve(this.jn.get(t))}saveBundleMetadata(e,t){var n;return this.jn.set(t.id,{id:(n=t).id,version:n.version,createTime:qy(n.createTime)}),Vv.resolve()}getNamedQuery(e,t){return Vv.resolve(this.Qn.get(t))}saveNamedQuery(e,t){return this.Qn.set(t.name,function(e){return{name:e.name,query:lw(e.bundledQuery),readTime:qy(e.readTime)}}(t)),Vv.resolve()}}class ub{constructor(){this.Wn=new gy(cb.Gn),this.zn=new gy(cb.Hn)}isEmpty(){return this.Wn.isEmpty()}addReference(e,t){const n=new cb(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)}Jn(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Yn(new cb(e,t))}Xn(e,t){e.forEach((e=>this.removeReference(e,t)))}Zn(e){const t=new Mm(new Sm([])),n=new cb(t,e),r=new cb(t,e+1),i=[];return this.zn.forEachInRange([n,r],(e=>{this.Yn(e),i.push(e.key)})),i}ts(){this.Wn.forEach((e=>this.Yn(e)))}Yn(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)}es(e){const t=new Mm(new Sm([])),n=new cb(t,e),r=new cb(t,e+1);let i=Ty();return this.zn.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cb(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cb{constructor(e,t){this.key=e,this.ns=t}static Gn(e,t){return Mm.comparator(e.key,t.key)||dm(e.ns,t.ns)}static Hn(e,t){return dm(e.ns,t.ns)||Mm.comparator(e.key,t.key)}}class hb{constructor(e,t){this.qt=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new gy(cb.Gn)}checkEmpty(e){return Vv.resolve(0===this._n.length)}addMutationBatch(e,t,n,r){const i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];const s=new Yv(i,t,n,r);this._n.push(s);for(const t of r)this.rs=this.rs.add(new cb(t.key,i)),this.qt.addToCollectionParentIndex(e,t.key.path.popLast());return Vv.resolve(s)}lookupMutationBatch(e,t){return Vv.resolve(this.os(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.cs(n),i=r<0?0:r;return Vv.resolve(this._n.length>i?this._n[i]:null)}getHighestUnacknowledgedBatchId(){return Vv.resolve(0===this._n.length?-1:this.ss-1)}getAllMutationBatches(e){return Vv.resolve(this._n.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cb(t,0),r=new cb(t,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([n,r],(e=>{const t=this.os(e.ns);i.push(t)})),Vv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gy(dm);return t.forEach((e=>{const t=new cb(e,0),r=new cb(e,Number.POSITIVE_INFINITY);this.rs.forEachInRange([t,r],(e=>{n=n.add(e.ns)}))})),Vv.resolve(this.us(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Mm.isDocumentKey(i)||(i=i.child(""));const s=new cb(new Mm(i),0);let o=new gy(dm);return this.rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ns)),!0)}),s),Vv.resolve(this.us(o))}us(e){const t=[];return e.forEach((e=>{const n=this.os(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){um(0===this.hs(t.batchId,"removed")),this._n.shift();let n=this.rs;return Vv.forEach(t.mutations,(r=>{const i=new cb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.rs=n}))}Gt(e){}containsKey(e,t){const n=new cb(t,0),r=this.rs.firstAfterOrEqual(n);return Vv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this._n.length,Vv.resolve()}hs(e,t){return this.cs(e)}cs(e){return 0===this._n.length?0:e-this._n[0].batchId}os(e){const t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]}}class fb{constructor(e,t){this.qt=e,this.ls=t,this.docs=new dy(Mm.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.qt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vv.resolve(n?n.document.clone():Zm.newInvalidDocument(t))}getEntries(e,t){let n=wy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Zm.newInvalidDocument(e))})),Vv.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=wy();const i=new Mm(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||_g(t,i)&&(r=r.insert(i.key,i.clone()))}return Vv.resolve(r)}fs(e,t){return Vv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new db(this)}getSize(e){return Vv.resolve(this.size)}}class db extends Vw{constructor(e){super(),this.Ie=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.Ie.addEntry(e,r.document,this.getReadTime(n))):this.Ie.removeEntry(n)})),Vv.waitFor(t)}getFromCache(e,t){return this.Ie.getEntry(e,t)}getAllFromCache(e,t){return this.Ie.getEntries(e,t)}}class pb{constructor(e){this.persistence=e,this.ds=new Fw((e=>tg(e)),ng),this.lastRemoteSnapshotVersion=ym.min(),this.highestTargetId=0,this.ws=0,this._s=new ub,this.targetCount=0,this.gs=Cw.Jt()}forEachTarget(e,t){return this.ds.forEach(((e,n)=>t(n))),Vv.resolve()}getLastRemoteSnapshotVersion(e){return Vv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vv.resolve(this.ws)}allocateTargetId(e){return this.highestTargetId=this.gs.next(),Vv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Vv.resolve()}te(e){this.ds.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.gs=new Cw(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)}addTargetData(e,t){return this.te(t),this.targetCount+=1,Vv.resolve()}updateTargetData(e,t){return this.te(t),Vv.resolve()}removeTargetData(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Vv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ds.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ds.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Vv.waitFor(i).next((()=>r))}getTargetCount(e){return Vv.resolve(this.targetCount)}getTargetData(e,t){const n=this.ds.get(t)||null;return Vv.resolve(n)}addMatchingKeys(e,t,n){return this._s.Jn(t,n),Vv.resolve()}removeMatchingKeys(e,t,n){this._s.Xn(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Vv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._s.Zn(t),Vv.resolve()}getMatchingKeysForTargetId(e,t){const n=this._s.es(t);return Vv.resolve(n)}containsKey(e,t){return Vv.resolve(this._s.containsKey(t))}}class mb{constructor(e,t){this.ys={},this.Ne=new Jp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.Ue=new pb(this),this.qt=new fw,this.qe=function(e,t){return new fb(e,t)}(this.qt,(e=>this.referenceDelegate.ps(e))),this.R=new Jv(t),this.Ke=new lb(this.R)}start(){return Promise.resolve()}shutdown(){return this.xe=!1,Promise.resolve()}get started(){return this.xe}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.qt}getMutationQueue(e){let t=this.ys[e.toKey()];return t||(t=new hb(this.qt,this.referenceDelegate),this.ys[e.toKey()]=t),t}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getBundleCache(){return this.Ke}runTransaction(e,t,n){im("MemoryPersistence","Starting transaction:",e);const r=new gb(this.Ne.next());return this.referenceDelegate.Es(),n(r).next((e=>this.referenceDelegate.Ts(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Is(e,t){return Vv.or(Object.values(this.ys).map((n=>()=>n.containsKey(e,t))))}}class gb extends Mv{constructor(e){super(),this.currentSequenceNumber=e}}class yb{constructor(e){this.persistence=e,this.As=new ub,this.Rs=null}static Ps(e){return new yb(e)}get bs(){if(this.Rs)return this.Rs;throw lm()}addReference(e,t,n){return this.As.addReference(n,t),this.bs.delete(n.toString()),Vv.resolve()}removeReference(e,t,n){return this.As.removeReference(n,t),this.bs.add(n.toString()),Vv.resolve()}markPotentiallyOrphaned(e,t){return this.bs.add(t.toString()),Vv.resolve()}removeTarget(e,t){this.As.Zn(t.targetId).forEach((e=>this.bs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.bs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Es(){this.Rs=new Set}Ts(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vv.forEach(this.bs,(n=>{const r=Mm.fromPath(n);return this.vs(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Rs=null,t.apply(e))))}updateLimboDocument(e,t){return this.vs(e,t).next((e=>{e?this.bs.delete(t.toString()):this.bs.add(t.toString())}))}ps(e){return 0}vs(e,t){return Vv.or([()=>Vv.resolve(this.As.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Is(e,t)])}}class vb{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vb.UNAUTHENTICATED=new vb(null),vb.GOOGLE_CREDENTIALS=new vb("google-credentials-uid"),vb.FIRST_PARTY=new vb("first-party-uid");class wb{constructor(){this.activeTargetIds=xy()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}Cs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bb{constructor(){this.li=new wb,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.li.Ds(e),this.fi[e]||"not-current"}updateQueryState(e,t,n){this.fi[e]=t}removeLocalQueryTarget(e){this.li.Cs(e)}isLocalQueryTarget(e){return this.li.activeTargetIds.has(e)}clearQueryState(e){delete this.fi[e]}getAllActiveQueryTargets(){return this.li.activeTargetIds}isActiveQueryTarget(e){return this.li.activeTargetIds.has(e)}start(){return this.li=new wb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Eb{di(e){}shutdown(){}}class Sb{constructor(){this.wi=()=>this._i(),this.mi=()=>this.gi(),this.yi=[],this.pi()}di(e){this.yi.push(e)}shutdown(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)}pi(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)}_i(){im("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.yi)e(0)}gi(){im("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.yi)e(1)}static gt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Tb{constructor(e){this.Ei=e.Ei,this.Ti=e.Ti}Ii(e){this.Ai=e}Ri(e){this.Pi=e}onMessage(e){this.bi=e}close(){this.Ti()}send(e){this.Ei(e)}vi(){this.Ai()}Vi(e){this.Pi(e)}Si(e){this.bi(e)}}class Cb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Ni(e,t,n,r){const i=this.xi(e,t);im("RestConnection","Sending: ",i,n);const s={};return this.ki(s,r),this.$i(e,i,s,n).then((e=>(im("RestConnection","Received: ",e),e)),(t=>{throw om("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t}))}Oi(e,t,n,r){return this.Ni(e,t,n,r)}ki(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Zp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}xi(e,t){const n=kb[e];return`${this.Di}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}$i(e,t,n,r){return new Promise(((i,s)=>{const o=new Xp;o.listenOnce(Hp.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case $p.NO_ERROR:const t=o.getResponseJson();im("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $p.TIMEOUT:im("Connection",'RPC "'+e+'" timed out'),s(new tm(em.DEADLINE_EXCEEDED,"Request time out"));break;case $p.HTTP_ERROR:const n=o.getStatus();if(im("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(em).indexOf(t)>=0?t:em.UNKNOWN}(e.status);s(new tm(t,e.message))}else s(new tm(em.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new tm(em.UNAVAILABLE,"Connection failed."));break;default:lm()}}finally{im("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Fi(e,t){const n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Up,i=Af(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};var o;this.useFetchStreams&&(s.xmlHttpFactory=new Qp({})),this.ki(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tc())||"object"==typeof navigator&&"ReactNative"===navigator.product||tc().indexOf("Electron/")>=0||function(){var e=tc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||tc().indexOf("MSAppHost/")>=0||"object"==typeof(o="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==o.id||(s.httpHeadersOverwriteParam="$httpHeaders");const a=n.join("");im("Connection","Creating WebChannel: "+a,s);const l=r.createWebChannel(a,s);let u=!1,c=!1;const h=new Tb({Ei:e=>{c?im("Connection","Not sending because WebChannel is closed:",e):(u||(im("Connection","Opening WebChannel transport."),l.open(),u=!0),im("Connection","WebChannel sending:",e),l.send(e))},Ti:()=>l.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(l,Yp.EventType.OPEN,(()=>{c||im("Connection","WebChannel transport opened.")})),f(l,Yp.EventType.CLOSE,(()=>{c||(c=!0,im("Connection","WebChannel transport closed"),h.Vi())})),f(l,Yp.EventType.ERROR,(e=>{c||(c=!0,om("Connection","WebChannel transport errored:",e),h.Vi(new tm(em.UNAVAILABLE,"The operation could not be completed")))})),f(l,Yp.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];um(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){im("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=cy[e];if(void 0!==t)return fy(t)}(e),n=i.message;void 0===t&&(t=em.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Vi(new tm(t,n)),l.close()}else im("Connection","WebChannel received:",n),h.Si(n)}})),f(i,Kp.STAT_EVENT,(e=>{e.stat===Wp?im("Connection","Detected buffering proxy"):e.stat===Gp&&im("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.vi()}),0),h}}function xb(){return"undefined"!=typeof document?document:null}function Ib(e){return new Vy(e,!0)}class _b{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.Ui=0,this.qi=null,this.Ki=Date.now(),this.reset()}reset(){this.Ui=0}ji(){this.Ui=this.Bi}Qi(e){this.cancel();const t=Math.floor(this.Ui+this.Wi()),n=Math.max(0,Date.now()-this.Ki),r=Math.max(0,t-n);r>0&&im("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ui} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qi=this.Se.enqueueAfterDelay(this.timerId,r,(()=>(this.Ki=Date.now(),e()))),this.Ui*=this.Li,this.Ui<this.Mi&&(this.Ui=this.Mi),this.Ui>this.Bi&&(this.Ui=this.Bi)}Gi(){null!==this.qi&&(this.qi.skipDelay(),this.qi=null)}cancel(){null!==this.qi&&(this.qi.cancel(),this.qi=null)}Wi(){return(Math.random()-.5)*this.Ui}}class Nb{constructor(e,t,n,r,i,s){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _b(e,t)}tr(){return 1===this.state||2===this.state||4===this.state}er(){return 2===this.state}start(){3!==this.state?this.auth():this.nr()}async stop(){this.tr()&&await this.close(0)}sr(){this.state=0,this.Zi.reset()}ir(){this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(()=>this.rr())))}cr(e){this.ur(),this.stream.send(e)}async rr(){if(this.er())return this.close(0)}ur(){this.Xi&&(this.Xi.cancel(),this.Xi=null)}async close(e,t){this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===em.RESOURCE_EXHAUSTED?(sm(t.toString()),sm("Using maximum backoff delay to prevent overloading the backend."),this.Zi.ji()):t&&t.code===em.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ri(t)}ar(){}auth(){this.state=1;const e=this.hr(this.Yi),t=this.Yi;this.Ji.getToken().then((e=>{this.Yi===t&&this.lr(e)}),(t=>{e((()=>{const e=new tm(em.UNKNOWN,"Fetching auth token failed: "+t.message);return this.dr(e)}))}))}lr(e){const t=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((()=>{t((()=>(this.state=2,this.listener.Ii())))})),this.stream.Ri((e=>{t((()=>this.dr(e)))})),this.stream.onMessage((e=>{t((()=>this.onMessage(e)))}))}nr(){this.state=4,this.Zi.Qi((async()=>{this.state=0,this.start()}))}dr(e){return im("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}hr(e){return t=>{this.Se.enqueueAndForget((()=>this.Yi===e?t():(im("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Db extends Nb{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.R=r}wr(e){return this.Hi.Fi("Listen",e)}onMessage(e){this.Zi.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.I?(um(void 0===t||"string"==typeof t),xm.fromBase64String(t||"")):(um(void 0===t||t instanceof Uint8Array),xm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?em.UNKNOWN:fy(e.code);return new tm(t,e.message||"")}(o);n=new Ly(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ky(e,r.document.name),s=qy(r.document.updateTime),o=new Ym({mapValue:{fields:r.document.fields}}),a=Zm.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ny(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ky(e,r.document),s=r.readTime?qy(r.readTime):ym.min(),o=Zm.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ny([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ky(e,r.document),s=r.removedTargetIds||[];n=new Ny([],s,i,null)}else{if(!("filter"in t))return lm();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new uy(r),s=e.targetId;n=new Dy(s,i)}}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ym.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ym.min():t.readTime?qy(t.readTime):ym.min()}(e);return this.listener._r(t,n)}mr(e){const t={};t.database=Qy(this.R),t.addTarget=function(e,t){let n;const r=t.target;return n=rg(r)?{documents:ev(e,r)}:{query:tv(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=jy(e,t.resumeToken):t.snapshotVersion.compareTo(ym.min())>0&&(n.readTime=Uy(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)}gr(e){const t={};t.database=Qy(this.R),t.removeTarget=e,this.cr(t)}}class Lb extends Nb{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.R=r,this.yr=!1}get pr(){return this.yr}start(){this.yr=!1,this.lastStreamToken=void 0,super.start()}ar(){this.yr&&this.Er([])}wr(e){return this.Hi.Fi("Write",e)}onMessage(e){if(um(!!e.streamToken),this.lastStreamToken=e.streamToken,this.yr){this.Zi.reset();const t=function(e,t){return e&&e.length>0?(um(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qy(e.updateTime):qy(t);return n.isEqual(ym.min())&&(n=qy(t)),new Wg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qy(e.commitTime);return this.listener.Tr(n,t)}return um(!e.writeResults||0===e.writeResults.length),this.yr=!0,this.listener.Ir()}Ar(){const e={};e.database=Qy(this.R),this.cr(e)}Er(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Zy(this.R,e)))};this.cr(t)}}class Ab extends class{}{constructor(e,t,n){super(),this.credentials=e,this.Hi=t,this.R=n,this.Rr=!1}Pr(){if(this.Rr)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}Ni(e,t,n){return this.Pr(),this.credentials.getToken().then((r=>this.Hi.Ni(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new tm(em.UNKNOWN,e.toString())}))}Oi(e,t,n){return this.Pr(),this.credentials.getToken().then((r=>this.Hi.Oi(e,t,n,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new tm(em.UNKNOWN,e.toString())}))}terminate(){this.Rr=!0}}class Rb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.br=0,this.vr=null,this.Vr=!0}Sr(){0===this.br&&(this.Dr("Unknown"),this.vr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.vr=null,this.Cr("Backend didn't respond within 10 seconds."),this.Dr("Offline"),Promise.resolve()))))}Nr(e){"Online"===this.state?this.Dr("Unknown"):(this.br++,this.br>=1&&(this.kr(),this.Cr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Dr("Offline")))}set(e){this.kr(),this.br=0,"Online"===e&&(this.Vr=!1),this.Dr(e)}Dr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Cr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(sm(t),this.Vr=!1):im("OnlineStateTracker",t)}kr(){null!==this.vr&&(this.vr.cancel(),this.vr=null)}}class Pb{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.$r=[],this.Or=new Map,this.Fr=new Set,this.Mr=[],this.Lr=i,this.Lr.di((e=>{n.enqueueAndForget((async()=>{Bb(this)&&(im("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=cm(e);t.Fr.add(4),await Mb(t),t.Br.set("Unknown"),t.Fr.delete(4),await Ob(t)}(this))}))})),this.Br=new Rb(n,r)}}async function Ob(e){if(Bb(e))for(const t of e.Mr)await t(!0)}async function Mb(e){for(const t of e.Mr)await t(!1)}function Fb(e,t){const n=cm(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),qb(n)?zb(n):sE(n).er()&&Ub(n,t))}function Vb(e,t){const n=cm(e),r=sE(n);n.Or.delete(t),r.er()&&jb(n,t),0===n.Or.size&&(r.er()?r.ir():Bb(n)&&n.Br.set("Unknown"))}function Ub(e,t){e.Ur.q(t.targetId),sE(e).mr(t)}function jb(e,t){e.Ur.q(t),sE(e).gr(t)}function zb(e){e.Ur=new Ry({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.Or.get(t)||null}),sE(e).start(),e.Br.Sr()}function qb(e){return Bb(e)&&!sE(e).tr()&&e.Or.size>0}function Bb(e){return 0===cm(e).Fr.size}function $b(e){e.Ur=void 0}async function Hb(e){e.Or.forEach(((t,n)=>{Ub(e,t)}))}async function Kb(e,t){$b(e),qb(e)?(e.Br.Nr(t),zb(e)):e.Br.set("Unknown")}async function Wb(e,t,n){if(e.Br.set("Online"),t instanceof Ly&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Or.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Or.delete(r),e.Ur.removeTarget(r))}(e,t)}catch(n){im("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gb(e,n)}else if(t instanceof Ny?e.Ur.X(t):t instanceof Dy?e.Ur.rt(t):e.Ur.et(t),!n.isEqual(ym.min()))try{const t=await nb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ur.ut(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Or.get(t);if(!n)return;e.Or.set(t,n.withResumeToken(xm.EMPTY_BYTE_STRING,n.snapshotVersion)),jb(e,t);const r=new Zv(n.target,t,1,n.sequenceNumber);Ub(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){im("RemoteStore","Failed to raise snapshot:",t),await Gb(e,t)}}async function Gb(e,t,n){if(!Bv(t))throw t;e.Fr.add(1),await Mb(e),e.Br.set("Offline"),n||(n=()=>nb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{im("RemoteStore","Retrying IndexedDB access"),await n(),e.Fr.delete(1),await Ob(e)}))}function Qb(e,t){return t().catch((n=>Gb(e,n,t)))}async function Yb(e){const t=cm(e),n=oE(t);let r=t.$r.length>0?t.$r[t.$r.length-1].batchId:-1;for(;Xb(t);)try{const e=await ib(t.localStore,r);if(null===e){0===t.$r.length&&n.ir();break}r=e.batchId,Zb(t,e)}catch(e){await Gb(t,e)}Jb(t)&&eE(t)}function Xb(e){return Bb(e)&&e.$r.length<10}function Zb(e,t){e.$r.push(t);const n=oE(e);n.er()&&n.pr&&n.Er(t.mutations)}function Jb(e){return Bb(e)&&!oE(e).tr()&&e.$r.length>0}function eE(e){oE(e).start()}async function tE(e){oE(e).Ar()}async function nE(e){const t=oE(e);for(const n of e.$r)t.Er(n.mutations)}async function rE(e,t,n){const r=e.$r.shift(),i=Xv.from(r,t,n);await Qb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Yb(e)}async function iE(e,t){t&&oE(e).pr&&await async function(e,t){if(function(e){switch(e){case em.OK:return lm();case em.CANCELLED:case em.UNKNOWN:case em.DEADLINE_EXCEEDED:case em.RESOURCE_EXHAUSTED:case em.INTERNAL:case em.UNAVAILABLE:case em.UNAUTHENTICATED:return!1;case em.INVALID_ARGUMENT:case em.NOT_FOUND:case em.ALREADY_EXISTS:case em.PERMISSION_DENIED:case em.FAILED_PRECONDITION:case em.ABORTED:case em.OUT_OF_RANGE:case em.UNIMPLEMENTED:case em.DATA_LOSS:return!0;default:return lm()}}(n=t.code)&&n!==em.ABORTED){const n=e.$r.shift();oE(e).sr(),await Qb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Yb(e)}var n}(e,t),Jb(e)&&eE(e)}function sE(e){return e.qr||(e.qr=function(e,t,n){const r=cm(e);return r.Pr(),new Db(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Hb.bind(null,e),Ri:Kb.bind(null,e),_r:Wb.bind(null,e)}),e.Mr.push((async t=>{t?(e.qr.sr(),qb(e)?zb(e):e.Br.set("Unknown")):(await e.qr.stop(),$b(e))}))),e.qr}function oE(e){return e.Kr||(e.Kr=function(e,t,n){const r=cm(e);return r.Pr(),new Lb(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:tE.bind(null,e),Ri:iE.bind(null,e),Ir:nE.bind(null,e),Tr:rE.bind(null,e)}),e.Mr.push((async t=>{t?(e.Kr.sr(),await Yb(e)):(await e.Kr.stop(),e.$r.length>0&&(im("RemoteStore",`Stopping write stream with ${e.$r.length} pending writes`),e.$r=[]))}))),e.Kr}class aE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new aE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tm(em.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lE(e,t){if(sm("AsyncQueue",`${t}: ${e}`),Bv(e))return new tm(em.UNAVAILABLE,`${t}: ${e}`);throw e}class uE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mm.comparator(t.key,n.key):(e,t)=>Mm.comparator(e.key,t.key),this.keyedMap=Ey(),this.sortedSet=new dy(this.comparator)}static emptySet(e){return new uE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cE{constructor(){this.jr=new dy(Mm.comparator)}track(e){const t=e.doc.key,n=this.jr.get(t);n?0!==e.type&&3===n.type?this.jr=this.jr.insert(t,e):3===e.type&&1!==n.type?this.jr=this.jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.jr=this.jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.jr=this.jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.jr=this.jr.remove(t):1===e.type&&2===n.type?this.jr=this.jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.jr=this.jr.insert(t,{type:2,doc:e.doc}):lm():this.jr=this.jr.insert(t,e)}Qr(){const e=[];return this.jr.inorderTraversal(((t,n)=>{e.push(n)})),e}}class hE{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new hE(e,t,uE.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class fE{constructor(){this.Wr=void 0,this.listeners=[]}}class dE{constructor(){this.queries=new Fw((e=>xg(e)),Cg),this.onlineState="Unknown",this.Gr=new Set}}function pE(e,t){const n=cm(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Hr(e)&&(r=!0);i.Wr=e}}r&&gE(n)}function mE(e,t,n){const r=cm(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function gE(e){e.Gr.forEach((e=>{e.next()}))}class yE{constructor(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}Hr(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),t=!0):this.eo(e,this.onlineState)&&(this.no(e),t=!0),this.Xr=e,t}onError(e){this.Jr.error(e)}zr(e){this.onlineState=e;let t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t}eo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)}Zr(e){if(e.docChanges.length>0)return!0;const t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}no(e){e=hE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)}}class vE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class bE{constructor(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ty(),this.mutatedKeys=Ty(),this.lo=Ng(e),this.fo=new uE(this.lo)}get wo(){return this.uo}_o(e,t){const n=t?t.mo:new cE,r=t?t.fo:this.fo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Eg(this.query)&&r.size===this.query.limit?r.last():null,l=Sg(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=_g(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.yo(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.lo(c,a)>0||l&&this.lo(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Eg(this.query)||Sg(this.query))for(;s.size>this.query.limit;){const e=Eg(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{fo:s,mo:n,Nn:o,mutatedKeys:i}}yo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;const i=e.mo.Qr();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lm()}};return n(e)-n(t)}(e.type,t.type)||this.lo(e.doc,t.doc))),this.po(n);const s=t?this.Eo():[],o=0===this.ho.size&&this.current?1:0,a=o!==this.ao;return this.ao=o,0!==i.length||a?{snapshot:new hE(this.query,e.fo,r,i,e.mutatedKeys,0===o,a,!1),To:s}:{To:s}}zr(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}}Io(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations}po(e){e&&(e.addedDocuments.forEach((e=>this.uo=this.uo.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.uo=this.uo.delete(e))),this.current=e.current)}Eo(){if(!this.current)return[];const e=this.ho;this.ho=Ty(),this.fo.forEach((e=>{this.Io(e.key)&&(this.ho=this.ho.add(e.key))}));const t=[];return e.forEach((e=>{this.ho.has(e)||t.push(new wE(e))})),this.ho.forEach((n=>{e.has(n)||t.push(new vE(n))})),t}Ao(e){this.uo=e.Bn,this.ho=Ty();const t=this._o(e.documents);return this.applyChanges(t,!0)}Ro(){return hE.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)}}class EE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class SE{constructor(e){this.key=e,this.Po=!1}}class kE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.bo={},this.vo=new Fw((e=>xg(e)),Cg),this.Vo=new Map,this.So=new Set,this.Do=new dy(Mm.comparator),this.Co=new Map,this.No=new ub,this.xo={},this.ko=new Map,this.$o=Cw.Yt(),this.onlineState="Unknown",this.Oo=void 0}get isPrimaryClient(){return!0===this.Oo}}async function TE(e,t){const n=function(e){const t=cm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_E.bind(null,t),t.bo._r=pE.bind(null,t.eventManager),t.bo.Mo=mE.bind(null,t.eventManager),t}(e);let r,i;const s=n.vo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro();else{const e=await function(e,t){const n=cm(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ue.getTargetData(e,t).next((i=>i?(r=i,Vv.resolve(r)):n.Ue.allocateTargetId(e).next((i=>(r=new Zv(t,i,0,e.currentSequenceNumber),n.Ue.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.$n.set(t,e.targetId)),e}))}(n.localStore,Tg(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Fo=(t,n,r)=>async function(e,t,n,r){let i=t.view._o(n);i.Nn&&(i=await ob(e.localStore,t.query,!1).then((({documents:e})=>t.view._o(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return OE(e,t.targetId,o.To),o.snapshot}(e,t,n,r);const i=await ob(e.localStore,t,!0),s=new bE(t,i.Bn),o=s._o(i.documents),a=_y.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);OE(e,n,l.To);const u=new EE(t,n,s);return e.vo.set(t,u),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot}(n,t,r,"current"===s),n.isPrimaryClient&&Fb(n.remoteStore,e)}return i}async function CE(e,t){const n=cm(e),r=n.vo.get(t),i=n.Vo.get(r.targetId);if(i.length>1)return n.Vo.set(r.targetId,i.filter((e=>!Cg(e,t)))),void n.vo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sb(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Vb(n.remoteStore,r.targetId),RE(n,r.targetId)})).catch(Dw)):(RE(n,r.targetId),await sb(n.localStore,r.targetId,!0))}async function xE(e,t){const n=cm(e);try{const e=await rb(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Co.get(t);r&&(um(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Po=!0:e.modifiedDocuments.size>0?um(r.Po):e.removedDocuments.size>0&&(um(r.Po),r.Po=!1))})),await VE(n,e,t)}catch(e){await Dw(e)}}function IE(e,t,n){const r=cm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.vo.forEach(((n,r)=>{const i=r.view.zr(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=cm(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.zr(t)&&(r=!0)})),r&&gE(n)}(r.eventManager,t),e.length&&r.bo._r(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _E(e,t,n){const r=cm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Co.get(t),s=i&&i.key;if(s){let e=new dy(Mm.comparator);e=e.insert(s,Zm.newNoDocument(s,ym.min()));const n=Ty().add(s),i=new Iy(ym.min(),new Map,new gy(dm),e,n);await xE(r,i),r.Do=r.Do.remove(s),r.Co.delete(t),FE(r)}else await sb(r.localStore,t,!1).then((()=>RE(r,t,n))).catch(Dw)}async function NE(e,t){const n=cm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=cm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Fn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Vv.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);um(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e._n.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n._n.performConsistencyCheck(e))).next((()=>n.Mn.pn(e,r)))}))}(n.localStore,t);AE(n,r,null),LE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VE(n,e)}catch(e){await Dw(e)}}async function DE(e,t,n){const r=cm(e);try{const e=await function(e,t){const n=cm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n._n.lookupMutationBatch(e,t).next((t=>(um(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)))).next((()=>n._n.performConsistencyCheck(e))).next((()=>n.Mn.pn(e,r)))}))}(r.localStore,t);AE(r,t,n),LE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VE(r,e)}catch(n){await Dw(n)}}function LE(e,t){(e.ko.get(t)||[]).forEach((e=>{e.resolve()})),e.ko.delete(t)}function AE(e,t,n){const r=cm(e);let i=r.xo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function RE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Vo.get(t))e.vo.delete(r),n&&e.bo.Mo(r,n);e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((t=>{e.No.containsKey(t)||PE(e,t)}))}function PE(e,t){e.So.delete(t.path.canonicalString());const n=e.Do.get(t);null!==n&&(Vb(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),FE(e))}function OE(e,t,n){for(const r of n)r instanceof vE?(e.No.addReference(r.key,t),ME(e,r)):r instanceof wE?(im("SyncEngine","Document no longer in limbo: "+r.key),e.No.removeReference(r.key,t),e.No.containsKey(r.key)||PE(e,r.key)):lm()}function ME(e,t){const n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(im("SyncEngine","New document in limbo: "+n),e.So.add(r),FE(e))}function FE(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){const t=e.So.values().next().value;e.So.delete(t);const n=new Mm(Sm.fromString(t)),r=e.$o.next();e.Co.set(r,new SE(n)),e.Do=e.Do.insert(n,r),Fb(e.remoteStore,new Zv(Tg(bg(n.path)),r,2,Jp.o))}}async function VE(e,t,n){const r=cm(e),i=[],s=[],o=[];r.vo.isEmpty()||(r.vo.forEach(((e,a)=>{o.push(r.Fo(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Xw.vn(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.bo._r(i),await async function(e,t){const n=cm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Vv.forEach(t,(t=>Vv.forEach(t.Pn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Vv.forEach(t.bn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Bv(e))throw e;im("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.kn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.kn=n.kn.insert(t,i)}}}(r.localStore,s))}async function UE(e,t){const n=cm(e);if(!n.currentUser.isEqual(t)){im("SyncEngine","User change. New user:",t.toKey());const e=await tb(n.localStore,t);n.currentUser=t,function(e,t){e.ko.forEach((e=>{e.forEach((e=>{e.reject(new tm(em.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VE(n,e.Ln)}}function jE(e,t){const n=cm(e),r=n.Co.get(t);if(r&&r.Po)return Ty().add(r.key);{let e=Ty();const r=n.Vo.get(t);if(!r)return e;for(const t of r){const r=n.vo.get(t);e=e.unionWith(r.view.wo)}return e}}function zE(e){const t=cm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,t),t}class qE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.R=Ib(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.Uo(e),await this.persistence.start(),this.gcScheduler=this.qo(e),this.localStore=this.Ko(e)}qo(e){return null}Ko(e){return eb(this.persistence,new Zw,e.initialUser,this.R)}Uo(e){return new mb(yb.Ps,this.R)}Bo(e){return new bb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BE extends qE{constructor(e,t,n){super(),this.jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await ab(this.localStore),await this.jo.initialize(this,e),await zE(this.jo.syncEngine),await Yb(this.jo.remoteStore)}Ko(e){return eb(this.persistence,new Zw,e.initialUser,this.R)}qo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Rw(t,e.asyncQueue)}Uo(e){const t=function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yw.withCacheSize(this.cacheSizeBytes):yw.DEFAULT;return new Ww(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,xb(),this.R,this.sharedClientState,!!this.forceOwnership)}Bo(e){return new bb}}class $E{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>IE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=UE.bind(null,this.syncEngine),await async function(e,t){const n=cm(e);t?(n.Fr.delete(2),await Ob(n)):t||(n.Fr.add(2),await Mb(n),n.Br.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dE}createDatastore(e){const t=Ib(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Cb(r));var r;return function(e,t,n){return new Ab(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>IE(this.syncEngine,e,0),s=Sb.gt()?new Sb:new Eb,new Pb(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new kE(e,t,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=cm(e);im("RemoteStore","RemoteStore shutting down."),t.Fr.add(5),await Mb(t),t.Lr.shutdown(),t.Br.set("Unknown")}(this.remoteStore)}}class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Qo(this.observer.next,e)}error(e){this.observer.error&&this.Qo(this.observer.error,e)}Wo(){this.muted=!0}Qo(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class KE{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=vb.UNAUTHENTICATED,this.clientId=fm.u(),this.credentialListener=()=>Promise.resolve(),this.credentials.setChangeListener(t,(async e=>{im("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.removeChangeListener(),e.resolve()}catch(t){const n=lE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function WE(e,t){e.asyncQueue.verifyOperationInProgress(),im("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function GE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(im("FirestoreClient","Using default OfflineComponentProvider"),await WE(e,new qE)),e.offlineComponents}(e);im("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=cm(e);n.asyncQueue.verifyOperationInProgress(),im("RemoteStore","RemoteStore received new credentials");const r=Bb(n);n.Fr.add(3),await Mb(n),r&&n.Br.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Fr.delete(3),await Ob(n)}(t.remoteStore,e))),e.onlineComponents=t}async function QE(e){return e.onlineComponents||(im("FirestoreClient","Using default OnlineComponentProvider"),await GE(e,new $E)),e.onlineComponents}async function YE(e){const t=await QE(e),n=t.eventManager;return n.onListen=TE.bind(null,t.syncEngine),n.onUnlisten=CE.bind(null,t.syncEngine),n}class XE{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ZE{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ZE&&e.projectId===this.projectId&&e.database===this.database}}const JE=new Map;class eS{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class tS{constructor(){this.changeListener=null}getToken(){return Promise.resolve(null)}invalidateToken(){}setChangeListener(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(vb.UNAUTHENTICATED)))}removeChangeListener(){this.changeListener=null}}class nS{constructor(e){this.currentUser=vb.UNAUTHENTICATED,this.oc=new Fv,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=()=>{this.cc++,this.currentUser=this.ac(),this.oc.resolve(),this.changeListener&&this.asyncQueue.enqueueRetryable((()=>this.changeListener(this.currentUser)))};const t=e=>{im("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.uc)};e.onInit((e=>t(e))),setTimeout((()=>{if(!this.auth){const n=e.getImmediate({optional:!0});n?t(n):(im("FirebaseCredentialsProvider","Auth not yet detected"),this.oc.resolve())}}),0)}getToken(){const e=this.cc,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.cc!==e?(im("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(um("string"==typeof t.accessToken),new eS(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}setChangeListener(e,t){this.asyncQueue=e,this.asyncQueue.enqueueRetryable((async()=>{await this.oc.promise,await t(this.currentUser),this.changeListener=t}))}removeChangeListener(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=()=>Promise.resolve()}ac(){const e=this.auth&&this.auth.getUid();return um(null===e||"string"==typeof e),new vb(e)}}class rS{constructor(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=vb.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e}}class iS{constructor(e,t,n){this.hc=e,this.lc=t,this.fc=n}getToken(){return Promise.resolve(new rS(this.hc,this.lc,this.fc))}setChangeListener(e,t){e.enqueueRetryable((()=>t(vb.FIRST_PARTY)))}removeChangeListener(){}invalidateToken(){}}function sS(e,t,n){if(!n)throw new tm(em.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oS(e){if(!Mm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function aS(e){if(Mm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":lm()}function uS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tm(em.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lS(e);throw new tm(em.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class cS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tm(em.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tm(em.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new tm(em.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hS{constructor(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,e instanceof ZE?(this._databaseId=e,this._credentials=new tS):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tm(em.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ZE(e.options.projectId)}(e),this._credentials=new nS(t))}get app(){if(!this._app)throw new tm(em.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new tS;switch(e.type){case"gapi":const t=e.client;return um(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new iS(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new tm(em.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JE.get(e);t&&(im("ComponentProvider","Removing Datastore"),JE.delete(e),t.terminate())}(this),Promise.resolve()}}class fS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fS(this.firestore,e,this._key)}}class dS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dS(this.firestore,e,this._query)}}class pS extends dS{constructor(e,t,n){super(e,t,bg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fS(this.firestore,null,new Mm(e))}withConverter(e){return new pS(this.firestore,e,this._path)}}function mS(e,t,...n){if(e=cc(e),1===arguments.length&&(t=fm.u()),sS("doc","path",t),e instanceof hS){const r=Sm.fromString(t,...n);return oS(r),new fS(e,null,new Mm(r))}{if(!(e instanceof fS||e instanceof pS))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Sm.fromString(t,...n));return oS(r),new fS(e.firestore,e instanceof pS?e.converter:null,new Mm(r))}}class gS{constructor(){this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.gc=null,this.yc=!1,this.Ec=!1,this.Tc=[],this.Zi=new _b(this,"async_queue_retry"),this.Ic=()=>{const e=xb();e&&im("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Zi.Gi()};const e=xb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}get isShuttingDown(){return this._c}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ac(),this.Rc(e)}enterRestrictedMode(e){if(!this._c){this._c=!0,this.Ec=e||!1;const t=xb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}}enqueue(e){if(this.Ac(),this._c)return new Promise((()=>{}));const t=new Fv;return this.Rc((()=>this._c&&this.Ec?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.wc.push(e),this.Pc())))}async Pc(){if(0!==this.wc.length){try{await this.wc[0](),this.wc.shift(),this.Zi.reset()}catch(e){if(!Bv(e))throw e;im("AsyncQueue","Operation failed with retryable error: "+e)}this.wc.length>0&&this.Zi.Qi((()=>this.Pc()))}}Rc(e){const t=this.dc.then((()=>(this.yc=!0,e().catch((e=>{throw this.gc=e,this.yc=!1,sm("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.yc=!1,e))))));return this.dc=t,t}enqueueAfterDelay(e,t,n){this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);const r=aE.createAndSchedule(this,e,t,n,(e=>this.bc(e)));return this.mc.push(r),r}Ac(){this.gc&&lm()}verifyOperationInProgress(){}async vc(){let e;do{e=this.dc,await e}while(e!==this.dc)}Vc(e){for(const t of this.mc)if(t.timerId===e)return!0;return!1}Sc(e){return this.vc().then((()=>{this.mc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.mc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.vc()}))}Dc(e){this.Tc.push(e)}bc(e){const t=this.mc.indexOf(e);this.mc.splice(t,1)}}function yS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class vS extends hS{constructor(e,t){super(e,t),this.type="firestore",this._queue=new gS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bS(this),this._firestoreClient.terminate()}}function wS(e){return e._firestoreClient||bS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bS(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new XE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new KE(e._credentials,e._queue,r)}class ES{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tm(em.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class SS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new SS(xm.fromBase64String(e))}catch(e){throw new tm(em.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new SS(xm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kS{constructor(e){this._methodName=e}}class TS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tm(em.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tm(em.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dm(this._lat,e._lat)||dm(this._long,e._long)}}const CS=/^__.*__$/;class xS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ry(e,this.data,this.fieldMask,t,this.fieldTransforms):new ny(e,this.data,t,this.fieldTransforms)}}class IS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ry(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _S(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lm()}}class NS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Nc(){return this.settings.Nc}xc(e){return new NS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}kc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,$c:!1});return r.Oc(e),r}Fc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,$c:!1});return r.Cc(),r}Mc(e){return this.xc({path:void 0,$c:!0})}Lc(e){return zS(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.Uc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Cc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Oc(this.path.get(e))}Oc(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(_S(this.Nc)&&CS.test(e))throw this.Lc('Document fields cannot begin and end with "__"')}}class DS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Ib(e)}qc(e,t,n,r=!1){return new NS({Nc:e,methodName:t,Uc:n,path:Tm.emptyPath(),$c:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)}}function LS(e){const t=e._freezeSettings(),n=Ib(e._databaseId);return new DS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AS(e,t,n,r,i,s={}){const o=e.qc(s.merge||s.mergeFields?2:0,t,n,i);FS("Data must be an object, but it was:",o,r);const a=OS(r,o);let l,u;if(s.merge)l=new Cm(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=VS(t,r,n);if(!o.contains(i))throw new tm(em.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qS(e,i)||e.push(i)}l=new Cm(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new xS(new Ym(a),l,u)}class RS extends kS{_toFieldTransform(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(`${this._methodName}() can only appear at the top level of your update data`):e.Lc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RS}}function PS(e,t){if(MS(e=cc(e)))return FS("Unsupported field value:",t,e),OS(e,t);if(e instanceof kS)return function(e,t){if(!_S(t.Nc))throw t.Lc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Lc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.$c&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=PS(i,t.Mc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=cc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rg(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=gm.fromDate(e);return{timestampValue:Uy(t.R,n)}}if(e instanceof gm){const n=new gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Uy(t.R,n)}}if(e instanceof TS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SS)return{bytesValue:jy(t.R,e._byteString)};if(e instanceof fS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:By(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc(`Unsupported field value: ${lS(e)}`)}(e,t)}function OS(e,t){const n={};return bm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wm(e,((e,r)=>{const i=PS(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function MS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gm||e instanceof TS||e instanceof SS||e instanceof fS||e instanceof kS)}function FS(e,t,n){if(!MS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=lS(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function VS(e,t,n){if((t=cc(t))instanceof ES)return t._internalPath;if("string"==typeof t)return jS(e,t);throw zS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const US=new RegExp("[~\\*/\\[\\]]");function jS(e,t,n){if(t.search(US)>=0)throw zS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ES(...t.split("."))._internalPath}catch(r){throw zS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new tm(em.INVALID_ARGUMENT,a+e+l)}function qS(e,t){return e.some((e=>e.isEqual(t)))}class BS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $S extends BS{data(){return super.data()}}function HS(e,t){return"string"==typeof t?jS(e,t):t instanceof ES?t._internalPath:t._delegate._internalPath}class KS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WS extends BS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(HS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class GS extends WS{data(e={}){return super.data(e)}}class QS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new KS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new GS(this._firestore,this._userDataWriter,n.key,n,new KS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tm(em.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new GS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new KS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new GS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:YS(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lm()}}function XS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ZS extends class{convertValue(e,t="none"){switch(Fm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lm()}}convertObject(e,t){const n={};return wm(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new TS(Nm(e.latitude),Nm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Am(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rm(e));default:return null}}convertTimestamp(e){const t=_m(e);return new gm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Sm.fromString(e);um(dv(n));const r=new ZE(n.get(1),n.get(3)),i=new Mm(n.popFirst(5));return r.isEqual(t)||sm(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new SS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fS(this.firestore,null,t)}}function JS(e,t,n){e=uS(e,fS);const r=uS(e.firestore,vS),i=XS(e.converter,t,n);return nk(r,[AS(LS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gg.none())])}function ek(e,t,n,...r){e=uS(e,fS);const i=uS(e.firestore,vS),s=LS(i);let o;return o="string"==typeof(t=cc(t))||t instanceof ES?function(e,t,n,r,i,s){const o=e.qc(1,t,n),a=[VS(t,r,n)],l=[i];if(s.length%2!=0)throw new tm(em.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(VS(t,s[e])),l.push(s[e+1]);const u=[],c=Ym.empty();for(let e=a.length-1;e>=0;--e)if(!qS(u,a[e])){const t=a[e];let n=l[e];n=cc(n);const r=o.Fc(t);if(n instanceof RS)u.push(t);else{const e=PS(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Cm(u);return new IS(c,h,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.qc(1,t,n);FS("Data must be an object, but it was:",i,r);const s=[],o=Ym.empty();wm(r,((e,r)=>{const a=jS(t,e,n);r=cc(r);const l=i.Fc(a);if(r instanceof RS)s.push(a);else{const e=PS(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Cm(s);return new IS(o,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),nk(i,[o.toMutation(e._key,Gg.exists(!0))])}function tk(e,...t){var n,r,i;e=cc(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||yS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(yS(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof fS)u=uS(e.firestore,vS),c=bg(e._key.path),l={next:n=>{t[o]&&t[o](function(e,t,n){const r=n.docs.get(t._key),i=new ZS(e);return new WS(e,i,t._key,r,new KS(n.hasPendingWrites,n.fromCache),t.converter)}(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=uS(e,dS);u=uS(n.firestore,vS),c=n._query;const r=new ZS(u);l={next:e=>{t[o]&&t[o](new QS(u,r,n,e))},error:t[o+1],complete:t[o+2]},function(e){if(Sg(e)&&0===e.explicitOrderBy.length)throw new tm(em.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new HE(r),s=new yE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=cm(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new fE),i)try{s.Wr=await n.onListen(r)}catch(e){const n=lE(e,`Initialization of query '${Ig(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&gE(n)}(await YE(e),s))),()=>{i.Wo(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=cm(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await YE(e),s)))}}(wS(u),c,a,l)}function nk(e,t){return function(e,t){const n=new Fv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zE(e);try{const e=await function(e,t){const n=cm(e),r=gm.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ty());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Mn.pn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Jg(e,s.get(e.key));null!=t&&o.push(new ry(e.key,t,Xm(t.value.mapValue),Gg.exists(!0)))}return n._n.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xo[e.currentUser.toKey()];r||(r=new dy(dm)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,e.batchId,n),await VE(r,e.changes),await Yb(r.remoteStore)}catch(e){const t=lE(e,"Failed to persist write");n.reject(t)}}(await function(e){return QE(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(wS(e),t)}function rk(e){return Array.prototype.slice.call(e)}function ik(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function sk(e,t,n){var r,i=new Promise((function(i,s){ik(r=e[t].apply(e,n)).then(i,s)}));return i.request=r,i}function ok(e,t,n){var r=sk(e,t,n);return r.then((function(e){if(e)return new fk(e,r.request)}))}function ak(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function lk(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return sk(this[t],r,arguments)})}))}function uk(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function ck(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return ok(this[t],r,arguments)})}))}function hk(e){this._index=e}function fk(e,t){this._cursor=e,this._request=t}function dk(e){this._store=e}function pk(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function mk(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new pk(n)}function gk(e){this._db=e}Zp="9.0.0-beta.8",Lc(new hc("firestore-exp",((e,{options:t})=>{const n=e.getProvider("app-exp").getImmediate(),r=new vS(n,e.getProvider("auth-internal"));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r}),"PUBLIC")),Fc("@firebase/firestore","0.0.900-exp.8b4d7550f",undefined),ak(hk,"_index",["name","keyPath","multiEntry","unique"]),lk(hk,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ck(hk,"_index",IDBIndex,["openCursor","openKeyCursor"]),ak(fk,"_cursor",["direction","key","primaryKey","value"]),lk(fk,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(fk.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),ik(t._request).then((function(e){if(e)return new fk(e,t._request)}))}))})})),dk.prototype.createIndex=function(){return new hk(this._store.createIndex.apply(this._store,arguments))},dk.prototype.index=function(){return new hk(this._store.index.apply(this._store,arguments))},ak(dk,"_store",["name","keyPath","indexNames","autoIncrement"]),lk(dk,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ck(dk,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),uk(dk,"_store",IDBObjectStore,["deleteIndex"]),pk.prototype.objectStore=function(){return new dk(this._tx.objectStore.apply(this._tx,arguments))},ak(pk,"_tx",["objectStoreNames","mode"]),uk(pk,"_tx",IDBTransaction,["abort"]),mk.prototype.createObjectStore=function(){return new dk(this._db.createObjectStore.apply(this._db,arguments))},ak(mk,"_db",["name","version","objectStoreNames"]),uk(mk,"_db",IDBDatabase,["deleteObjectStore","close"]),gk.prototype.transaction=function(){return new pk(this._db.transaction.apply(this._db,arguments))},ak(gk,"_db",["name","version","objectStoreNames"]),uk(gk,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[dk,hk].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=rk(arguments),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[hk,dk].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));const yk="0.0.900-exp.8b4d7550f",vk=1e4,wk=`w:${yk}`,bk="FIS_v2",Ek=36e5,Sk=new ic("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kk(e){return e instanceof rc&&e.code.includes("request-failed")}function Tk({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Ck(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function xk(e,t){const n=(await t.json()).error;return Sk.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ik({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _k(e,{refreshToken:t}){const n=Ik(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function Nk(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Dk(e){return new Promise((t=>{setTimeout(t,e)}))}const Lk=/^[cdef][\w-]{21}$/;function Ak(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Lk.test(t)?t:""}catch(e){return""}}function Rk(e){return`${e.appName}!${e.appId}`}const Pk=new Map;function Ok(e,t){const n=Rk(e);Mk(n,t),function(e,t){const n=function(){!Fk&&"BroadcastChannel"in self&&(Fk=new BroadcastChannel("[Firebase] FID Change"),Fk.onmessage=e=>{Mk(e.data.key,e.data.fid)});return Fk}();n&&n.postMessage({key:e,fid:t});0===Pk.size&&Fk&&(Fk.close(),Fk=null)}(n,t)}function Mk(e,t){const n=Pk.get(e);if(n)for(const e of n)e(t)}let Fk=null;const Vk="firebase-installations-store";let Uk=null;function jk(){return Uk||(Uk=function(e,t,n){var r=sk(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new mk(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new gk(e)}))}("firebase-installations-database",1,(e=>{switch(e.oldVersion){case 0:e.createObjectStore(Vk)}}))),Uk}async function zk(e,t){const n=Rk(e),r=(await jk()).transaction(Vk,"readwrite"),i=r.objectStore(Vk),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||Ok(e,t.fid),t}async function qk(e){const t=Rk(e),n=(await jk()).transaction(Vk,"readwrite");await n.objectStore(Vk).delete(t),await n.complete}async function Bk(e,t){const n=Rk(e),r=(await jk()).transaction(Vk,"readwrite"),i=r.objectStore(Vk),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||Ok(e,o.fid),o}async function $k(e){let t;const n=await Bk(e,(n=>{const r=function(e){return Wk(e||{fid:Ak(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Sk.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(e,t){try{return zk(e,await async function(e,{fid:t}){const n=Tk(e),r=Ik(e),i={fid:t,authVersion:bk,appId:e.appId,sdkVersion:wk},s={method:"POST",headers:r,body:JSON.stringify(i)},o=await Nk((()=>fetch(n,s)));if(o.ok){const e=await o.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ck(e.authToken)}}throw await xk("Create Installation",o)}(e,t))}catch(n){throw kk(n)&&409===n.customData.serverCode?await qk(e):await zk(e,{fid:t.fid,registrationStatus:0}),n}}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Hk(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Hk(e){let t=await Kk(e);for(;1===t.registrationStatus;)await Dk(100),t=await Kk(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await $k(e);return n||t}return t}function Kk(e){return Bk(e,(e=>{if(!e)throw Sk.create("installation-not-found");return Wk(e)}))}function Wk(e){return 1===(t=e).registrationStatus&&t.registrationTime+vk<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Gk({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${Tk(e)}/${t}/authTokens:generate`}(e,n),i=_k(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={installation:{sdkVersion:wk}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Nk((()=>fetch(r,a)));if(l.ok){return Ck(await l.json())}throw await xk("Generate Auth Token",l)}async function Qk(e,t=!1){let n;const r=await Bk(e.appConfig,(r=>{if(!Xk(r))throw Sk.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ek}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await Yk(e.appConfig);for(;1===n.authToken.requestStatus;)await Dk(100),n=await Yk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Qk(e,t):r}(e,t),r;{if(!navigator.onLine)throw Sk.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Gk(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await zk(e.appConfig,r),n}catch(n){if(!kk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await zk(e.appConfig,n)}else await qk(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Yk(e){return Bk(e,(e=>{if(!Xk(e))throw Sk.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+vk<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Xk(e){return void 0!==e&&2===e.registrationStatus}async function Zk(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await $k(e);t&&await t}(n.appConfig);return(await Qk(n,t)).token}function Jk(e){return Sk.create("missing-app-config-values",{valueName:e})}const eT="installations-exp",tT=e=>{const t=Ac(e.getProvider("app-exp").getImmediate(),eT).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await $k(t.appConfig);return r?r.catch((function(){})):Qk(t).catch((function(){})),n.fid}(t),getToken:e=>Zk(t,e)}};Lc(new hc(eT,(e=>{const t=e.getProvider("app-exp").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw Jk("App Configuration");if(!e.name)throw Jk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:Ac(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Lc(new hc("installations-exp-internal",tT,"PRIVATE")),Fc("@firebase/installations-exp",yk);const nT="@firebase/remote-config-exp";class rT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}const iT="remote-config-exp",sT=new ic("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."});const oT=["1","true","t","yes","y","on"];class aT{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&oT.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}async function lT(e){const t=cc(e),n=new rT;setTimeout((async()=>{n.abort()}),t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n}),await t._storageCache.setLastFetchStatus("success")}catch(e){const n=function(e,t){return e instanceof rc&&-1!==e.code.indexOf(t)}(e,"fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(n),e}}class uT{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}function cT(e=navigator){return e.languages&&e.languages[0]||e.language}class hT{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,i={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:cT()},o={method:"POST",headers:i,body:JSON.stringify(s)},a=fetch(r,o),l=new Promise(((t,n)=>{e.signal.addEventListener((()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))}));let u;try{await Promise.race([a,l]),u=await a}catch(e){let t="fetch-client-network";throw"AbortError"===e.name&&(t="fetch-timeout"),sT.create(t,{originalErrorMessage:e.message})}let c=u.status;const h=u.headers.get("ETag")||void 0;let f,d;if(200===u.status){let e;try{e=await u.json()}catch(e){throw sT.create("fetch-client-parse",{originalErrorMessage:e.message})}f=e.entries,d=e.state}if("INSTANCE_STATE_UNSPECIFIED"===d?c=500:"NO_CHANGE"===d?c=304:"NO_TEMPLATE"!==d&&"EMPTY_CONFIG"!==d||(f={}),304!==c&&200!==c)throw sT.create("fetch-status",{httpStatus:c});return{status:c,eTag:h,config:f}}}class fT{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(sT.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(t){if(!function(e){if(!(e instanceof rc&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t))throw t;const r={throttleEndTimeMillis:Date.now()+uc(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(e,r)}}}class dT{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pT(e,t){const n=e.target.error||void 0;return sT.create(t,{originalErrorMessage:n&&n.message})}const mT="app_namespace_store";class gT{constructor(e,t,n,r=function(){return new Promise(((e,t)=>{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(pT(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(mT,{keyPath:"compositeKey"})}}}))}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([mT],"readonly").objectStore(mT),s=this.createCompositeKey(e);try{const e=i.get(s);e.onerror=e=>{r(pT(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(e){r(sT.create("storage-get",{originalErrorMessage:e&&e.message}))}}))}async set(e,t){const n=await this.openDbPromise;return new Promise(((r,i)=>{const s=n.transaction([mT],"readwrite").objectStore(mT),o=this.createCompositeKey(e);try{const e=s.put({compositeKey:o,value:t});e.onerror=e=>{i(pT(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(e){i(sT.create("storage-set",{originalErrorMessage:e&&e.message}))}}))}async delete(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([mT],"readwrite").objectStore(mT),s=this.createCompositeKey(e);try{const e=i.delete(s);e.onerror=e=>{r(pT(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(e){r(sT.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class yT{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const s=await n;s&&(this.activeConfig=s)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}async function vT(e){return e=cc(e),await lT(e),async function(e){const t=cc(e),[n,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)}(e)}Lc(new hc(iT,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app-exp").getImmediate(),r=e.getProvider("installations-exp-internal").getImmediate();if("undefined"==typeof window)throw sT.create("registration-window");const{projectId:i,apiKey:s,appId:o}=n.options;if(!i)throw sT.create("registration-project-id");if(!s)throw sT.create("registration-api-key");if(!o)throw sT.create("registration-app-id");t=t||"firebase";const a=new gT(o,n.name,t),l=new yT(a),u=new Sc(nT);u.logLevel=mc.ERROR;const c=new hT(r,Oc,t,i,s,o),h=new fT(c,a),f=new uT(h,a,l,u),d=new dT(n,f,l,a,u);return function(e){const t=cc(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((()=>{t._isInitializationComplete=!0}))),t._initializePromise}(d),d}),"PUBLIC").setMultipleInstances(!0)),Fc(nT,"0.0.900-exp.8b4d7550f");Fc("firebase-exp","9.0.0-beta.8","app"),function(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:xc,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Rc.create("bad-app-name",{appName:String(r)});const i=_c.get(r);if(i){if(ac(e,i.options)&&ac(n,i.config))return i;throw Rc.create("duplicate-app",{appName:r})}const s=new gc(r);for(const e of Nc.values())s.addComponent(e);const o=new Pc(e,n,s);_c.set(r,o)}({apiKey:"AIzaSyAkNpqlq9hU_cDu1_4wQIBNNc9OJd4LT1g",authDomain:"rebot-f643e.firebaseapp.com",projectId:"rebot-f643e",storageBucket:"rebot-f643e.appspot.com",messagingSenderId:"329205426356",appId:"1:329205426356:web:d8c730df77b0d7b9890fe1"});const wT=function(e=Mc()){return Ac(e,"firestore-exp").getImmediate()}(),bT=function(e=Mc()){return Ac(e=cc(e),iT).getImmediate()}();bT.settings.minimumFetchIntervalMillis=11e4,function(e,t){!function(e){if(e._initialized||e._terminated)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(e=uS(e,vS));const n=wS(e),r=e._freezeSettings(),i=new $E;return function(e,t,n){const r=new Fv;return e.asyncQueue.enqueue((async()=>{try{await WE(e,n),await GE(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===em.FAILED_PRECONDITION||e.code===em.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;r.reject(e)}})).then((()=>r.promise))}(n,i,new BE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(wT,{forceOwnership:!0}).catch((e=>{}));const ET=JSON.parse(localStorage.getItem("user"));ET||(window.location="./auth.html");const ST=`${ET.id}`,kT={timetable:mS(wT,"timeTables","9D"),settings:mS(wT,"users",ST,"userStorage","config"),workspace:mS(wT,"users",ST,"userStorage","workspace"),marks:mS(wT,"users",ST,"userStorage","marks"),notes:function(e,t,...n){if(e=cc(e),sS("collection","path",t),e instanceof hS){const r=Sm.fromString(t,...n);return aS(r),new pS(e,null,r)}{if(!(e instanceof fS||e instanceof pS))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=Sm.fromString(e.path,...n).child(Sm.fromString(t));return aS(r),new pS(e.firestore,null,r)}}(wT,"users",ST,"notes"),firestore:wT},TT=e.exports.createContext(null),CT=e.exports.createContext(null);function xT(t){const n=e.exports.useContext(TT),r=e.exports.useRef(null);e.exports.useEffect((()=>{r.current.value=t.lesson_data.hw}),[t.lesson_data.hw]);const i=n?n[t.lesson_data.id].title:F.createElement("i",{className:"fas fa-circle-notch fa-spin"}),s={backgroundColor:n?n[t.lesson_data.id].color:"var(--background3)"};return F.createElement("div",{className:"SubjectRow"},F.createElement("div",{className:"subj",style:s},i),F.createElement("div",{className:"homework fr"},F.createElement("form",{onSubmit:function(e){e.preventDefault(),r.current.blur(),ek(kT.timetable,{[t.path+".hw"]:r.current.value})},style:{display:"inline-block"}},F.createElement("input",{type:"text",ref:r}))),F.createElement("div",{className:"tool stealth",onClick:function(){const e=[{id:t.lesson_data.id,hw:t.lesson_data.hw}];window.InstantView.open(e)}},F.createElement("i",{className:"fas fa-book"})))}var IT=e.exports.memo(xT);const _T={1:"Понедельник",2:"Вторник",3:"Среда",4:"Четверг",5:"Пятница",6:"Суббота",7:"Воскресенье"};function NT(e){const t=e.day_data;let n,r=[];for(n in e.day_data)r.push(F.createElement(IT,{key:n,path:e.pathToDay+"."+n,lesson_data:t[n]}));return F.createElement("div",{className:"UIBlock day"},F.createElement("h1",null,_T[e.day_num]),F.createElement("button",{className:"table-btn open-all stealth",onClick:function(){const e=[];for(let n in t)t[n].hw&&e.push(t[n]);e&&window.InstantView.open(e)}},F.createElement("i",{className:"fas fa-book fa-lg"})),F.createElement("button",{className:"table-btn share"},F.createElement("i",{className:"fas fa-share fa-lg"})),F.createElement("div",{className:"content"},r))}function DT(){return(DT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function LT(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var AT="undefined"!=typeof document?e.exports.useLayoutEffect:e.exports.useEffect,RT=function(e,t){"function"!=typeof e?e.current=t:e(t)},PT={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},OT=function(e){Object.keys(PT).forEach((function(t){e.style.setProperty(t,PT[t],"important")}))},MT=null;var FT=function(){},VT=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],UT="undefined"!=typeof document&&!!document.documentElement.currentStyle,jT=function(t){var n,r,i=(n=t,r=e.exports.useRef(n),AT((function(){r.current=n})),r);e.exports.useLayoutEffect((function(){var e=function(e){i.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},zT=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=void 0===o?FT:o,l=t.onHeightChange,u=void 0===l?FT:l,c=LT(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=void 0!==c.value,f=e.exports.useRef(null),d=function(t,n){var r=e.exports.useRef();return e.exports.useCallback((function(e){t.current=e,r.current&&RT(r.current,null),r.current=n,n&&RT(n,e)}),[n])}(f,n),p=e.exports.useRef(0),m=e.exports.useRef(),g=function(){var e=f.current,t=r&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,VT.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(UT&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),MT||((MT=document.createElement("textarea")).setAttribute("tabindex","-1"),MT.setAttribute("aria-hidden","true"),OT(MT)),null===MT.parentNode&&document.body.appendChild(MT);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;MT.style[t]=o[t]})),OT(MT),MT.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(MT,e);MT.value="x";var u=MT.scrollHeight-i,c=u*n;"border-box"===a&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return"border-box"===a&&(h=h+i+s),[l=Math.min(h,l),u]}(t,e.value||e.placeholder||"x",s,i),o=n[0],a=n[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),u(o,{rowHeight:a}))}};return"undefined"!=typeof document&&(e.exports.useLayoutEffect(g),jT(g)),e.exports.createElement("textarea",DT({},c,{onChange:function(e){h||g(),a(e)},ref:d}))},qT=e.exports.forwardRef(zT);function BT(e,t){return(BT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BT(e,t)}function HT(){}function KT(){}KT.resetWarningCache=HT;function WT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}!function(){function e(e,t,n,r,i,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:KT,resetWarningCache:HT};n.PropTypes=n}();var GT=!1,QT=F.createContext(null),YT="unmounted",XT="exited",ZT="entering",JT="entered",eC="exiting",tC=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=XT,r.appearStatus=ZT):i=JT:i=t.unmountOnExit||t.mountOnEnter?YT:XT,r.state={status:i},r.nextCallback=null,r}$T(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===YT?{status:XT}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ZT&&n!==JT&&(t=ZT):n!==ZT&&n!==JT||(t=eC)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ZT?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===XT&&this.setState({status:YT})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Wu.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||GT?this.safeSetState({status:JT},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:ZT},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:JT},(function(){t.props.onEntered(s,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Wu.findDOMNode(this);t&&!GT?(this.props.onExit(r),this.safeSetState({status:eC},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:XT},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:XT},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Wu.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===YT)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=LT(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return F.createElement(QT.Provider,{value:null},"function"==typeof n?n(e,r):F.cloneElement(F.Children.only(n),r))},t}(F.Component);function nC(){}tC.contextType=QT,tC.propTypes={},tC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nC,onEntering:nC,onEntered:nC,onExit:nC,onExiting:nC,onExited:nC},tC.UNMOUNTED=YT,tC.EXITED=XT,tC.ENTERING=ZT,tC.ENTERED=JT,tC.EXITING=eC;var rC=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))},iC=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=WT(n.className,r):n.setAttribute("class",WT(n.className&&n.className.baseVal||"",r)));var n,r}))},sC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}$T(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,rC(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&iC(e,r),i&&iC(e,i),s&&iC(e,s)},n.render=function(){var e=this.props;e.classNames;var t=LT(e,["classNames"]);return F.createElement(tC,DT({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(F.Component);function oC(t,n){var r=Object.create(null);return t&&e.exports.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&e.exports.isValidElement(t)?n(t):t}(t)})),r}function aC(e,t,n){return null!=n[t]?n[t]:e.props[t]}function lC(t,n,r){var i=oC(t.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var o in e)o in t?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];a[i[l][r]]=n(u)}a[l]=n(l)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,i);return Object.keys(s).forEach((function(o){var a=s[o];if(e.exports.isValidElement(a)){var l=o in n,u=o in i,c=n[o],h=e.exports.isValidElement(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&e.exports.isValidElement(c)&&(s[o]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:aC(a,"exit",t),enter:aC(a,"enter",t)})):s[o]=e.exports.cloneElement(a,{in:!1}):s[o]=e.exports.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:aC(a,"exit",t),enter:aC(a,"enter",t)})}})),s}sC.defaultProps={classNames:""},sC.propTypes={};var uC=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},cC=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}$T(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,s=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,oC(r.children,(function(t){return e.exports.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:aC(t,"appear",r),enter:aC(t,"enter",r),exit:aC(t,"exit",r)})}))):lC(t,s,o),firstRender:!1}},r.handleExited=function(e,t){var n=oC(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=DT({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=LT(e,["component","childFactory"]),i=this.state.contextValue,s=uC(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?F.createElement(QT.Provider,{value:i},s):F.createElement(QT.Provider,{value:i},F.createElement(t,r,s))},n}(F.Component);function hC(t){const[n,r]=e.exports.useState(!1),i=e.exports.useRef();return F.createElement("div",{className:"dropdown"},F.createElement("button",{ref:i,className:"menuBtn",onClick:()=>r(!n)},F.createElement("i",{className:"fas fa-ellipsis-v"})),F.createElement(sC,{in:n,timeout:300,classNames:"dropdown-content",onEnter:function(){n&&(i.current.addEventListener("blur",(()=>{r(!1)}),{once:!0}),window.ios&&i.current.addEventListener("mouseout",(()=>{r(!1)}),{once:!0}))},unmountOnExit:!0},F.createElement("div",{className:"dropdown-content"},t.children)))}function fC(t){const n=e.exports.useRef(),r=t.noteData.isPinned,i=t.noteData.text;return e.exports.useEffect((()=>{n.current.value=i}),[i]),F.createElement("div",{className:"note"},F.createElement(qT,{maxRows:10,ref:n,defaultValue:i,onBlur:function(){JS(t.docRef,{text:n.current.value},{merge:!0})}}),F.createElement(hC,null,F.createElement("button",{className:"withIcon",onClick:function(){JS(t.docRef,{isPinned:!r},{merge:!0})}},F.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"var(--text)"},F.createElement("path",{d:"M7.04785 16.3613C7.04785 17.1611 7.59277 17.6885 8.42773 17.6885H13.1211V21.8545C13.1211 23.0762 13.7539 24.333 14 24.333C14.2373 24.333 14.8701 23.0762 14.8701 21.8545V17.6885H19.5723C20.4072 17.6885 20.9434 17.1611 20.9434 16.3613C20.9434 14.4629 19.4404 12.5205 16.9531 11.6064L16.6719 7.51074C17.9814 6.77246 19.0186 5.95508 19.4668 5.36621C19.7129 5.05859 19.8271 4.7334 19.8271 4.45215C19.8271 3.87207 19.3877 3.44141 18.7197 3.44141H9.27148C8.6123 3.44141 8.16406 3.87207 8.16406 4.45215C8.16406 4.7334 8.27832 5.05859 8.52441 5.36621C8.97266 5.95508 10.0098 6.77246 11.3193 7.51074L11.0381 11.6064C8.55078 12.5205 7.04785 14.4629 7.04785 16.3613Z"})),F.createElement("span",null,"Закрепить")),F.createElement("button",{className:"withIcon",onClick:function(){navigator.clipboard.writeText(i).then((()=>{window.UI.alert("Скопировано в буфер обмена")}))}},F.createElement("i",{className:"fas fa-clone"}),F.createElement("span",null,"Скопировать")),F.createElement("button",{className:"withIcon danger",onClick:function(){!function(e){nk(uS(e.firestore,vS),[new ay(e._key,Gg.none())])}(t.docRef)}},F.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"var(--text)"},F.createElement("path",{d:"M9.84277 22.4785H18.166C19.3701 22.4785 20.0732 21.8369 20.126 20.6416L20.6797 7.94141H21.8926C22.3408 7.94141 22.6836 7.58984 22.6836 7.15039C22.6836 6.71094 22.332 6.37695 21.8926 6.37695H18.0781V5.05859C18.0781 3.65234 17.1729 2.81738 15.6611 2.81738H12.3213C10.8096 2.81738 9.9043 3.65234 9.9043 5.05859V6.37695H6.10742C5.66797 6.37695 5.31641 6.71973 5.31641 7.15039C5.31641 7.59863 5.66797 7.94141 6.10742 7.94141H7.3291L7.8916 20.6416C7.93555 21.8369 8.63867 22.4785 9.84277 22.4785ZM11.7324 5.1377C11.7324 4.74219 12.0049 4.4873 12.4443 4.4873H15.5469C15.9863 4.4873 16.2588 4.74219 16.2588 5.1377V6.37695H11.7324V5.1377ZM11.1787 19.7803C10.8271 19.7803 10.5811 19.5518 10.5723 19.2002L10.3086 9.86621C10.2998 9.51465 10.5459 9.27734 10.915 9.27734C11.2666 9.27734 11.5127 9.50586 11.5215 9.85742L11.7852 19.1914C11.8027 19.543 11.5566 19.7803 11.1787 19.7803ZM14 19.7803C13.6309 19.7803 13.3848 19.5518 13.3848 19.2002V9.85742C13.3848 9.51465 13.6309 9.27734 14 9.27734C14.3691 9.27734 14.624 9.51465 14.624 9.85742V19.2002C14.624 19.5518 14.3691 19.7803 14 19.7803ZM16.8213 19.7891C16.4434 19.7891 16.1973 19.543 16.2148 19.2002L16.4785 9.85742C16.4873 9.50586 16.7334 9.27734 17.085 9.27734C17.4541 9.27734 17.7002 9.51465 17.6914 9.86621L17.4277 19.2002C17.4189 19.5518 17.1729 19.7891 16.8213 19.7891Z"})),F.createElement("span",null,"Удалить"))))}function dC(){const[t,n]=e.exports.useState([]);return e.exports.useEffect((()=>{tk(kT.notes,(e=>{const t=[];e.forEach((e=>{const n=e.data(),r=F.createElement(fC,{docRef:e.ref,key:e.id,noteData:n});t.push(r)})),n(t)}))}),[]),F.createElement("div",{className:"UIBlock",id:"notes"},F.createElement("h1",null,"Заметки"),F.createElement("button",{id:"add-note",onClick:function(){t.length<=8?function(e,t){const n=uS(e.firestore,vS),r=mS(e),i=XS(e.converter,t);nk(n,[AS(LS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Gg.exists(!1))]).then((()=>r))}(kT.notes,{text:"",isPinned:!1}):window.UI.alert("Нельзя добавить больше 10 заметок")}},F.createElement("svg",{width:"30",height:"30",viewBox:"0 0 28 28",fill:"var(--text)"},F.createElement("path",{d:"M13.9912 22.7422C18.9746 22.7422 23.0879 18.6289 23.0879 13.6543C23.0879 8.67969 18.9658 4.56641 13.9824 4.56641C9.00781 4.56641 4.90332 8.67969 4.90332 13.6543C4.90332 18.6289 9.0166 22.7422 13.9912 22.7422ZM9.7373 13.6631C9.7373 13.1445 10.1064 12.7842 10.6162 12.7842H13.1211V10.2793C13.1211 9.76953 13.4727 9.40918 13.9736 9.40918C14.4922 9.40918 14.8525 9.76953 14.8525 10.2793V12.7842H17.3662C17.8672 12.7842 18.2363 13.1445 18.2363 13.6631C18.2363 14.1641 17.8672 14.5244 17.3662 14.5244H14.8525V17.0293C14.8525 17.5303 14.4922 17.8994 13.9736 17.8994C13.4727 17.8994 13.1211 17.5303 13.1211 17.0293V14.5244H10.6162C10.1064 14.5244 9.7373 14.1641 9.7373 13.6631Z"}))),F.createElement("div",{className:"content"},t))}function pC(e){return F.createElement("div",{className:"UIBlock"},F.createElement("h1",null,"Сейчас"))}function mC(t){const n=e.exports.useContext(CT);let r=(new Date).getDay();return 0!=r&&6!=r||(r=1),F.createElement("div",{id:"homescreen-layout"},F.createElement("div",{className:"side-left"},F.createElement(pC,null),F.createElement(dC,null)),F.createElement("div",{className:"side-right"},n&&F.createElement(NT,{day_num:r,day_data:n[2][r]})))}function gC(){const[t,n]=e.exports.useState(!navigator.onLine),[r,i]=e.exports.useState(2),s=e.exports.useContext(CT);e.exports.useEffect((()=>{window.addEventListener("online",(()=>n(!0))),window.addEventListener("offline",(()=>n(!0)))}),[]);const o=1==r?"Прошлая неделя":2==r?"Эта неделя":"Следующая неделя",a=[];if(s){const e=s[r];let t;for(t in e)a.push(F.createElement(NT,{key:t,pathToDay:r+"."+t,day_num:t,day_data:e[t]}))}return F.createElement("div",null,F.createElement("header",{id:"week-header"},F.createElement("div",{className:"block-style weekChanger"},r>1?F.createElement("button",{onClick:()=>i(r-1)},F.createElement("i",{className:"fas fa-chevron-left fa-2x"})):F.createElement("button",{className:"unactive"},F.createElement("i",{className:"fas fa-chevron-left fa-2x"})),F.createElement("span",null,o),r<3?F.createElement("button",{onClick:()=>i(r+1)},F.createElement("i",{className:"fas fa-chevron-right fa-2x"})):F.createElement("button",{className:"unactive"},F.createElement("i",{className:"fas fa-chevron-right fa-2x"}))),F.createElement("button",{className:"block-style settings-btn",onClick:()=>globalThis.UI.slide(globalThis.settings)},F.createElement("i",{className:"fas fa-cog"}))),t&&F.createElement("div",{className:"offline-alert"},F.createElement("div",{className:"text"},F.createElement("h4",null,"Интернет недоступен"),F.createElement("p",null,"Данные будут сохранены при подключении")),F.createElement("i",{className:"fas fa-exclamation-triangle"})),F.createElement(cC,{exit:!1},F.createElement(sC,{key:r,timeout:300,classNames:"week-grid"},F.createElement("div",{className:"week-grid"},a))))}cC.propTypes={},cC.defaultProps={component:"div",childFactory:function(e){return e}};var yC=e.exports.memo((function(t){const n=e.exports.useContext(TT),r=e.exports.useRef(null),i=t.marks,s=n?n[t.subj_id].title:F.createElement("i",{className:"fas fa-circle-notch fa-spin"}),o={backgroundColor:n?n[t.subj_id].color:"var(--background3)"};let a=0,l=0,u=null;if(i){i.split(",").map((e=>{let t=parseInt(e);t&&(a+=t,l++)})),u=a/l,u=isNaN(u)?null:Number(u.toFixed(1))}function c(e){e.preventDefault(),r.current.blur(),JS(kT.marks,{[t.subj_id]:r.current.value},{merge:!0})}return F.createElement("div",{className:"SubjectRow"},F.createElement("div",{className:"subj",style:o},s),F.createElement("div",{className:"homework fr"},F.createElement("form",{onSubmit:c,style:{display:"inline-block"}},F.createElement("input",{type:"text",defaultValue:i,ref:r,onBlur:c}))),i&&u&&F.createElement("div",{className:"tool"},u),F.createElement("div",{className:"tool",onClick:function(){const e=r.current;e.focus(),","!=e.value.trim().slice(-1)&&""!=e.value&&(e.value+=", ")}},F.createElement("i",{className:"fas fa-plus"})))}));function vC(){const[t,n]=e.exports.useState({}),r=e.exports.useContext(TT);let i;e.exports.useEffect((()=>{tk(kT.marks,(e=>{e.data()&&n(Object.fromEntries(Object.entries(e.data()).sort()))}))}),[]);let s=[];for(i in r)s.push(F.createElement(yC,{key:i,subj_id:i,marks:t[i]}));return F.createElement("div",{className:"UIBlock"},F.createElement("h1",null,"Оценки"),F.createElement("div",{className:"content"},s))}class wC{static alert(e){let t=document.querySelector(".alert");t.textContent=e,t.style="display: block; animation: alert 0.45s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",window.active_timeout&&clearTimeout(window.active_timeout),window.active_timeout=setTimeout((()=>{t.style="display: block; animation: alert-down 0.4s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;",t.addEventListener("animationend",(()=>{t.style=""}),{once:!0}),window.active_timeout=void 0}),1400)}static open(e){e.style="display: block; animation: slide-left 0.6s cubic-bezier(.5,.1,.3,1); animation-fill-mode: forwards;"}static slide(e){e.classList.toggle("active")}static getInput(e,t){const n=document.querySelector("#rebot .search"),r=n.querySelector("input.rebot"),i=n.querySelector("input.google"),s=n.querySelector("img.google"),o=n.querySelector("img.rebot");r.classList.add("active"),i.classList.remove("active"),r.focus(),s.classList.remove("active"),o.classList.add("active"),r.addEventListener("keydown",(function n(i){if("Enter"==i.key){const i=r.value.replace(" ","").split(",");e(t,i),r.value="",r.blur(),r.removeEventListener("keydown",n)}})),r.addEventListener("blur",(function n(){const a=r.value.replace(" ","").split(",");r.value?(e(t,a),r.value=""):r.value="",r.classList.remove("active"),i.classList.add("active"),o.classList.remove("active"),s.classList.add("active"),r.removeEventListener("blur",n)}),{once:!0})}}var bC=new class{constructor(){this.lockscreen=document.querySelector("#lockscreen"),this.indicator=this.lockscreen.querySelector("#indicator"),this.lockscreen.querySelectorAll("#numpad button").forEach((e=>{e.addEventListener("click",this.addCodeNum)}))}addCodeNum(e){const t=document.querySelector("#lockscreen"),n=t.querySelector("#indicator"),r=n.querySelectorAll(".char:not(.active)"),i=t.querySelector("#invalid-alert"),s=t.getAttribute("data-password")+e.target.textContent;t.setAttribute("data-password",s),r[0].classList.add("active"),1==r.length&&(localStorage.lockCode==s?(t.classList.add("unactive"),t.addEventListener("transitionend",(e=>{e.target.style.display="none"}),{once:!0})):(i.classList.add("active"),t.setAttribute("data-password",""),n.querySelectorAll(".char").forEach((e=>{e.classList.remove("active")}))))}changeLockCode(e){const t=e.querySelector("input#oldCode"),n=e.querySelector("input#newCode"),r=localStorage.lockCode;if(r&&t.value!=r)return wC.alert("Неверный код"),void(t.value="");const i=n.value.replace(/\D/g,"");4==i.length?(localStorage.lockCode=i,wC.alert("Код установлен"),wC.slide(window.securitySettings),t.value="",n.value=""):0==i.length?(localStorage.lockCode="",wC.alert("Код отключен"),wC.slide(window.securitySettings),t.value="",n.value=""):wC.alert("Код должен состоять из 4 цифр")}};!function(e,t){"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r},e.CustomEvent.prototype=e.Event.prototype),t.addEventListener("touchstart",(function(e){if("true"===e.target.getAttribute("data-swipe-ignore"))return;a=e.target,o=Date.now(),n=e.touches[0].clientX,r=e.touches[0].clientY,i=0,s=0}),!1),t.addEventListener("touchmove",(function(e){if(!n||!r)return;var t=e.touches[0].clientX,o=e.touches[0].clientY;i=n-t,s=r-o}),!1),t.addEventListener("touchend",(function(e){if(a!==e.target)return;var t=parseInt(l(a,"data-swipe-threshold","20"),10),u=parseInt(l(a,"data-swipe-timeout","500"),10),c=Date.now()-o,h="",f=e.changedTouches||e.touches||[];Math.abs(i)>Math.abs(s)?Math.abs(i)>t&&c<u&&(h=i>0?"swiped-left":"swiped-right"):Math.abs(s)>t&&c<u&&(h=s>0?"swiped-up":"swiped-down");if(""!==h){var d={dir:h.replace(/swiped-/,""),xStart:parseInt(n,10),xEnd:parseInt((f[0]||{}).clientX||-1,10),yStart:parseInt(r,10),yEnd:parseInt((f[0]||{}).clientY||-1,10)};a.dispatchEvent(new CustomEvent("swiped",{bubbles:!0,cancelable:!0,detail:d})),a.dispatchEvent(new CustomEvent(h,{bubbles:!0,cancelable:!0,detail:d}))}n=null,r=null,o=null}),!1);var n=null,r=null,i=null,s=null,o=null,a=null;function l(e,n,r){for(;e&&e!==t.documentElement;){var i=e.getAttribute(n);if(i)return i;e=e.parentNode}return r}}(window,document);class EC{constructor(e){this.manifest=e,this.window1=document.querySelector("#inst1"),this.window2=document.querySelector("#inst2"),this.window1.addEventListener("swiped-left",(e=>{this.close(e.target.closest(".instant-view"))})),this.window2.addEventListener("swiped-right",(e=>{this.close(e.target.closest(".instant-view"))})),this.window1.addEventListener("swiped-right",(e=>{this.switch(e.target.closest(".instant-view"))})),this.window2.addEventListener("swiped-left",(e=>{this.switch(e.target.closest(".instant-view"))}))}open(e,t){let n;if(this.window1.classList.contains("active")?(n=this.window2,document.querySelectorAll(".app").forEach((e=>{e.classList.add("noscroll")})),window.instRight=!0,window.instLeft=!0):(90==window.orientation||window.screen.width>=800?document.querySelector("body").classList.add("min-right"):document.querySelectorAll(".app").forEach((e=>{e.classList.add("noscroll")})),n=this.window1,window.instLeft=!0,this.window2.classList.contains("active")&&(window.instRight=!0)),t)return n.querySelector(".content").innerHTML=t,void n.classList.add("active");n.querySelector(".content").innerHTML="";const r=n.querySelector(".content");for(let t of e){const e=this.manifest[t.id],n=t.hw.split(",");for(let t of n)if(t=t.replace(/\D/g,""),0==e.section){let n=document.createElement("img");if(n.src=e.url.replace("?",t),n.onerror=e=>{e.target.remove()},n.style.width="100%",r.append(n),0==e.full_img){let n,i=r.querySelector("img").cloneNode(!0);n.src=e.url.replace("?",t+"_2"),i.src=e.url.replace("?",t+"_3"),r.append(n,i)}}else{let n,i=1;for(;i<11;)n=document.createElement("img"),n.src=e.url.replace("*",t).replace("?",i),n.style.width="100%",n.onerror=e=>{e.target.remove()},r.append(n),i++}}n.classList.add("active")}switch(e){if(window.instLeft&&window.instRight||0==window.orientation&&window.screen.width<=800)return;let t=e.querySelector(".content").innerHTML;this.open(null,t),this.close(e)}close(e){e.classList.remove("active"),e.addEventListener("transitionend",(()=>{if(!e.classList.contains("active")){let t=e.querySelector(".content");t.innerHTML="",t.scrollTop=0}}),{once:!0}),"left"==e.getAttribute("side")?window.instLeft=!1:window.instRight=!1;let t=window.instLeft,n=window.instRight,r=document.body.classList;t||n?n&&!t?(r.remove("min-right"),r.add("min-left")):(r.remove("min-left"),r.add("min-right")):r.remove("min-left","min-right"),document.querySelectorAll(".app").forEach((e=>{e.classList.remove("noscroll")}))}}function SC(){const[t,n]=e.exports.useState(null),[r,i]=e.exports.useState(null);function s(e){const t=document.querySelector(".app.active");null!=t&&t.classList.remove("active"),document.getElementById(e).classList.add("active")}return e.exports.useEffect((()=>{t&&(window.InstantView=new EC(t))}),[t]),e.exports.useEffect((()=>{tk(kT.timetable,(e=>{i(e.data())})),vT(bT).then((()=>{const e=function(e,t){const n=cc(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new aT("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new aT("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new aT("static"))}(bT,"subjectsManifest").asString(),t=JSON.parse(e);n(t)}))}),[]),F.createElement(F.Fragment,null,F.createElement("div",{className:"bottom-nav"},F.createElement("span",{onClick:()=>s("rebot")},F.createElement("i",{className:"fas fa-book"})),F.createElement("span",{onClick:()=>s("homescreen")},F.createElement("svg",{height:"22",width:"22",viewBox:"0 0 512 512",fill:"var(--text)"},F.createElement("path",{d:"m498.195312 222.695312c-.011718-.011718-.023437-.023437-.035156-.035156l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.8125-33.328126-13.8125-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.140626.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.445312 13.238281 31.277344 13.746093.480468.046876.964843.070313 1.453124.070313h8.324219v153.699219c0 30.414062 24.746094 55.160156 55.167969 55.160156h81.710938c8.28125 0 15-6.714844 15-15v-120.5c0-13.878906 11.289062-25.167969 25.167968-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.285156 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.160156v-153.699219h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.808594 18.359375-18.371093 18.367187-48.253906.023437-66.636719zm0 0"}))),F.createElement("span",{onClick:()=>s("marks")},F.createElement("i",{className:"fas fa-graduation-cap"})),F.createElement("span",{onClick:()=>s("week")},F.createElement("svg",{width:"36",height:"36",fill:"var(--text)",viewBox:"0 0 28 28"},F.createElement("path",{d:"M7.94434 21.8809H20.0469C21.9541 21.8809 22.9473 20.8965 22.9473 19.0156V8.31934C22.9473 6.43848 21.9541 5.4541 20.0469 5.4541H7.94434C6.0459 5.4541 5.05273 6.42969 5.05273 8.31934V19.0156C5.05273 20.8965 6.0459 21.8809 7.94434 21.8809ZM7.93555 20.1318C7.20605 20.1318 6.80176 19.7539 6.80176 18.9805V10.8945C6.80176 10.1211 7.20605 9.74316 7.93555 9.74316H20.0557C20.7852 9.74316 21.1895 10.1211 21.1895 10.8945V18.9805C21.1895 19.7539 20.7852 20.1318 20.0557 20.1318H7.93555ZM12.3037 12.7754H12.8223C13.1387 12.7754 13.2441 12.6787 13.2441 12.3711V11.8525C13.2441 11.5361 13.1387 11.4395 12.8223 11.4395H12.3037C11.9873 11.4395 11.8818 11.5361 11.8818 11.8525V12.3711C11.8818 12.6787 11.9873 12.7754 12.3037 12.7754ZM15.1777 12.7754H15.6963C16.0039 12.7754 16.1094 12.6787 16.1094 12.3711V11.8525C16.1094 11.5361 16.0039 11.4395 15.6963 11.4395H15.1777C14.8613 11.4395 14.7559 11.5361 14.7559 11.8525V12.3711C14.7559 12.6787 14.8613 12.7754 15.1777 12.7754ZM18.043 12.7754H18.5615C18.8779 12.7754 18.9834 12.6787 18.9834 12.3711V11.8525C18.9834 11.5361 18.8779 11.4395 18.5615 11.4395H18.043C17.7354 11.4395 17.6299 11.5361 17.6299 11.8525V12.3711C17.6299 12.6787 17.7354 12.7754 18.043 12.7754ZM9.43848 15.6055H9.94824C10.2646 15.6055 10.3701 15.5088 10.3701 15.1924V14.6738C10.3701 14.3662 10.2646 14.2695 9.94824 14.2695H9.43848C9.12207 14.2695 9.0166 14.3662 9.0166 14.6738V15.1924C9.0166 15.5088 9.12207 15.6055 9.43848 15.6055ZM12.3037 15.6055H12.8223C13.1387 15.6055 13.2441 15.5088 13.2441 15.1924V14.6738C13.2441 14.3662 13.1387 14.2695 12.8223 14.2695H12.3037C11.9873 14.2695 11.8818 14.3662 11.8818 14.6738V15.1924C11.8818 15.5088 11.9873 15.6055 12.3037 15.6055ZM15.1777 15.6055H15.6963C16.0039 15.6055 16.1094 15.5088 16.1094 15.1924V14.6738C16.1094 14.3662 16.0039 14.2695 15.6963 14.2695H15.1777C14.8613 14.2695 14.7559 14.3662 14.7559 14.6738V15.1924C14.7559 15.5088 14.8613 15.6055 15.1777 15.6055ZM18.043 15.6055H18.5615C18.8779 15.6055 18.9834 15.5088 18.9834 15.1924V14.6738C18.9834 14.3662 18.8779 14.2695 18.5615 14.2695H18.043C17.7354 14.2695 17.6299 14.3662 17.6299 14.6738V15.1924C17.6299 15.5088 17.7354 15.6055 18.043 15.6055ZM9.43848 18.4268H9.94824C10.2646 18.4268 10.3701 18.3301 10.3701 18.0225V17.5039C10.3701 17.1875 10.2646 17.0908 9.94824 17.0908H9.43848C9.12207 17.0908 9.0166 17.1875 9.0166 17.5039V18.0225C9.0166 18.3301 9.12207 18.4268 9.43848 18.4268ZM12.3037 18.4268H12.8223C13.1387 18.4268 13.2441 18.3301 13.2441 18.0225V17.5039C13.2441 17.1875 13.1387 17.0908 12.8223 17.0908H12.3037C11.9873 17.0908 11.8818 17.1875 11.8818 17.5039V18.0225C11.8818 18.3301 11.9873 18.4268 12.3037 18.4268ZM15.1777 18.4268H15.6963C16.0039 18.4268 16.1094 18.3301 16.1094 18.0225V17.5039C16.1094 17.1875 16.0039 17.0908 15.6963 17.0908H15.1777C14.8613 17.0908 14.7559 17.1875 14.7559 17.5039V18.0225C14.7559 18.3301 14.8613 18.4268 15.1777 18.4268Z"})))),F.createElement(TT.Provider,{value:t},F.createElement(CT.Provider,{value:r},F.createElement("div",{className:"app center-auto active","data-scroll-lock-scrollable":!0,id:"homescreen"},F.createElement(mC,null)),F.createElement("div",{className:"app center-auto","data-scroll-lock-scrollable":!0,id:"week"},F.createElement(gC,null)),F.createElement("div",{className:"app center-auto","data-scroll-lock-scrollable":!0,id:"marks"},F.createElement(vC,null)))))}window.UI=wC,window.Security=bC,Wu.render(F.createElement(SC,null),document.getElementById("root")),window.ios=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1}();
